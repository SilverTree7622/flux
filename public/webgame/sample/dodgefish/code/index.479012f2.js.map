{"version":3,"file":"index.479012f2.js","sources":["../../vite/modulepreload-polyfill","../../src/constants/constants.ts","../../src/scenes/LoadingScene.ts","../../src/components/Button/Button.ts","../../src/scenes/MainMenuScene.ts","../../src/scenes/LocalStorageScene.ts","../../src/components/Actor/Actor.ts","../../src/components/PlayerStateController/states/IdleState.ts","../../src/components/PlayerStateController/states/JumpState.ts","../../src/components/PlayerStateController/PlayerStateController.ts","../../src/components/Player/Player.ts","../../src/components/Wall/Wall.ts","../../src/components/Spike/Spike.ts","../../src/components/SpikeGroup/SpikeGroup.ts","../../src/helpers/getCurrentColor.ts","../../src/components/Roe/Roe.ts","../../src/helpers/getCurrentRoe.ts","../../src/scenes/GameFieldScene.ts","../../src/scenes/GameInfoUiScene.ts","../../src/scenes/GameOverScene.ts","../../src/components/SkinSelectPanel/SkinSelectPanel.ts","../../src/components/DialogBuy/DialogBuy.ts","../../src/components/Toast/Toast.ts","../../src/scenes/PlayerSkinsScene.ts","../../src/components/DialogGift/DialogGift.ts","../../src/helpers/getNewRandomFish.ts","../../src/scenes/ShopScene.ts","../../src/scenes/SettingsScene.ts","../../src/config/sceneList.ts","../../src/plugins/FloatingNumbers/index.js","../../src/config/pluginsConfig.ts","../../src/config/gameConfig.ts","../../src/locales/index.ts","../../src/helpers/i18next/index.ts","../../src/index.ts"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","const DEBUG = false\n\nconst SCALE = 1\n\nconst width = 1080\nconst height = 1920\n\nconst constants = {\n  SCALE,\n  WIDTH: width * SCALE,\n  HEIGHT: height * SCALE,\n  DEBUG,\n  FONT: {\n    FAMILY: '\"Noto Sans\", sans-serif',\n    COLOR: '#ffffff',\n  },\n  CURSOR: {\n    DEFAULT: 'url(assets/cursors/default.cur), default',\n    POINTER: 'url(assets/cursors/pointer.cur), pointer',\n  },\n  SCENES: {\n    LOADING: 'loading-scene',\n    MAIN_MENU: 'main-menu-scene',\n    GAME_FIELD: 'game-field-scene',\n    GAME_OVER: 'game-over-scene',\n    GAME_INFO_UI: 'game-info-ui-scene',\n    PLAYER_SKINS: 'player-skins-scene',\n    LOCAL_STORAGE: 'local-storage-scene',\n    SHOP: 'shop-scene',\n    SETTINGS: 'settings-scene',\n  },\n  SPIKE: {\n    WIDTH: 145,\n    HEIGHT: 87,\n  },\n  WALL: {\n    HEIGHT: 150,\n  },\n  COLORS: {\n    ACCENT: '#2BAFF6',\n    ACCENT_VARIANT: '#004F79',\n    DEFAULT: {\n      BACKGROUND: '#EBEBEB',\n      SPIKE: '#808080',\n    },\n  },\n  FISH: {\n    COUNT: 126,\n    BUY_COST: 1000,\n    GIFT_COST: 500,\n  },\n}\n\nexport default constants\n","import Phaser from 'phaser'\nimport CircularProgressCanvas from 'phaser3-rex-plugins/plugins/circularprogresscanvas.js'\nimport constants from '@/constants'\n\nexport default class LoadingScene extends Phaser.Scene {\n  private circularProgress!: CircularProgressCanvas\n\n  constructor() {\n    super(constants.SCENES.LOADING)\n  }\n\n  preload() {\n    this.load.baseURL = 'assets/'\n\n    this.addLoader()\n    this.addLoaderEvents()\n\n    this.loadResources()\n  }\n\n  create() {\n    this.input.setDefaultCursor(constants.CURSOR.DEFAULT)\n  }\n\n  private addLoader() {\n    const { width, height } = this.cameras.main\n    this.circularProgress = new CircularProgressCanvas(this, {\n      x: width / 2,\n      y: height / 2,\n      radius: 150,\n\n      trackColor: '#004F79',\n      barColor: '#2BAFF6',\n\n      textSize: '86px',\n      textStyle: 'bold',\n      textFormatCallback: function (value) {\n        return (100 - Math.floor(value * 100)).toString()\n      },\n      textColor: '#004F79',\n      textFamily: constants.FONT.FAMILY,\n\n      valuechangeCallback(\n        newValue: number,\n        oldValue: number,\n        circularProgress: CircularProgressCanvas\n      ): void {},\n\n      value: 0,\n    })\n    this.add.existing(this.circularProgress)\n  }\n\n  private addLoaderEvents() {\n    this.load.on(Phaser.Loader.Events.PROGRESS, (value: number) => {\n      this.circularProgress.easeValueTo(value)\n    })\n\n    this.load.on(Phaser.Loader.Events.COMPLETE, () => {\n      this.circularProgress.destroy()\n\n      this.scene.stop(constants.SCENES.LOADING)\n\n      this.scene.launch(constants.SCENES.LOCAL_STORAGE)\n\n      this.scene.launch(constants.SCENES.GAME_FIELD)\n      this.scene.pause(constants.SCENES.GAME_FIELD)\n\n      this.scene.launch(constants.SCENES.MAIN_MENU)\n    })\n  }\n\n  private loadResources() {\n    this.load.atlas('ui', 'spritesheets/ui.png', 'spritesheets/ui.json')\n\n    this.load.atlas('fish', 'spritesheets/fish.png', 'spritesheets/fish.json')\n\n    this.load.atlas(\n      'particle',\n      'spritesheets/particle.png',\n      'spritesheets/particle.json'\n    )\n\n    this.load.atlas('roe', 'spritesheets/roe.png', 'spritesheets/roe.json')\n\n    this.load.image('fish_death', 'sprites/fish_death.png')\n    this.load.image('gift', 'sprites/gift.png')\n\n    this.load.audioSprite('sfx', 'sfx/sfxSprite.json', 'sfx/sfxSprite.ogg')\n  }\n}\n","import { Label } from 'phaser3-rex-plugins/templates/ui/ui-components'\nimport RoundRectangleCanvas from 'phaser3-rex-plugins/plugins/roundrectanglecanvas'\n\ntype ButtonConfig = {\n  texture: string\n  frameIcon: string\n  backgroundColor?: number\n  backgroundColorOver?: number\n}\n\nexport default class Button extends Label {\n  public isDisabled = false\n\n  private config: ButtonConfig\n\n  constructor(scene: Phaser.Scene, config: ButtonConfig) {\n    super(scene, {\n      background: Button.createBackground(scene, config),\n      icon: Button.createIcon(scene, config),\n      space: {\n        left: 30,\n        right: 30,\n        top: 30,\n        bottom: 30,\n      },\n      name: 'button',\n    })\n\n    this.config = config\n\n    scene.add.existing(this)\n  }\n\n  public setOver() {\n    const background = this.getElement('background') as RoundRectangleCanvas\n    const icon = this.getElement('icon') as Phaser.GameObjects.Image\n\n    this.scene.tweens.add({\n      targets: icon,\n      scale: 1.3,\n      duration: 250,\n      ease: 'Sine.easeInOut',\n    })\n\n    background.setFillStyle(this.config.backgroundColorOver)\n\n    return this\n  }\n\n  public setDisabled() {\n    this.isDisabled = true\n\n    const background = this.getElement('background') as RoundRectangleCanvas\n    const icon = this.getElement('icon') as Phaser.GameObjects.Image\n\n    background.setTint(0x89_89_89)\n    icon.setTint(0x89_89_89)\n\n    return this\n  }\n\n  public setDefaultStyle() {\n    const background = this.getElement('background') as RoundRectangleCanvas\n    const icon = this.getElement('icon') as Phaser.GameObjects.Image\n\n    this.scene.tweens.add({\n      targets: icon,\n      scale: 1,\n      duration: 250,\n      ease: 'Sine.easeInOut',\n    })\n\n    background.setFillStyle(this.config.backgroundColor)\n    background.clearTint()\n    icon.clearTint()\n\n    return this\n  }\n\n  private static createBackground(scene: Phaser.Scene, config: ButtonConfig) {\n    const background = new RoundRectangleCanvas(\n      scene,\n      0,\n      0,\n      0,\n      0,\n      {\n        radius: 40,\n      },\n      config.backgroundColor\n    ).setName('background')\n\n    scene.add.existing(background)\n\n    return background\n  }\n\n  private static createIcon(scene: Phaser.Scene, config: ButtonConfig) {\n    const icon = scene.add\n      .image(0, 0, config.texture, config.frameIcon)\n      .setOrigin(0.5, 0.5)\n    icon.setName('icon')\n\n    scene.add.existing(icon)\n\n    return icon\n  }\n}\n","import i18next from 'i18next'\nimport { Buttons } from 'phaser3-rex-plugins/templates/ui/ui-components'\nimport LocalStorageData from 'phaser3-rex-plugins/plugins/localstorage-data'\nimport constants from '@/constants'\nimport Button from '@/components/Button'\n\nexport default class MainMenuScene extends Phaser.Scene {\n  private playPanel!: Phaser.GameObjects.Rectangle\n  private playerSkin!: Phaser.GameObjects.Image\n\n  constructor() {\n    super(constants.SCENES.MAIN_MENU)\n  }\n\n  create() {\n    this.addTapToJump()\n    this.addPlayerSkin()\n    this.addInfoUi()\n\n    this.addPlayPanel()\n    this.startGameEvent()\n    this.addVolumeEvent()\n\n    this.addResumeEvent()\n    this.addChangeSkinEvent()\n\n    this.addButtonUi()\n  }\n\n  private startGameEvent() {\n    this.playPanel.on(\n      'pointerdown',\n      () => {\n        this.scene.pause()\n        this.scene.setVisible(false)\n\n        this.scene.pause(constants.SCENES.GAME_INFO_UI)\n        this.scene.setVisible(false, constants.SCENES.GAME_INFO_UI)\n\n        this.scene.launch(constants.SCENES.GAME_FIELD)\n      },\n      this\n    )\n  }\n\n  private addResumeEvent() {\n    this.events.on(Phaser.Scenes.Events.START, () => {\n      this.scene.launch(constants.SCENES.GAME_FIELD)\n      this.scene.pause(constants.SCENES.GAME_FIELD)\n\n      this.scene.launch(constants.SCENES.GAME_INFO_UI)\n    })\n  }\n\n  private addInfoUi() {\n    this.scene.run(constants.SCENES.GAME_INFO_UI)\n  }\n\n  private addTapToJump() {\n    const { width, height } = this.cameras.main\n\n    this.add\n      .text(\n        width / 2,\n        height / 2 - 250,\n        i18next.t('Tap to jump').toUpperCase(),\n        {\n          fontFamily: constants.FONT.FAMILY,\n          fontSize: '54px',\n          color: constants.COLORS.ACCENT,\n          align: 'center',\n        }\n      )\n      .setOrigin(0.5, 0.5)\n  }\n\n  private addPlayerSkin() {\n    const { width, height } = this.cameras.main\n\n    const localStorageScene = this.scene.get(constants.SCENES.LOCAL_STORAGE)\n    const localStorageData = localStorageScene.data.get(\n      'localStorageData'\n    ) as LocalStorageData\n    const selectFish = localStorageData.get('selectFish') as string\n\n    this.playerSkin = this.add\n      .image(width / 2, height / 2, 'fish', selectFish)\n      .setScale(1.3)\n\n    this.add.tween({\n      targets: this.playerSkin,\n      y: height / 2 + 70,\n      duration: 700,\n      repeat: -1,\n      yoyo: true,\n      ease: 'Sine.easeInOut',\n    })\n  }\n\n  private addPlayPanel() {\n    const { centerX, centerY } = this.cameras.main\n    this.playPanel = this.add\n      .rectangle(centerX, centerY, 600, 800, 0x00_00_00, 0)\n      .setOrigin(0.5, 0.5)\n      .setInteractive()\n  }\n\n  private addButtonUi() {\n    const defaultStyle = {\n      texture: 'ui',\n      backgroundColor: 0x2b_af_f6,\n      backgroundColorOver: 0x00_4f_79,\n    }\n\n    const skinsButton = new Button(this, {\n      frameIcon: 'fish',\n      ...defaultStyle,\n    })\n    const shopButton = new Button(this, {\n      frameIcon: 'gift',\n      ...defaultStyle,\n    })\n    const settingsButton = new Button(this, {\n      frameIcon: 'settings',\n      ...defaultStyle,\n    })\n\n    const buttons = new Buttons(this, {\n      x: 200,\n      y: 200,\n      anchor: {\n        centerX: 'right-125',\n        centerY: 'center',\n      },\n      orientation: 'vertical',\n      buttons: [skinsButton, shopButton, settingsButton],\n      space: {\n        item: 50,\n      },\n    }).layout()\n    this.add.existing(buttons)\n\n    buttons.on(\n      'button.over',\n      (button: Button) => {\n        button.setOver()\n      },\n      this\n    )\n\n    buttons.on(\n      'button.out',\n      (button: Button) => {\n        button.setDefaultStyle()\n      },\n      this\n    )\n\n    buttons.on(\n      'button.click',\n      (button: Button, index: number) => {\n        this.game.sound.playAudioSprite('sfx', 'button')\n\n        switch (index) {\n          case 0:\n            this.scene.launch(constants.SCENES.PLAYER_SKINS)\n            break\n          case 1:\n            this.scene.launch(constants.SCENES.SHOP)\n            break\n          case 2:\n            this.scene.launch(constants.SCENES.SETTINGS)\n            break\n        }\n      },\n      this\n    )\n  }\n\n  private addChangeSkinEvent() {\n    const localStorageScene = this.scene.get(constants.SCENES.LOCAL_STORAGE)\n    const localStorageData = localStorageScene.data.get(\n      'localStorageData'\n    ) as LocalStorageData\n    localStorageData.events.on(\n      'changedata-selectFish',\n      (_: any, selectSkin: string) => {\n        this.playerSkin.setFrame(selectSkin)\n      }\n    )\n  }\n\n  private addVolumeEvent() {\n    const localStorageScene = this.scene.get(constants.SCENES.LOCAL_STORAGE)\n    const localStorageData = localStorageScene.data.get(\n      'localStorageData'\n    ) as LocalStorageData\n\n    this.game.sound.volume = localStorageData.get('soundVolume') || 1\n\n    this.game.sound.on('volume', (_: any, volume: number) => {\n      const localStorageScene = this.scene.get(constants.SCENES.LOCAL_STORAGE)\n      const localStorageData = localStorageScene.data.get(\n        'localStorageData'\n      ) as LocalStorageData\n\n      localStorageData.set('soundVolume', volume)\n    })\n  }\n}\n","import LocalStorageData from 'phaser3-rex-plugins/plugins/localstorage-data'\nimport constants from '@/constants'\n\nexport default class LocalStorageScene extends Phaser.Scene {\n  private localStorageData!: LocalStorageData\n\n  constructor() {\n    super(constants.SCENES.LOCAL_STORAGE)\n  }\n\n  create() {\n    this.addLocalStorageData()\n  }\n\n  private addLocalStorageData() {\n    this.localStorageData = new LocalStorageData(this, {\n      name: constants.SCENES.LOCAL_STORAGE,\n      default: {\n        bestScore: 0,\n        gamesPlayed: 0,\n        roe: 0,\n        selectFish: 'fish_01a',\n        fishes: ['fish_01a', 'fish_02a'],\n        soundVolume: 0.5,\n      },\n    })\n\n    this.data.set('localStorageData', this.localStorageData)\n  }\n}\n","export default class Actor extends Phaser.Physics.Matter.Sprite {\n  constructor(\n    scene: Phaser.Scene,\n    x: number,\n    y: number,\n    texture: string,\n    frame?: string | number\n  ) {\n    super(scene.matter.world, x, y, texture, frame)\n\n    scene.add.existing(this)\n  }\n}\n","import Player from '../../Player'\n\nexport default class IdleState {\n  private player: Player\n\n  constructor(player: Player) {\n    this.player = player\n  }\n\n  enter() {\n    const frameName = this.player.frameName\n    const jumpFrame = frameName.slice(0, -1) + 'a'\n\n    this.player.setFrame(jumpFrame)\n  }\n}\n","import Player from '../../Player'\n\nexport default class IdleState {\n  private player: Player\n\n  constructor(player: Player) {\n    this.player = player\n  }\n\n  enter() {\n    const frameName = this.player.frameName\n    const jumpFrame = frameName.slice(0, -1) + 'f'\n\n    this.player.setFrame(jumpFrame)\n  }\n}\n","import Player from '../Player'\nimport IdleState from './states/IdleState'\nimport JumpState from './states/JumpState'\n\nexport type PlayerStateType = 'idle' | 'jump'\n\nexport default class PlayerStateController {\n  private states: { [key: string]: { enter: () => void } }\n\n  private currentState = { enter: () => {} }\n\n  constructor(player: Player) {\n    this.states = {\n      idle: new IdleState(player),\n      jump: new JumpState(player),\n    }\n  }\n\n  setState(name: PlayerStateType) {\n    if (this.currentState === this.states[name]) {\n      return\n    }\n\n    this.currentState = this.states[name]\n    this.currentState.enter()\n  }\n}\n","import Phaser from 'phaser'\nimport constants from '@/constants'\nimport Actor from '@/components/Actor'\nimport PlayerStateController from '@/components/PlayerStateController'\n\nexport default class Player extends Actor {\n  public stateController: PlayerStateController\n  public velocity: { x: number; y: number }\n  public direction: 'left' | 'right' = 'right'\n  public frameName: string\n\n  private particlesEmitter!: Phaser.GameObjects.Particles.ParticleEmitter\n  private deathSprite?: Phaser.Physics.Matter.Sprite\n\n  constructor(scene: Phaser.Scene, x: number, y: number, frameName: string) {\n    super(scene, x, y, 'fish', frameName)\n\n    this.frameName = frameName\n\n    this.velocity = {\n      x: 12,\n      y: -18,\n    }\n\n    this.setScale(1.3)\n\n    this.setRectangle(150, 100, {\n      chamfer: { radius: 50 },\n      label: 'player',\n    })\n\n    this.setOrigin(0.5, 0.5)\n\n    scene.matter.body.setInertia(\n      <MatterJS.BodyType>this.body,\n      Number.POSITIVE_INFINITY\n    )\n\n    this.setBounce(1)\n    this.setFriction(0, 0, 0)\n\n    this.addParticles()\n\n    this.stateController = new PlayerStateController(this)\n  }\n\n  public jump() {\n    this.stateController.setState('jump')\n    this.scene.time.delayedCall(200, () => {\n      this.stateController.setState('idle')\n    })\n\n    this.particlesEmitter.start()\n    this.scene.time.delayedCall(400, () => {\n      this.particlesEmitter.stop()\n    })\n\n    this.setVelocity(this.velocity.x, this.velocity.y)\n\n    return this\n  }\n\n  public flip() {\n    this.direction = this.direction === 'left' ? 'right' : 'left'\n\n    this.velocity.x =\n      Math.sign(this.velocity.x) === -1\n        ? Math.abs(this.velocity.x)\n        : Math.abs(this.velocity.x) * -1\n\n    this.setFlipX(!this.flipX)\n\n    return this\n  }\n\n  public addVelocity(x: number, y = 0) {\n    this.velocity.x =\n      Math.sign(this.velocity.x) === -1\n        ? (Math.abs(this.velocity.x) + x) * -1\n        : this.velocity.x + x\n\n    this.velocity.y =\n      Math.sign(this.velocity.y) === -1\n        ? (Math.abs(this.velocity.y) + y) * -1\n        : this.velocity.y + y\n\n    return this\n  }\n\n  public spawn() {\n    this.setVisible(true)\n    this.setCollisionCategory(Number(true))\n\n    this.velocity.x = Math.abs(this.velocity.x)\n    this.resetFlip()\n    this.setVelocity(0, 0)\n\n    this.setPosition(constants.WIDTH / 2, constants.HEIGHT / 2)\n\n    this.data.values.score = 0\n\n    this.deathSprite?.destroy()\n  }\n\n  public death() {\n    this.setVisible(false)\n    this.setActive(false)\n    this.setCollisionCategory(Number(false))\n    this.particlesEmitter.remove()\n\n    this.addDeathSprite()\n  }\n\n  public changeSkin(newSkin: string) {\n    this.frameName = newSkin\n    this.particlesEmitter.setFrame('particle_' + newSkin.slice(0, -1))\n  }\n\n  private addDeathSprite() {\n    this.deathSprite = this.scene.matter.add.sprite(\n      this.x,\n      this.y,\n      'fish_death'\n    )\n\n    this.deathSprite.setBounce(1)\n    this.deathSprite.setFriction(0, 0, 0)\n    this.deathSprite.setVelocity(-this.velocity.x / 2)\n\n    this.scene.tweens.add({\n      targets: this.deathSprite,\n      duration: 1000,\n      angle: 360,\n      repeat: -1,\n    })\n  }\n\n  private addParticles() {\n    const particles = this.scene.add.particles(\n      'particle',\n      'particle_' + this.frameName.slice(0, -1)\n    )\n\n    this.particlesEmitter = particles.createEmitter({\n      x: this.x,\n      y: this.y,\n      lifespan: 400,\n      scale: { start: 0.7, end: 0.2 },\n      frequency: 90,\n      follow: this,\n    })\n  }\n}\n","export type WallConfig = {\n  x: number\n  y: number\n  width: number\n  height: number\n  label?: string\n  color?: number\n  alpha?: number\n  isSensor?: boolean\n}\n\nexport default class Wall extends Phaser.GameObjects.Container {\n  private readonly rect: Phaser.GameObjects.Rectangle\n\n  constructor(scene: Phaser.Scene, config: WallConfig) {\n    const {\n      x,\n      y,\n      width,\n      height,\n      label,\n      color,\n      alpha,\n      isSensor = false,\n    } = config\n\n    super(scene, x, y)\n    scene.add.existing(this)\n\n    this.setSize(width, height)\n\n    this.rect = scene.add.rectangle(0, 0, width, height, color, alpha)\n    this.add(this.rect)\n\n    scene.matter.add.gameObject(this, {\n      isStatic: true,\n      isSensor,\n      label: label,\n    })\n  }\n\n  public setFillStyle(color: number, alpha?: number) {\n    this.rect.setFillStyle(color, alpha)\n\n    return this\n  }\n}\n","export type SpikeConfig = {\n  x: number\n  y: number\n  width: number\n  height: number\n  label?: string\n  color?: number\n  alpha?: number\n  isSensor?: boolean\n}\n\nexport default class Spike extends Phaser.GameObjects.Polygon {\n  constructor(scene: Phaser.Scene, config: SpikeConfig) {\n    const { x, y, width, height, label, color, alpha, isSensor } = config\n\n    const trianglePoints = `0 ${height} ${width} ${height} ${width / 2} 0`\n\n    super(scene, x, y, trianglePoints, color, alpha)\n    scene.add.existing(this)\n\n    scene.matter.add.gameObject(\n      this,\n      {\n        isStatic: true,\n        isSensor: true,\n        label,\n        shape: {\n          type: 'fromVerts',\n          verts: trianglePoints,\n          flagInternal: true,\n        },\n      },\n      true\n    )\n  }\n}\n","import Spike from '@/components/Spike'\nimport constants from '@/constants'\n\ntype SpikeGroupConfig = {\n  x?: number\n  y?: number\n  count?: number\n  maximum?: number\n  label?: string\n  color?: number\n  alpha?: number\n  angle?: number\n  space?: number\n  orientation?: 'horizontal' | 'vertical'\n  isAnimation?: boolean\n}\n\nexport default class SpikeGroup {\n  private scene: Phaser.Scene\n  private spikes: Spike[] = []\n  private currentSpikes = 0\n  private maximumSpikes = 0\n  private isAnimation: boolean\n\n  constructor(scene: Phaser.Scene, config: SpikeGroupConfig) {\n    const {\n      x = 0,\n      y = 0,\n      count = 0,\n      maximum = count,\n      label,\n      color,\n      alpha,\n      angle,\n      space = 0,\n      orientation = 'horizontal',\n      isAnimation = false,\n    } = config\n\n    this.scene = scene\n    this.isAnimation = isAnimation\n    this.currentSpikes = count\n    this.maximumSpikes = maximum\n\n    const spikeWidth = constants.SPIKE.WIDTH\n    const spikeHeight = constants.SPIKE.HEIGHT\n\n    for (let index = 0; index < maximum; index++) {\n      const spikeX =\n        x +\n        (orientation === 'horizontal'\n          ? index * spikeWidth + spikeWidth / 2 + index * space\n          : 0)\n\n      const spikeY =\n        y +\n        (orientation === 'vertical'\n          ? index * spikeWidth + spikeWidth / 2 + index * space\n          : 0)\n\n      const spike = new Spike(scene, {\n        x: spikeX,\n        y: spikeY,\n        width: spikeWidth,\n        height: spikeHeight,\n        label,\n        color,\n        alpha,\n      })\n\n      spike.setAngle(angle)\n\n      this.spikes.push(spike)\n    }\n\n    this.hideSpikes()\n\n    this.changeCount(count)\n  }\n\n  public setFillStyle(color: number | undefined, alpha?: number | undefined) {\n    for (const spike of this.spikes) spike.setFillStyle(color, alpha)\n\n    return this\n  }\n\n  private randNumber(min: number, max: number, exclude: number[] = []) {\n    let number_ = Math.floor(\n      Math.random() * (max - min + 1 - exclude.length) + min\n    )\n    ;[...exclude]\n      .sort((a, b) => a - b)\n      .every((exeption) => exeption <= number_ && (number_++, true))\n    return number_\n  }\n\n  public changeCount(count: number) {\n    if (count > this.maximumSpikes) count = this.maximumSpikes\n    this.currentSpikes = count\n\n    this.hideSpikes()\n\n    const excludedIndexes = []\n\n    for (const [index, spike] of this.spikes.entries()) {\n      if (spike.visible) {\n        excludedIndexes.push(index)\n      }\n    }\n\n    while (excludedIndexes.length < count) {\n      const index = this.randNumber(0, this.maximumSpikes - 1, excludedIndexes)\n\n      this.showSpike(index)\n\n      excludedIndexes.push(index)\n    }\n\n    return this\n  }\n\n  public static getNeededSpikes(score: number) {\n    if (score === 0) return 0\n    if (score === 1) return 2\n    if (score < 5) return 3\n    if (score < 12) return 4\n    if (score < 20) return 5\n    if (score < 30) return 6\n    if (score < 40) return Phaser.Math.Between(4, 7)\n    if (score < 50) return Phaser.Math.Between(6, 8)\n    if (score < 60) return Phaser.Math.Between(6, 9)\n    if (score >= 60) return Phaser.Math.Between(7, 9)\n    return Phaser.Math.Between(3, 9)\n  }\n\n  private showSpike(index: number) {\n    const spike = this.spikes[index]\n\n    if (this.isAnimation) {\n      this.scene.tweens.add({\n        targets: spike,\n        scale: 1,\n        duration: 300,\n      })\n    }\n\n    spike.setVisible(true)\n    spike.setActive(true)\n\n    // https://photonstorm.github.io/phaser3-docs/Phaser.Physics.Matter.Components.Collision.html\n    // @ts-ignore\n    spike.setCollisionCategory(Number(true))\n\n    return this\n  }\n\n  private hideSpikes() {\n    for (const spike of this.spikes) {\n      if (this.isAnimation) {\n        this.scene.tweens.add({\n          targets: spike,\n          scale: 0,\n          duration: 300,\n        })\n      }\n\n      spike.setVisible(false)\n      spike.setActive(false)\n\n      // https://photonstorm.github.io/phaser3-docs/Phaser.Physics.Matter.Components.Collision.html\n      // @ts-ignore\n      spike.setCollisionCategory(Number(false))\n    }\n\n    return this\n  }\n\n  public get getCurrentCount() {\n    return this.currentSpikes\n  }\n}\n","export default function getCurrentColor(score: number) {\n  if (score < 5) return { background: 0xeb_eb_eb, spike: 0x80_80_80 }\n  if (score < 10) return { background: 0xdc_ec_f1, spike: 0x62_75_81 }\n  if (score < 15) return { background: 0xf8_eb_e3, spike: 0x82_6c_61 }\n  if (score < 20) return { background: 0xe8_f1_df, spike: 0x75_7c_64 }\n  if (score < 25) return { background: 0xe8_e4_f7, spike: 0x6b_66_80 }\n  if (score < 30) return { background: 0x76_76_75, spike: 0xfc_f9_fe }\n  if (score < 35) return { background: 0x2b_69_7f, spike: 0x63_d1_f8 }\n  if (score < 40) return { background: 0x1e_72_00, spike: 0x6e_cf_00 }\n  if (score < 45) return { background: 0x00_29_8a, spike: 0x32_8a_ff }\n  if (score < 50) return { background: 0x8c_0f_3e, spike: 0xfe_1f_67 }\n  if (score < 55) return { background: 0xff_a9_2c, spike: 0xff_ff_ff }\n  if (score < 60) return { background: 0x00_97_ff, spike: 0xff_ff_ff }\n  if (score < 65) return { background: 0xb0_4d_ff, spike: 0xff_ff_ff }\n  if (score < 70) return { background: 0x81_cc_12, spike: 0xff_ff_ff }\n  if (score < 75) return { background: 0x00_00_00, spike: 0xff_ff_ff }\n  if (score < 80) return { background: 0xed_a8_c8, spike: 0x00_00_00 }\n  if (score < 85) return { background: 0x9c_c1_eb, spike: 0x00_00_00 }\n  if (score < 90) return { background: 0xb8_e3_9c, spike: 0x00_00_00 }\n  if (score < 95) return { background: 0xab_a4_f1, spike: 0x00_00_00 }\n  if (score < 100) return { background: 0x98_dd_dd, spike: 0x00_00_00 }\n  if (score >= 100) return { background: 0x00_00_00, spike: 0xff_19_00 }\n  return { background: 0xeb_eb_eb, spike: 0x80_80_80 }\n}\n","import constants from '@/constants'\n\nexport default class Roe extends Phaser.Physics.Matter.Image {\n  private value = 0\n  private tween?: Phaser.Tweens.Tween\n\n  constructor(scene: Phaser.Scene, x: number, y: number, value = 0) {\n    super(scene.matter.world, x, y, 'roe', 'roe_1')\n    this.scene.add.existing(this)\n\n    this.value = value\n\n    this.setCircle(this.width / 2, {\n      label: 'roe',\n    })\n\n    this.setStatic(true)\n    this.setSensor(true)\n\n    this.spawn(x, y)\n  }\n\n  public spawn(x: number, y: number) {\n    this.setAlpha(0)\n    this.scene.add.tween({\n      targets: this,\n      duration: 250,\n      alpha: {\n        from: 0,\n        to: 1,\n      },\n      ease: 'Sine.easeInOut',\n      onComplete: () => {\n        this.addAnimation()\n      },\n    })\n\n    this.setActive(true)\n    this.setVisible(true)\n    this.setPosition(x, y)\n  }\n\n  public remove() {\n    this.tween?.remove()\n    this.setVisible(false)\n    this.setActive(false)\n    this.setCollisionCategory(Number(false))\n  }\n\n  public showTakenValue() {\n    this.scene.floatingNumbers.createFloatingText({\n      textOptions: {\n        fontFamily: constants.FONT.FAMILY,\n        fontSize: '72px',\n        color: '#FC4100',\n      },\n      align: 'top-center',\n      animation: 'up',\n      animationEase: 'Sine.easeInOut',\n      text: '+' + this.value,\n      offsetY: this.height,\n      parentObject: this,\n    })\n  }\n\n  private addAnimation() {\n    this.tween = this.scene.add.tween({\n      targets: this,\n      duration: 750,\n      y: this.y - this.height,\n      ease: 'Sine.easeInOut',\n      repeat: -1,\n      yoyo: true,\n    })\n  }\n\n  public get getValue() {\n    return this.value\n  }\n\n  public set setValue(value: number) {\n    this.value = value\n  }\n}\n","export default function getCurrentRoe(score: number): {\n  value: number\n  frame: string\n} {\n  if (score < 25) return { value: 1, frame: 'roe_1' }\n  if (score < 50) return { value: 2, frame: 'roe_2' }\n  if (score < 75) return { value: 3, frame: 'roe_3' }\n  if (score < 100) return { value: 4, frame: 'roe_4' }\n  if (score >= 100) return { value: 5, frame: 'roe_5' }\n  return { value: 1, frame: 'roe_1' }\n}\n","import Phaser from 'phaser'\nimport LocalStorageData from 'phaser3-rex-plugins/plugins/localstorage-data'\nimport constants from '@/constants'\nimport Player from '@/components/Player'\nimport Wall from '@/components/Wall'\nimport SpikeGroup from '@/components/SpikeGroup'\nimport getCurrentColor from '@/helpers/getCurrentColor'\nimport Roe from '@/components/Roe'\nimport getCurrentRoe from '@/helpers/getCurrentRoe'\n\nexport default class GameFieldScene extends Phaser.Scene {\n  private scoreText!: Phaser.GameObjects.Text\n  private player!: Player\n\n  private wallLeft!: Wall\n  private wallRight!: Wall\n  private wallTop!: Wall\n  private wallBottom!: Wall\n\n  private spikes: SpikeGroup[] = []\n  private spikeGroupLeft!: SpikeGroup\n  private spikeGroupRight!: SpikeGroup\n  private spikeGroupTop!: SpikeGroup\n  private spikeGroupBottom!: SpikeGroup\n  private roe?: Roe | null\n\n  constructor() {\n    super(constants.SCENES.GAME_FIELD)\n  }\n\n  create() {\n    const { width, height } = this.cameras.main\n\n    this.matter.world.setBounds(0, 0, width, height)\n\n    this.addScoreText()\n\n    this.addPlayer()\n\n    this.scoreText.setText(this.player.data.get('score'))\n\n    this.addWalls()\n    this.addSpikes()\n    this.addCollisionStartEvent()\n    this.addPauseEvent()\n    this.addChangeSkinEvent()\n\n    this.startGame()\n  }\n\n  private addPlayer() {\n    const { centerX, centerY } = this.cameras.main\n\n    const localStorageScene = this.scene.get(constants.SCENES.LOCAL_STORAGE)\n    const localStorageData = localStorageScene.data.get(\n      'localStorageData'\n    ) as LocalStorageData\n    const playerFrameName = localStorageData.get('selectFish')\n\n    this.player = new Player(this, centerX, centerY, playerFrameName)\n    this.initPlayerData()\n    this.addPlayerController()\n  }\n\n  private addChangeSkinEvent() {\n    const localStorageScene = this.scene.get(constants.SCENES.LOCAL_STORAGE)\n    const localStorageData = localStorageScene.data.get(\n      'localStorageData'\n    ) as LocalStorageData\n\n    localStorageData.events.on(\n      'changedata-selectFish',\n      (_: any, selectSkin: string) => {\n        this.player.changeSkin(selectSkin)\n      }\n    )\n  }\n\n  private initPlayerData() {\n    this.player.setDataEnabled()\n\n    this.player.data.set('score', 0)\n    this.player.data.set('roe', 0)\n\n    this.player.on(\n      'changedata-score',\n      (gameObject: Phaser.GameObjects.GameObject, value: number) => {\n        const score = Phaser.Utils.String.Pad(value.toString(), 2, '0', 1)\n        this.scoreText.setText(score)\n      },\n      this\n    )\n  }\n\n  private addScoreText() {\n    const { centerX, centerY } = this.cameras.main\n\n    this.scoreText = this.add\n      .text(centerX, centerY, '', {\n        fontFamily: constants.FONT.FAMILY,\n        fontSize: '480px',\n        color: constants.COLORS.DEFAULT.SPIKE + '40',\n      })\n      .setOrigin(0.5, 0.5)\n  }\n\n  private addPlayerController() {\n    this.input.on(\n      'pointerdown',\n      () => {\n        this.game.sound.playAudioSprite('sfx', 'jump')\n\n        this.player.jump()\n      },\n      this\n    )\n  }\n\n  private addWalls() {\n    const { width, height } = this.cameras.main\n\n    this.wallLeft = new Wall(this, {\n      x: 5,\n      y: height / 2,\n      width: 50,\n      height,\n      label: 'wallLeft',\n      alpha: 0,\n      isSensor: true,\n    })\n    this.wallRight = new Wall(this, {\n      x: width - 5,\n      y: height / 2,\n      width: 50,\n      height,\n      label: 'wallRight',\n      alpha: 0,\n      isSensor: true,\n    })\n\n    const wallHeight = constants.WALL.HEIGHT\n\n    this.wallTop = new Wall(this, {\n      x: width / 2,\n      y: wallHeight / 5,\n      width,\n      height: wallHeight / 2.5,\n      label: 'wallTop',\n      color: 0x80_80_80,\n      alpha: 1,\n    })\n    this.wallBottom = new Wall(this, {\n      x: width / 2,\n      y: height - wallHeight / 2,\n      width,\n      height: wallHeight,\n      label: 'wallBottom',\n      color: 0x80_80_80,\n      alpha: 1,\n    })\n  }\n\n  private addSpikes() {\n    const { width, height } = this.cameras.main\n    const wallHeight = constants.WALL.HEIGHT\n\n    this.spikeGroupLeft = new SpikeGroup(this, {\n      x: 8,\n      y: constants.SPIKE.HEIGHT,\n      count: 0,\n      maximum: 11,\n      label: 'spike',\n      color: 0xcc_cc_cc,\n      alpha: 1,\n      angle: 90,\n      space: 4,\n      orientation: 'vertical',\n      isAnimation: true,\n    })\n\n    this.spikeGroupRight = new SpikeGroup(this, {\n      x: width - 8,\n      y: constants.SPIKE.HEIGHT,\n      count: 0,\n      maximum: 11,\n      label: 'spike',\n      color: 0xcc_cc_cc,\n      alpha: 1,\n      angle: -90,\n      space: 4,\n      orientation: 'vertical',\n      isAnimation: true,\n    })\n\n    this.spikeGroupTop = new SpikeGroup(this, {\n      x: constants.SPIKE.WIDTH / 7,\n      y: wallHeight / 4 + constants.SPIKE.HEIGHT / 2,\n      count: 7,\n      label: 'spike',\n      color: 0xcc_cc_cc,\n      alpha: 1,\n      angle: 180,\n      space: 4,\n      orientation: 'horizontal',\n    })\n\n    this.spikeGroupBottom = new SpikeGroup(this, {\n      x: constants.SPIKE.WIDTH / 7,\n      y: height - wallHeight - constants.SPIKE.HEIGHT / 5,\n      count: 7,\n      label: 'spike',\n      color: 0xcc_cc_cc,\n      alpha: 1,\n      angle: 0,\n      space: 4,\n      orientation: 'horizontal',\n    })\n\n    this.spikes.push(\n      this.spikeGroupLeft,\n      this.spikeGroupRight,\n      this.spikeGroupTop,\n      this.spikeGroupBottom\n    )\n  }\n\n  private addCollisionStartEvent() {\n    this.matter.world.on(\n      Phaser.Physics.Matter.Events.COLLISION_START,\n      (\n        _event: Phaser.Physics.Matter.Events.CollisionStartEvent,\n        bodyA: MatterJS.BodyType,\n        bodyB: MatterJS.BodyType\n      ) => {\n        if ([bodyA.label, bodyB.label].includes('player')) {\n          if (\n            [bodyA.label, bodyB.label].includes('wallLeft') ||\n            [bodyA.label, bodyB.label].includes('wallRight')\n          ) {\n            this.game.sound.playAudioSprite('sfx', 'point')\n\n            this.nextStep()\n          } else if (\n            [bodyA.label, bodyB.label].includes('wallTop') ||\n            [bodyA.label, bodyB.label].includes('wallBottom') ||\n            [bodyA.label, bodyB.label].includes('spike')\n          ) {\n            this.gameOver()\n          } else if ([bodyA.label, bodyB.label].includes('roe')) {\n            this.game.sound.playAudioSprite('sfx', 'candy')\n\n            this.player.data.values.roe += this.roe?.getValue || 0\n            this.roe?.showTakenValue()\n            this.roe?.remove()\n            this.roe = null\n          }\n        }\n      }\n    )\n  }\n\n  private addPauseEvent() {\n    this.events.on(\n      Phaser.Scenes.Events.PAUSE,\n      () => {\n        this.scoreText.setVisible(false)\n        this.player.setVisible(false)\n      },\n      this\n    )\n  }\n\n  private nextStep() {\n    if (this.player.data.values.score <= 100) {\n      this.player.addVelocity(0.04, 0.04)\n    }\n\n    this.player.flip()\n    this.player.data.values.score++\n\n    const color = getCurrentColor(this.player.data.get('score'))\n    this.changeColor(color)\n    this.changeCountSpikes()\n    this.spawnRoe()\n  }\n\n  private spawnRoe() {\n    if (this.roe) return\n\n    const { width } = this.cameras.main\n\n    const roeData = getCurrentRoe(this.player.data.get('score'))\n\n    const roeX =\n      this.player.direction === 'right'\n        ? width - constants.SPIKE.WIDTH\n        : constants.SPIKE.WIDTH\n\n    const roeY = Phaser.Math.RND.between(300, constants.HEIGHT - 400)\n\n    const roeValue = roeData.value\n\n    this.roe = new Roe(this, roeX, roeY, roeValue)\n    this.roe.setTexture('roe', roeData.frame)\n  }\n\n  private changeColor(color: { background: number; spike: number }) {\n    this.cameras.main.setBackgroundColor(color.background)\n\n    this.scoreText.setColor('#' + color.spike.toString(16) + '30')\n\n    this.wallTop.setFillStyle(color.spike)\n    this.wallBottom.setFillStyle(color.spike)\n\n    for (const spike of this.spikes) {\n      spike.setFillStyle(color.spike)\n    }\n  }\n\n  private changeCountSpikes() {\n    const countSpikes = SpikeGroup.getNeededSpikes(\n      this.player.data.values.score\n    )\n\n    const countRightSpikes =\n      this.spikeGroupLeft.getCurrentCount > 0 ? countSpikes : 0\n    this.spikeGroupRight.changeCount(countRightSpikes)\n\n    const countLeftSpikes =\n      this.spikeGroupRight.getCurrentCount === 0 ? countSpikes : 0\n    this.spikeGroupLeft.changeCount(countLeftSpikes)\n  }\n\n  private startGame() {\n    this.player.spawn()\n\n    this.changeColor({ background: 0xeb_eb_eb, spike: 0x80_80_80 })\n\n    this.spikeGroupLeft.changeCount(0)\n    this.spikeGroupRight.changeCount(0)\n\n    this.player.jump()\n  }\n\n  private gameOver() {\n    this.game.sound.playAudioSprite('sfx', 'dead')\n\n    this.roe?.remove()\n    this.roe = null\n\n    this.player.death()\n\n    this.scene.run(constants.SCENES.GAME_OVER, {\n      score: this.player.data.values.score,\n      roe: this.player.data.values.roe,\n    })\n  }\n}\n","import Phaser from 'phaser'\nimport i18next from 'i18next'\nimport LocalStorageData from 'phaser3-rex-plugins/plugins/localstorage-data'\nimport constants from '@/constants'\n\ntype GameInfoUiData = {\n  color: number\n}\n\nexport default class GameInfoUiScene extends Phaser.Scene {\n  private localStorageData!: LocalStorageData\n  private color?: number\n  private gameTitle!: Phaser.GameObjects.Text\n  private bestScoreText!: Phaser.GameObjects.Text\n  private gamesPlayedText!: Phaser.GameObjects.Text\n  private roeText!: Phaser.GameObjects.Text\n\n  constructor() {\n    super(constants.SCENES.GAME_INFO_UI)\n  }\n\n  init(data: GameInfoUiData) {\n    this.color = data.color\n  }\n\n  create() {\n    this.addLocalStorageData()\n    this.addGameTitle()\n    this.addBestScore()\n    this.addGamesPlayed()\n    this.addRoeText()\n    this.addResumeEvent()\n    this.addLocalStorageEvents()\n\n    if (this.color) {\n      this.changeColor(this.color)\n    }\n  }\n\n  private addLocalStorageData() {\n    const gameInfoUiScene = this.scene.get(constants.SCENES.LOCAL_STORAGE)\n    this.localStorageData = gameInfoUiScene.data.get(\n      'localStorageData'\n    ) as LocalStorageData\n  }\n\n  private addLocalStorageEvents() {\n    this.localStorageData.events.on(\n      'changedata-bestScore',\n      () => {\n        const bestScore = this.localStorageData.get('bestScore')\n        const text = (i18next.t('Best score') + ' ' + bestScore).toUpperCase()\n        this.bestScoreText.setText(text)\n      },\n      this\n    )\n\n    this.localStorageData.events.on(\n      'changedata-gamesPlayed',\n      () => {\n        const gamesPlayed = this.localStorageData.get('gamesPlayed')\n        const text = (\n          i18next.t('Games played') +\n          ' ' +\n          gamesPlayed\n        ).toUpperCase()\n        this.gamesPlayedText.setText(text)\n      },\n      this\n    )\n\n    this.localStorageData.events.on(\n      'changedata-roe',\n      () => {\n        this.roeText.setText(String(this.localStorageData.get('roe')))\n      },\n      this\n    )\n  }\n\n  private changeColor(color: number) {\n    const colorString = '#' + Phaser.Display.Color.ComponentToHex(color)\n    this.gameTitle.setColor(colorString)\n    this.bestScoreText.setColor(colorString)\n    this.gamesPlayedText.setColor(colorString)\n  }\n\n  private addResumeEvent() {\n    this.events.on(\n      Phaser.Scenes.Events.RESUME,\n      (scene: Phaser.Scene, { color }: GameInfoUiData) => {\n        if (color) {\n          this.changeColor(color)\n        }\n      },\n      this\n    )\n  }\n\n  private addGameTitle() {\n    const { width } = this.cameras.main\n\n    this.gameTitle = this.add\n      .text(width / 2, 250, 'DODGING FISH', {\n        fontFamily: constants.FONT.FAMILY,\n        fontSize: '112px',\n        color: constants.COLORS.DEFAULT.SPIKE,\n      })\n      .setOrigin(0.5, 0.5)\n  }\n\n  private addBestScore() {\n    const { width, height } = this.cameras.main\n\n    const bestScore = this.localStorageData.get('bestScore') as number\n    const text = (i18next.t('Best score') + ' ' + bestScore).toUpperCase()\n\n    this.bestScoreText = this.add\n      .text(width / 2, height - 400, text, {\n        fontFamily: constants.FONT.FAMILY,\n        fontSize: '72px',\n        color: constants.COLORS.DEFAULT.SPIKE,\n      })\n      .setOrigin(0.5, 0.5)\n  }\n\n  private addGamesPlayed() {\n    const { width, height } = this.cameras.main\n\n    const gamesPlayed = this.localStorageData.get('gamesPlayed') as number\n    const text = (i18next.t('Games played') + ' ' + gamesPlayed).toUpperCase()\n\n    this.gamesPlayedText = this.add\n      .text(width / 2, height - 300, text, {\n        fontFamily: constants.FONT.FAMILY,\n        fontSize: '72px',\n        color: constants.COLORS.DEFAULT.SPIKE,\n      })\n      .setOrigin(0.5, 0.5)\n  }\n\n  private addRoeText() {\n    const { width, height } = this.cameras.main\n\n    const roe = this.localStorageData.get('roe') as number\n\n    this.add.image(width / 2 - 50, height - 500, 'roe', 'roe_1')\n\n    this.roeText = this.add\n      .text(width / 2, height - 500, String(roe), {\n        fontFamily: constants.FONT.FAMILY,\n        fontSize: '72px',\n        color: '#FC4100',\n        align: 'left',\n      })\n      .setOrigin(0, 0.5)\n  }\n}\n","import Phaser from 'phaser'\nimport i18next from 'i18next'\nimport RoundRectangleCanvas from 'phaser3-rex-plugins/plugins/roundrectanglecanvas'\nimport LocalStorageData from 'phaser3-rex-plugins/plugins/localstorage-data'\nimport getCurrentColor from '@/helpers/getCurrentColor'\nimport constants from '@/constants'\n\ntype GameOverData = {\n  score: number\n  roe: number\n}\n\nexport default class GameOverScene extends Phaser.Scene {\n  private score = 0\n  private roe = 0\n\n  constructor() {\n    super(constants.SCENES.GAME_OVER)\n  }\n\n  init(data: GameOverData) {\n    this.score = data.score\n    this.roe = data.roe\n  }\n\n  create() {\n    this.addBackground()\n    this.addBackgroundScore()\n    this.addScore()\n    this.startMainMenuEvent()\n    this.addBestScoreValue()\n    this.incGamesPlayedValue()\n    this.incRoeValue()\n\n    this.scene.resume(constants.SCENES.GAME_INFO_UI, {\n      color: getCurrentColor(this.score).spike,\n    })\n    this.scene.setVisible(true, constants.SCENES.GAME_INFO_UI)\n  }\n\n  private addBestScoreValue() {\n    const localStorageScene = this.scene.get(constants.SCENES.LOCAL_STORAGE)\n    const localStorageData = localStorageScene.data.get(\n      'localStorageData'\n    ) as LocalStorageData\n\n    const bestScore = localStorageData.get('bestScore')\n    if (this.score > bestScore) {\n      localStorageData.set('bestScore', this.score)\n    }\n  }\n\n  private incGamesPlayedValue() {\n    const localStorageScene = this.scene.get(constants.SCENES.LOCAL_STORAGE)\n    const localStorageData = localStorageScene.data.get(\n      'localStorageData'\n    ) as LocalStorageData\n    localStorageData.inc('gamesPlayed', 1)\n  }\n\n  private incRoeValue() {\n    const localStorageScene = this.scene.get(constants.SCENES.LOCAL_STORAGE)\n    const localStorageData = localStorageScene.data.get(\n      'localStorageData'\n    ) as LocalStorageData\n    localStorageData.inc('roe', this.roe)\n  }\n\n  private addBackground() {\n    this.add\n      .rectangle(\n        0,\n        0,\n        this.cameras.main.width,\n        this.cameras.main.height,\n        0xff_ff_ff,\n        0\n      )\n      .setOrigin(0, 0)\n      .setInteractive()\n  }\n\n  private addBackgroundScore() {\n    const { centerX, centerY } = this.cameras.main\n\n    const rect = new RoundRectangleCanvas(\n      this,\n      centerX,\n      centerY,\n      700,\n      700,\n      {\n        radius: 160,\n      },\n      constants.COLORS.ACCENT\n    )\n    this.add.existing(rect)\n  }\n\n  private addScore() {\n    const { centerX, centerY } = this.cameras.main\n\n    this.add\n      .text(centerX, centerY - 125, i18next.t('Score'), {\n        fontSize: '52px',\n        fontFamily: constants.FONT.FAMILY,\n        align: 'center',\n      })\n      .setOrigin(0.5, 0.5)\n\n    this.add\n      .text(centerX, centerY + 50, String(this.score || 0), {\n        fontSize: '300px',\n        fontFamily: constants.FONT.FAMILY,\n        align: 'center',\n      })\n      .setOrigin(0.5, 0.5)\n  }\n\n  private startMainMenuEvent() {\n    this.input.on(\n      'pointerdown',\n      () => {\n        this.scene.stop(constants.SCENES.GAME_FIELD)\n        this.scene.stop(constants.SCENES.GAME_INFO_UI)\n        this.scene.stop()\n\n        this.scene.start(constants.SCENES.MAIN_MENU)\n      },\n      this\n    )\n  }\n}\n","import {\n  GridSizer,\n  ScrollablePanel,\n} from 'phaser3-rex-plugins/templates/ui/ui-components'\nimport LocalStorageData from 'phaser3-rex-plugins/plugins/localstorage-data'\nimport Button from '@/components/Button'\nimport constants from '@/constants'\n\nexport type SkinType = {\n  texture: string\n  frameIcon: string\n}\n\nexport default class SkinSelectPanel extends Phaser.GameObjects.Container {\n  private panel!: ScrollablePanel\n  private grid!: GridSizer\n  private readonly selectCallback!: (selectItem: Button) => void\n\n  constructor(\n    scene: Phaser.Scene,\n    x: number,\n    y: number,\n    skins: SkinType[],\n    selectCallback: (selectItem: Button) => void\n  ) {\n    super(scene, x, y)\n    this.scene.add.existing(this)\n\n    this.selectCallback = selectCallback\n\n    this.addPanel(skins)\n  }\n\n  public selectItem(string: string): void {\n    const allButtons = this.grid.getChildren()\n\n    const localStorageScene = this.scene.scene.get(\n      constants.SCENES.LOCAL_STORAGE\n    )\n    const localStorageData = localStorageScene.data.get(\n      'localStorageData'\n    ) as LocalStorageData\n\n    const fishes = localStorageData.get('fishes') as string\n\n    for (const oneButton of allButtons) {\n      const button = oneButton as Button\n\n      if (fishes.includes(button.frame.name)) {\n        button.setDefaultStyle()\n\n        if (button.frame.name === string) {\n          button.setOver()\n        }\n      } else {\n        button.setDisabled()\n      }\n    }\n  }\n\n  private addPlayerItem(skin: SkinType): void {\n    const item = new Button(this.scene, {\n      texture: skin.texture,\n      frameIcon: skin.frameIcon,\n      backgroundColorOver: 0x6e_cf_00,\n    })\n\n    this.grid.add(item)\n  }\n\n  private createGrid(skins: SkinType[]): GridSizer {\n    this.grid = new GridSizer(this.scene, {\n      x: 0,\n      y: 0,\n      column: 4,\n      row: 35,\n      rowProportions: 0,\n      space: {\n        row: 50,\n        column: 50,\n      },\n      name: 'fishes',\n    })\n\n    for (const skin of skins) {\n      this.addPlayerItem(skin)\n    }\n\n    this.grid.setInteractive()\n\n    return this.grid\n  }\n\n  private addPanel(skins: SkinType[]): void {\n    this.panel = new ScrollablePanel(this.scene, {\n      x: 0,\n      y: 0,\n      width: 700,\n      height: 1480,\n\n      anchor: {\n        centerX: 'center',\n        centerY: 'center+100',\n      },\n\n      scrollMode: 0,\n\n      panel: {\n        child: this.createGrid(skins),\n        mask: {\n          padding: 1,\n        },\n      },\n\n      mouseWheelScroller: {\n        focus: false,\n        speed: 0.7,\n      },\n\n      space: {\n        left: 30,\n        right: 30,\n        top: 30,\n        bottom: 30,\n        panel: 30,\n      },\n    })\n\n    this.panel.layout()\n\n    this.panel.setChildrenInteractive({\n      targets: [this.panel.getByName('fishes', true)],\n    })\n\n    this.add(this.panel)\n\n    this.panel.on('child.click', (selectItem: Button) => {\n      this.selectItem(selectItem.frame.name)\n      this.selectCallback(selectItem)\n    })\n  }\n}\n","import { Dialog } from 'phaser3-rex-plugins/templates/ui/ui-components.js'\nimport RoundRectangleCanvas from 'phaser3-rex-plugins/plugins/roundrectanglecanvas'\nimport { Label } from 'phaser3-rex-plugins/templates/ui/ui-components'\nimport i18next from 'i18next'\nimport LocalStorageData from 'phaser3-rex-plugins/plugins/localstorage-data'\nimport constants from '@/constants'\nimport Button from '@/components/Button'\n\nexport default class DialogBuy extends Dialog {\n  private readonly shadowBackground: Phaser.GameObjects.Rectangle\n\n  constructor(scene: Phaser.Scene, fishName: string) {\n    const shadowBackground = createShadowBackground(scene)\n\n    super(scene, {\n      anchor: {\n        x: 'center',\n        y: 'center',\n      },\n\n      width: 800,\n\n      background: createBackground(scene),\n\n      title: scene.add.text(0, 0, i18next.t('Buy'), {\n        fontSize: '72px',\n        fontFamily: constants.FONT.FAMILY,\n      }),\n\n      content: scene.add.image(0, 0, 'fish', fishName),\n\n      description: createPrice(scene, constants.FISH.BUY_COST.toString()),\n\n      actions: [createBackButton(scene), createBuyButton(scene)],\n\n      space: {\n        left: 30,\n        right: 30,\n        top: 30,\n        bottom: 30,\n\n        title: 50,\n        content: 50,\n        description: 50,\n        choices: 25,\n\n        toolbarItem: 5,\n        action: 25,\n      },\n\n      expand: {\n        title: false,\n        content: false,\n        description: false,\n      },\n\n      align: {\n        title: 'center',\n        actions: 'right',\n        description: 'right',\n      },\n\n      click: {\n        mode: 'release',\n      },\n    })\n\n    this.shadowBackground = shadowBackground\n\n    this.layout()\n    this.popUp(1000)\n\n    scene.add.existing(this)\n\n    scene.tweens.add({\n      targets: this,\n      scaleX: 1,\n      scaleY: 1,\n      ease: 'Bounce',\n      duration: 1000,\n      repeat: 0,\n      yoyo: false,\n    })\n\n    scene.tweens.add({\n      targets: this.shadowBackground,\n      alpha: 1,\n      ease: 'Sine.easeInOut',\n      duration: 700,\n      repeat: 0,\n      yoyo: false,\n    })\n  }\n\n  public closeModal() {\n    this.shadowBackground.destroy()\n    this.destroy()\n  }\n}\n\nconst createShadowBackground = (scene: Phaser.Scene) => {\n  const { width, height } = scene.cameras.main\n\n  return scene.add\n    .rectangle(0, 0, width, height, 0x00_4f_79, 0.5)\n    .setOrigin(0, 0)\n    .setInteractive()\n    .setAlpha(0)\n}\n\nconst createBackground = (scene: Phaser.Scene) => {\n  const background = new RoundRectangleCanvas(\n    scene,\n    0,\n    0,\n    500,\n    500,\n    {\n      radius: 50,\n    },\n    0x00_4f_79\n  )\n  scene.add.existing(background)\n  return background\n}\n\nconst createBackButton = (scene: Phaser.Scene) => {\n  return new Button(scene, {\n    texture: 'ui',\n    frameIcon: 'back',\n    backgroundColor: 0xff_ff_ff,\n    backgroundColorOver: 0x2b_af_f6,\n  })\n}\n\nconst createBuyButton = (scene: Phaser.Scene) => {\n  const buyButton = new Button(scene, {\n    texture: 'ui',\n    frameIcon: 'like',\n    backgroundColor: 0xff_ff_ff,\n    backgroundColorOver: 0x2b_af_f6,\n  })\n\n  const localStorageScene = scene.scene.get(constants.SCENES.LOCAL_STORAGE)\n  const localStorageData = localStorageScene.data.get(\n    'localStorageData'\n  ) as LocalStorageData\n  const roe = localStorageData.get('roe')\n\n  if (roe < constants.FISH.BUY_COST) {\n    buyButton.setDisabled()\n  }\n\n  return buyButton\n}\n\nconst createPrice = (scene: Phaser.Scene, text: string) => {\n  return new Label(scene, {\n    width: 40,\n    height: 40,\n\n    text: scene.add.text(0, 0, text, {\n      fontSize: '48px',\n      fontFamily: constants.FONT.FAMILY,\n    }),\n\n    icon: scene.add.image(0, 0, 'roe', 'roe_1'),\n\n    space: {\n      right: 0,\n      icon: 25,\n    },\n  })\n}\n","import { Toast as ToastUi } from 'phaser3-rex-plugins/templates/ui/ui-components'\nimport RoundRectangleCanvas from 'phaser3-rex-plugins/plugins/roundrectanglecanvas'\nimport constants from '@/constants'\n\nexport default class Toast extends ToastUi {\n  constructor(scene: Phaser.Scene) {\n    super(scene, {\n      anchor: {\n        x: 'center',\n        y: 'bottom-200',\n      },\n\n      background: createBackground(scene),\n\n      text: scene.add.text(0, 0, '', {\n        fontFamily: constants.FONT.FAMILY,\n        fontSize: '48px',\n      }),\n\n      space: {\n        left: 70,\n        right: 70,\n        top: 50,\n        bottom: 50,\n      },\n    })\n    scene.add.existing(this)\n  }\n}\n\nconst createBackground = (scene: Phaser.Scene) => {\n  const background = new RoundRectangleCanvas(\n    scene,\n    0,\n    0,\n    500,\n    500,\n    {\n      radius: 50,\n    },\n    0x00_4f_79\n  )\n  scene.add.existing(background)\n  return background\n}\n","import Phaser from 'phaser'\nimport Anchor from 'phaser3-rex-plugins/plugins/behaviors/anchor/Anchor'\nimport { Buttons } from 'phaser3-rex-plugins/templates/ui/ui-components'\nimport LocalStorageData from 'phaser3-rex-plugins/plugins/localstorage-data'\nimport i18next from 'i18next'\nimport type { SkinType } from '@/components/SkinSelectPanel/SkinSelectPanel'\nimport constants from '@/constants'\nimport Button from '@/components/Button'\nimport SkinSelectPanel from '@/components/SkinSelectPanel'\nimport DialogBuy from '@/components/DialogBuy'\nimport Toast from '@/components/Toast'\n\nexport default class PlayerSkinsScene extends Phaser.Scene {\n  private skins: SkinType[] = []\n  private countText!: Phaser.GameObjects.Text\n\n  constructor() {\n    super(constants.SCENES.PLAYER_SKINS)\n  }\n\n  create() {\n    this.addBackground()\n    this.addCountSkins()\n    this.addButtons()\n    this.loadAllSkins()\n    this.addSelectPanel()\n  }\n\n  private addBackground() {\n    const { width, height } = this.cameras.main\n    this.add\n      .rectangle(0, 0, width, height, 0x2b_af_f6, 0.9)\n      .setOrigin(0, 0)\n      .setInteractive()\n  }\n\n  private addSelectPanel() {\n    const selectPanel = new SkinSelectPanel(\n      this,\n      0,\n      0,\n      this.skins,\n      (selectItem: Button) => {\n        this.game.sound.playAudioSprite('sfx', 'select')\n\n        const localStorageScene = this.scene.get(constants.SCENES.LOCAL_STORAGE)\n        const localStorageData = localStorageScene.data.get(\n          'localStorageData'\n        ) as LocalStorageData\n\n        const fishes = localStorageData.get('fishes') as string\n\n        if (fishes.includes(selectItem.frame.name)) {\n          localStorageData.set('selectFish', selectItem.frame.name)\n          selectItem.setOver()\n        } else {\n          const dialog = new DialogBuy(this, selectItem.frame.name)\n\n          dialog.on('button.click', (button: Button) => {\n            if (button.frame.name === 'back') {\n              this.game.sound.playAudioSprite('sfx', 'button')\n\n              dialog.closeModal()\n            } else if (\n              button.frame.name === 'like' &&\n              localStorageData.get('roe') >= constants.FISH.BUY_COST\n            ) {\n              this.game.sound.playAudioSprite('sfx', 'victory')\n\n              localStorageData.set('selectFish', selectItem.frame.name)\n              localStorageData.set('fishes', [...fishes, selectItem.frame.name])\n\n              selectItem.setDefaultStyle()\n              selectItem.setOver()\n\n              localStorageData.inc('roe', constants.FISH.BUY_COST * -1)\n\n              this.countText.setText(\n                `${fishes.length + 1}/${constants.FISH.COUNT}`\n              )\n\n              dialog.closeModal()\n            } else if (\n              button.frame.name === 'like' &&\n              localStorageData.get('roe') < constants.FISH.BUY_COST\n            ) {\n              this.game.sound.playAudioSprite('sfx', 'error')\n\n              const lacks =\n                constants.FISH.BUY_COST - localStorageData.get('roe')\n              new Toast(this).showMessage(i18next.t('Missing') + ' ' + lacks)\n            }\n          })\n\n          dialog.on('button.over', (button: Button) => {\n            if (!button.isDisabled) {\n              button.setOver()\n            }\n          })\n\n          dialog.on('button.out', (button: Button) => {\n            if (!button.isDisabled) {\n              button.setDefaultStyle()\n            }\n          })\n        }\n      }\n    )\n\n    const localStorageScene = this.scene.get(constants.SCENES.LOCAL_STORAGE)\n    const localStorageData = localStorageScene.data.get(\n      'localStorageData'\n    ) as LocalStorageData\n\n    const selectFish = localStorageData.get('selectFish') as string\n\n    selectPanel.selectItem(selectFish)\n  }\n\n  private loadAllSkins() {\n    if (this.skins.length === 0) {\n      for (let index = 1; index <= constants.FISH.COUNT; index++) {\n        const frameIndex = Phaser.Utils.String.Pad(index, 2, '0', 1)\n        const frameIcon = `fish_${frameIndex}a`\n\n        this.skins.push({\n          texture: 'fish',\n          frameIcon,\n        })\n      }\n    }\n  }\n\n  private addCountSkins() {\n    const localStorageScene = this.scene.get(constants.SCENES.LOCAL_STORAGE)\n    const localStorageData = localStorageScene.data.get(\n      'localStorageData'\n    ) as LocalStorageData\n\n    // localStorageData.events.on(\n    //   'changedata-fishes',\n    //   (_: any, fishes: string[]) => {\n    //     if (this.countText && fishes.length > 0) {\n    //       this.countText.setText(`${fishes.length}/${constants.FISH.COUNT}`)\n    //     }\n    //   },\n    //   this\n    // )\n\n    const currentSkins = localStorageData.get('fishes') as string[]\n\n    const currentSkinsCount = currentSkins.length\n    const allSkinsCount = constants.FISH.COUNT\n\n    this.countText = this.add\n      .text(0, 0, `${currentSkinsCount}/${allSkinsCount}`, {\n        fontSize: '126px',\n        fontFamily: constants.FONT.FAMILY,\n        color: '#ffffff',\n        align: 'right',\n      })\n      .setOrigin(1, 0.5)\n\n    new Anchor(this.countText, {\n      x: 'right-50',\n      y: 'top+180',\n    })\n  }\n\n  private addButtons() {\n    const backButton = new Button(this, {\n      texture: 'ui',\n      frameIcon: 'back',\n      backgroundColor: 0xff_ff_ff,\n      backgroundColorOver: 0x00_4f_79,\n    })\n\n    const buttons = new Buttons(this, {\n      x: 0,\n      y: 0,\n      anchor: {\n        centerX: 'left+120',\n        centerY: 'top+180',\n      },\n      orientation: 'horizontal',\n      buttons: [backButton],\n      space: {\n        item: 50,\n      },\n    }).layout()\n    this.add.existing(buttons)\n\n    buttons.on(\n      'button.over',\n      (button: Button) => {\n        button.setOver()\n      },\n      this\n    )\n\n    buttons.on(\n      'button.out',\n      (button: Button) => {\n        button.setDefaultStyle()\n      },\n      this\n    )\n\n    buttons.on(\n      'button.click',\n      (button: Button, index: number) => {\n        this.game.sound.playAudioSprite('sfx', 'button')\n\n        switch (index) {\n          case 0:\n            this.scene.stop()\n        }\n      },\n      this\n    )\n  }\n}\n","import { Dialog } from 'phaser3-rex-plugins/templates/ui/ui-components.js'\nimport RoundRectangleCanvas from 'phaser3-rex-plugins/plugins/roundrectanglecanvas'\nimport { Label } from 'phaser3-rex-plugins/templates/ui/ui-components'\nimport i18next from 'i18next'\nimport constants from '@/constants'\nimport Button from '@/components/Button'\n\nexport default class DialogGift extends Dialog {\n  private readonly shadowBackground: Phaser.GameObjects.Rectangle\n\n  constructor(scene: Phaser.Scene, fishName: string) {\n    const shadowBackground = createShadowBackground(scene)\n\n    super(scene, {\n      anchor: {\n        x: 'center',\n        y: 'center',\n      },\n\n      width: 800,\n\n      background: createBackground(scene),\n\n      title: scene.add.text(0, 0, i18next.t('New'), {\n        fontSize: '72px',\n        fontFamily: constants.FONT.FAMILY,\n      }),\n\n      content: scene.add.image(0, 0, 'fish', fishName),\n\n      actions: [createBackButton(scene), createSelectButton(scene)],\n\n      space: {\n        left: 30,\n        right: 30,\n        top: 30,\n        bottom: 30,\n\n        title: 50,\n        content: 50,\n        description: 50,\n        choices: 25,\n\n        toolbarItem: 5,\n        action: 25,\n      },\n\n      expand: {\n        title: false,\n        content: false,\n        description: false,\n      },\n\n      align: {\n        title: 'center',\n        actions: 'right',\n        description: 'right',\n      },\n\n      click: {\n        mode: 'release',\n      },\n    })\n\n    this.shadowBackground = shadowBackground\n\n    this.layout()\n    this.popUp(1000)\n\n    scene.add.existing(this)\n\n    scene.tweens.add({\n      targets: this,\n      scaleX: 1,\n      scaleY: 1,\n      ease: 'Bounce',\n      duration: 1000,\n      repeat: 0,\n      yoyo: false,\n    })\n\n    scene.tweens.add({\n      targets: this.shadowBackground,\n      alpha: 1,\n      ease: 'Sine.easeInOut',\n      duration: 700,\n      repeat: 0,\n      yoyo: false,\n    })\n  }\n\n  public closeModal() {\n    this.shadowBackground.destroy()\n    this.destroy()\n  }\n}\n\nconst createShadowBackground = (scene: Phaser.Scene) => {\n  const { width, height } = scene.cameras.main\n\n  return scene.add\n    .rectangle(0, 0, width, height, 0x00_4f_79, 0.5)\n    .setOrigin(0, 0)\n    .setInteractive()\n    .setAlpha(0)\n}\n\nconst createBackground = (scene: Phaser.Scene) => {\n  const background = new RoundRectangleCanvas(\n    scene,\n    0,\n    0,\n    500,\n    500,\n    {\n      radius: 50,\n    },\n    0x00_4f_79\n  )\n  scene.add.existing(background)\n  return background\n}\n\nconst createBackButton = (scene: Phaser.Scene) => {\n  return new Button(scene, {\n    texture: 'ui',\n    frameIcon: 'back',\n    backgroundColor: 0xff_ff_ff,\n    backgroundColorOver: 0x2b_af_f6,\n  })\n}\n\nconst createSelectButton = (scene: Phaser.Scene) => {\n  return new Button(scene, {\n    texture: 'ui',\n    frameIcon: 'like',\n    backgroundColor: 0xff_ff_ff,\n    backgroundColorOver: 0x2b_af_f6,\n  })\n}\n","import Phaser from 'phaser'\nimport constants from '@/constants'\n\nexport default function getNewRandomFish(playerFishes: string[]): string {\n  const allFishes = getAllFishes()\n\n  const availableFishes = allFishes.filter(\n    (fish) => !playerFishes.includes(fish)\n  )\n\n  return Phaser.Utils.Array.GetRandom(availableFishes)\n}\n\nconst getAllFishes = () => {\n  const allFishes = []\n\n  if (allFishes.length === 0) {\n    for (let index = 1; index <= constants.FISH.COUNT; index++) {\n      const frameIndex = Phaser.Utils.String.Pad(index, 2, '0', 1)\n      const fish = `fish_${frameIndex}a`\n\n      allFishes.push(fish)\n    }\n  }\n\n  return allFishes\n}\n","import Phaser from 'phaser'\nimport { Buttons } from 'phaser3-rex-plugins/templates/ui/ui-components'\nimport Anchor from 'phaser3-rex-plugins/plugins/behaviors/anchor/Anchor'\nimport { Label } from 'phaser3-rex-plugins/templates/ui/ui-components'\nimport ShakePosition from 'phaser3-rex-plugins/plugins/shakeposition'\nimport LocalStorageData from 'phaser3-rex-plugins/plugins/localstorage-data'\nimport i18next from 'i18next'\nimport constants from '@/constants'\nimport Button from '@/components/Button'\nimport Toast from '@/components/Toast'\nimport DialogGift from '@/components/DialogGift'\nimport getNewRandomFish from '@/helpers/getNewRandomFish'\n\nexport default class ShopScene extends Phaser.Scene {\n  private gift!: Label\n\n  constructor() {\n    super(constants.SCENES.SHOP)\n  }\n\n  create() {\n    this.addBackground()\n    this.addTitle()\n    this.addButtons()\n    this.addGift()\n  }\n\n  private addBackground() {\n    const { width, height } = this.cameras.main\n    this.add\n      .rectangle(0, 0, width, height, 0x2b_af_f6, 0.9)\n      .setOrigin(0, 0)\n      .setInteractive()\n  }\n\n  private addTitle() {\n    const title = this.add\n      .text(0, 0, i18next.t('Shop'), {\n        fontSize: '126px',\n        fontFamily: constants.FONT.FAMILY,\n        color: '#ffffff',\n        align: 'right',\n      })\n      .setOrigin(1, 0.5)\n\n    new Anchor(title, {\n      x: 'right-50',\n      y: 'top+180',\n    })\n  }\n\n  private addButtons() {\n    const backButton = new Button(this, {\n      texture: 'ui',\n      frameIcon: 'back',\n      backgroundColor: 0xff_ff_ff,\n      backgroundColorOver: 0x00_4f_79,\n    })\n\n    const buttons = new Buttons(this, {\n      x: 0,\n      y: 0,\n      anchor: {\n        centerX: 'left+120',\n        centerY: 'top+180',\n      },\n      orientation: 'horizontal',\n      buttons: [backButton],\n      space: {\n        item: 50,\n      },\n    }).layout()\n    this.add.existing(buttons)\n\n    buttons.on(\n      'button.over',\n      (button: Button) => {\n        button.setOver()\n      },\n      this\n    )\n\n    buttons.on(\n      'button.out',\n      (button: Button) => {\n        button.setDefaultStyle()\n      },\n      this\n    )\n\n    buttons.on(\n      'button.click',\n      (button: Button, index: number) => {\n        this.game.sound.playAudioSprite('sfx', 'button')\n\n        switch (index) {\n          case 0:\n            this.scene.stop()\n        }\n      },\n      this\n    )\n  }\n\n  private addGift() {\n    const priceLabel = new Label(this, {\n      text: this.add.text(0, 0, constants.FISH.GIFT_COST.toString(), {\n        fontFamily: constants.FONT.FAMILY,\n        fontSize: '76px',\n      }),\n\n      icon: this.add.image(0, 0, 'roe', 'roe_1'),\n\n      space: {\n        icon: 25,\n      },\n    }).layout()\n    this.add.existing(priceLabel)\n\n    this.gift = new Label(this, {\n      anchor: {\n        centerX: 'center',\n        centerY: 'center',\n      },\n\n      orientation: 'y',\n\n      text: priceLabel,\n\n      icon: this.add.image(0, 0, 'gift'),\n\n      space: {\n        icon: 40,\n      },\n    })\n      .layout()\n      .setInteractive()\n      .on('pointerover', (_: any) => {\n        const icon = this.gift.getElement('icon') as Phaser.GameObjects.Image\n        icon.setTint(0xbb_bb_bb)\n      })\n      .on('pointerout', (_: any) => {\n        const icon = this.gift.getElement('icon') as Phaser.GameObjects.Image\n        icon.clearTint()\n      })\n      .on('pointerdown', (_: any) => {\n        const localStorageScene = this.scene.get(constants.SCENES.LOCAL_STORAGE)\n        const localStorageData = localStorageScene.data.get(\n          'localStorageData'\n        ) as LocalStorageData\n\n        const playerFishes = localStorageData.get('fishes') as string[]\n\n        const roe = localStorageData.get('roe') as number\n\n        if (playerFishes.length >= constants.FISH.COUNT) {\n          this.game.sound.playAudioSprite('sfx', 'error')\n\n          new Toast(this).showMessage(i18next.t('You have all the fish'))\n          return\n        }\n\n        if (roe < constants.FISH.GIFT_COST) {\n          this.game.sound.playAudioSprite('sfx', 'error')\n\n          const lacks = constants.FISH.GIFT_COST - roe\n          new Toast(this).showMessage(i18next.t('Missing') + ' ' + lacks)\n          return\n        }\n\n        this.game.sound.playAudioSprite('sfx', 'victory')\n\n        const icon = this.gift.getElement('icon') as Phaser.GameObjects.Image\n        new ShakePosition(icon, {\n          mode: 'effect',\n          duration: 1500,\n          magnitude: 10,\n          magnitudeMode: 'decay',\n        }).shake()\n\n        const newFish = getNewRandomFish(playerFishes)\n\n        const dialog = new DialogGift(this, newFish)\n\n        dialog.on('button.click', (button: Button) => {\n          if (button.frame.name === 'back') {\n            this.game.sound.playAudioSprite('sfx', 'button')\n            dialog.closeModal()\n          } else if (button.frame.name === 'like') {\n            this.game.sound.playAudioSprite('sfx', 'button')\n\n            localStorageData.set('selectFish', newFish)\n\n            dialog.closeModal()\n          }\n\n          if (!playerFishes.includes(newFish)) {\n            localStorageData.set('fishes', [...playerFishes, newFish])\n          }\n        })\n\n        dialog.on('button.over', (button: Button) => {\n          button.setOver()\n        })\n\n        dialog.on('button.out', (button: Button) => {\n          button.setDefaultStyle()\n        })\n\n        localStorageData.inc('roe', constants.FISH.GIFT_COST * -1)\n      })\n\n    this.add.existing(this.gift)\n  }\n}\n","import i18next from 'i18next'\nimport Anchor from 'phaser3-rex-plugins/plugins/behaviors/anchor/Anchor'\nimport { Buttons, Label } from 'phaser3-rex-plugins/templates/ui/ui-components'\nimport { DropDownList } from 'phaser3-rex-plugins/templates/ui/ui-components'\nimport RoundRectangle from 'phaser3-rex-plugins/plugins/roundrectangle.js'\nimport { NumberBar } from 'phaser3-rex-plugins/templates/ui/ui-components'\nimport InputText from 'phaser3-rex-plugins/plugins/hiddeninputtext'\nimport LocalStorageData from 'phaser3-rex-plugins/plugins/localstorage-data'\nimport constants from '@/constants'\nimport Button from '@/components/Button'\nimport Toast from '@/components/Toast'\n\nexport default class SettingsScene extends Phaser.Scene {\n  constructor() {\n    super(constants.SCENES.SETTINGS)\n  }\n\n  create() {\n    this.addBackground()\n    this.addTitle()\n    this.addVersion()\n    this.addButtons()\n    this.addChangeLanguage()\n    this.addVolume()\n    this.addCheats()\n  }\n\n  private addBackground() {\n    const { width, height } = this.cameras.main\n    this.add\n      .rectangle(0, 0, width, height, 0x00_4f_79, 0.9)\n      .setOrigin(0, 0)\n      .setInteractive()\n  }\n\n  private addTitle() {\n    const title = this.add\n      .text(0, 0, i18next.t('Settings'), {\n        fontSize: '126px',\n        fontFamily: constants.FONT.FAMILY,\n        color: '#ffffff',\n        align: 'right',\n      })\n      .setOrigin(1, 0.5)\n\n    new Anchor(title, {\n      x: 'right-50',\n      y: 'top+180',\n    })\n  }\n\n  private addVersion() {\n    const version = this.game.config.gameVersion\n\n    const title = this.add\n      .text(0, 0, 'v' + version, {\n        fontSize: '48px',\n        fontFamily: constants.FONT.FAMILY,\n        color: '#ffffff',\n        align: 'right',\n      })\n      .setOrigin(0.5, 0.5)\n\n    new Anchor(title, {\n      x: 'center',\n      y: 'bottom-100',\n    })\n  }\n\n  private addButtons() {\n    const backButton = new Button(this, {\n      texture: 'ui',\n      frameIcon: 'back',\n      backgroundColor: 0xff_ff_ff,\n      backgroundColorOver: 0x00_4f_79,\n    })\n\n    const buttons = new Buttons(this, {\n      x: 0,\n      y: 0,\n      anchor: {\n        centerX: 'left+120',\n        centerY: 'top+180',\n      },\n      orientation: 'horizontal',\n      buttons: [backButton],\n      space: {\n        item: 50,\n      },\n    }).layout()\n    this.add.existing(buttons)\n\n    buttons.on(\n      'button.over',\n      (button: Button) => {\n        button.setOver()\n      },\n      this\n    )\n\n    buttons.on(\n      'button.out',\n      (button: Button) => {\n        button.setDefaultStyle()\n      },\n      this\n    )\n\n    buttons.on(\n      'button.click',\n      (button: Button, index: number) => {\n        this.game.sound.playAudioSprite('sfx', 'button')\n\n        switch (index) {\n          case 0:\n            this.scene.stop()\n        }\n      },\n      this\n    )\n  }\n\n  private addChangeLanguage() {\n    type Language = {\n      text: string\n      value: string\n      icon: string\n    }\n\n    const languages: Language[] = [\n      { text: '', value: 'ru', icon: 'ru' },\n      { text: 'English', value: 'en', icon: 'en' },\n    ]\n\n    const dropdownList = new DropDownList(this, {\n      anchor: {\n        centerX: 'center',\n        centerY: 'top+450',\n      },\n\n      width: this.cameras.main.width * 0.8,\n\n      background: createBackground(this),\n\n      text: createTextObject(this, i18next.t('Change language')),\n\n      icon: this.add.image(0, 0, 'ui', 'earth'),\n\n      space: {\n        left: 50,\n        right: 50,\n        top: 50,\n        bottom: 50,\n        icon: 50,\n      },\n\n      options: languages,\n\n      list: {\n        createBackgroundCallback: (scene) => {\n          return createBackground(scene)\n        },\n        createButtonCallback: (scene, language: Language) => {\n          const text = language.text\n          const icon = language.icon\n\n          const selectButton = createSelectButton(this, text, icon)\n\n          return selectButton.setName(language.value)\n        },\n        onButtonClick: (button) => {\n          this.game.sound.playAudioSprite('sfx', 'button')\n\n          new Toast(this).showMessage(\n            i18next.t('Restart the game to apply the changes')\n          )\n          i18next.changeLanguage(button.name)\n        },\n        onButtonOver: (button) => {\n          const bg = (button as Label).getElement(\n            'background'\n          ) as RoundRectangle\n          bg.setFillStyle(0x00_4f_79)\n        },\n        onButtonOut: (button) => {\n          const bg = (button as Label).getElement(\n            'background'\n          ) as RoundRectangle\n          bg.setFillStyle(0x2b_af_f6)\n        },\n\n        space: {\n          left: 20,\n          right: 20,\n          top: 20,\n          bottom: 20,\n          item: 20,\n        },\n      },\n\n      setValueCallback: (dropDownList, value: string) => {\n        const textObject = dropDownList.getElement(\n          'text'\n        ) as Phaser.GameObjects.Text\n\n        const language = languages.find((language) => language.value === value)\n\n        if (language) {\n          textObject.setText(language.text)\n        }\n      },\n\n      value: i18next.language,\n    }).layout()\n\n    this.add.existing(dropdownList)\n  }\n\n  private addVolume() {\n    const slider = new NumberBar(this, {\n      anchor: {\n        centerX: 'center',\n        centerY: 'top+700',\n      },\n\n      width: this.cameras.main.width * 0.8,\n\n      background: createBackground(this),\n\n      icon: this.add.image(0, 0, 'ui', 'volume-max'),\n\n      slider: {\n        track: createBackground(this, 0x00_4f_79),\n        indicator: createBackground(this, 0xff_ff_ff),\n        input: 'click',\n      },\n\n      text: this.add.text(0, 0, '', {\n        fontSize: '48px',\n        fontFamily: constants.FONT.FAMILY,\n        color: '#ffffff',\n      }),\n\n      space: {\n        left: 50,\n        right: 75,\n        top: 50,\n        bottom: 50,\n\n        icon: 50,\n        slider: 50,\n      },\n\n      valuechangeCallback: (value, oldValue, numberBar) => {\n        const percentage = Math.round(Phaser.Math.Linear(0, 100, value))\n\n        numberBar.text = percentage.toString()\n\n        const icon = numberBar.getElement('icon') as Phaser.GameObjects.Image\n        if (percentage < 1) {\n          icon.setFrame('volume-off')\n        } else if (percentage < 25) {\n          icon.setFrame('volume')\n        } else if (percentage < 75) {\n          icon.setFrame('volume-min')\n        } else if (percentage < 100) {\n          icon.setFrame('volume-max')\n        }\n\n        this.game.sound.volume = value\n      },\n    })\n      .layout()\n      .setValue(this.game.sound.volume)\n    this.add.existing(slider)\n  }\n\n  private addCheats() {\n    const label = new Label(this, {\n      anchor: {\n        centerX: 'center',\n        centerY: 'top+950',\n      },\n\n      width: this.cameras.main.width * 0.8,\n\n      background: createBackground(this),\n\n      icon: this.add.image(0, 0, 'ui', 'cool'),\n\n      text: createTextObject(this, 'Code:'),\n\n      space: {\n        left: 50,\n        right: 75,\n        top: 50,\n        bottom: 50,\n\n        icon: 50,\n      },\n    }).layout()\n    this.add.existing(label)\n\n    const text = label.getElement('text') as Phaser.GameObjects.Text\n\n    const inputText = new InputText(text, {\n      x: -500,\n      y: -500,\n      width: this.cameras.main.width * 0.8,\n      height: 180,\n      type: 'text',\n      fontFamily: constants.FONT.FAMILY,\n      fontSize: '48px',\n      color: '#ffffff',\n      border: 0,\n      backgroundColor: 'transparent',\n      borderColor: 'transparent',\n      outline: 'none',\n    }).on('textchange', (inputText: InputText) => {\n      switch (inputText.text) {\n        case 'Code:1111': {\n          this.game.sound.playAudioSprite('sfx', 'victory')\n\n          const localStorageScene = this.scene.get(\n            constants.SCENES.LOCAL_STORAGE\n          )\n          const localStorageData = localStorageScene.data.get(\n            'localStorageData'\n          ) as LocalStorageData\n\n          localStorageData.inc('roe', 500)\n\n          new Toast(this).showMessage(i18next.t('Added') + ' ' + 500)\n\n          inputText.setText('Code:')\n\n          break\n        }\n        case 'Code:1110': {\n          this.game.sound.playAudioSprite('sfx', 'victory')\n\n          const localStorageScene = this.scene.get(\n            constants.SCENES.LOCAL_STORAGE\n          )\n          const localStorageData = localStorageScene.data.get(\n            'localStorageData'\n          ) as LocalStorageData\n\n          localStorageData.set('roe', 0)\n\n          inputText.setText('Code:')\n\n          break\n        }\n        case 'Code:1112': {\n          this.game.sound.playAudioSprite('sfx', 'victory')\n\n          const localStorageScene = this.scene.get(\n            constants.SCENES.LOCAL_STORAGE\n          )\n          const localStorageData = localStorageScene.data.get(\n            'localStorageData'\n          ) as LocalStorageData\n\n          localStorageData.set('roe', 50_000)\n\n          inputText.setText('Code:')\n\n          break\n        }\n        case 'Code:0000': {\n          this.game.sound.playAudioSprite('sfx', 'victory')\n\n          const localStorageScene = this.scene.get(\n            constants.SCENES.LOCAL_STORAGE\n          )\n          const localStorageData = localStorageScene.data.get(\n            'localStorageData'\n          ) as LocalStorageData\n\n          localStorageData.reset()\n\n          inputText.setText('Code:')\n\n          break\n        }\n        case 'Code:0001': {\n          this.game.sound.playAudioSprite('sfx', 'victory')\n\n          const localStorageScene = this.scene.get(\n            constants.SCENES.LOCAL_STORAGE\n          )\n          const localStorageData = localStorageScene.data.get(\n            'localStorageData'\n          ) as LocalStorageData\n\n          localStorageData.set('roe', 0)\n\n          inputText.setText('Code:')\n\n          break\n        }\n        case 'Code:0002': {\n          this.game.sound.playAudioSprite('sfx', 'victory')\n\n          const localStorageScene = this.scene.get(\n            constants.SCENES.LOCAL_STORAGE\n          )\n          const localStorageData = localStorageScene.data.get(\n            'localStorageData'\n          ) as LocalStorageData\n\n          const fishesDefault = localStorageData.getDefaultValue('fishes')\n          localStorageData.set('fishes', fishesDefault)\n\n          const selectFishDefault =\n            localStorageData.getDefaultValue('selectFish')\n          localStorageData.set('selectFish', selectFishDefault)\n\n          inputText.setText('Code:')\n\n          break\n        }\n      }\n    })\n    this.add.existing(inputText)\n  }\n}\n\nconst createBackground = (scene: Phaser.Scene, color = 0x2b_af_f6) => {\n  const background = new RoundRectangle(\n    scene,\n    0,\n    0,\n    0,\n    0,\n    {\n      radius: 40,\n    },\n    color\n  )\n  scene.add.existing(background)\n\n  return background\n}\n\nconst createTextObject = (scene: Phaser.Scene, text: string) => {\n  return scene.add.text(0, 0, text, {\n    fontFamily: constants.FONT.FAMILY,\n    fontSize: '48px',\n    color: '#ffffff',\n  })\n}\n\nconst createSelectButton = (\n  scene: Phaser.Scene,\n  text: string,\n  icon: string\n) => {\n  const selectButton = new Label(scene, {\n    background: createBackground(scene).setName('background'),\n\n    width: scene.cameras.main.width * 0.6,\n\n    text: createTextObject(scene, text),\n\n    icon: scene.add.image(0, 0, 'ui', icon),\n\n    space: {\n      left: 50,\n      right: 50,\n      top: 50,\n      bottom: 50,\n      icon: 50,\n    },\n  })\n  scene.add.existing(selectButton)\n\n  return selectButton\n}\n","import LoadingScene from '@/scenes/LoadingScene'\nimport MainMenuScene from '@/scenes/MainMenuScene'\nimport LocalStorageScene from '@/scenes/LocalStorageScene'\nimport GameFieldScene from '@/scenes/GameFieldScene'\nimport GameInfoUiScene from '@/scenes/GameInfoUiScene'\nimport GameOverScene from '@/scenes/GameOverScene'\nimport PlayerSkinsScene from '@/scenes/PlayerSkinsScene'\nimport ShopScene from '@/scenes/ShopScene'\nimport SettingsScene from '@/scenes/SettingsScene'\n\nconst SceneList = [\n  LoadingScene,\n  GameFieldScene,\n  MainMenuScene,\n  LocalStorageScene,\n  GameInfoUiScene,\n  GameOverScene,\n  PlayerSkinsScene,\n  ShopScene,\n  SettingsScene,\n]\n\nexport default SceneList\n","export class FloatingNumbersPlugin {\n  constructor(scene, pluginManager) {\n    /**\n     * A handy reference to the Plugin Manager that is responsible for this plugin.\n     * Can be used as a route to gain access to game systems and  events.\n     *\n     * @name Phaser.Plugins.BasePlugin#pluginManager\n     * @type {Phaser.Plugins.PluginManager}\n     * @protected\n     * @since 3.8.0\n     */\n    this.pluginManager = pluginManager\n\n    /**\n     * A reference to the Game instance this plugin is running under.\n     *\n     * @name Phaser.Plugins.BasePlugin#game\n     * @type {Phaser.Game}\n     * @protected\n     * @since 3.8.0\n     */\n    this.game = pluginManager.game\n\n    /**\n     * A reference to the Scene that has installed this plugin.\n     * Only set if it's a Scene Plugin, otherwise `null`.\n     * This property is only set when the plugin is instantiated and added to the Scene, not before.\n     * You cannot use it during the `init` method, but you can during the `boot` method.\n     *\n     * @name Phaser.Plugins.BasePlugin#scene\n     * @type {?Phaser.Scene}\n     * @protected\n     * @since 3.8.0\n     */\n    this.scene = scene\n\n    /**\n     * A reference to the Scene Systems of the Scene that has installed this plugin.\n     * Only set if it's a Scene Plugin, otherwise `null`.\n     * This property is only set when the plugin is instantiated and added to the Scene, not before.\n     * You cannot use it during the `init` method, but you can during the `boot` method.\n     *\n     * @name Phaser.Plugins.BasePlugin#systems\n     * @type {?Phaser.Scenes.Systems}\n     * @protected\n     * @since 3.8.0\n     */\n    this.systems = scene.sys\n\n    /**\n     * The Sticks that this plugin is responsible for.\n     * @type {Set}\n     */\n    this.sticks = null\n\n    /**\n     * The Buttons that this plugin is responsible for.\n     * @type {Set}\n     */\n    this.buttons = null\n\n    /**\n     * Internal var to track the Input pointer total.\n     * @type {integer}\n     * @private\n     */\n    this._pointerTotal = 0\n\n    scene.sys.events.once('boot', this.boot, this)\n\n    this.tooltipCollection = {}\n\n    this.configObj = {\n      align: 'center', //left, right, center\n      textOptions: {},\n      offsetX: 0,\n      offsetY: 0,\n      animation: 'up', // explode, smoke, custom, directional: up, down, left, right, fade, physics\n      timeToLive: 400,\n      animationDistance: 50,\n      animationEase: 'Sine.easeOut',\n      fixedToCamera: false,\n      text: '',\n      store: false,\n      textType: 'normal', // normal, bitmaptext\n      parentObject: null,\n      target: this.scene,\n      pointX: [],\n      pointY: [],\n    }\n  }\n\n  /**\n   *\n   *\n   * @param {*} config\n   * @memberof FloatingNumbersPlugin\n   */\n  createFloatingText(config) {\n    let _config = Object.assign(this.configObj, config)\n    let textObject = {}\n    // check text type //\n    if (_config.textType === 'normal') {\n      textObject = this.scene.add.text(0, 0, _config.text, _config.textOptions)\n\n      if (_config.parentObject !== null) {\n        // check alignment //\n        switch (_config.align) {\n          case 'center': {\n            Phaser.Display.Align.In.Center(\n              textObject,\n              _config.parentObject,\n              _config.offsetX,\n              _config.offsetY\n            )\n            break\n          }\n          case 'left': {\n            Phaser.Display.Align.In.LeftCenter(\n              textObject,\n              _config.parentObject,\n              _config.offsetX,\n              _config.offsetY\n            )\n            break\n          }\n          case 'right': {\n            Phaser.Display.Align.In.RightCenter(\n              textObject,\n              _config.parentObject,\n              _config.offsetX,\n              _config.offsetY\n            )\n            break\n          }\n          case 'top-center': {\n            Phaser.Display.Align.In.TopCenter(\n              textObject,\n              _config.parentObject,\n              _config.offsetX,\n              _config.offsetY\n            )\n            break\n          }\n          // No default\n        }\n      }\n\n      textObject.isAnimating = false\n\n      if (_config.store === false) {\n        this.scene.children.bringToTop(textObject)\n        this.animateText(_config, textObject)\n      } else {\n        return textObject\n      }\n    }\n  }\n\n  /**\n   *\n   *\n   * @param {*} config\n   * @param textObject\n   * @memberof FloatingNumbersPlugin\n   */\n  animateText(config, textObject) {\n    let startPoint\n    let controlPoint1\n    let controlPoint2\n    let endPoint\n    let curve\n    const path = { t: 0, vec: new Phaser.Math.Vector2() }\n\n    /////\n    if (textObject.isAnimating === false) {\n      textObject.isAnimating = true\n      switch (config.animation) {\n        case 'physics': {\n          break\n        }\n        case 'custom': {\n          if (config.pointX.length > 0 && config.pointY.length > 0) {\n            startPoint = new Phaser.Math.Vector2(\n              config.pointX[0],\n              config.pointY[0]\n            )\n            controlPoint1 = new Phaser.Math.Vector2(\n              config.pointX[1],\n              config.pointY[1]\n            )\n            controlPoint2 = new Phaser.Math.Vector2(\n              config.pointX[2],\n              config.pointY[2]\n            )\n            endPoint = new Phaser.Math.Vector2(\n              config.pointX[3],\n              config.pointY[3]\n            )\n            curve = new Phaser.Curves.CubicBezier(\n              startPoint,\n              controlPoint1,\n              controlPoint2,\n              endPoint\n            )\n\n            this.scene.tweens.add({\n              targets: path,\n              t: 1,\n              ease: config.animationEase,\n              duration: config.timeToLive,\n              yoyo: false,\n              callbackScope: this,\n              onUpdate: function () {\n                let position = curve.getPoint(path.t, path.vec)\n                textObject.x = position.x\n                textObject.y = position.y\n              },\n            })\n          }\n          break\n        }\n        case 'explode': {\n          this.scene.tweens.add({\n            targets: textObject,\n            scale: config.animationDistance,\n            ease: config.animationEase,\n            duration: config.timeToLive,\n            yoyo: false,\n            callbackScope: this,\n            onComplete: function () {\n              this.scene.tweens.add({\n                targets: textObject,\n                alpha: 0,\n                ease: config.animationEase,\n                duration: config.timeToLive,\n                yoyo: false,\n                callbackScope: this,\n                onComplete: function () {\n                  textObject.destroy()\n                },\n              })\n            },\n          })\n          break\n        }\n        case 'fade': {\n          textObject.alpha = 0\n          this.scene.tweens.add({\n            targets: textObject,\n            alpha: 1,\n            ease: config.animationEase,\n            duration: config.timeToLive,\n            yoyo: false,\n            callbackScope: this,\n            onComplete: function () {\n              this.scene.tweens.add({\n                targets: textObject,\n                alpha: 0,\n                ease: config.animationEase,\n                duration: config.timeToLive,\n                yoyo: false,\n                callbackScope: this,\n                onComplete: function () {\n                  textObject.destroy()\n                },\n              })\n            },\n          })\n          break\n        }\n        case 'smoke': {\n          let invert = Math.round(Math.random() * 10)\n          let invertOffset = 1\n\n          if (invert > 5) {\n            invertOffset = invertOffset * -1\n          }\n\n          startPoint = new Phaser.Math.Vector2(\n            textObject.x + 25 * invertOffset,\n            textObject.y - 25\n          )\n          controlPoint1 = new Phaser.Math.Vector2(\n            textObject.x - 50 * invertOffset,\n            textObject.y - 50\n          )\n          controlPoint2 = new Phaser.Math.Vector2(\n            textObject.x + 75 * invertOffset,\n            textObject.y - 75\n          )\n          endPoint = new Phaser.Math.Vector2(\n            textObject.x - 25 * invertOffset,\n            textObject.y - 100\n          )\n          curve = new Phaser.Curves.CubicBezier(\n            startPoint,\n            controlPoint1,\n            controlPoint2,\n            endPoint\n          )\n\n          this.scene.tweens.add({\n            targets: path,\n            t: 1,\n            ease: config.animationEase,\n            duration: config.timeToLive,\n            yoyo: false,\n            callbackScope: this,\n            onComplete: function () {\n              this.scene.tweens.add({\n                targets: textObject,\n                alpha: 0,\n                ease: config.animationEase,\n                duration: config.timeToLive,\n                yoyo: false,\n                callbackScope: this,\n                onComplete: function () {\n                  textObject.destroy()\n                },\n              })\n            },\n            onUpdate: function () {\n              let position = curve.getPoint(path.t, path.vec)\n              textObject.x = position.x\n              textObject.y = position.y\n            },\n          })\n\n          break\n        }\n        case 'left': {\n          this.scene.tweens.add({\n            targets: textObject,\n            y: textObject.x - config.animationDistance,\n            ease: config.animationEase,\n            duration: config.timeToLive,\n            yoyo: false,\n            callbackScope: this,\n            onComplete: function () {\n              this.scene.tweens.add({\n                targets: textObject,\n                alpha: 0,\n                ease: config.animationEase,\n                duration: config.timeToLive,\n                yoyo: false,\n                callbackScope: this,\n                onComplete: function () {\n                  textObject.destroy()\n                },\n              })\n            },\n          })\n\n          break\n        }\n        case 'right': {\n          this.scene.tweens.add({\n            targets: textObject,\n            y: textObject.x + config.animationDistance,\n            ease: config.animationEase,\n            duration: config.timeToLive,\n            yoyo: false,\n            callbackScope: this,\n            onComplete: function () {\n              this.scene.tweens.add({\n                targets: textObject,\n                alpha: 0,\n                ease: config.animationEase,\n                duration: config.timeToLive,\n                yoyo: false,\n                callbackScope: this,\n                onComplete: function () {\n                  textObject.destroy()\n                },\n              })\n            },\n          })\n\n          break\n        }\n        case 'up': {\n          this.scene.tweens.add({\n            targets: textObject,\n            y: textObject.y - config.animationDistance,\n            ease: config.animationEase,\n            duration: config.timeToLive,\n            yoyo: false,\n            callbackScope: this,\n            onComplete: function () {\n              this.scene.tweens.add({\n                targets: textObject,\n                alpha: 0,\n                ease: config.animationEase,\n                duration: config.timeToLive,\n                yoyo: false,\n                callbackScope: this,\n                onComplete: function () {\n                  textObject.destroy()\n                },\n              })\n            },\n          })\n\n          break\n        }\n        case 'down': {\n          this.scene.tweens.add({\n            targets: textObject,\n            y: textObject.y + config.animationDistance,\n            ease: config.animationEase,\n            duration: config.timeToLive,\n            yoyo: false,\n            callbackScope: this,\n            onComplete: function () {\n              this.scene.tweens.add({\n                targets: textObject,\n                alpha: 0,\n                ease: config.animationEase,\n                duration: config.timeToLive,\n                yoyo: false,\n                callbackScope: this,\n                onComplete: function () {\n                  textObject.destroy()\n                },\n              })\n            },\n          })\n\n          break\n        }\n        // No default\n      }\n    }\n  }\n\n  /**\n   * The boot method.\n   *\n   * @private\n   */\n  boot() {\n    this.systems.events.once('destroy', this.destroy, this)\n\n    if (this.systems.settings.active) {\n      this.start()\n    } else {\n      this.systems.events.on('start', this.start, this)\n    }\n  }\n\n  start() {\n    this.systems.events.on('update', this.update, this)\n    this.systems.events.once('shutdown', this.shutdown, this)\n  }\n\n  /**\n   * Called automatically by the Phaser Plugin Manager.\n   *\n   * Updates all Stick and Button objects.\n   *\n   * @param {integer} time - The current game timestep.\n   */\n  update(time) {}\n\n  /**\n   * Shuts down the event listeners for this plugin.\n   */\n  shutdown() {\n    const eventEmitter = this.systems.events\n\n    eventEmitter.off('update', this.update, this)\n    eventEmitter.off('shutdown', this.shutdown, this)\n  }\n\n  /**\n   * Removes and calls `destroy` on all Stick and Button objects in this plugin.\n   */\n  destroy() {\n    this.shutdown()\n  }\n\n  hideTooltip(id, animate) {\n    if (animate) {\n      let isTweening = this.scene.tweens.isTweening(this.tooltipCollection[id])\n      if (isTweening) {\n        this.scene.tweens.killTweensOf(this.tooltipCollection[id])\n      }\n\n      this.tween = this.scene.tweens.add({\n        targets: this.tooltipCollection[id],\n        alpha: 0,\n        ease: 'Power1',\n        duration: 250,\n        delay: 0,\n        onComplete: (o) => {},\n      })\n    } else {\n      this.tooltipCollection[id].visible = false\n    }\n  }\n\n  showTooltip(id, animate) {\n    if (animate) {\n      this.tooltipCollection[id].alpha = 0\n      this.tooltipCollection[id].visible = true\n      this.scene.children.bringToTop(this.tooltipCollection[id])\n\n      let isTweening = this.scene.tweens.isTweening(this.tooltipCollection[id])\n      if (isTweening) {\n        this.scene.tweens.killTweensOf(this.tooltipCollection[id])\n      }\n\n      this.tween = this.scene.tweens.add({\n        targets: this.tooltipCollection[id],\n        alpha: 1,\n        ease: 'Power1',\n        duration: 500,\n        delay: 0,\n        onComplete: (o) => {\n          //this.tween = null;\n        },\n      })\n    } else {\n      this.tooltipCollection[id].visible = true\n      this.scene.children.bringToTop(this.tooltipCollection[id])\n    }\n  }\n\n  /**\n   *\n   *\n   * @param {*} options\n   * @memberof FloatingTextUI\n   */\n  createTooltip(options) {\n    let background\n\n    let container = this.scene.add.container(options.x, options.y)\n    let content = this.createLabel(container, options.x, options.y, options)\n\n    if (options.hasBackground) {\n      background = this.createBackground(\n        container,\n        content,\n        options.x,\n        options.y,\n        options.background.width,\n        options.background.height,\n        options\n      )\n\n      content.x = background.rect.centerX - content.displayWidth * 0.5\n      content.y = background.rect.centerY - content.displayHeight * 0.5\n    }\n\n    container.add(content)\n\n    container.x = options.x\n    container.y = options.y\n\n    this.tooltipCollection[options.id] = container\n\n    return container\n  }\n\n  /**\n   *\n   *\n   * @param container\n   * @param {*} x\n   * @param {*} y\n   * @param {*} options\n   * @memberof FloatingTextUI\n   */\n  createLabel(container, x, y, options) {\n    let text = this.scene.add.text(x, y, options.text.text, {\n      fontFamily: options.text.fontFamily || 'new_rockerregular',\n      fontSize: options.text.fontSize || 19,\n      color: options.text.textColor || '#ffffff',\n      fontStyle: options.text.fontStyle || '',\n      align: options.text.align || 'center',\n    })\n\n    if (options.hasShadow) {\n      let shadowColor = options.text.shadowColor || '#1e1e1e'\n      let blur = options.text.blur || 1\n      let shadowStroke = options.text.shadowStroke || false\n      let shadowFill = options.text.shadowFill || true\n      text.setShadow(0, 0, shadowColor, blur, shadowStroke, shadowFill)\n    }\n\n    return text\n  }\n}\n\n//module.exports = FloatingNumbersPlugin\n","import { FloatingNumbersPlugin } from '@/plugins/FloatingNumbers'\n\nconst plugins = {\n  scene: [\n    {\n      key: 'floatingNumbers',\n      plugin: FloatingNumbersPlugin,\n      sceneKey: 'floatingNumbers',\n      mapping: 'floatingNumbers',\n      systemKey: 'floatingNumbers',\n    },\n  ],\n}\n\nexport default plugins\n","import Phaser from 'phaser'\nimport constants from '@/constants'\nimport SceneList from '@/config/sceneList'\nimport plugins from '@/config/pluginsConfig'\n\nconst gameConfig: Phaser.Types.Core.GameConfig = {\n  title: 'Dont Touch',\n  version: '0.0.16',\n  type: Phaser.AUTO,\n  parent: 'game-container',\n  backgroundColor: constants.COLORS.DEFAULT.BACKGROUND,\n  scale: {\n    mode: Phaser.Scale.FIT,\n    autoCenter: Phaser.Scale.CENTER_BOTH,\n    zoom: constants.SCALE,\n    width: constants.WIDTH,\n    height: constants.HEIGHT,\n  },\n  physics: {\n    default: 'matter',\n    matter: {\n      debug: constants.DEBUG,\n      gravity: {\n        y: 3,\n      },\n    },\n  },\n  render: {\n    pixelArt: false,\n    antialias: true,\n    antialiasGL: true,\n    roundPixels: true,\n  },\n  autoFocus: true,\n  dom: {\n    createContainer: true,\n  },\n  powerPreference: 'high-performance',\n  scene: SceneList,\n  plugins,\n}\n\nexport default gameConfig\n","import en from './en/translation.json'\nimport ru from './ru/translation.json'\n\nexport default {\n  en: {\n    translation: {\n      ...en,\n    },\n  },\n  ru: {\n    translation: {\n      ...ru,\n    },\n  },\n}\n","import i18next from 'i18next'\nimport LanguageDetector from 'i18next-browser-languagedetector'\nimport locales from '@/locales'\n\nexport default i18next\n  .use(LanguageDetector)\n  .init({\n    fallbackLng: 'en',\n    debug: true,\n    resources: {\n      ...locales,\n    },\n  })\n","import Phaser from 'phaser'\nimport gameConfig from '@/config/gameConfig'\nimport '@/helpers/i18next'\n\nconst game = new Phaser.Game(gameConfig)\n\nexport default game\n"],"names":["p","relList","link","processPreload","mutations","mutation","node","getFetchOpts","script","fetchOpts","DEBUG","SCALE","width","height","constants","LoadingScene","Phaser","CircularProgressCanvas","value","newValue","oldValue","circularProgress","Button","Label","scene","config","background","icon","RoundRectangleCanvas","MainMenuScene","i18next","selectFish","centerX","centerY","defaultStyle","skinsButton","shopButton","settingsButton","buttons","Buttons","button","index","_","selectSkin","localStorageData","volume","LocalStorageScene","LocalStorageData","Actor","x","y","texture","frame","IdleState","player","jumpFrame","PlayerStateController","JumpState","name","Player","frameName","_a","newSkin","particles","Wall","label","color","alpha","isSensor","Spike","trianglePoints","SpikeGroup","count","maximum","angle","space","orientation","isAnimation","spikeWidth","spikeHeight","spikeX","spikeY","spike","min","max","exclude","number_","a","b","exeption","excludedIndexes","score","getCurrentColor","Roe","getCurrentRoe","GameFieldScene","playerFrameName","gameObject","wallHeight","_event","bodyA","bodyB","_b","_c","roeData","roeX","roeY","roeValue","countSpikes","countRightSpikes","countLeftSpikes","GameInfoUiScene","data","gameInfoUiScene","bestScore","text","gamesPlayed","colorString","roe","GameOverScene","rect","SkinSelectPanel","skins","selectCallback","string","allButtons","fishes","oneButton","skin","item","GridSizer","ScrollablePanel","selectItem","DialogBuy","Dialog","fishName","shadowBackground","createShadowBackground","createBackground","createPrice","createBackButton","createBuyButton","buyButton","Toast","ToastUi","PlayerSkinsScene","selectPanel","dialog","lacks","frameIcon","currentSkinsCount","allSkinsCount","Anchor","backButton","DialogGift","createSelectButton","getNewRandomFish","playerFishes","availableFishes","getAllFishes","fish","allFishes","ShopScene","title","priceLabel","ShakePosition","newFish","SettingsScene","version","languages","dropdownList","DropDownList","createTextObject","language","dropDownList","textObject","slider","NumberBar","numberBar","percentage","inputText","InputText","fishesDefault","selectFishDefault","RoundRectangle","selectButton","SceneList","FloatingNumbersPlugin","pluginManager","_config","startPoint","controlPoint1","controlPoint2","endPoint","curve","path","position","invert","invertOffset","time","eventEmitter","id","animate","o","options","container","content","shadowColor","blur","shadowStroke","shadowFill","plugins","gameConfig","locales","en","ru","LanguageDetector"],"mappings":"2UAAA,MAAMA,EAAI,UAAoB,CAC1B,MAAMC,EAAU,SAAS,cAAc,MAAM,EAAE,QAC/C,GAAIA,GAAWA,EAAQ,UAAYA,EAAQ,SAAS,eAAe,EAC/D,OAEJ,UAAWC,KAAQ,SAAS,iBAAiB,2BAA2B,EACpEC,EAAeD,CAAI,EAEvB,IAAI,iBAAkBE,GAAc,CAChC,UAAWC,KAAYD,EACnB,GAAIC,EAAS,OAAS,YAGtB,UAAWC,KAAQD,EAAS,WACpBC,EAAK,UAAY,QAAUA,EAAK,MAAQ,iBACxCH,EAAeG,CAAI,CAGvC,CAAK,EAAE,QAAQ,SAAU,CAAE,UAAW,GAAM,QAAS,EAAI,CAAE,EACvD,SAASC,EAAaC,EAAQ,CAC1B,MAAMC,EAAY,CAAA,EAClB,OAAID,EAAO,YACPC,EAAU,UAAYD,EAAO,WAC7BA,EAAO,iBACPC,EAAU,eAAiBD,EAAO,gBAClCA,EAAO,cAAgB,kBACvBC,EAAU,YAAc,UACnBD,EAAO,cAAgB,YAC5BC,EAAU,YAAc,OAExBA,EAAU,YAAc,cACrBA,CACV,CACD,SAASN,EAAeD,EAAM,CAC1B,GAAIA,EAAK,GAEL,OACJA,EAAK,GAAK,GAEV,MAAMO,EAAYF,EAAaL,CAAI,EACnC,MAAMA,EAAK,KAAMO,CAAS,CAC7B,CACL,EAAsBT,EAAG,EC1CzB,MAAMU,EAAQ,GAERC,EAAQ,EAERC,EAAQ,KACRC,EAAS,KAETC,EAAY,CAChB,MAAAH,EACA,MAAOC,EAAQD,EACf,OAAQE,EAASF,EACjB,MAAAD,EACA,KAAM,CACJ,OAAQ,0BACR,MAAO,SACT,EACA,OAAQ,CACN,QAAS,2CACT,QAAS,0CACX,EACA,OAAQ,CACN,QAAS,gBACT,UAAW,kBACX,WAAY,mBACZ,UAAW,kBACX,aAAc,qBACd,aAAc,qBACd,cAAe,sBACf,KAAM,aACN,SAAU,gBACZ,EACA,MAAO,CACL,MAAO,IACP,OAAQ,EACV,EACA,KAAM,CACJ,OAAQ,GACV,EACA,OAAQ,CACN,OAAQ,UACR,eAAgB,UAChB,QAAS,CACP,WAAY,UACZ,MAAO,SACT,CACF,EACA,KAAM,CACJ,MAAO,IACP,SAAU,IACV,UAAW,GACb,CACF,EC/CqB,MAAAK,UAAqBC,EAAO,KAAM,CAGrD,aAAc,CACN,MAAAF,EAAU,OAAO,OAAO,CAChC,CAEA,SAAU,CACR,KAAK,KAAK,QAAU,UAEpB,KAAK,UAAU,EACf,KAAK,gBAAgB,EAErB,KAAK,cAAc,CACrB,CAEA,QAAS,CACP,KAAK,MAAM,iBAAiBA,EAAU,OAAO,OAAO,CACtD,CAEQ,WAAY,CAClB,KAAM,CAAE,MAAAF,EAAO,OAAAC,CAAO,EAAI,KAAK,QAAQ,KAClC,KAAA,iBAAmB,IAAII,EAAuB,KAAM,CACvD,EAAGL,EAAQ,EACX,EAAGC,EAAS,EACZ,OAAQ,IAER,WAAY,UACZ,SAAU,UAEV,SAAU,OACV,UAAW,OACX,mBAAoB,SAAUK,EAAO,CACnC,OAAQ,IAAM,KAAK,MAAMA,EAAQ,GAAG,GAAG,UACzC,EACA,UAAW,UACX,WAAYJ,EAAU,KAAK,OAE3B,oBACEK,EACAC,EACAC,EACM,CAAC,EAET,MAAO,CAAA,CACR,EACI,KAAA,IAAI,SAAS,KAAK,gBAAgB,CACzC,CAEQ,iBAAkB,CACxB,KAAK,KAAK,GAAGL,EAAO,OAAO,OAAO,SAAWE,GAAkB,CACxD,KAAA,iBAAiB,YAAYA,CAAK,CAAA,CACxC,EAED,KAAK,KAAK,GAAGF,EAAO,OAAO,OAAO,SAAU,IAAM,CAChD,KAAK,iBAAiB,UAEtB,KAAK,MAAM,KAAKF,EAAU,OAAO,OAAO,EAExC,KAAK,MAAM,OAAOA,EAAU,OAAO,aAAa,EAEhD,KAAK,MAAM,OAAOA,EAAU,OAAO,UAAU,EAC7C,KAAK,MAAM,MAAMA,EAAU,OAAO,UAAU,EAE5C,KAAK,MAAM,OAAOA,EAAU,OAAO,SAAS,CAAA,CAC7C,CACH,CAEQ,eAAgB,CACtB,KAAK,KAAK,MAAM,KAAM,sBAAuB,sBAAsB,EAEnE,KAAK,KAAK,MAAM,OAAQ,wBAAyB,wBAAwB,EAEzE,KAAK,KAAK,MACR,WACA,4BACA,4BAAA,EAGF,KAAK,KAAK,MAAM,MAAO,uBAAwB,uBAAuB,EAEjE,KAAA,KAAK,MAAM,aAAc,wBAAwB,EACjD,KAAA,KAAK,MAAM,OAAQ,kBAAkB,EAE1C,KAAK,KAAK,YAAY,MAAO,qBAAsB,mBAAmB,CACxE,CACF,CChFA,MAAqBQ,UAAeC,CAAM,CAKxC,YAAYC,EAAqBC,EAAsB,CACrD,MAAMD,EAAO,CACX,WAAYF,EAAO,iBAAiBE,EAAOC,CAAM,EACjD,KAAMH,EAAO,WAAWE,EAAOC,CAAM,EACrC,MAAO,CACL,KAAM,GACN,MAAO,GACP,IAAK,GACL,OAAQ,EACV,EACA,KAAM,QAAA,CACP,EAfH,KAAO,WAAa,GAiBlB,KAAK,OAASA,EAERD,EAAA,IAAI,SAAS,IAAI,CACzB,CAEO,SAAU,CACT,MAAAE,EAAa,KAAK,WAAW,YAAY,EACzCC,EAAO,KAAK,WAAW,MAAM,EAE9B,YAAA,MAAM,OAAO,IAAI,CACpB,QAASA,EACT,MAAO,IACP,SAAU,IACV,KAAM,gBAAA,CACP,EAEUD,EAAA,aAAa,KAAK,OAAO,mBAAmB,EAEhD,IACT,CAEO,aAAc,CACnB,KAAK,WAAa,GAEZ,MAAAA,EAAa,KAAK,WAAW,YAAY,EACzCC,EAAO,KAAK,WAAW,MAAM,EAEnC,OAAAD,EAAW,QAAQ,OAAU,EAC7BC,EAAK,QAAQ,OAAU,EAEhB,IACT,CAEO,iBAAkB,CACjB,MAAAD,EAAa,KAAK,WAAW,YAAY,EACzCC,EAAO,KAAK,WAAW,MAAM,EAE9B,YAAA,MAAM,OAAO,IAAI,CACpB,QAASA,EACT,MAAO,EACP,SAAU,IACV,KAAM,gBAAA,CACP,EAEUD,EAAA,aAAa,KAAK,OAAO,eAAe,EACnDA,EAAW,UAAU,EACrBC,EAAK,UAAU,EAER,IACT,CAEA,OAAe,iBAAiBH,EAAqBC,EAAsB,CACzE,MAAMC,EAAa,IAAIE,EACrBJ,EACA,EACA,EACA,EACA,EACA,CACE,OAAQ,EACV,EACAC,EAAO,eAAA,EACP,QAAQ,YAAY,EAEhB,OAAAD,EAAA,IAAI,SAASE,CAAU,EAEtBA,CACT,CAEA,OAAe,WAAWF,EAAqBC,EAAsB,CACnE,MAAME,EAAOH,EAAM,IAChB,MAAM,EAAG,EAAGC,EAAO,QAASA,EAAO,SAAS,EAC5C,UAAU,GAAK,EAAG,EACrB,OAAAE,EAAK,QAAQ,MAAM,EAEbH,EAAA,IAAI,SAASG,CAAI,EAEhBA,CACT,CACF,CCrGqB,MAAAE,UAAsB,OAAO,KAAM,CAItD,aAAc,CACN,MAAAf,EAAU,OAAO,SAAS,CAClC,CAEA,QAAS,CACP,KAAK,aAAa,EAClB,KAAK,cAAc,EACnB,KAAK,UAAU,EAEf,KAAK,aAAa,EAClB,KAAK,eAAe,EACpB,KAAK,eAAe,EAEpB,KAAK,eAAe,EACpB,KAAK,mBAAmB,EAExB,KAAK,YAAY,CACnB,CAEQ,gBAAiB,CACvB,KAAK,UAAU,GACb,cACA,IAAM,CACJ,KAAK,MAAM,QACN,KAAA,MAAM,WAAW,EAAK,EAE3B,KAAK,MAAM,MAAMA,EAAU,OAAO,YAAY,EAC9C,KAAK,MAAM,WAAW,GAAOA,EAAU,OAAO,YAAY,EAE1D,KAAK,MAAM,OAAOA,EAAU,OAAO,UAAU,CAC/C,EACA,IAAA,CAEJ,CAEQ,gBAAiB,CACvB,KAAK,OAAO,GAAG,OAAO,OAAO,OAAO,MAAO,IAAM,CAC/C,KAAK,MAAM,OAAOA,EAAU,OAAO,UAAU,EAC7C,KAAK,MAAM,MAAMA,EAAU,OAAO,UAAU,EAE5C,KAAK,MAAM,OAAOA,EAAU,OAAO,YAAY,CAAA,CAChD,CACH,CAEQ,WAAY,CAClB,KAAK,MAAM,IAAIA,EAAU,OAAO,YAAY,CAC9C,CAEQ,cAAe,CACrB,KAAM,CAAE,MAAAF,EAAO,OAAAC,CAAO,EAAI,KAAK,QAAQ,KAEvC,KAAK,IACF,KACCD,EAAQ,EACRC,EAAS,EAAI,IACbiB,EAAQ,EAAE,aAAa,EAAE,YAAY,EACrC,CACE,WAAYhB,EAAU,KAAK,OAC3B,SAAU,OACV,MAAOA,EAAU,OAAO,OACxB,MAAO,QACT,CAAA,EAED,UAAU,GAAK,EAAG,CACvB,CAEQ,eAAgB,CACtB,KAAM,CAAE,MAAAF,EAAO,OAAAC,CAAO,EAAI,KAAK,QAAQ,KAMjCkB,EAJoB,KAAK,MAAM,IAAIjB,EAAU,OAAO,aAAa,EAC5B,KAAK,IAC9C,kBAAA,EAEkC,IAAI,YAAY,EAEpD,KAAK,WAAa,KAAK,IACpB,MAAMF,EAAQ,EAAGC,EAAS,EAAG,OAAQkB,CAAU,EAC/C,SAAS,GAAG,EAEf,KAAK,IAAI,MAAM,CACb,QAAS,KAAK,WACd,EAAGlB,EAAS,EAAI,GAChB,SAAU,IACV,OAAQ,GACR,KAAM,GACN,KAAM,gBAAA,CACP,CACH,CAEQ,cAAe,CACrB,KAAM,CAAE,QAAAmB,EAAS,QAAAC,CAAQ,EAAI,KAAK,QAAQ,KAC1C,KAAK,UAAY,KAAK,IACnB,UAAUD,EAASC,EAAS,IAAK,IAAK,EAAY,CAAC,EACnD,UAAU,GAAK,EAAG,EAClB,gBACL,CAEQ,aAAc,CACpB,MAAMC,EAAe,CACnB,QAAS,KACT,gBAAiB,QACjB,oBAAqB,KAAA,EAGjBC,EAAc,IAAIb,EAAO,KAAM,CACnC,UAAW,OACX,GAAGY,CAAA,CACJ,EACKE,EAAa,IAAId,EAAO,KAAM,CAClC,UAAW,OACX,GAAGY,CAAA,CACJ,EACKG,EAAiB,IAAIf,EAAO,KAAM,CACtC,UAAW,WACX,GAAGY,CAAA,CACJ,EAEKI,EAAU,IAAIC,EAAQ,KAAM,CAChC,EAAG,IACH,EAAG,IACH,OAAQ,CACN,QAAS,YACT,QAAS,QACX,EACA,YAAa,WACb,QAAS,CAACJ,EAAaC,EAAYC,CAAc,EACjD,MAAO,CACL,KAAM,EACR,CAAA,CACD,EAAE,OAAO,EACL,KAAA,IAAI,SAASC,CAAO,EAEjBA,EAAA,GACN,cACCE,GAAmB,CAClBA,EAAO,QAAQ,CACjB,EACA,IAAA,EAGMF,EAAA,GACN,aACCE,GAAmB,CAClBA,EAAO,gBAAgB,CACzB,EACA,IAAA,EAGMF,EAAA,GACN,eACA,CAACE,EAAgBC,IAAkB,CAGzB,OAFR,KAAK,KAAK,MAAM,gBAAgB,MAAO,QAAQ,EAEvCA,OACD,GACH,KAAK,MAAM,OAAO3B,EAAU,OAAO,YAAY,EAC/C,UACG,GACH,KAAK,MAAM,OAAOA,EAAU,OAAO,IAAI,EACvC,UACG,GACH,KAAK,MAAM,OAAOA,EAAU,OAAO,QAAQ,EAC3C,MAEN,EACA,IAAA,CAEJ,CAEQ,oBAAqB,CACD,KAAK,MAAM,IAAIA,EAAU,OAAO,aAAa,EAC5B,KAAK,IAC9C,kBAAA,EAEe,OAAO,GACtB,wBACA,CAAC4B,EAAQC,IAAuB,CACzB,KAAA,WAAW,SAASA,CAAU,CACrC,CAAA,CAEJ,CAEQ,gBAAiB,CAEjB,MAAAC,EADoB,KAAK,MAAM,IAAI9B,EAAU,OAAO,aAAa,EAC5B,KAAK,IAC9C,kBAAA,EAGF,KAAK,KAAK,MAAM,OAAS8B,EAAiB,IAAI,aAAa,GAAK,EAEhE,KAAK,KAAK,MAAM,GAAG,SAAU,CAACF,EAAQG,IAAmB,CAC7B,KAAK,MAAM,IAAI/B,EAAU,OAAO,aAAa,EAC5B,KAAK,IAC9C,kBAAA,EAGe,IAAI,cAAe+B,CAAM,CAAA,CAC3C,CACH,CACF,CC9MqB,MAAAC,UAA0B,OAAO,KAAM,CAG1D,aAAc,CACN,MAAAhC,EAAU,OAAO,aAAa,CACtC,CAEA,QAAS,CACP,KAAK,oBAAoB,CAC3B,CAEQ,qBAAsB,CACvB,KAAA,iBAAmB,IAAIiC,EAAiB,KAAM,CACjD,KAAMjC,EAAU,OAAO,cACvB,QAAS,CACP,UAAW,EACX,YAAa,EACb,IAAK,EACL,WAAY,WACZ,OAAQ,CAAC,WAAY,UAAU,EAC/B,YAAa,EACf,CAAA,CACD,EAED,KAAK,KAAK,IAAI,mBAAoB,KAAK,gBAAgB,CACzD,CACF,CC7BA,MAAqBkC,WAAc,OAAO,QAAQ,OAAO,MAAO,CAC9D,YACExB,EACAyB,EACAC,EACAC,EACAC,EACA,CACA,MAAM5B,EAAM,OAAO,MAAOyB,EAAGC,EAAGC,EAASC,CAAK,EAExC5B,EAAA,IAAI,SAAS,IAAI,CACzB,CACF,CCVA,MAAqB6B,EAAU,CAG7B,YAAYC,EAAgB,CAC1B,KAAK,OAASA,CAChB,CAEA,OAAQ,CAEN,MAAMC,EADY,KAAK,OAAO,UACF,MAAM,EAAG,EAAE,EAAI,IAEtC,KAAA,OAAO,SAASA,CAAS,CAChC,CACF,CCbA,MAAqBF,EAAU,CAG7B,YAAYC,EAAgB,CAC1B,KAAK,OAASA,CAChB,CAEA,OAAQ,CAEN,MAAMC,EADY,KAAK,OAAO,UACF,MAAM,EAAG,EAAE,EAAI,IAEtC,KAAA,OAAO,SAASA,CAAS,CAChC,CACF,CCTA,MAAqBC,EAAsB,CAKzC,YAAYF,EAAgB,CAFpB,KAAA,aAAe,CAAE,MAAO,IAAM,CAAA,GAGpC,KAAK,OAAS,CACZ,KAAM,IAAID,GAAUC,CAAM,EAC1B,KAAM,IAAIG,GAAUH,CAAM,CAAA,CAE9B,CAEA,SAASI,EAAuB,CAC1B,KAAK,eAAiB,KAAK,OAAOA,KAIjC,KAAA,aAAe,KAAK,OAAOA,GAChC,KAAK,aAAa,QACpB,CACF,CCrBA,MAAqBC,WAAeX,EAAM,CASxC,YAAYxB,EAAqByB,EAAWC,EAAWU,EAAmB,CACxE,MAAMpC,EAAOyB,EAAGC,EAAG,OAAQU,CAAS,EAPtC,KAAO,UAA8B,QASnC,KAAK,UAAYA,EAEjB,KAAK,SAAW,CACd,EAAG,GACH,EAAG,GAAA,EAGL,KAAK,SAAS,GAAG,EAEZ,KAAA,aAAa,IAAK,IAAK,CAC1B,QAAS,CAAE,OAAQ,EAAG,EACtB,MAAO,QAAA,CACR,EAEI,KAAA,UAAU,GAAK,EAAG,EAEvBpC,EAAM,OAAO,KAAK,WACG,KAAK,KACxB,OAAO,iBAAA,EAGT,KAAK,UAAU,CAAC,EACX,KAAA,YAAY,EAAG,EAAG,CAAC,EAExB,KAAK,aAAa,EAEb,KAAA,gBAAkB,IAAIgC,GAAsB,IAAI,CACvD,CAEO,MAAO,CACP,YAAA,gBAAgB,SAAS,MAAM,EACpC,KAAK,MAAM,KAAK,YAAY,IAAK,IAAM,CAChC,KAAA,gBAAgB,SAAS,MAAM,CAAA,CACrC,EAED,KAAK,iBAAiB,QACtB,KAAK,MAAM,KAAK,YAAY,IAAK,IAAM,CACrC,KAAK,iBAAiB,MAAK,CAC5B,EAED,KAAK,YAAY,KAAK,SAAS,EAAG,KAAK,SAAS,CAAC,EAE1C,IACT,CAEO,MAAO,CACZ,YAAK,UAAY,KAAK,YAAc,OAAS,QAAU,OAElD,KAAA,SAAS,EACZ,KAAK,KAAK,KAAK,SAAS,CAAC,IAAM,GAC3B,KAAK,IAAI,KAAK,SAAS,CAAC,EACxB,KAAK,IAAI,KAAK,SAAS,CAAC,EAAI,GAE7B,KAAA,SAAS,CAAC,KAAK,KAAK,EAElB,IACT,CAEO,YAAYP,EAAWC,EAAI,EAAG,CACnC,YAAK,SAAS,EACZ,KAAK,KAAK,KAAK,SAAS,CAAC,IAAM,IAC1B,KAAK,IAAI,KAAK,SAAS,CAAC,EAAID,GAAK,GAClC,KAAK,SAAS,EAAIA,EAExB,KAAK,SAAS,EACZ,KAAK,KAAK,KAAK,SAAS,CAAC,IAAM,IAC1B,KAAK,IAAI,KAAK,SAAS,CAAC,EAAIC,GAAK,GAClC,KAAK,SAAS,EAAIA,EAEjB,IACT,CAEO,OAAQ,OACb,KAAK,WAAW,EAAI,EACf,KAAA,qBAAqB,OAAO,EAAI,CAAC,EAEtC,KAAK,SAAS,EAAI,KAAK,IAAI,KAAK,SAAS,CAAC,EAC1C,KAAK,UAAU,EACV,KAAA,YAAY,EAAG,CAAC,EAErB,KAAK,YAAYpC,EAAU,MAAQ,EAAGA,EAAU,OAAS,CAAC,EAErD,KAAA,KAAK,OAAO,MAAQ,GAEzB+C,EAAA,KAAK,cAAL,MAAAA,EAAkB,SACpB,CAEO,OAAQ,CACb,KAAK,WAAW,EAAK,EACrB,KAAK,UAAU,EAAK,EACf,KAAA,qBAAqB,OAAO,EAAK,CAAC,EACvC,KAAK,iBAAiB,SAEtB,KAAK,eAAe,CACtB,CAEO,WAAWC,EAAiB,CACjC,KAAK,UAAYA,EACjB,KAAK,iBAAiB,SAAS,YAAcA,EAAQ,MAAM,EAAG,EAAE,CAAC,CACnE,CAEQ,gBAAiB,CACvB,KAAK,YAAc,KAAK,MAAM,OAAO,IAAI,OACvC,KAAK,EACL,KAAK,EACL,YAAA,EAGG,KAAA,YAAY,UAAU,CAAC,EAC5B,KAAK,YAAY,YAAY,EAAG,EAAG,CAAC,EACpC,KAAK,YAAY,YAAY,CAAC,KAAK,SAAS,EAAI,CAAC,EAE5C,KAAA,MAAM,OAAO,IAAI,CACpB,QAAS,KAAK,YACd,SAAU,IACV,MAAO,IACP,OAAQ,EAAA,CACT,CACH,CAEQ,cAAe,CACf,MAAAC,EAAY,KAAK,MAAM,IAAI,UAC/B,WACA,YAAc,KAAK,UAAU,MAAM,EAAG,EAAE,CAAA,EAGrC,KAAA,iBAAmBA,EAAU,cAAc,CAC9C,EAAG,KAAK,EACR,EAAG,KAAK,EACR,SAAU,IACV,MAAO,CAAE,MAAO,GAAK,IAAK,EAAI,EAC9B,UAAW,GACX,OAAQ,IAAA,CACT,CACH,CACF,CC7IqB,MAAAC,UAAa,OAAO,YAAY,SAAU,CAG7D,YAAYxC,EAAqBC,EAAoB,CAC7C,KAAA,CACJ,EAAAwB,EACA,EAAAC,EACA,MAAAtC,EACA,OAAAC,EACA,MAAAoD,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EAAW,EACT,EAAA3C,EAEE,MAAAD,EAAOyB,EAAGC,CAAC,EACX1B,EAAA,IAAI,SAAS,IAAI,EAElB,KAAA,QAAQZ,EAAOC,CAAM,EAErB,KAAA,KAAOW,EAAM,IAAI,UAAU,EAAG,EAAGZ,EAAOC,EAAQqD,EAAOC,CAAK,EAC5D,KAAA,IAAI,KAAK,IAAI,EAEZ3C,EAAA,OAAO,IAAI,WAAW,KAAM,CAChC,SAAU,GACV,SAAA4C,EACA,MAAAH,CAAA,CACD,CACH,CAEO,aAAaC,EAAeC,EAAgB,CAC5C,YAAA,KAAK,aAAaD,EAAOC,CAAK,EAE5B,IACT,CACF,CCnCqB,MAAAE,WAAc,OAAO,YAAY,OAAQ,CAC5D,YAAY7C,EAAqBC,EAAqB,CAC9C,KAAA,CAAE,EAAAwB,EAAG,EAAAC,EAAG,MAAAtC,EAAO,OAAAC,EAAQ,MAAAoD,EAAO,MAAAC,EAAO,MAAAC,EAAO,SAAAC,CAAa,EAAA3C,EAEzD6C,EAAiB,KAAKzD,KAAUD,KAASC,KAAUD,EAAQ,MAEjE,MAAMY,EAAOyB,EAAGC,EAAGoB,EAAgBJ,EAAOC,CAAK,EACzC3C,EAAA,IAAI,SAAS,IAAI,EAEvBA,EAAM,OAAO,IAAI,WACf,KACA,CACE,SAAU,GACV,SAAU,GACV,MAAAyC,EACA,MAAO,CACL,KAAM,YACN,MAAOK,EACP,aAAc,EAChB,CACF,EACA,EAAA,CAEJ,CACF,CClBA,MAAqBC,CAAW,CAO9B,YAAY/C,EAAqBC,EAA0B,CAL3D,KAAQ,OAAkB,GAC1B,KAAQ,cAAgB,EACxB,KAAQ,cAAgB,EAIhB,KAAA,CACJ,EAAAwB,EAAI,EACJ,EAAAC,EAAI,EACJ,MAAAsB,EAAQ,EACR,QAAAC,EAAUD,EACV,MAAAP,EACA,MAAAC,EACA,MAAAC,EACA,MAAAO,EACA,MAAAC,EAAQ,EACR,YAAAC,EAAc,aACd,YAAAC,EAAc,EACZ,EAAApD,EAEJ,KAAK,MAAQD,EACb,KAAK,YAAcqD,EACnB,KAAK,cAAgBL,EACrB,KAAK,cAAgBC,EAEf,MAAAK,EAAahE,EAAU,MAAM,MAC7BiE,EAAcjE,EAAU,MAAM,OAEpC,QAAS2B,EAAQ,EAAGA,EAAQgC,EAAShC,IAAS,CACtC,MAAAuC,EACJ/B,GACC2B,IAAgB,aACbnC,EAAQqC,EAAaA,EAAa,EAAIrC,EAAQkC,EAC9C,GAEAM,EACJ/B,GACC0B,IAAgB,WACbnC,EAAQqC,EAAaA,EAAa,EAAIrC,EAAQkC,EAC9C,GAEAO,EAAQ,IAAIb,GAAM7C,EAAO,CAC7B,EAAGwD,EACH,EAAGC,EACH,MAAOH,EACP,OAAQC,EACR,MAAAd,EACA,MAAAC,EACA,MAAAC,CAAA,CACD,EAEDe,EAAM,SAASR,CAAK,EAEf,KAAA,OAAO,KAAKQ,CAAK,CACxB,CAEA,KAAK,WAAW,EAEhB,KAAK,YAAYV,CAAK,CACxB,CAEO,aAAaN,EAA2BC,EAA4B,CACzE,UAAWe,KAAS,KAAK,OAAcA,EAAA,aAAahB,EAAOC,CAAK,EAEzD,OAAA,IACT,CAEQ,WAAWgB,EAAaC,EAAaC,EAAoB,CAAA,EAAI,CACnE,IAAIC,EAAU,KAAK,MACjB,KAAK,OAAO,GAAKF,EAAMD,EAAM,EAAIE,EAAQ,QAAUF,CAAA,EAEpD,OAAC,GAAGE,CAAO,EACT,KAAK,CAACE,EAAGC,IAAMD,EAAIC,CAAC,EACpB,MAAOC,GAAaA,GAAYH,IAAYA,IAAW,GAAK,EACxDA,CACT,CAEO,YAAYd,EAAe,CAC5BA,EAAQ,KAAK,gBAAeA,EAAQ,KAAK,eAC7C,KAAK,cAAgBA,EAErB,KAAK,WAAW,EAEhB,MAAMkB,EAAkB,CAAA,EAExB,SAAW,CAACjD,EAAOyC,CAAK,IAAK,KAAK,OAAO,UACnCA,EAAM,SACRQ,EAAgB,KAAKjD,CAAK,EAIvB,KAAAiD,EAAgB,OAASlB,GAAO,CACrC,MAAM/B,EAAQ,KAAK,WAAW,EAAG,KAAK,cAAgB,EAAGiD,CAAe,EAExE,KAAK,UAAUjD,CAAK,EAEpBiD,EAAgB,KAAKjD,CAAK,CAC5B,CAEO,OAAA,IACT,CAEA,OAAc,gBAAgBkD,EAAe,CAC3C,OAAIA,IAAU,EAAU,EACpBA,IAAU,EAAU,EACpBA,EAAQ,EAAU,EAClBA,EAAQ,GAAW,EACnBA,EAAQ,GAAW,EACnBA,EAAQ,GAAW,EACnBA,EAAQ,GAAW,OAAO,KAAK,QAAQ,EAAG,CAAC,EAC3CA,EAAQ,GAAW,OAAO,KAAK,QAAQ,EAAG,CAAC,EAC3CA,EAAQ,GAAW,OAAO,KAAK,QAAQ,EAAG,CAAC,EAC3CA,GAAS,GAAW,OAAO,KAAK,QAAQ,EAAG,CAAC,EACzC,OAAO,KAAK,QAAQ,EAAG,CAAC,CACjC,CAEQ,UAAUlD,EAAe,CACzB,MAAAyC,EAAQ,KAAK,OAAOzC,GAE1B,OAAI,KAAK,aACF,KAAA,MAAM,OAAO,IAAI,CACpB,QAASyC,EACT,MAAO,EACP,SAAU,GAAA,CACX,EAGHA,EAAM,WAAW,EAAI,EACrBA,EAAM,UAAU,EAAI,EAIdA,EAAA,qBAAqB,OAAO,EAAI,CAAC,EAEhC,IACT,CAEQ,YAAa,CACR,UAAAA,KAAS,KAAK,OACnB,KAAK,aACF,KAAA,MAAM,OAAO,IAAI,CACpB,QAASA,EACT,MAAO,EACP,SAAU,GAAA,CACX,EAGHA,EAAM,WAAW,EAAK,EACtBA,EAAM,UAAU,EAAK,EAIfA,EAAA,qBAAqB,OAAO,EAAK,CAAC,EAGnC,OAAA,IACT,CAEA,IAAW,iBAAkB,CAC3B,OAAO,KAAK,aACd,CACF,CCpLA,SAAwBU,EAAgBD,EAAe,CACrD,OAAIA,EAAQ,EAAU,CAAE,WAAY,SAAY,MAAO,OAAW,EAC9DA,EAAQ,GAAW,CAAE,WAAY,SAAY,MAAO,OAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,SAAY,MAAO,OAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,SAAY,MAAO,OAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,SAAY,MAAO,OAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,QAAY,MAAO,QAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,QAAY,MAAO,OAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,QAAY,MAAO,OAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,MAAY,MAAO,OAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,QAAY,MAAO,QAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,SAAY,MAAO,QAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,MAAY,MAAO,QAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,SAAY,MAAO,QAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,QAAY,MAAO,QAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,EAAY,MAAO,QAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,SAAY,MAAO,CAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,SAAY,MAAO,CAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,SAAY,MAAO,CAAW,EAC/DA,EAAQ,GAAW,CAAE,WAAY,SAAY,MAAO,CAAW,EAC/DA,EAAQ,IAAY,CAAE,WAAY,SAAY,MAAO,CAAW,EAChEA,GAAS,IAAY,CAAE,WAAY,EAAY,MAAO,QAAW,EAC9D,CAAE,WAAY,SAAY,MAAO,OAAW,CACrD,CCrBA,MAAqBE,WAAY,OAAO,QAAQ,OAAO,KAAM,CAI3D,YAAYrE,EAAqByB,EAAWC,EAAWhC,EAAQ,EAAG,CAChE,MAAMM,EAAM,OAAO,MAAOyB,EAAGC,EAAG,MAAO,OAAO,EAJhD,KAAQ,MAAQ,EAKT,KAAA,MAAM,IAAI,SAAS,IAAI,EAE5B,KAAK,MAAQhC,EAER,KAAA,UAAU,KAAK,MAAQ,EAAG,CAC7B,MAAO,KAAA,CACR,EAED,KAAK,UAAU,EAAI,EACnB,KAAK,UAAU,EAAI,EAEd,KAAA,MAAM+B,EAAGC,CAAC,CACjB,CAEO,MAAMD,EAAWC,EAAW,CACjC,KAAK,SAAS,CAAC,EACV,KAAA,MAAM,IAAI,MAAM,CACnB,QAAS,KACT,SAAU,IACV,MAAO,CACL,KAAM,EACN,GAAI,CACN,EACA,KAAM,iBACN,WAAY,IAAM,CAChB,KAAK,aAAa,CACpB,CAAA,CACD,EAED,KAAK,UAAU,EAAI,EACnB,KAAK,WAAW,EAAI,EACf,KAAA,YAAYD,EAAGC,CAAC,CACvB,CAEO,QAAS,QACdW,EAAA,KAAK,QAAL,MAAAA,EAAY,SACZ,KAAK,WAAW,EAAK,EACrB,KAAK,UAAU,EAAK,EACf,KAAA,qBAAqB,OAAO,EAAK,CAAC,CACzC,CAEO,gBAAiB,CACjB,KAAA,MAAM,gBAAgB,mBAAmB,CAC5C,YAAa,CACX,WAAY/C,EAAU,KAAK,OAC3B,SAAU,OACV,MAAO,SACT,EACA,MAAO,aACP,UAAW,KACX,cAAe,iBACf,KAAM,IAAM,KAAK,MACjB,QAAS,KAAK,OACd,aAAc,IAAA,CACf,CACH,CAEQ,cAAe,CACrB,KAAK,MAAQ,KAAK,MAAM,IAAI,MAAM,CAChC,QAAS,KACT,SAAU,IACV,EAAG,KAAK,EAAI,KAAK,OACjB,KAAM,iBACN,OAAQ,GACR,KAAM,EAAA,CACP,CACH,CAEA,IAAW,UAAW,CACpB,OAAO,KAAK,KACd,CAEA,IAAW,SAASI,EAAe,CACjC,KAAK,MAAQA,CACf,CACF,CCnFA,SAAwB4E,GAAcH,EAGpC,CACA,OAAIA,EAAQ,GAAW,CAAE,MAAO,EAAG,MAAO,OAAQ,EAC9CA,EAAQ,GAAW,CAAE,MAAO,EAAG,MAAO,OAAQ,EAC9CA,EAAQ,GAAW,CAAE,MAAO,EAAG,MAAO,OAAQ,EAC9CA,EAAQ,IAAY,CAAE,MAAO,EAAG,MAAO,OAAQ,EAC/CA,GAAS,IAAY,CAAE,MAAO,EAAG,MAAO,OAAQ,EAC7C,CAAE,MAAO,EAAG,MAAO,OAAQ,CACpC,CCAqB,MAAAI,WAAuB/E,EAAO,KAAM,CAgBvD,aAAc,CACN,MAAAF,EAAU,OAAO,UAAU,EARnC,KAAQ,OAAuB,EAS/B,CAEA,QAAS,CACP,KAAM,CAAE,MAAAF,EAAO,OAAAC,CAAO,EAAI,KAAK,QAAQ,KAEvC,KAAK,OAAO,MAAM,UAAU,EAAG,EAAGD,EAAOC,CAAM,EAE/C,KAAK,aAAa,EAElB,KAAK,UAAU,EAEf,KAAK,UAAU,QAAQ,KAAK,OAAO,KAAK,IAAI,OAAO,CAAC,EAEpD,KAAK,SAAS,EACd,KAAK,UAAU,EACf,KAAK,uBAAuB,EAC5B,KAAK,cAAc,EACnB,KAAK,mBAAmB,EAExB,KAAK,UAAU,CACjB,CAEQ,WAAY,CAClB,KAAM,CAAE,QAAAmB,EAAS,QAAAC,CAAQ,EAAI,KAAK,QAAQ,KAMpC+D,EAJoB,KAAK,MAAM,IAAIlF,EAAU,OAAO,aAAa,EAC5B,KAAK,IAC9C,kBAAA,EAEuC,IAAI,YAAY,EAEzD,KAAK,OAAS,IAAI6C,GAAO,KAAM3B,EAASC,EAAS+D,CAAe,EAChE,KAAK,eAAe,EACpB,KAAK,oBAAoB,CAC3B,CAEQ,oBAAqB,CACD,KAAK,MAAM,IAAIlF,EAAU,OAAO,aAAa,EAC5B,KAAK,IAC9C,kBAAA,EAGe,OAAO,GACtB,wBACA,CAAC4B,EAAQC,IAAuB,CACzB,KAAA,OAAO,WAAWA,CAAU,CACnC,CAAA,CAEJ,CAEQ,gBAAiB,CACvB,KAAK,OAAO,iBAEZ,KAAK,OAAO,KAAK,IAAI,QAAS,CAAC,EAC/B,KAAK,OAAO,KAAK,IAAI,MAAO,CAAC,EAE7B,KAAK,OAAO,GACV,mBACA,CAACsD,EAA2C/E,IAAkB,CACtD,MAAAyE,EAAQ3E,EAAO,MAAM,OAAO,IAAIE,EAAM,WAAY,EAAG,IAAK,CAAC,EAC5D,KAAA,UAAU,QAAQyE,CAAK,CAC9B,EACA,IAAA,CAEJ,CAEQ,cAAe,CACrB,KAAM,CAAE,QAAA3D,EAAS,QAAAC,CAAQ,EAAI,KAAK,QAAQ,KAE1C,KAAK,UAAY,KAAK,IACnB,KAAKD,EAASC,EAAS,GAAI,CAC1B,WAAYnB,EAAU,KAAK,OAC3B,SAAU,QACV,MAAOA,EAAU,OAAO,QAAQ,MAAQ,IACzC,CAAA,EACA,UAAU,GAAK,EAAG,CACvB,CAEQ,qBAAsB,CAC5B,KAAK,MAAM,GACT,cACA,IAAM,CACJ,KAAK,KAAK,MAAM,gBAAgB,MAAO,MAAM,EAE7C,KAAK,OAAO,MACd,EACA,IAAA,CAEJ,CAEQ,UAAW,CACjB,KAAM,CAAE,MAAAF,EAAO,OAAAC,CAAO,EAAI,KAAK,QAAQ,KAElC,KAAA,SAAW,IAAImD,EAAK,KAAM,CAC7B,EAAG,EACH,EAAGnD,EAAS,EACZ,MAAO,GACP,OAAAA,EACA,MAAO,WACP,MAAO,EACP,SAAU,EAAA,CACX,EACI,KAAA,UAAY,IAAImD,EAAK,KAAM,CAC9B,EAAGpD,EAAQ,EACX,EAAGC,EAAS,EACZ,MAAO,GACP,OAAAA,EACA,MAAO,YACP,MAAO,EACP,SAAU,EAAA,CACX,EAEK,MAAAqF,EAAapF,EAAU,KAAK,OAE7B,KAAA,QAAU,IAAIkD,EAAK,KAAM,CAC5B,EAAGpD,EAAQ,EACX,EAAGsF,EAAa,EAChB,MAAAtF,EACA,OAAQsF,EAAa,IACrB,MAAO,UACP,MAAO,QACP,MAAO,CAAA,CACR,EACI,KAAA,WAAa,IAAIlC,EAAK,KAAM,CAC/B,EAAGpD,EAAQ,EACX,EAAGC,EAASqF,EAAa,EACzB,MAAAtF,EACA,OAAQsF,EACR,MAAO,aACP,MAAO,QACP,MAAO,CAAA,CACR,CACH,CAEQ,WAAY,CAClB,KAAM,CAAE,MAAAtF,EAAO,OAAAC,CAAO,EAAI,KAAK,QAAQ,KACjCqF,EAAapF,EAAU,KAAK,OAE7B,KAAA,eAAiB,IAAIyD,EAAW,KAAM,CACzC,EAAG,EACH,EAAGzD,EAAU,MAAM,OACnB,MAAO,EACP,QAAS,GACT,MAAO,QACP,MAAO,SACP,MAAO,EACP,MAAO,GACP,MAAO,EACP,YAAa,WACb,YAAa,EAAA,CACd,EAEI,KAAA,gBAAkB,IAAIyD,EAAW,KAAM,CAC1C,EAAG3D,EAAQ,EACX,EAAGE,EAAU,MAAM,OACnB,MAAO,EACP,QAAS,GACT,MAAO,QACP,MAAO,SACP,MAAO,EACP,MAAO,IACP,MAAO,EACP,YAAa,WACb,YAAa,EAAA,CACd,EAEI,KAAA,cAAgB,IAAIyD,EAAW,KAAM,CACxC,EAAGzD,EAAU,MAAM,MAAQ,EAC3B,EAAGoF,EAAa,EAAIpF,EAAU,MAAM,OAAS,EAC7C,MAAO,EACP,MAAO,QACP,MAAO,SACP,MAAO,EACP,MAAO,IACP,MAAO,EACP,YAAa,YAAA,CACd,EAEI,KAAA,iBAAmB,IAAIyD,EAAW,KAAM,CAC3C,EAAGzD,EAAU,MAAM,MAAQ,EAC3B,EAAGD,EAASqF,EAAapF,EAAU,MAAM,OAAS,EAClD,MAAO,EACP,MAAO,QACP,MAAO,SACP,MAAO,EACP,MAAO,EACP,MAAO,EACP,YAAa,YAAA,CACd,EAED,KAAK,OAAO,KACV,KAAK,eACL,KAAK,gBACL,KAAK,cACL,KAAK,gBAAA,CAET,CAEQ,wBAAyB,CAC/B,KAAK,OAAO,MAAM,GAChBE,EAAO,QAAQ,OAAO,OAAO,gBAC7B,CACEmF,EACAC,EACAC,IACG,WACC,CAACD,EAAM,MAAOC,EAAM,KAAK,EAAE,SAAS,QAAQ,IAE5C,CAACD,EAAM,MAAOC,EAAM,KAAK,EAAE,SAAS,UAAU,GAC9C,CAACD,EAAM,MAAOC,EAAM,KAAK,EAAE,SAAS,WAAW,GAE/C,KAAK,KAAK,MAAM,gBAAgB,MAAO,OAAO,EAE9C,KAAK,SAAS,GAEd,CAACD,EAAM,MAAOC,EAAM,KAAK,EAAE,SAAS,SAAS,GAC7C,CAACD,EAAM,MAAOC,EAAM,KAAK,EAAE,SAAS,YAAY,GAChD,CAACD,EAAM,MAAOC,EAAM,KAAK,EAAE,SAAS,OAAO,EAE3C,KAAK,SAAS,EACL,CAACD,EAAM,MAAOC,EAAM,KAAK,EAAE,SAAS,KAAK,IAClD,KAAK,KAAK,MAAM,gBAAgB,MAAO,OAAO,EAE9C,KAAK,OAAO,KAAK,OAAO,OAAOxC,EAAA,KAAK,MAAL,YAAAA,EAAU,WAAY,GACrDyC,EAAA,KAAK,MAAL,MAAAA,EAAU,kBACVC,EAAA,KAAK,MAAL,MAAAA,EAAU,SACV,KAAK,IAAM,MAGjB,CAAA,CAEJ,CAEQ,eAAgB,CACtB,KAAK,OAAO,GACVvF,EAAO,OAAO,OAAO,MACrB,IAAM,CACC,KAAA,UAAU,WAAW,EAAK,EAC1B,KAAA,OAAO,WAAW,EAAK,CAC9B,EACA,IAAA,CAEJ,CAEQ,UAAW,CACb,KAAK,OAAO,KAAK,OAAO,OAAS,KAC9B,KAAA,OAAO,YAAY,IAAM,GAAI,EAGpC,KAAK,OAAO,OACP,KAAA,OAAO,KAAK,OAAO,QAExB,MAAMkD,EAAQ0B,EAAgB,KAAK,OAAO,KAAK,IAAI,OAAO,CAAC,EAC3D,KAAK,YAAY1B,CAAK,EACtB,KAAK,kBAAkB,EACvB,KAAK,SAAS,CAChB,CAEQ,UAAW,CACjB,GAAI,KAAK,IAAK,OAEd,KAAM,CAAE,MAAAtD,CAAU,EAAA,KAAK,QAAQ,KAEzB4F,EAAUV,GAAc,KAAK,OAAO,KAAK,IAAI,OAAO,CAAC,EAErDW,EACJ,KAAK,OAAO,YAAc,QACtB7F,EAAQE,EAAU,MAAM,MACxBA,EAAU,MAAM,MAEhB4F,EAAO1F,EAAO,KAAK,IAAI,QAAQ,IAAKF,EAAU,OAAS,GAAG,EAE1D6F,EAAWH,EAAQ,MAEzB,KAAK,IAAM,IAAIX,GAAI,KAAMY,EAAMC,EAAMC,CAAQ,EAC7C,KAAK,IAAI,WAAW,MAAOH,EAAQ,KAAK,CAC1C,CAEQ,YAAYtC,EAA8C,CAChE,KAAK,QAAQ,KAAK,mBAAmBA,EAAM,UAAU,EAEhD,KAAA,UAAU,SAAS,IAAMA,EAAM,MAAM,SAAS,EAAE,EAAI,IAAI,EAExD,KAAA,QAAQ,aAAaA,EAAM,KAAK,EAChC,KAAA,WAAW,aAAaA,EAAM,KAAK,EAE7B,UAAAgB,KAAS,KAAK,OACjBA,EAAA,aAAahB,EAAM,KAAK,CAElC,CAEQ,mBAAoB,CAC1B,MAAM0C,EAAcrC,EAAW,gBAC7B,KAAK,OAAO,KAAK,OAAO,KAAA,EAGpBsC,EACJ,KAAK,eAAe,gBAAkB,EAAID,EAAc,EACrD,KAAA,gBAAgB,YAAYC,CAAgB,EAEjD,MAAMC,EACJ,KAAK,gBAAgB,kBAAoB,EAAIF,EAAc,EACxD,KAAA,eAAe,YAAYE,CAAe,CACjD,CAEQ,WAAY,CAClB,KAAK,OAAO,QAEZ,KAAK,YAAY,CAAE,WAAY,SAAY,MAAO,QAAY,EAEzD,KAAA,eAAe,YAAY,CAAC,EAC5B,KAAA,gBAAgB,YAAY,CAAC,EAElC,KAAK,OAAO,MACd,CAEQ,UAAW,OACjB,KAAK,KAAK,MAAM,gBAAgB,MAAO,MAAM,GAE7CjD,EAAA,KAAK,MAAL,MAAAA,EAAU,SACV,KAAK,IAAM,KAEX,KAAK,OAAO,QAEZ,KAAK,MAAM,IAAI/C,EAAU,OAAO,UAAW,CACzC,MAAO,KAAK,OAAO,KAAK,OAAO,MAC/B,IAAK,KAAK,OAAO,KAAK,OAAO,GAAA,CAC9B,CACH,CACF,CC5VqB,MAAAiG,WAAwB/F,EAAO,KAAM,CAQxD,aAAc,CACN,MAAAF,EAAU,OAAO,YAAY,CACrC,CAEA,KAAKkG,EAAsB,CACzB,KAAK,MAAQA,EAAK,KACpB,CAEA,QAAS,CACP,KAAK,oBAAoB,EACzB,KAAK,aAAa,EAClB,KAAK,aAAa,EAClB,KAAK,eAAe,EACpB,KAAK,WAAW,EAChB,KAAK,eAAe,EACpB,KAAK,sBAAsB,EAEvB,KAAK,OACF,KAAA,YAAY,KAAK,KAAK,CAE/B,CAEQ,qBAAsB,CAC5B,MAAMC,EAAkB,KAAK,MAAM,IAAInG,EAAU,OAAO,aAAa,EAChE,KAAA,iBAAmBmG,EAAgB,KAAK,IAC3C,kBAAA,CAEJ,CAEQ,uBAAwB,CAC9B,KAAK,iBAAiB,OAAO,GAC3B,uBACA,IAAM,CACJ,MAAMC,EAAY,KAAK,iBAAiB,IAAI,WAAW,EACjDC,GAAQrF,EAAQ,EAAE,YAAY,EAAI,IAAMoF,GAAW,cACpD,KAAA,cAAc,QAAQC,CAAI,CACjC,EACA,IAAA,EAGF,KAAK,iBAAiB,OAAO,GAC3B,yBACA,IAAM,CACJ,MAAMC,EAAc,KAAK,iBAAiB,IAAI,aAAa,EACrDD,GACJrF,EAAQ,EAAE,cAAc,EACxB,IACAsF,GACA,cACG,KAAA,gBAAgB,QAAQD,CAAI,CACnC,EACA,IAAA,EAGF,KAAK,iBAAiB,OAAO,GAC3B,iBACA,IAAM,CACC,KAAA,QAAQ,QAAQ,OAAO,KAAK,iBAAiB,IAAI,KAAK,CAAC,CAAC,CAC/D,EACA,IAAA,CAEJ,CAEQ,YAAYjD,EAAe,CACjC,MAAMmD,EAAc,IAAMrG,EAAO,QAAQ,MAAM,eAAekD,CAAK,EAC9D,KAAA,UAAU,SAASmD,CAAW,EAC9B,KAAA,cAAc,SAASA,CAAW,EAClC,KAAA,gBAAgB,SAASA,CAAW,CAC3C,CAEQ,gBAAiB,CACvB,KAAK,OAAO,GACVrG,EAAO,OAAO,OAAO,OACrB,CAACQ,EAAqB,CAAE,MAAA0C,KAA4B,CAC9CA,GACF,KAAK,YAAYA,CAAK,CAE1B,EACA,IAAA,CAEJ,CAEQ,cAAe,CACrB,KAAM,CAAE,MAAAtD,CAAU,EAAA,KAAK,QAAQ,KAE/B,KAAK,UAAY,KAAK,IACnB,KAAKA,EAAQ,EAAG,IAAK,eAAgB,CACpC,WAAYE,EAAU,KAAK,OAC3B,SAAU,QACV,MAAOA,EAAU,OAAO,QAAQ,KACjC,CAAA,EACA,UAAU,GAAK,EAAG,CACvB,CAEQ,cAAe,CACrB,KAAM,CAAE,MAAAF,EAAO,OAAAC,CAAO,EAAI,KAAK,QAAQ,KAEjCqG,EAAY,KAAK,iBAAiB,IAAI,WAAW,EACjDC,GAAQrF,EAAQ,EAAE,YAAY,EAAI,IAAMoF,GAAW,cAEpD,KAAA,cAAgB,KAAK,IACvB,KAAKtG,EAAQ,EAAGC,EAAS,IAAKsG,EAAM,CACnC,WAAYrG,EAAU,KAAK,OAC3B,SAAU,OACV,MAAOA,EAAU,OAAO,QAAQ,KACjC,CAAA,EACA,UAAU,GAAK,EAAG,CACvB,CAEQ,gBAAiB,CACvB,KAAM,CAAE,MAAAF,EAAO,OAAAC,CAAO,EAAI,KAAK,QAAQ,KAEjCuG,EAAc,KAAK,iBAAiB,IAAI,aAAa,EACrDD,GAAQrF,EAAQ,EAAE,cAAc,EAAI,IAAMsF,GAAa,cAExD,KAAA,gBAAkB,KAAK,IACzB,KAAKxG,EAAQ,EAAGC,EAAS,IAAKsG,EAAM,CACnC,WAAYrG,EAAU,KAAK,OAC3B,SAAU,OACV,MAAOA,EAAU,OAAO,QAAQ,KACjC,CAAA,EACA,UAAU,GAAK,EAAG,CACvB,CAEQ,YAAa,CACnB,KAAM,CAAE,MAAAF,EAAO,OAAAC,CAAO,EAAI,KAAK,QAAQ,KAEjCyG,EAAM,KAAK,iBAAiB,IAAI,KAAK,EAEtC,KAAA,IAAI,MAAM1G,EAAQ,EAAI,GAAIC,EAAS,IAAK,MAAO,OAAO,EAEtD,KAAA,QAAU,KAAK,IACjB,KAAKD,EAAQ,EAAGC,EAAS,IAAK,OAAOyG,CAAG,EAAG,CAC1C,WAAYxG,EAAU,KAAK,OAC3B,SAAU,OACV,MAAO,UACP,MAAO,MACR,CAAA,EACA,UAAU,EAAG,EAAG,CACrB,CACF,CCjJqB,MAAAyG,WAAsBvG,EAAO,KAAM,CAItD,aAAc,CACN,MAAAF,EAAU,OAAO,SAAS,EAJlC,KAAQ,MAAQ,EAChB,KAAQ,IAAM,CAId,CAEA,KAAKkG,EAAoB,CACvB,KAAK,MAAQA,EAAK,MAClB,KAAK,IAAMA,EAAK,GAClB,CAEA,QAAS,CACP,KAAK,cAAc,EACnB,KAAK,mBAAmB,EACxB,KAAK,SAAS,EACd,KAAK,mBAAmB,EACxB,KAAK,kBAAkB,EACvB,KAAK,oBAAoB,EACzB,KAAK,YAAY,EAEjB,KAAK,MAAM,OAAOlG,EAAU,OAAO,aAAc,CAC/C,MAAO8E,EAAgB,KAAK,KAAK,EAAE,KAAA,CACpC,EACD,KAAK,MAAM,WAAW,GAAM9E,EAAU,OAAO,YAAY,CAC3D,CAEQ,mBAAoB,CAEpB,MAAA8B,EADoB,KAAK,MAAM,IAAI9B,EAAU,OAAO,aAAa,EAC5B,KAAK,IAC9C,kBAAA,EAGIoG,EAAYtE,EAAiB,IAAI,WAAW,EAC9C,KAAK,MAAQsE,GACEtE,EAAA,IAAI,YAAa,KAAK,KAAK,CAEhD,CAEQ,qBAAsB,CACF,KAAK,MAAM,IAAI9B,EAAU,OAAO,aAAa,EAC5B,KAAK,IAC9C,kBAAA,EAEe,IAAI,cAAe,CAAC,CACvC,CAEQ,aAAc,CACM,KAAK,MAAM,IAAIA,EAAU,OAAO,aAAa,EAC5B,KAAK,IAC9C,kBAAA,EAEe,IAAI,MAAO,KAAK,GAAG,CACtC,CAEQ,eAAgB,CACtB,KAAK,IACF,UACC,EACA,EACA,KAAK,QAAQ,KAAK,MAClB,KAAK,QAAQ,KAAK,OAClB,SACA,CAED,EAAA,UAAU,EAAG,CAAC,EACd,eAAe,CACpB,CAEQ,oBAAqB,CAC3B,KAAM,CAAE,QAAAkB,EAAS,QAAAC,CAAQ,EAAI,KAAK,QAAQ,KAEpCuF,EAAO,IAAI5F,EACf,KACAI,EACAC,EACA,IACA,IACA,CACE,OAAQ,GACV,EACAnB,EAAU,OAAO,MAAA,EAEd,KAAA,IAAI,SAAS0G,CAAI,CACxB,CAEQ,UAAW,CACjB,KAAM,CAAE,QAAAxF,EAAS,QAAAC,CAAQ,EAAI,KAAK,QAAQ,KAErC,KAAA,IACF,KAAKD,EAASC,EAAU,IAAKH,EAAQ,EAAE,OAAO,EAAG,CAChD,SAAU,OACV,WAAYhB,EAAU,KAAK,OAC3B,MAAO,QACR,CAAA,EACA,UAAU,GAAK,EAAG,EAEhB,KAAA,IACF,KAAKkB,EAASC,EAAU,GAAI,OAAO,KAAK,OAAS,CAAC,EAAG,CACpD,SAAU,QACV,WAAYnB,EAAU,KAAK,OAC3B,MAAO,QACR,CAAA,EACA,UAAU,GAAK,EAAG,CACvB,CAEQ,oBAAqB,CAC3B,KAAK,MAAM,GACT,cACA,IAAM,CACJ,KAAK,MAAM,KAAKA,EAAU,OAAO,UAAU,EAC3C,KAAK,MAAM,KAAKA,EAAU,OAAO,YAAY,EAC7C,KAAK,MAAM,OAEX,KAAK,MAAM,MAAMA,EAAU,OAAO,SAAS,CAC7C,EACA,IAAA,CAEJ,CACF,CCvHqB,MAAA2G,WAAwB,OAAO,YAAY,SAAU,CAKxE,YACEjG,EACAyB,EACAC,EACAwE,EACAC,EACA,CACM,MAAAnG,EAAOyB,EAAGC,CAAC,EACZ,KAAA,MAAM,IAAI,SAAS,IAAI,EAE5B,KAAK,eAAiByE,EAEtB,KAAK,SAASD,CAAK,CACrB,CAEO,WAAWE,EAAsB,CAChC,MAAAC,EAAa,KAAK,KAAK,YAAY,EASnCC,EAPoB,KAAK,MAAM,MAAM,IACzChH,EAAU,OAAO,aAAA,EAEwB,KAAK,IAC9C,kBAAA,EAG8B,IAAI,QAAQ,EAE5C,UAAWiH,KAAaF,EAAY,CAClC,MAAMrF,EAASuF,EAEXD,EAAO,SAAStF,EAAO,MAAM,IAAI,GACnCA,EAAO,gBAAgB,EAEnBA,EAAO,MAAM,OAASoF,GACxBpF,EAAO,QAAQ,GAGjBA,EAAO,YAAY,CAEvB,CACF,CAEQ,cAAcwF,EAAsB,CAC1C,MAAMC,EAAO,IAAI3G,EAAO,KAAK,MAAO,CAClC,QAAS0G,EAAK,QACd,UAAWA,EAAK,UAChB,oBAAqB,OAAA,CACtB,EAEI,KAAA,KAAK,IAAIC,CAAI,CACpB,CAEQ,WAAWP,EAA8B,CAC/C,KAAK,KAAO,IAAIQ,EAAU,KAAK,MAAO,CACpC,EAAG,EACH,EAAG,EACH,OAAQ,EACR,IAAK,GACL,eAAgB,EAChB,MAAO,CACL,IAAK,GACL,OAAQ,EACV,EACA,KAAM,QAAA,CACP,EAED,UAAWF,KAAQN,EACjB,KAAK,cAAcM,CAAI,EAGzB,YAAK,KAAK,iBAEH,KAAK,IACd,CAEQ,SAASN,EAAyB,CACxC,KAAK,MAAQ,IAAIS,EAAgB,KAAK,MAAO,CAC3C,EAAG,EACH,EAAG,EACH,MAAO,IACP,OAAQ,KAER,OAAQ,CACN,QAAS,SACT,QAAS,YACX,EAEA,WAAY,EAEZ,MAAO,CACL,MAAO,KAAK,WAAWT,CAAK,EAC5B,KAAM,CACJ,QAAS,CACX,CACF,EAEA,mBAAoB,CAClB,MAAO,GACP,MAAO,EACT,EAEA,MAAO,CACL,KAAM,GACN,MAAO,GACP,IAAK,GACL,OAAQ,GACR,MAAO,EACT,CAAA,CACD,EAED,KAAK,MAAM,SAEX,KAAK,MAAM,uBAAuB,CAChC,QAAS,CAAC,KAAK,MAAM,UAAU,SAAU,EAAI,CAAC,CAAA,CAC/C,EAEI,KAAA,IAAI,KAAK,KAAK,EAEnB,KAAK,MAAM,GAAG,cAAgBU,GAAuB,CAC9C,KAAA,WAAWA,EAAW,MAAM,IAAI,EACrC,KAAK,eAAeA,CAAU,CAAA,CAC/B,CACH,CACF,CCrIA,MAAqBC,WAAkBC,CAAO,CAG5C,YAAY9G,EAAqB+G,EAAkB,CAC3C,MAAAC,EAAmBC,GAAuBjH,CAAK,EAErD,MAAMA,EAAO,CACX,OAAQ,CACN,EAAG,SACH,EAAG,QACL,EAEA,MAAO,IAEP,WAAYkH,GAAiBlH,CAAK,EAElC,MAAOA,EAAM,IAAI,KAAK,EAAG,EAAGM,EAAQ,EAAE,KAAK,EAAG,CAC5C,SAAU,OACV,WAAYhB,EAAU,KAAK,MAAA,CAC5B,EAED,QAASU,EAAM,IAAI,MAAM,EAAG,EAAG,OAAQ+G,CAAQ,EAE/C,YAAaI,GAAYnH,EAAOV,EAAU,KAAK,SAAS,UAAU,EAElE,QAAS,CAAC8H,GAAiBpH,CAAK,EAAGqH,GAAgBrH,CAAK,CAAC,EAEzD,MAAO,CACL,KAAM,GACN,MAAO,GACP,IAAK,GACL,OAAQ,GAER,MAAO,GACP,QAAS,GACT,YAAa,GACb,QAAS,GAET,YAAa,EACb,OAAQ,EACV,EAEA,OAAQ,CACN,MAAO,GACP,QAAS,GACT,YAAa,EACf,EAEA,MAAO,CACL,MAAO,SACP,QAAS,QACT,YAAa,OACf,EAEA,MAAO,CACL,KAAM,SACR,CAAA,CACD,EAED,KAAK,iBAAmBgH,EAExB,KAAK,OAAO,EACZ,KAAK,MAAM,GAAI,EAEThH,EAAA,IAAI,SAAS,IAAI,EAEvBA,EAAM,OAAO,IAAI,CACf,QAAS,KACT,OAAQ,EACR,OAAQ,EACR,KAAM,SACN,SAAU,IACV,OAAQ,EACR,KAAM,EAAA,CACP,EAEDA,EAAM,OAAO,IAAI,CACf,QAAS,KAAK,iBACd,MAAO,EACP,KAAM,iBACN,SAAU,IACV,OAAQ,EACR,KAAM,EAAA,CACP,CACH,CAEO,YAAa,CAClB,KAAK,iBAAiB,UACtB,KAAK,QAAQ,CACf,CACF,CAEA,MAAMiH,GAA0BjH,GAAwB,CACtD,KAAM,CAAE,MAAAZ,EAAO,OAAAC,CAAO,EAAIW,EAAM,QAAQ,KAExC,OAAOA,EAAM,IACV,UAAU,EAAG,EAAGZ,EAAOC,EAAQ,MAAY,EAAG,EAC9C,UAAU,EAAG,CAAC,EACd,iBACA,SAAS,CAAC,CACf,EAEM6H,GAAoBlH,GAAwB,CAChD,MAAME,EAAa,IAAIE,EACrBJ,EACA,EACA,EACA,IACA,IACA,CACE,OAAQ,EACV,EACA,KAAA,EAEI,OAAAA,EAAA,IAAI,SAASE,CAAU,EACtBA,CACT,EAEMkH,GAAoBpH,GACjB,IAAIF,EAAOE,EAAO,CACvB,QAAS,KACT,UAAW,OACX,gBAAiB,SACjB,oBAAqB,OAAA,CACtB,EAGGqH,GAAmBrH,GAAwB,CACzC,MAAAsH,EAAY,IAAIxH,EAAOE,EAAO,CAClC,QAAS,KACT,UAAW,OACX,gBAAiB,SACjB,oBAAqB,OAAA,CACtB,EAQG,OANsBA,EAAM,MAAM,IAAIV,EAAU,OAAO,aAAa,EAC7B,KAAK,IAC9C,kBAAA,EAE2B,IAAI,KAAK,EAE5BA,EAAU,KAAK,UACvBgI,EAAU,YAAY,EAGjBA,CACT,EAEMH,GAAc,CAACnH,EAAqB2F,IACjC,IAAI5F,EAAMC,EAAO,CACtB,MAAO,GACP,OAAQ,GAER,KAAMA,EAAM,IAAI,KAAK,EAAG,EAAG2F,EAAM,CAC/B,SAAU,OACV,WAAYrG,EAAU,KAAK,MAAA,CAC5B,EAED,KAAMU,EAAM,IAAI,MAAM,EAAG,EAAG,MAAO,OAAO,EAE1C,MAAO,CACL,MAAO,EACP,KAAM,EACR,CAAA,CACD,ECxKH,MAAqBuH,UAAcC,CAAQ,CACzC,YAAYxH,EAAqB,CAC/B,MAAMA,EAAO,CACX,OAAQ,CACN,EAAG,SACH,EAAG,YACL,EAEA,WAAYkH,GAAiBlH,CAAK,EAElC,KAAMA,EAAM,IAAI,KAAK,EAAG,EAAG,GAAI,CAC7B,WAAYV,EAAU,KAAK,OAC3B,SAAU,MAAA,CACX,EAED,MAAO,CACL,KAAM,GACN,MAAO,GACP,IAAK,GACL,OAAQ,EACV,CAAA,CACD,EACKU,EAAA,IAAI,SAAS,IAAI,CACzB,CACF,CAEA,MAAMkH,GAAoBlH,GAAwB,CAChD,MAAME,EAAa,IAAIE,EACrBJ,EACA,EACA,EACA,IACA,IACA,CACE,OAAQ,EACV,EACA,KAAA,EAEI,OAAAA,EAAA,IAAI,SAASE,CAAU,EACtBA,CACT,EChCqB,MAAAuH,WAAyBjI,EAAO,KAAM,CAIzD,aAAc,CACN,MAAAF,EAAU,OAAO,YAAY,EAJrC,KAAQ,MAAoB,EAK5B,CAEA,QAAS,CACP,KAAK,cAAc,EACnB,KAAK,cAAc,EACnB,KAAK,WAAW,EAChB,KAAK,aAAa,EAClB,KAAK,eAAe,CACtB,CAEQ,eAAgB,CACtB,KAAM,CAAE,MAAAF,EAAO,OAAAC,CAAO,EAAI,KAAK,QAAQ,KACvC,KAAK,IACF,UAAU,EAAG,EAAGD,EAAOC,EAAQ,QAAY,EAAG,EAC9C,UAAU,EAAG,CAAC,EACd,eAAe,CACpB,CAEQ,gBAAiB,CACvB,MAAMqI,EAAc,IAAIzB,GACtB,KACA,EACA,EACA,KAAK,MACJW,GAAuB,CACtB,KAAK,KAAK,MAAM,gBAAgB,MAAO,QAAQ,EAGzCxF,MAAAA,EADoB,KAAK,MAAM,IAAI9B,EAAU,OAAO,aAAa,EAC5B,KAAK,IAC9C,kBAAA,EAGIgH,EAASlF,EAAiB,IAAI,QAAQ,EAE5C,GAAIkF,EAAO,SAASM,EAAW,MAAM,IAAI,EACvCxF,EAAiB,IAAI,aAAcwF,EAAW,MAAM,IAAI,EACxDA,EAAW,QAAQ,MACd,CACL,MAAMe,EAAS,IAAId,GAAU,KAAMD,EAAW,MAAM,IAAI,EAEjDe,EAAA,GAAG,eAAiB3G,GAAmB,CACxC,GAAAA,EAAO,MAAM,OAAS,OACxB,KAAK,KAAK,MAAM,gBAAgB,MAAO,QAAQ,EAE/C2G,EAAO,WAAW,UAElB3G,EAAO,MAAM,OAAS,QACtBI,EAAiB,IAAI,KAAK,GAAK9B,EAAU,KAAK,SAE9C,KAAK,KAAK,MAAM,gBAAgB,MAAO,SAAS,EAEhD8B,EAAiB,IAAI,aAAcwF,EAAW,MAAM,IAAI,EACxDxF,EAAiB,IAAI,SAAU,CAAC,GAAGkF,EAAQM,EAAW,MAAM,IAAI,CAAC,EAEjEA,EAAW,gBAAgB,EAC3BA,EAAW,QAAQ,EAEnBxF,EAAiB,IAAI,MAAO9B,EAAU,KAAK,SAAW,EAAE,EAExD,KAAK,UAAU,QACb,GAAGgH,EAAO,OAAS,KAAKhH,EAAU,KAAK,OAAA,EAGzCqI,EAAO,WAAW,UAElB3G,EAAO,MAAM,OAAS,QACtBI,EAAiB,IAAI,KAAK,EAAI9B,EAAU,KAAK,SAC7C,CACA,KAAK,KAAK,MAAM,gBAAgB,MAAO,OAAO,EAE9C,MAAMsI,EACJtI,EAAU,KAAK,SAAW8B,EAAiB,IAAI,KAAK,EAClD,IAAAmG,EAAM,IAAI,EAAE,YAAYjH,EAAQ,EAAE,SAAS,EAAI,IAAMsH,CAAK,CAChE,CAAA,CACD,EAEMD,EAAA,GAAG,cAAgB3G,GAAmB,CACtCA,EAAO,YACVA,EAAO,QAAQ,CACjB,CACD,EAEM2G,EAAA,GAAG,aAAe3G,GAAmB,CACrCA,EAAO,YACVA,EAAO,gBAAgB,CACzB,CACD,CACH,CACF,CAAA,EAQIT,EALoB,KAAK,MAAM,IAAIjB,EAAU,OAAO,aAAa,EAC5B,KAAK,IAC9C,kBAAA,EAGkC,IAAI,YAAY,EAEpDoI,EAAY,WAAWnH,CAAU,CACnC,CAEQ,cAAe,CACjB,GAAA,KAAK,MAAM,SAAW,EACxB,QAASU,EAAQ,EAAGA,GAAS3B,EAAU,KAAK,MAAO2B,IAAS,CAE1D,MAAM4G,EAAY,QADCrI,EAAO,MAAM,OAAO,IAAIyB,EAAO,EAAG,IAAK,CAAC,KAG3D,KAAK,MAAM,KAAK,CACd,QAAS,OACT,UAAA4G,CAAA,CACD,CACH,CAEJ,CAEQ,eAAgB,CAkBtB,MAAMC,EAjBoB,KAAK,MAAM,IAAIxI,EAAU,OAAO,aAAa,EAC5B,KAAK,IAC9C,kBAAA,EAaoC,IAAI,QAAQ,EAEX,OACjCyI,EAAgBzI,EAAU,KAAK,MAEhC,KAAA,UAAY,KAAK,IACnB,KAAK,EAAG,EAAG,GAAGwI,KAAqBC,IAAiB,CACnD,SAAU,QACV,WAAYzI,EAAU,KAAK,OAC3B,MAAO,UACP,MAAO,OACR,CAAA,EACA,UAAU,EAAG,EAAG,EAEf,IAAA0I,EAAO,KAAK,UAAW,CACzB,EAAG,WACH,EAAG,SAAA,CACJ,CACH,CAEQ,YAAa,CACb,MAAAC,EAAa,IAAInI,EAAO,KAAM,CAClC,QAAS,KACT,UAAW,OACX,gBAAiB,SACjB,oBAAqB,KAAA,CACtB,EAEKgB,EAAU,IAAIC,EAAQ,KAAM,CAChC,EAAG,EACH,EAAG,EACH,OAAQ,CACN,QAAS,WACT,QAAS,SACX,EACA,YAAa,aACb,QAAS,CAACkH,CAAU,EACpB,MAAO,CACL,KAAM,EACR,CAAA,CACD,EAAE,OAAO,EACL,KAAA,IAAI,SAASnH,CAAO,EAEjBA,EAAA,GACN,cACCE,GAAmB,CAClBA,EAAO,QAAQ,CACjB,EACA,IAAA,EAGMF,EAAA,GACN,aACCE,GAAmB,CAClBA,EAAO,gBAAgB,CACzB,EACA,IAAA,EAGMF,EAAA,GACN,eACA,CAACE,EAAgBC,IAAkB,CAGzB,OAFR,KAAK,KAAK,MAAM,gBAAgB,MAAO,QAAQ,EAEvCA,OACD,GACH,KAAK,MAAM,OAEjB,EACA,IAAA,CAEJ,CACF,CCtNA,MAAqBiH,WAAmBpB,CAAO,CAG7C,YAAY9G,EAAqB+G,EAAkB,CAC3C,MAAAC,EAAmBC,GAAuBjH,CAAK,EAErD,MAAMA,EAAO,CACX,OAAQ,CACN,EAAG,SACH,EAAG,QACL,EAEA,MAAO,IAEP,WAAYkH,GAAiBlH,CAAK,EAElC,MAAOA,EAAM,IAAI,KAAK,EAAG,EAAGM,EAAQ,EAAE,KAAK,EAAG,CAC5C,SAAU,OACV,WAAYhB,EAAU,KAAK,MAAA,CAC5B,EAED,QAASU,EAAM,IAAI,MAAM,EAAG,EAAG,OAAQ+G,CAAQ,EAE/C,QAAS,CAACK,GAAiBpH,CAAK,EAAGmI,GAAmBnI,CAAK,CAAC,EAE5D,MAAO,CACL,KAAM,GACN,MAAO,GACP,IAAK,GACL,OAAQ,GAER,MAAO,GACP,QAAS,GACT,YAAa,GACb,QAAS,GAET,YAAa,EACb,OAAQ,EACV,EAEA,OAAQ,CACN,MAAO,GACP,QAAS,GACT,YAAa,EACf,EAEA,MAAO,CACL,MAAO,SACP,QAAS,QACT,YAAa,OACf,EAEA,MAAO,CACL,KAAM,SACR,CAAA,CACD,EAED,KAAK,iBAAmBgH,EAExB,KAAK,OAAO,EACZ,KAAK,MAAM,GAAI,EAEThH,EAAA,IAAI,SAAS,IAAI,EAEvBA,EAAM,OAAO,IAAI,CACf,QAAS,KACT,OAAQ,EACR,OAAQ,EACR,KAAM,SACN,SAAU,IACV,OAAQ,EACR,KAAM,EAAA,CACP,EAEDA,EAAM,OAAO,IAAI,CACf,QAAS,KAAK,iBACd,MAAO,EACP,KAAM,iBACN,SAAU,IACV,OAAQ,EACR,KAAM,EAAA,CACP,CACH,CAEO,YAAa,CAClB,KAAK,iBAAiB,UACtB,KAAK,QAAQ,CACf,CACF,CAEA,MAAMiH,GAA0BjH,GAAwB,CACtD,KAAM,CAAE,MAAAZ,EAAO,OAAAC,CAAO,EAAIW,EAAM,QAAQ,KAExC,OAAOA,EAAM,IACV,UAAU,EAAG,EAAGZ,EAAOC,EAAQ,MAAY,EAAG,EAC9C,UAAU,EAAG,CAAC,EACd,iBACA,SAAS,CAAC,CACf,EAEM6H,GAAoBlH,GAAwB,CAChD,MAAME,EAAa,IAAIE,EACrBJ,EACA,EACA,EACA,IACA,IACA,CACE,OAAQ,EACV,EACA,KAAA,EAEI,OAAAA,EAAA,IAAI,SAASE,CAAU,EACtBA,CACT,EAEMkH,GAAoBpH,GACjB,IAAIF,EAAOE,EAAO,CACvB,QAAS,KACT,UAAW,OACX,gBAAiB,SACjB,oBAAqB,OAAA,CACtB,EAGGmI,GAAsBnI,GACnB,IAAIF,EAAOE,EAAO,CACvB,QAAS,KACT,UAAW,OACX,gBAAiB,SACjB,oBAAqB,OAAA,CACtB,ECvIH,SAAwBoI,GAAiBC,EAAgC,CAGvE,MAAMC,EAFYC,KAEgB,OAC/BC,GAAS,CAACH,EAAa,SAASG,CAAI,CAAA,EAGvC,OAAOhJ,EAAO,MAAM,MAAM,UAAU8I,CAAe,CACrD,CAEA,MAAMC,GAAe,IAAM,CACzB,MAAME,EAAY,CAAA,EAEd,GAAAA,EAAU,SAAW,EACvB,QAASxH,EAAQ,EAAGA,GAAS3B,EAAU,KAAK,MAAO2B,IAAS,CAE1D,MAAMuH,EAAO,QADMhJ,EAAO,MAAM,OAAO,IAAIyB,EAAO,EAAG,IAAK,CAAC,KAG3DwH,EAAU,KAAKD,CAAI,CACrB,CAGK,OAAAC,CACT,ECbqB,MAAAC,WAAkBlJ,EAAO,KAAM,CAGlD,aAAc,CACN,MAAAF,EAAU,OAAO,IAAI,CAC7B,CAEA,QAAS,CACP,KAAK,cAAc,EACnB,KAAK,SAAS,EACd,KAAK,WAAW,EAChB,KAAK,QAAQ,CACf,CAEQ,eAAgB,CACtB,KAAM,CAAE,MAAAF,EAAO,OAAAC,CAAO,EAAI,KAAK,QAAQ,KACvC,KAAK,IACF,UAAU,EAAG,EAAGD,EAAOC,EAAQ,QAAY,EAAG,EAC9C,UAAU,EAAG,CAAC,EACd,eAAe,CACpB,CAEQ,UAAW,CACX,MAAAsJ,EAAQ,KAAK,IAChB,KAAK,EAAG,EAAGrI,EAAQ,EAAE,MAAM,EAAG,CAC7B,SAAU,QACV,WAAYhB,EAAU,KAAK,OAC3B,MAAO,UACP,MAAO,OACR,CAAA,EACA,UAAU,EAAG,EAAG,EAEnB,IAAI0I,EAAOW,EAAO,CAChB,EAAG,WACH,EAAG,SAAA,CACJ,CACH,CAEQ,YAAa,CACb,MAAAV,EAAa,IAAInI,EAAO,KAAM,CAClC,QAAS,KACT,UAAW,OACX,gBAAiB,SACjB,oBAAqB,KAAA,CACtB,EAEKgB,EAAU,IAAIC,EAAQ,KAAM,CAChC,EAAG,EACH,EAAG,EACH,OAAQ,CACN,QAAS,WACT,QAAS,SACX,EACA,YAAa,aACb,QAAS,CAACkH,CAAU,EACpB,MAAO,CACL,KAAM,EACR,CAAA,CACD,EAAE,OAAO,EACL,KAAA,IAAI,SAASnH,CAAO,EAEjBA,EAAA,GACN,cACCE,GAAmB,CAClBA,EAAO,QAAQ,CACjB,EACA,IAAA,EAGMF,EAAA,GACN,aACCE,GAAmB,CAClBA,EAAO,gBAAgB,CACzB,EACA,IAAA,EAGMF,EAAA,GACN,eACA,CAACE,EAAgBC,IAAkB,CAGzB,OAFR,KAAK,KAAK,MAAM,gBAAgB,MAAO,QAAQ,EAEvCA,OACD,GACH,KAAK,MAAM,OAEjB,EACA,IAAA,CAEJ,CAEQ,SAAU,CACV,MAAA2H,EAAa,IAAI7I,EAAM,KAAM,CACjC,KAAM,KAAK,IAAI,KAAK,EAAG,EAAGT,EAAU,KAAK,UAAU,WAAY,CAC7D,WAAYA,EAAU,KAAK,OAC3B,SAAU,MAAA,CACX,EAED,KAAM,KAAK,IAAI,MAAM,EAAG,EAAG,MAAO,OAAO,EAEzC,MAAO,CACL,KAAM,EACR,CAAA,CACD,EAAE,OAAO,EACL,KAAA,IAAI,SAASsJ,CAAU,EAEvB,KAAA,KAAO,IAAI7I,EAAM,KAAM,CAC1B,OAAQ,CACN,QAAS,SACT,QAAS,QACX,EAEA,YAAa,IAEb,KAAM6I,EAEN,KAAM,KAAK,IAAI,MAAM,EAAG,EAAG,MAAM,EAEjC,MAAO,CACL,KAAM,EACR,CAAA,CACD,EACE,OAAO,EACP,iBACA,GAAG,cAAgB1H,GAAW,CAChB,KAAK,KAAK,WAAW,MAAM,EACnC,QAAQ,QAAU,CACxB,CAAA,EACA,GAAG,aAAeA,GAAW,CACf,KAAK,KAAK,WAAW,MAAM,EACnC,UAAU,CAChB,CAAA,EACA,GAAG,cAAgBA,GAAW,CAEvB,MAAAE,EADoB,KAAK,MAAM,IAAI9B,EAAU,OAAO,aAAa,EAC5B,KAAK,IAC9C,kBAAA,EAGI+I,EAAejH,EAAiB,IAAI,QAAQ,EAE5C0E,EAAM1E,EAAiB,IAAI,KAAK,EAEtC,GAAIiH,EAAa,QAAU/I,EAAU,KAAK,MAAO,CAC/C,KAAK,KAAK,MAAM,gBAAgB,MAAO,OAAO,EAE9C,IAAIiI,EAAM,IAAI,EAAE,YAAYjH,EAAQ,EAAE,uBAAuB,CAAC,EAC9D,MACF,CAEI,GAAAwF,EAAMxG,EAAU,KAAK,UAAW,CAClC,KAAK,KAAK,MAAM,gBAAgB,MAAO,OAAO,EAExC,MAAAsI,EAAQtI,EAAU,KAAK,UAAYwG,EACrC,IAAAyB,EAAM,IAAI,EAAE,YAAYjH,EAAQ,EAAE,SAAS,EAAI,IAAMsH,CAAK,EAC9D,MACF,CAEA,KAAK,KAAK,MAAM,gBAAgB,MAAO,SAAS,EAEhD,MAAMzH,EAAO,KAAK,KAAK,WAAW,MAAM,EACxC,IAAI0I,EAAc1I,EAAM,CACtB,KAAM,SACN,SAAU,KACV,UAAW,GACX,cAAe,OAAA,CAChB,EAAE,MAAM,EAEH,MAAA2I,EAAUV,GAAiBC,CAAY,EAEvCV,EAAS,IAAIO,GAAW,KAAMY,CAAO,EAEpCnB,EAAA,GAAG,eAAiB3G,GAAmB,CACxCA,EAAO,MAAM,OAAS,QACxB,KAAK,KAAK,MAAM,gBAAgB,MAAO,QAAQ,EAC/C2G,EAAO,WAAW,GACT3G,EAAO,MAAM,OAAS,SAC/B,KAAK,KAAK,MAAM,gBAAgB,MAAO,QAAQ,EAE9BI,EAAA,IAAI,aAAc0H,CAAO,EAE1CnB,EAAO,WAAW,GAGfU,EAAa,SAASS,CAAO,GAChC1H,EAAiB,IAAI,SAAU,CAAC,GAAGiH,EAAcS,CAAO,CAAC,CAC3D,CACD,EAEMnB,EAAA,GAAG,cAAgB3G,GAAmB,CAC3CA,EAAO,QAAQ,CAAA,CAChB,EAEM2G,EAAA,GAAG,aAAe3G,GAAmB,CAC1CA,EAAO,gBAAgB,CAAA,CACxB,EAEDI,EAAiB,IAAI,MAAO9B,EAAU,KAAK,UAAY,EAAE,CAAA,CAC1D,EAEE,KAAA,IAAI,SAAS,KAAK,IAAI,CAC7B,CACF,CC1MqB,MAAAyJ,WAAsB,OAAO,KAAM,CACtD,aAAc,CACN,MAAAzJ,EAAU,OAAO,QAAQ,CACjC,CAEA,QAAS,CACP,KAAK,cAAc,EACnB,KAAK,SAAS,EACd,KAAK,WAAW,EAChB,KAAK,WAAW,EAChB,KAAK,kBAAkB,EACvB,KAAK,UAAU,EACf,KAAK,UAAU,CACjB,CAEQ,eAAgB,CACtB,KAAM,CAAE,MAAAF,EAAO,OAAAC,CAAO,EAAI,KAAK,QAAQ,KACvC,KAAK,IACF,UAAU,EAAG,EAAGD,EAAOC,EAAQ,MAAY,EAAG,EAC9C,UAAU,EAAG,CAAC,EACd,eAAe,CACpB,CAEQ,UAAW,CACX,MAAAsJ,EAAQ,KAAK,IAChB,KAAK,EAAG,EAAGrI,EAAQ,EAAE,UAAU,EAAG,CACjC,SAAU,QACV,WAAYhB,EAAU,KAAK,OAC3B,MAAO,UACP,MAAO,OACR,CAAA,EACA,UAAU,EAAG,EAAG,EAEnB,IAAI0I,EAAOW,EAAO,CAChB,EAAG,WACH,EAAG,SAAA,CACJ,CACH,CAEQ,YAAa,CACb,MAAAK,EAAU,KAAK,KAAK,OAAO,YAE3BL,EAAQ,KAAK,IAChB,KAAK,EAAG,EAAG,IAAMK,EAAS,CACzB,SAAU,OACV,WAAY1J,EAAU,KAAK,OAC3B,MAAO,UACP,MAAO,OACR,CAAA,EACA,UAAU,GAAK,EAAG,EAErB,IAAI0I,EAAOW,EAAO,CAChB,EAAG,SACH,EAAG,YAAA,CACJ,CACH,CAEQ,YAAa,CACb,MAAAV,EAAa,IAAInI,EAAO,KAAM,CAClC,QAAS,KACT,UAAW,OACX,gBAAiB,SACjB,oBAAqB,KAAA,CACtB,EAEKgB,EAAU,IAAIC,EAAQ,KAAM,CAChC,EAAG,EACH,EAAG,EACH,OAAQ,CACN,QAAS,WACT,QAAS,SACX,EACA,YAAa,aACb,QAAS,CAACkH,CAAU,EACpB,MAAO,CACL,KAAM,EACR,CAAA,CACD,EAAE,OAAO,EACL,KAAA,IAAI,SAASnH,CAAO,EAEjBA,EAAA,GACN,cACCE,GAAmB,CAClBA,EAAO,QAAQ,CACjB,EACA,IAAA,EAGMF,EAAA,GACN,aACCE,GAAmB,CAClBA,EAAO,gBAAgB,CACzB,EACA,IAAA,EAGMF,EAAA,GACN,eACA,CAACE,EAAgBC,IAAkB,CAGzB,OAFR,KAAK,KAAK,MAAM,gBAAgB,MAAO,QAAQ,EAEvCA,OACD,GACH,KAAK,MAAM,OAEjB,EACA,IAAA,CAEJ,CAEQ,mBAAoB,CAO1B,MAAMgI,EAAwB,CAC5B,CAAE,KAAM,6CAAW,MAAO,KAAM,KAAM,IAAK,EAC3C,CAAE,KAAM,UAAW,MAAO,KAAM,KAAM,IAAK,CAAA,EAGvCC,EAAe,IAAIC,EAAa,KAAM,CAC1C,OAAQ,CACN,QAAS,SACT,QAAS,SACX,EAEA,MAAO,KAAK,QAAQ,KAAK,MAAQ,GAEjC,WAAYjC,EAAiB,IAAI,EAEjC,KAAMkC,EAAiB,KAAM9I,EAAQ,EAAE,iBAAiB,CAAC,EAEzD,KAAM,KAAK,IAAI,MAAM,EAAG,EAAG,KAAM,OAAO,EAExC,MAAO,CACL,KAAM,GACN,MAAO,GACP,IAAK,GACL,OAAQ,GACR,KAAM,EACR,EAEA,QAAS2I,EAET,KAAM,CACJ,yBAA2BjJ,GAClBkH,EAAiBlH,CAAK,EAE/B,qBAAsB,CAACA,EAAOqJ,IAAuB,CACnD,MAAM1D,EAAO0D,EAAS,KAChBlJ,EAAOkJ,EAAS,KAIf,OAFclB,GAAmB,KAAMxC,EAAMxF,CAAI,EAEpC,QAAQkJ,EAAS,KAAK,CAC5C,EACA,cAAgBrI,GAAW,CACzB,KAAK,KAAK,MAAM,gBAAgB,MAAO,QAAQ,EAE3C,IAAAuG,EAAM,IAAI,EAAE,YACdjH,EAAQ,EAAE,uCAAuC,CAAA,EAE3CA,EAAA,eAAeU,EAAO,IAAI,CACpC,EACA,aAAeA,GAAW,CACZA,EAAiB,WAC3B,YAAA,EAEC,aAAa,KAAU,CAC5B,EACA,YAAcA,GAAW,CACXA,EAAiB,WAC3B,YAAA,EAEC,aAAa,OAAU,CAC5B,EAEA,MAAO,CACL,KAAM,GACN,MAAO,GACP,IAAK,GACL,OAAQ,GACR,KAAM,EACR,CACF,EAEA,iBAAkB,CAACsI,EAAc5J,IAAkB,CACjD,MAAM6J,EAAaD,EAAa,WAC9B,MAAA,EAGID,EAAWJ,EAAU,KAAMI,GAAaA,EAAS,QAAU3J,CAAK,EAElE2J,GACSE,EAAA,QAAQF,EAAS,IAAI,CAEpC,EAEA,MAAO/I,EAAQ,QAAA,CAChB,EAAE,OAAO,EAEL,KAAA,IAAI,SAAS4I,CAAY,CAChC,CAEQ,WAAY,CACZ,MAAAM,EAAS,IAAIC,EAAU,KAAM,CACjC,OAAQ,CACN,QAAS,SACT,QAAS,SACX,EAEA,MAAO,KAAK,QAAQ,KAAK,MAAQ,GAEjC,WAAYvC,EAAiB,IAAI,EAEjC,KAAM,KAAK,IAAI,MAAM,EAAG,EAAG,KAAM,YAAY,EAE7C,OAAQ,CACN,MAAOA,EAAiB,KAAM,KAAU,EACxC,UAAWA,EAAiB,KAAM,QAAU,EAC5C,MAAO,OACT,EAEA,KAAM,KAAK,IAAI,KAAK,EAAG,EAAG,GAAI,CAC5B,SAAU,OACV,WAAY5H,EAAU,KAAK,OAC3B,MAAO,SAAA,CACR,EAED,MAAO,CACL,KAAM,GACN,MAAO,GACP,IAAK,GACL,OAAQ,GAER,KAAM,GACN,OAAQ,EACV,EAEA,oBAAqB,CAACI,EAAOE,EAAU8J,IAAc,CAC7C,MAAAC,EAAa,KAAK,MAAM,OAAO,KAAK,OAAO,EAAG,IAAKjK,CAAK,CAAC,EAErDgK,EAAA,KAAOC,EAAW,WAEtB,MAAAxJ,EAAOuJ,EAAU,WAAW,MAAM,EACpCC,EAAa,EACfxJ,EAAK,SAAS,YAAY,EACjBwJ,EAAa,GACtBxJ,EAAK,SAAS,QAAQ,EACbwJ,EAAa,GACtBxJ,EAAK,SAAS,YAAY,EACjBwJ,EAAa,KACtBxJ,EAAK,SAAS,YAAY,EAGvB,KAAA,KAAK,MAAM,OAAST,CAC3B,CAAA,CACD,EACE,OAAO,EACP,SAAS,KAAK,KAAK,MAAM,MAAM,EAC7B,KAAA,IAAI,SAAS8J,CAAM,CAC1B,CAEQ,WAAY,CACZ,MAAA/G,EAAQ,IAAI1C,EAAM,KAAM,CAC5B,OAAQ,CACN,QAAS,SACT,QAAS,SACX,EAEA,MAAO,KAAK,QAAQ,KAAK,MAAQ,GAEjC,WAAYmH,EAAiB,IAAI,EAEjC,KAAM,KAAK,IAAI,MAAM,EAAG,EAAG,KAAM,MAAM,EAEvC,KAAMkC,EAAiB,KAAM,OAAO,EAEpC,MAAO,CACL,KAAM,GACN,MAAO,GACP,IAAK,GACL,OAAQ,GAER,KAAM,EACR,CAAA,CACD,EAAE,OAAO,EACL,KAAA,IAAI,SAAS3G,CAAK,EAEjB,MAAAkD,EAAOlD,EAAM,WAAW,MAAM,EAE9BmH,EAAY,IAAIC,EAAUlE,EAAM,CACpC,EAAG,KACH,EAAG,KACH,MAAO,KAAK,QAAQ,KAAK,MAAQ,GACjC,OAAQ,IACR,KAAM,OACN,WAAYrG,EAAU,KAAK,OAC3B,SAAU,OACV,MAAO,UACP,OAAQ,EACR,gBAAiB,cACjB,YAAa,cACb,QAAS,MACV,CAAA,EAAE,GAAG,aAAesK,GAAyB,CAC5C,OAAQA,EAAU,UACX,YAAa,CAChB,KAAK,KAAK,MAAM,gBAAgB,MAAO,SAAS,EAEtB,KAAK,MAAM,IACnCtK,EAAU,OAAO,aAAA,EAEwB,KAAK,IAC9C,kBAAA,EAGe,IAAI,MAAO,GAAG,EAE3B,IAAAiI,EAAM,IAAI,EAAE,YAAYjH,EAAQ,EAAE,OAAO,EAAI,IAAM,GAAG,EAE1DsJ,EAAU,QAAQ,OAAO,EAEzB,KACF,KACK,YAAa,CAChB,KAAK,KAAK,MAAM,gBAAgB,MAAO,SAAS,EAEtB,KAAK,MAAM,IACnCtK,EAAU,OAAO,aAAA,EAEwB,KAAK,IAC9C,kBAAA,EAGe,IAAI,MAAO,CAAC,EAE7BsK,EAAU,QAAQ,OAAO,EAEzB,KACF,KACK,YAAa,CAChB,KAAK,KAAK,MAAM,gBAAgB,MAAO,SAAS,EAEtB,KAAK,MAAM,IACnCtK,EAAU,OAAO,aAAA,EAEwB,KAAK,IAC9C,kBAAA,EAGe,IAAI,MAAO,GAAM,EAElCsK,EAAU,QAAQ,OAAO,EAEzB,KACF,KACK,YAAa,CAChB,KAAK,KAAK,MAAM,gBAAgB,MAAO,SAAS,EAEtB,KAAK,MAAM,IACnCtK,EAAU,OAAO,aAAA,EAEwB,KAAK,IAC9C,kBAAA,EAGe,MAAM,EAEvBsK,EAAU,QAAQ,OAAO,EAEzB,KACF,KACK,YAAa,CAChB,KAAK,KAAK,MAAM,gBAAgB,MAAO,SAAS,EAEtB,KAAK,MAAM,IACnCtK,EAAU,OAAO,aAAA,EAEwB,KAAK,IAC9C,kBAAA,EAGe,IAAI,MAAO,CAAC,EAE7BsK,EAAU,QAAQ,OAAO,EAEzB,KACF,KACK,YAAa,CAChB,KAAK,KAAK,MAAM,gBAAgB,MAAO,SAAS,EAK1C,MAAAxI,EAHoB,KAAK,MAAM,IACnC9B,EAAU,OAAO,aAAA,EAEwB,KAAK,IAC9C,kBAAA,EAGIwK,EAAgB1I,EAAiB,gBAAgB,QAAQ,EAC9CA,EAAA,IAAI,SAAU0I,CAAa,EAEtC,MAAAC,EACJ3I,EAAiB,gBAAgB,YAAY,EAC9BA,EAAA,IAAI,aAAc2I,CAAiB,EAEpDH,EAAU,QAAQ,OAAO,EAEzB,KACF,EAAA,CAEH,EACI,KAAA,IAAI,SAASA,CAAS,CAC7B,CACF,CAEA,MAAM1C,EAAmB,CAAClH,EAAqB0C,EAAQ,UAAe,CACpE,MAAMxC,EAAa,IAAI8J,EACrBhK,EACA,EACA,EACA,EACA,EACA,CACE,OAAQ,EACV,EACA0C,CAAA,EAEI,OAAA1C,EAAA,IAAI,SAASE,CAAU,EAEtBA,CACT,EAEMkJ,EAAmB,CAACpJ,EAAqB2F,IACtC3F,EAAM,IAAI,KAAK,EAAG,EAAG2F,EAAM,CAChC,WAAYrG,EAAU,KAAK,OAC3B,SAAU,OACV,MAAO,SAAA,CACR,EAGG6I,GAAqB,CACzBnI,EACA2F,EACAxF,IACG,CACG,MAAA8J,EAAe,IAAIlK,EAAMC,EAAO,CACpC,WAAYkH,EAAiBlH,CAAK,EAAE,QAAQ,YAAY,EAExD,MAAOA,EAAM,QAAQ,KAAK,MAAQ,GAElC,KAAMoJ,EAAiBpJ,EAAO2F,CAAI,EAElC,KAAM3F,EAAM,IAAI,MAAM,EAAG,EAAG,KAAMG,CAAI,EAEtC,MAAO,CACL,KAAM,GACN,MAAO,GACP,IAAK,GACL,OAAQ,GACR,KAAM,EACR,CAAA,CACD,EACK,OAAAH,EAAA,IAAI,SAASiK,CAAY,EAExBA,CACT,ECrdMC,GAAY,CAChB3K,EACAgF,GACAlE,EACAiB,EACAiE,GACAQ,GACA0B,GACAiB,GACAK,EACF,ECpBO,MAAMoB,EAAsB,CACjC,YAAYnK,EAAOoK,EAAe,CAUhC,KAAK,cAAgBA,EAUrB,KAAK,KAAOA,EAAc,KAa1B,KAAK,MAAQpK,EAab,KAAK,QAAUA,EAAM,IAMrB,KAAK,OAAS,KAMd,KAAK,QAAU,KAOf,KAAK,cAAgB,EAErBA,EAAM,IAAI,OAAO,KAAK,OAAQ,KAAK,KAAM,IAAI,EAE7C,KAAK,kBAAoB,CAAE,EAE3B,KAAK,UAAY,CACf,MAAO,SACP,YAAa,CAAE,EACf,QAAS,EACT,QAAS,EACT,UAAW,KACX,WAAY,IACZ,kBAAmB,GACnB,cAAe,eACf,cAAe,GACf,KAAM,GACN,MAAO,GACP,SAAU,SACV,aAAc,KACd,OAAQ,KAAK,MACb,OAAQ,CAAE,EACV,OAAQ,CAAE,CACX,CACF,CAQD,mBAAmBC,EAAQ,CACzB,IAAIoK,EAAU,OAAO,OAAO,KAAK,UAAWpK,CAAM,EAC9CsJ,EAAa,CAAE,EAEnB,GAAIc,EAAQ,WAAa,SAAU,CAGjC,GAFAd,EAAa,KAAK,MAAM,IAAI,KAAK,EAAG,EAAGc,EAAQ,KAAMA,EAAQ,WAAW,EAEpEA,EAAQ,eAAiB,KAE3B,OAAQA,EAAQ,WACT,SAAU,CACb,OAAO,QAAQ,MAAM,GAAG,OACtBd,EACAc,EAAQ,aACRA,EAAQ,QACRA,EAAQ,OACT,EACD,KACD,KACI,OAAQ,CACX,OAAO,QAAQ,MAAM,GAAG,WACtBd,EACAc,EAAQ,aACRA,EAAQ,QACRA,EAAQ,OACT,EACD,KACD,KACI,QAAS,CACZ,OAAO,QAAQ,MAAM,GAAG,YACtBd,EACAc,EAAQ,aACRA,EAAQ,QACRA,EAAQ,OACT,EACD,KACD,KACI,aAAc,CACjB,OAAO,QAAQ,MAAM,GAAG,UACtBd,EACAc,EAAQ,aACRA,EAAQ,QACRA,EAAQ,OACT,EACD,KACD,EAOL,GAFAd,EAAW,YAAc,GAErBc,EAAQ,QAAU,GACpB,KAAK,MAAM,SAAS,WAAWd,CAAU,EACzC,KAAK,YAAYc,EAASd,CAAU,MAEpC,QAAOA,CAEV,CACF,CASD,YAAYtJ,EAAQsJ,EAAY,CAC9B,IAAIe,EACAC,EACAC,EACAC,EACAC,EACJ,MAAMC,EAAO,CAAE,EAAG,EAAG,IAAK,IAAI,OAAO,KAAK,OAAW,EAGrD,GAAIpB,EAAW,cAAgB,GAE7B,OADAA,EAAW,YAAc,GACjBtJ,EAAO,eACR,UACH,UAEG,SAAU,CACTA,EAAO,OAAO,OAAS,GAAKA,EAAO,OAAO,OAAS,IACrDqK,EAAa,IAAI,OAAO,KAAK,QAC3BrK,EAAO,OAAO,GACdA,EAAO,OAAO,EACf,EACDsK,EAAgB,IAAI,OAAO,KAAK,QAC9BtK,EAAO,OAAO,GACdA,EAAO,OAAO,EACf,EACDuK,EAAgB,IAAI,OAAO,KAAK,QAC9BvK,EAAO,OAAO,GACdA,EAAO,OAAO,EACf,EACDwK,EAAW,IAAI,OAAO,KAAK,QACzBxK,EAAO,OAAO,GACdA,EAAO,OAAO,EACf,EACDyK,EAAQ,IAAI,OAAO,OAAO,YACxBJ,EACAC,EACAC,EACAC,CACD,EAED,KAAK,MAAM,OAAO,IAAI,CACpB,QAASE,EACT,EAAG,EACH,KAAM1K,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,SAAU,UAAY,CACpB,IAAI2K,EAAWF,EAAM,SAASC,EAAK,EAAGA,EAAK,GAAG,EAC9CpB,EAAW,EAAIqB,EAAS,EACxBrB,EAAW,EAAIqB,EAAS,CACzB,CACf,CAAa,GAEH,KACD,KACI,UAAW,CACd,KAAK,MAAM,OAAO,IAAI,CACpB,QAASrB,EACT,MAAOtJ,EAAO,kBACd,KAAMA,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,WAAY,UAAY,CACtB,KAAK,MAAM,OAAO,IAAI,CACpB,QAASsJ,EACT,MAAO,EACP,KAAMtJ,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,WAAY,UAAY,CACtBsJ,EAAW,QAAS,CACrB,CACjB,CAAe,CACF,CACb,CAAW,EACD,KACD,KACI,OAAQ,CACXA,EAAW,MAAQ,EACnB,KAAK,MAAM,OAAO,IAAI,CACpB,QAASA,EACT,MAAO,EACP,KAAMtJ,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,WAAY,UAAY,CACtB,KAAK,MAAM,OAAO,IAAI,CACpB,QAASsJ,EACT,MAAO,EACP,KAAMtJ,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,WAAY,UAAY,CACtBsJ,EAAW,QAAS,CACrB,CACjB,CAAe,CACF,CACb,CAAW,EACD,KACD,KACI,QAAS,CACZ,IAAIsB,EAAS,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EACtCC,EAAe,EAEfD,EAAS,IACXC,EAAeA,EAAe,IAGhCR,EAAa,IAAI,OAAO,KAAK,QAC3Bf,EAAW,EAAI,GAAKuB,EACpBvB,EAAW,EAAI,EAChB,EACDgB,EAAgB,IAAI,OAAO,KAAK,QAC9BhB,EAAW,EAAI,GAAKuB,EACpBvB,EAAW,EAAI,EAChB,EACDiB,EAAgB,IAAI,OAAO,KAAK,QAC9BjB,EAAW,EAAI,GAAKuB,EACpBvB,EAAW,EAAI,EAChB,EACDkB,EAAW,IAAI,OAAO,KAAK,QACzBlB,EAAW,EAAI,GAAKuB,EACpBvB,EAAW,EAAI,GAChB,EACDmB,EAAQ,IAAI,OAAO,OAAO,YACxBJ,EACAC,EACAC,EACAC,CACD,EAED,KAAK,MAAM,OAAO,IAAI,CACpB,QAASE,EACT,EAAG,EACH,KAAM1K,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,WAAY,UAAY,CACtB,KAAK,MAAM,OAAO,IAAI,CACpB,QAASsJ,EACT,MAAO,EACP,KAAMtJ,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,WAAY,UAAY,CACtBsJ,EAAW,QAAS,CACrB,CACjB,CAAe,CACF,EACD,SAAU,UAAY,CACpB,IAAIqB,EAAWF,EAAM,SAASC,EAAK,EAAGA,EAAK,GAAG,EAC9CpB,EAAW,EAAIqB,EAAS,EACxBrB,EAAW,EAAIqB,EAAS,CACzB,CACb,CAAW,EAED,KACD,KACI,OAAQ,CACX,KAAK,MAAM,OAAO,IAAI,CACpB,QAASrB,EACT,EAAGA,EAAW,EAAItJ,EAAO,kBACzB,KAAMA,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,WAAY,UAAY,CACtB,KAAK,MAAM,OAAO,IAAI,CACpB,QAASsJ,EACT,MAAO,EACP,KAAMtJ,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,WAAY,UAAY,CACtBsJ,EAAW,QAAS,CACrB,CACjB,CAAe,CACF,CACb,CAAW,EAED,KACD,KACI,QAAS,CACZ,KAAK,MAAM,OAAO,IAAI,CACpB,QAASA,EACT,EAAGA,EAAW,EAAItJ,EAAO,kBACzB,KAAMA,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,WAAY,UAAY,CACtB,KAAK,MAAM,OAAO,IAAI,CACpB,QAASsJ,EACT,MAAO,EACP,KAAMtJ,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,WAAY,UAAY,CACtBsJ,EAAW,QAAS,CACrB,CACjB,CAAe,CACF,CACb,CAAW,EAED,KACD,KACI,KAAM,CACT,KAAK,MAAM,OAAO,IAAI,CACpB,QAASA,EACT,EAAGA,EAAW,EAAItJ,EAAO,kBACzB,KAAMA,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,WAAY,UAAY,CACtB,KAAK,MAAM,OAAO,IAAI,CACpB,QAASsJ,EACT,MAAO,EACP,KAAMtJ,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,WAAY,UAAY,CACtBsJ,EAAW,QAAS,CACrB,CACjB,CAAe,CACF,CACb,CAAW,EAED,KACD,KACI,OAAQ,CACX,KAAK,MAAM,OAAO,IAAI,CACpB,QAASA,EACT,EAAGA,EAAW,EAAItJ,EAAO,kBACzB,KAAMA,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,WAAY,UAAY,CACtB,KAAK,MAAM,OAAO,IAAI,CACpB,QAASsJ,EACT,MAAO,EACP,KAAMtJ,EAAO,cACb,SAAUA,EAAO,WACjB,KAAM,GACN,cAAe,KACf,WAAY,UAAY,CACtBsJ,EAAW,QAAS,CACrB,CACjB,CAAe,CACF,CACb,CAAW,EAED,KACD,EAIN,CAOD,MAAO,CACL,KAAK,QAAQ,OAAO,KAAK,UAAW,KAAK,QAAS,IAAI,EAElD,KAAK,QAAQ,SAAS,OACxB,KAAK,MAAO,EAEZ,KAAK,QAAQ,OAAO,GAAG,QAAS,KAAK,MAAO,IAAI,CAEnD,CAED,OAAQ,CACN,KAAK,QAAQ,OAAO,GAAG,SAAU,KAAK,OAAQ,IAAI,EAClD,KAAK,QAAQ,OAAO,KAAK,WAAY,KAAK,SAAU,IAAI,CACzD,CASD,OAAOwB,EAAM,CAAE,CAKf,UAAW,CACT,MAAMC,EAAe,KAAK,QAAQ,OAElCA,EAAa,IAAI,SAAU,KAAK,OAAQ,IAAI,EAC5CA,EAAa,IAAI,WAAY,KAAK,SAAU,IAAI,CACjD,CAKD,SAAU,CACR,KAAK,SAAU,CAChB,CAED,YAAYC,EAAIC,EAAS,CACnBA,GACe,KAAK,MAAM,OAAO,WAAW,KAAK,kBAAkBD,EAAG,GAEtE,KAAK,MAAM,OAAO,aAAa,KAAK,kBAAkBA,EAAG,EAG3D,KAAK,MAAQ,KAAK,MAAM,OAAO,IAAI,CACjC,QAAS,KAAK,kBAAkBA,GAChC,MAAO,EACP,KAAM,SACN,SAAU,IACV,MAAO,EACP,WAAaE,GAAM,CAAE,CAC7B,CAAO,GAED,KAAK,kBAAkBF,GAAI,QAAU,EAExC,CAED,YAAYA,EAAIC,EAAS,CACnBA,GACF,KAAK,kBAAkBD,GAAI,MAAQ,EACnC,KAAK,kBAAkBA,GAAI,QAAU,GACrC,KAAK,MAAM,SAAS,WAAW,KAAK,kBAAkBA,EAAG,EAExC,KAAK,MAAM,OAAO,WAAW,KAAK,kBAAkBA,EAAG,GAEtE,KAAK,MAAM,OAAO,aAAa,KAAK,kBAAkBA,EAAG,EAG3D,KAAK,MAAQ,KAAK,MAAM,OAAO,IAAI,CACjC,QAAS,KAAK,kBAAkBA,GAChC,MAAO,EACP,KAAM,SACN,SAAU,IACV,MAAO,EACP,WAAaE,GAAM,CAElB,CACT,CAAO,IAED,KAAK,kBAAkBF,GAAI,QAAU,GACrC,KAAK,MAAM,SAAS,WAAW,KAAK,kBAAkBA,EAAG,EAE5D,CAQD,cAAcG,EAAS,CACrB,IAAIlL,EAEAmL,EAAY,KAAK,MAAM,IAAI,UAAUD,EAAQ,EAAGA,EAAQ,CAAC,EACzDE,EAAU,KAAK,YAAYD,EAAWD,EAAQ,EAAGA,EAAQ,EAAGA,CAAO,EAEvE,OAAIA,EAAQ,gBACVlL,EAAa,KAAK,iBAChBmL,EACAC,EACAF,EAAQ,EACRA,EAAQ,EACRA,EAAQ,WAAW,MACnBA,EAAQ,WAAW,OACnBA,CACD,EAEDE,EAAQ,EAAIpL,EAAW,KAAK,QAAUoL,EAAQ,aAAe,GAC7DA,EAAQ,EAAIpL,EAAW,KAAK,QAAUoL,EAAQ,cAAgB,IAGhED,EAAU,IAAIC,CAAO,EAErBD,EAAU,EAAID,EAAQ,EACtBC,EAAU,EAAID,EAAQ,EAEtB,KAAK,kBAAkBA,EAAQ,IAAMC,EAE9BA,CACR,CAWD,YAAYA,EAAW5J,EAAGC,EAAG0J,EAAS,CACpC,IAAIzF,EAAO,KAAK,MAAM,IAAI,KAAKlE,EAAGC,EAAG0J,EAAQ,KAAK,KAAM,CACtD,WAAYA,EAAQ,KAAK,YAAc,oBACvC,SAAUA,EAAQ,KAAK,UAAY,GACnC,MAAOA,EAAQ,KAAK,WAAa,UACjC,UAAWA,EAAQ,KAAK,WAAa,GACrC,MAAOA,EAAQ,KAAK,OAAS,QACnC,CAAK,EAED,GAAIA,EAAQ,UAAW,CACrB,IAAIG,EAAcH,EAAQ,KAAK,aAAe,UAC1CI,EAAOJ,EAAQ,KAAK,MAAQ,EAC5BK,EAAeL,EAAQ,KAAK,cAAgB,GAC5CM,EAAaN,EAAQ,KAAK,YAAc,GAC5CzF,EAAK,UAAU,EAAG,EAAG4F,EAAaC,EAAMC,EAAcC,CAAU,CACjE,CAED,OAAO/F,CACR,CACH,CChlBA,MAAMgG,GAAU,CACd,MAAO,CACL,CACE,IAAK,kBACL,OAAQxB,GACR,SAAU,kBACV,QAAS,kBACT,UAAW,iBACb,CACF,CACF,ECPMyB,GAA2C,CAC/C,MAAO,aACP,QAAS,SACT,KAAMpM,EAAO,KACb,OAAQ,iBACR,gBAAiBF,EAAU,OAAO,QAAQ,WAC1C,MAAO,CACL,KAAME,EAAO,MAAM,IACnB,WAAYA,EAAO,MAAM,YACzB,KAAMF,EAAU,MAChB,MAAOA,EAAU,MACjB,OAAQA,EAAU,MACpB,EACA,QAAS,CACP,QAAS,SACT,OAAQ,CACN,MAAOA,EAAU,MACjB,QAAS,CACP,EAAG,CACL,CACF,CACF,EACA,OAAQ,CACN,SAAU,GACV,UAAW,GACX,YAAa,GACb,YAAa,EACf,EACA,UAAW,GACX,IAAK,CACH,gBAAiB,EACnB,EACA,gBAAiB,mBACjB,MAAO4K,GACP,QAAAyB,EACF;;;6NCrCeE,GAAA,CACb,GAAI,CACF,YAAa,CACX,GAAGC,EACL,CACF,EACA,GAAI,CACF,YAAa,CACX,GAAGC,EACL,CACF,CACF,ECVezL,EACZ,IAAI0L,CAAgB,EACpB,KAAK,CACJ,YAAa,KACb,MAAO,GACP,UAAW,CACT,GAAGH,EACL,CACF,CAAC,ECRU,IAAIrM,EAAO,KAAKoM,EAAU"}