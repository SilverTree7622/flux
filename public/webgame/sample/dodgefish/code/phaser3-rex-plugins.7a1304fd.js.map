{"version":3,"file":"phaser3-rex-plugins.7a1304fd.js","sources":["../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/canvas/canvas/render/WebGLRenderer.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/canvas/canvas/render/CanvasRenderer.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/canvas/canvas/render/Render.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/canvas/canvas/CanvasMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/texture/CopyCanvasToTexture.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/canvas/canvas/TextureMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/canvas/canvas/Canvas.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/canvas/GetStyle.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/canvas/DrawCircle.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/canvas/DrawText.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/canvas/circularprogress/DrawContent.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/eventemitter/EventEmitterMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/system/IsSceneObject.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/system/GetSceneObject.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/componentbase/ComponentBase.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/componentbase/TickTask.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/componentbase/SceneUpdateTickTask.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/componentbase/timerticktask/Timer.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/componentbase/timerticktask/TimerTask.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/componentbase/tweentask/EaseValueTaskBase.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/ease/EaseValueTask.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/ease/EaseValueMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/canvas/circularprogress/CircularProgress.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/ninepatch/texture/SetGetFrameNameCallback.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/object/DeepClone.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/ninepatch/texture/SetTexture.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/ninepatch/texture/UpdateTexture.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/ninepatch/texture/SetStretchMode.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/ninepatch/utils/IsEdge.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/ninepatch/texture/GetStretchMode.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/ninepatch/texture/SetPreserveRatio.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/ninepatch/texture/SetMaxFixedPartScale.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/object/NOOP.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/ninepatch/Methods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/ninepatch/NinePatch.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/rendertexture/MakeChildImageGameObject.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/rendertexture/ninepatch/texture/DrawImage.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/rendertexture/ninepatch/texture/DrawTileSprite.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/rendertexture/ninepatch/Methods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/rendertexture/ninepatch/NinePatch.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/render/WebGLRenderer.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/render/CanvasRenderer.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/render/Render.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/methods/SetTexture.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/methods/Resize.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/methods/AddChild.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/methods/RemoveChild.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/methods/RemoveChildren.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/methods/GetLastAppendedChildren.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/methods/GetChildren.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/methods/TintMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/methods/Methods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/struct/Stack.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/poolmanager/PoolManager.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/BlitterBase.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/bob/Types.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/object/GetValue.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/object/Clear.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/object/Clone.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/data/DataMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/bob/Base.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/bob/RenderBase.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/bob/image/WebglRender.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/bob/image/CanvasRender.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/bob/image/ImageData.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/blitterbase/utils/AddImage.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/ninepatch/texture/DrawImage.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/ninepatch/texture/DrawTileSprite.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/ninepatch/Methods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/blitter/ninepatch/NinePatch.js","../../../../node_modules/phaser3-rex-plugins/plugins/geom/roundrectangle/RoundRectangle.js","../../../../node_modules/phaser3-rex-plugins/plugins/geom/pathdata/LineTo.js","../../../../node_modules/phaser3-rex-plugins/plugins/geom/pathdata/ArcTo.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/utils/render/FillPathWebGL.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/utils/render/StrokePathWebGL.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/roundrectangle/render/WebGLRenderer.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/utils/render/FillStyleCanvas.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/utils/render/LineStyleCanvas.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/roundrectangle/render/CanvasRenderer.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/roundrectangle/render/Render.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/roundrectangle/RoundRectangle.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/canvas/AddRoundRectanglePath.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/canvas/DrawRoundRectangle.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/canvas/utils/DrawRoundRectangleBackground.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/canvas/roundrectangle/DrawContent.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/canvas/roundrectangle/RoundRectangle.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/render/WebGLRenderer.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/render/CanvasRenderer.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/render/Render.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/textstyle/MeasureText.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/const.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/textstyle/TextStyle.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/textstyle/MeasureTextMargins.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/canvastext/DrawMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/penmanger/Pen.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/penmanger/PenManager.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/hitareamanager/HitAreaManager.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/canvastext/SetInteractive.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/wraptext/LinePool.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/wraptext/WrapText.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/canvastext/CanvasText.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/texture/imagemanager/AddImage.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/texture/imagemanager/DrawImage.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/texture/imagemanager/ImageManager.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/textbase/Text.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/bbcodetext/parser/tags.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/bbcodetext/parser/SplitText.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/bbcodetext/parser/TagTextToProp.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/bbcodetext/parser/PropToContextStyle.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/bbcodetext/parser/PropToTagText.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/bbcodetext/parser/Parser.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/tagtext/Parser.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/tagtext/tagtext/TagText.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dom/utils/Resize.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dom/utils/SetProperties.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dom/utils/RouteEvents.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/input/StopPropagationTouchEvents.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dom/inputtext/InputText.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/input/IsPointerInHitArea.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dom/hiddeninputtext/defaultcallbacks/NumberInputUpdateCallback.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dom/hiddeninputtext/HiddenInputText.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/Base.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/GetParent.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/utils/GetLocalState.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/Parent.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/AddChild.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/RemoveChild.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/ChildState.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/Transform.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/utils/GetScale.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/Position.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/Rotation.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/Scale.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/Visible.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/Alpha.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/Active.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/ScrollFactor.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/Mask.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/system/SortGameObjectsByDepth.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/Depth.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/utils/Traversal.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/Children.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/Tween.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/AddToContainer.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/origin/ChangeOrigin.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/ChangeOrigin.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/Methods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/ContainerLite.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/canvas/circlemaskimage/CircleMaskImage.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/bob/Base.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/bob/renderbase/RenderBase.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/bob/Background.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/bob/InnerBounds.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/bob/utils/GetProperty.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/bob/char/TextStyle.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/SetFixedSize.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/padding/PaddingMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/SetPadding.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/GetPadding.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/ModifyTextStyle.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/ResetTextStyle.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/RemoveChild.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/RemoveChildren.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/ClearContent.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/AddChild.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/bob/Types.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/bob/char/CharData.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/AppendText.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/SetText.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/bob/image/ImageData.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/AppendImage.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/bob/command/Command.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/AppendCommand.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/SetWrapConfig.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/wrap/runwordwrap/GetWord.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/wrap/OffsetChildren.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/wrap/GetChildrenAlign.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/wrap/runwordwrap/AlignLines.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/wrap/runwordwrap/RunWordWrap.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/RunWordWrap.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/wrap/runverticalwrap/AlignLines.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/wrap/runverticalwrap/RunVerticalWrap.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/RunVerticalWrap.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/DrawContent.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/GetChildren.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/GetLastAppendedChildren.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/GetActiveChildren.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/methods/Methods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/poolmanager/PoolManager.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/dynamictext/DynamicText.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/string/EscapeRegex.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/string/TypeConvert.js","../../../../node_modules/phaser3-rex-plugins/plugins/logic/bracketparser/ParseValue.js","../../../../node_modules/phaser3-rex-plugins/plugins/logic/bracketparser/BracketParser.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/textstyle/OnParseColorTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/textstyle/OnParseStrokeColorTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/textstyle/OnParseBoldTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/textstyle/OnParseItalicTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/textstyle/OnParseFontSizeTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/textstyle/OnParseOffsetYTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/textstyle/OnParseShadowColorTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/textstyle/OnParseAlignTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/image/OnParseImageTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/typing/OnParseTypingSpeedTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/soundeffect/OnParsePlaySoundEffectTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/soundeffect/OnParseFadeInSoundEffectTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/soundeffect/OnParseFadeOutSoundEffectTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/soundeffect/OnParseSetSoundEffectVolumeTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/backgroundmusic/OnParsePlayBackgroundMusicTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/backgroundmusic/OnParseFadeInBackgroundMusicTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/backgroundmusic/OnParseFadeOutBackgroundMusicTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/backgroundmusic/OnParseCrossFadeBackgroundMusicTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/backgroundmusic/OnParsePauseBackgroundMusicTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/camera/OnParseFadeInCameraTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/camera/OnParseFadeOutCameraTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/camera/OnParseShakeCameraTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/camera/OnParseFlashCameraTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/camera/OnParseZoomCameraTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/camera/OnParseRotateCameraTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/camera/OnParseScrollCameraTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/wait/OnParseWaitTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/sprites/OnParseAddSpriteTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/sprites/OnParseRemoveAllSpritesTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/sprites/OnParseSetTextureTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/sprites/OnParsePlayAnimationTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/sprites/OnParseChainAnimationTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/sprites/OnParsePauseAnimationTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/sprites/OnParseSetSpritePropertyTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/sprites/OnParseEaseSpritePropertyTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/custom/OnParseCustomTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/content/OnParseNewLineTag.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/content/OnParseContentOff.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/content/OnParseContentOn.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/content/OnParseContent.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/AddParseCallbacks.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/PreProcessSource.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/parser/Parser.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/TypingSpeedMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/promise/WaitEvent.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/Start.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/TimerTypes.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/Typing.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/Pause.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/Resume.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/PauseTyping.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/ResumeTyping.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/utils/Events.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/utils/wait/GetWrapCallback.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/utils/wait/WaitCallback.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/utils/DelayCall.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/utils/wait/WaitTime.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/utils/wait/WaitClick.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/utils/wait/WaitMusic.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/utils/wait/WaitCameraEffect.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/utils/wait/WaitKeyDown.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/utils/wait/WaitSprite.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/utils/wait/WaitMultiple.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/Wait.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/SetTimeScale.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/SetIgnoreWait.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/SetSkipTypingAnimation.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/SetSkipSoundEffect.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/SkipCurrentTypingDelay.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/Methods.js","../../../../node_modules/phaser3-rex-plugins/plugins/time/clock/BaseClock.js","../../../../node_modules/phaser3-rex-plugins/plugins/time/clock/Clock.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/math/Yoyo.js","../../../../node_modules/phaser3-rex-plugins/plugins/time/progresses/Timer.js","../../../../node_modules/phaser3-rex-plugins/plugins/time/progresses/TimerPool.js","../../../../node_modules/phaser3-rex-plugins/plugins/time/progresses/Timeline.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/typewriter/TypeWriter.js","../../../../node_modules/phaser3-rex-plugins/plugins/audio/fade/Fade.js","../../../../node_modules/phaser3-rex-plugins/plugins/audio/fade/FadeIn.js","../../../../node_modules/phaser3-rex-plugins/plugins/audio/fade/FadeOut.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/audio/soundmanager/SoundManager.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/object/IsEmpty.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/sprite/spritemanager/SpriteData.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/color/GetRGB.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/color/SetColor.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/tintrgb/AddTintRGBProperties.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/viewportcoordinate/MonitorViewport.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/viewportcoordinate/AddViewportCoordinateProperties.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/sprite/spritemanager/methods/AddMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/sprite/spritemanager/methods/RemoveMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/sprite/spritemanager/methods/PropertyMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/sprite/spritemanager/methods/AnimationMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/sprite/spritemanager/methods/Methods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/sprite/spritemanager/SpriteManager.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/SetClickTarget.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/SetTargetCamera.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/SetNextPageInput.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/AddImage.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/Play.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/PlayPromise.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/TypingNextPage.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/Pause.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/PauseTyping.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/Resume.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/TypingSpeedMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/SetTimeScale.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/SetIgnoreWait.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/SetIgnoreNextPageInput.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/ShowPage.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/Methods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/methods/utils/ClearEvents.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/dynamictext/textplayer/TextPlayer.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/render/WebGLRenderer.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/render/CanvasRenderer.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/render/Render.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/BaseShapes.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/geoms/base/StyleMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/geoms/base/BaseGeom.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/geoms/lines/PathBase.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/geoms/lines/arc/Arc.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/geoms/lines/arc/Circle.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/geoms/lines/Curve.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/geoms/lines/arc/Ellipse.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/geoms/lines/Line.js","../../../../node_modules/phaser3-rex-plugins/plugins/geom/pathdata/StartAt.js","../../../../node_modules/phaser3-rex-plugins/plugins/geom/pathdata/QuadraticBezierTo.js","../../../../node_modules/phaser3-rex-plugins/plugins/geom/pathdata/RotateAround.js","../../../../node_modules/phaser3-rex-plugins/plugins/geom/pathdata/Offset.js","../../../../node_modules/phaser3-rex-plugins/plugins/geom/pathdata/ToPoints.js","../../../../node_modules/phaser3-rex-plugins/plugins/geom/pathdata/ToPolygon.js","../../../../node_modules/phaser3-rex-plugins/plugins/geom/pathdata/PathData.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/geoms/lines/Lines.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/geoms/rectangle/Rectangle.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/shapes/geoms/triangle/Triangle.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/circularprogress/CircularProgress.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/GetSizerConfig.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/GetChildPrevState.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/system/GetViewport.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/PushIntoBounds.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/AlignConst.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/actions/GlobZone.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/align/const.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/size/GetDisplaySize.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/bounds/GetBottom.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/bounds/GetCenterX.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/bounds/SetBottom.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/bounds/SetCenterX.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/align/in/BottomCenter.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/bounds/GetLeft.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/bounds/SetLeft.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/align/in/BottomLeft.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/bounds/GetRight.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/bounds/SetRight.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/align/in/BottomRight.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/bounds/SetCenterY.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/bounds/CenterOn.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/bounds/GetCenterY.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/align/in/Center.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/align/in/LeftCenter.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/align/in/RightCenter.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/bounds/GetTop.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/bounds/SetTop.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/align/in/TopCenter.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/align/in/TopLeft.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/align/in/TopRight.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/align/align/in/QuickSet.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/actions/AlignIn.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/bounds/GetBounds.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/DrawBounds.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/bounds/GetBoundsConfig.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/utils/AddChild.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/AddChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/RemoveChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/AddChildrenMap.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/RemoveChildrenMap.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/GetElement.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/PaddingMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/ResolveWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/ResolveChildrenWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/ResolveHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/GetChildWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/GetChildHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/GetExpandedChildWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/GetExpandedChildHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/GetChildrenWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/GetChildrenHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/GetAllChildrenSizers.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/GetChildrenSizers.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/GetShownChildrenMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/PreLayout.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/Layout.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/RunLayout.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/LayoutChildren.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/PostLayout.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/RunWidthWrap.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/anchor/Anchor.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/SetAnchor.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/scale/Scale.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/scale/PopUp.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/scale/ScaleDownDestroy.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/scale/Yoyo.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/ScaleMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/fade/Fade.js","../../../../node_modules/phaser3-rex-plugins/plugins/fade-in.js","../../../../node_modules/phaser3-rex-plugins/plugins/fade-out-destroy.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/FadeMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/easemove/EaseMove.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/easemove/ParseValue.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/easemove/EaseMoveTo.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/easemove/EaseMoveFrom.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/EaseMoveMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/shake/ShakePosition.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/ShakeMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/easedata/EaseData.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/EaseDataMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/Hide.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/HideMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/bounds/IsPointInBounds.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/input/IsPointerInBounds.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/IsInTouching.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/object/IsFunction.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/object/IsArray.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/ContainsPoint.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/PointToChild.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/GetParentSizerMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/size/ResizeGameObject.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/CopyState.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/utils/PreLayoutChild.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/utils/LayoutChild.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/LayoutBackgrounds.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/SetDraggable.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/button/Button.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/ClickMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/clickoutside/ClickOutside.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/ClickOutsideMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/logic/fsm/FSM.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/time/cooldown/Cooldown.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/intouching/InTouching.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/TouchingMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/setchildreninteractive/PointToChild.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/setchildreninteractive/EmitChildEvent.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/setchildreninteractive/ClickChild.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/setchildreninteractive/OverChild.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/gestures/onepointertracer/OnePointerTracer.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/gestures/tap/Tap.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/gestures/press/Press.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/gestures/pan/Pan.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/gestures/swipe/VelocityMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/math/angle/angletodirections/Const.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/math/angle/angletodirections/AngleToDirections.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/gestures/swipe/Swipe.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/gestures/twopointerstracer/TwoPointersTracer.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/gestures/pinch/Pinch.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/actions/RotateObjectAround.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/position/ScreenXYToWorldXY.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/gestures/rotate/SpinObject.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/gestures/rotate/Rotate.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/setchildreninteractive/TapChild.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/setchildreninteractive/PressChild.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/setchildreninteractive/SwipeChild.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/setchildreninteractive/SetChildrenInteractive.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/SetChildrenInteractive.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/BroadcastEvent.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/Methods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/BaseSizer.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/overlapsizer/GetChildrenWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/overlapsizer/GetChildrenHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/overlapsizer/GetExpandedChildWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/overlapsizer/GetExpandedChildHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/overlapsizer/GetChildrenSizers.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/utils/CheckSize.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/overlapsizer/LayoutChildren.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/overlapsizer/AddChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/utils/RemoveChild.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/basesizer/utils/ClearChildren.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/overlapsizer/RemoveChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/overlapsizer/Methods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/object/IndexOf.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/overlapsizer/OverlapSizer.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/knob/input/IsLocalPointInKnob.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/knob/input/OnTouchPad.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/knob/input/OnPanPad.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/knob/TextObjectMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/knob/Knob.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/customshapes/ShapesUpdateMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/customshapes/CustomShapes.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/customprogress/CustomProgress.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/transitionimage/methods/SetTransitionCallbackMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/transitionimage/methods/TransitionMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/mask/defaultmaskgraphics/DrawShape.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/mask/defaultmaskgraphics/DefaultMaskGraphics.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/transitionimage/methods/MaskMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/texture/gridcut/GetFrameNameCallback.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/texture/gridcut/GridCut.js","../../../../node_modules/phaser3-rex-plugins/plugins/actions/GridCutImage.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/transitionimage/methods/GridCutMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/transitionimage/methods/Methods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/transitionimage/methods/CrossFadeTransition.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/transitionimage/TransitionImage.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/fullwindowrectangle/FullWindowRectangle.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/toucheventstop/TouchEventStop.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/shape/cover/Cover.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/chart/SetChart.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/chart/GetChartDataset.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/chart/GetChartData.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/chart/SetChartData.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/chart/UpdateChart.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/chart/Chart.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/GetChildrenWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/GetChildrenHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/GetExpandedChildWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/GetExpandedChildHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/GetChildrenSizers.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/PreLayout.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/LayoutChildren.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/ResolveWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/ResolveHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/space/Space.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/GetNearestChildIndex.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/AddChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/RemoveChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/Methods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/GetChildrenProportion.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/GetOrientationMode.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sizer/Sizer.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/math/Sum.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/GetChildrenWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/GetChildrenHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/GetExpandedChildWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/GetExpandedChildHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/GetChildrenSizers.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/PreLayout.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/LayoutChildren.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/ResolveWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/ResolveHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/ResolveChildrenWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/RunWidthWrap.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/AddChildMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/array/Fill.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/RemoveChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/ResetGrid.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/InsertEmptyRow.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/InsertEmptyColumn.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/Methods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/GetTotalColumnProportions.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/GetTotalRowProportions.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridsizer/GridSizer.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthsizer/GetChildrenWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthsizer/GetChildrenHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthsizer/GetChildrenSizers.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthsizer/PreLayout.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthsizer/LayoutChildren.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthsizer/RunChildrenWrap.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthsizer/RunWidthWrap.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthsizer/GetNearestChildIndex.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthsizer/AddChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthsizer/RemoveChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthsizer/Methods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthsizer/GetMaxChildWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthsizer/GetMaxChildHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthsizer/FixWidthSizer.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/mask/AddChildMask.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/label/Label.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/buttons/AddChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/buttons/RemoveChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/buttongroup/AddMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/buttongroup/RemoveMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/buttongroup/FireEvent.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/buttongroup/SetTypeMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/system/GetGameObjectByName.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/buttongroup/ButtonMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/buttongroup/ButtonGroup.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/buttongroup/ButtonStateMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/buttons/Buttons.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridbuttons/AddChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridbuttons/RemoveChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridbuttons/GridButtons.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthbuttons/AddChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthbuttons/RemoveChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/fixwidthbuttons/FixWidthButtons.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/dialog/ButtonMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/dialog/Dialog.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/holygrail/HolyGrail.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/tabs/ButtonMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/tabs/Tabs.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/slider/PositionToPercent.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/slider/OnDragThumb.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/slider/OnTouchTrack.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/slider/GetThumbAlignPoint.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/slider/GetStartPoint.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/slider/GetEndPoint.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/slider/PercentToPosition.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/slider/UpdateThumb.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/slider/UpdateIndicator.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/slider/Slider.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/ScrollModeConst.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/GetScrollMode.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/scrollbar/ScrollBar.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/scrollable/Slider.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/scroller/State.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/dragspeed/DragSpeed.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/movement/Movement.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/movement/SlowDown.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/scroller/Scroller.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/mousewheelscroller/MouseWheelScroller.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/scrollable/CreateScrollableSizer.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/scrollable/ResizeController.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/scrollable/UpdateController.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/utils/scrollable/Scrollable.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/Cell.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/Table.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/SetTableOY.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/SetTableOX.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/mask/MaskToGameObject.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/mask/MaskChildren.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/mask/ChildrenMaskMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/updatetable/HideCell.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/updatetable/HideCells.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/updatetable/ShowCell.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/updatetable/ShowCells.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/updatetable/UpdateTable.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/IsCellVisible.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/PointToCell.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/EachCell.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/SetCellsCount.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/InsertNewCells.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/RemoveCells.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/SetColumnCount.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/SetGridSize.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/UpdateVisibleCell.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/methods/Methods.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/gridtable/GridTable.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridtable/InjectProperties.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridtable/TableOnCellVisible.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridtable/input/EmitCellEvent.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridtable/input/PointerUpDownCell.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridtable/input/OverCell.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridtable/input/ClickCell.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridtable/input/TapCell.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridtable/input/PressCell.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridtable/input/SwipeCell.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridtable/input/TableSetInteractive.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridtable/SetItems.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/gridtable/GridTable.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/menu/methods/GetEaseConfig.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/menu/methods/SetTransitCallbackMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/time/PostUpdateDelayCall.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/menu/methods/DelayCallMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/menu/methods/ExpandSubMenu.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/menu/methods/Collapse.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/menu/methods/CollapseSubMenu.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/menu/methods/IsInTouching.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/menu/methods/Methods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/menu/methods/CreateBackground.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/menu/methods/CreateButtons.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/menu/methods/MenuSetInteractive.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/menu/methods/ParseEaseConfig.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/menu/methods/Expand.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/menu/Menu.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/dropdownlist/methods/listpanel/ConfigMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/dropdownlist/methods/listpanel/CreateListPanel.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/dropdownlist/methods/listpanel/OpenListPanel.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/dropdownlist/methods/listpanel/CloseListPanel.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/dropdownlist/methods/listpanel/ToggleListPanel.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/dropdownlist/methods/DelayCallMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/dropdownlist/methods/Methods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/dropdownlist/DropDownList.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/text/IsTextGameObject.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/bitmaptext/IsBitmapTextGameObject.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/text/GetTextObjectType.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/text/TextToLines.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/textpage/methods/GetLines.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/textpage/methods/SetContentMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/textpage/methods/GetPageMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/text/SetNoWrapText.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/textpage/methods/ShowMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/textpage/methods/Methods.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/textpage/TextPage.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/texttyping/TextTyping.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textbox/TextBox.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/numberbar/NumberBar.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/badgelabel/BadgeLabel.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/pages/methods/AddChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/pages/methods/GetPage.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/pages/methods/SwapPage.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/pages/methods/HasPage.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/pages/methods/Methods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/pages/Pages.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/tabpages/methods/GetPageKeyByIndex.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/tabpages/methods/GetPageIndexByKey.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/tabpages/methods/AddPage.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/tabpages/methods/SwapPageMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/tabpages/methods/RemovePageMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/tabpages/methods/GetPage.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/tabpages/methods/GetTab.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/tabpages/methods/Methods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/tabpages/TabPages.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/textblock/SetText.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/textblock/TextHeightToLinesCount.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/textblock/LinesCountToTextHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/textblock/GetLines.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/textblock/ResetTextObjectPosition.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/textblock/UpdateTextObject.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/textblock/PreLayout.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/textblock/ResizeText.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/textblock/LayoutChildren.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/textblock/Methods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/textblock/TextBlock.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/InjectProperties.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/SetText.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/AppendText.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/textarea/TextArea.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/scrollablepanel/scrollableblock/GetChildrenWidth.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/scrollablepanel/scrollableblock/GetChildrenHeight.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/scrollablepanel/scrollableblock/GetChildrenSizers.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/scrollablepanel/scrollableblock/ResetChildPosition.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/scrollablepanel/scrollableblock/LayoutChildren.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/scrollablepanel/scrollableblock/Methods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/scrollablepanel/scrollableblock/ScrollableBlock.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/scrollablepanel/ScrollablePanel.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/toast/DefaultTransitCallbacks.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/array/Copy.js","../../../../node_modules/phaser3-rex-plugins/plugins/logic/runcommands/RunCommands.js","../../../../node_modules/phaser3-rex-plugins/plugins/logic/runcommands/tcrp/Player.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/toast/Toast.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sides/defaultcallbacks/VisibleCallbacks.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sides/defaultcallbacks/FadeCallbacks.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sides/defaultcallbacks/MoveCallbacks.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sides/defaultcallbacks/MovePanelCallbacks.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sides/defaultcallbacks/GetDefaultCallbacks.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sides/ShowChildMethods.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sides/childbehaviors/Visible.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sides/childbehaviors/Fade.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sides/childbehaviors/Move.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sides/childbehaviors/index.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/sides/Sides.js","../../../../node_modules/phaser3-rex-plugins/plugins/input/drag/Drag.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/flip/GetFaceUpdatingCallback.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/flip/Flip.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/perspective/utils/TransformVerts.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/perspective/image/Image.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/perspective/rendertexture/RenderTexture.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/perspective/sprite/Sprite.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/perspective/utils/FaceContainer.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/perspective/utils/CreatePerspectiveObject.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/perspective/card/LayoutFaces.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/perspective/card/Flip.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/perspective/card/Card.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/perspective/carousel/Roll.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/perspective/carousel/Carousel.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/perspective/imagecarousel/ImageCarousel.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/containerlite/rendertexture/Init.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/bounds/GetBoundsOfGameObjects.js","../../../../node_modules/phaser3-rex-plugins/plugins/utils/rendertexture/Snapshot.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/utils/LocalXY.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/quad/image/methods/InitFaces.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/quad/image/Image.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/quad/rendertexture/RenderTexture.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/quad/skewimage/SkewImage.js","../../../../node_modules/phaser3-rex-plugins/plugins/gameobjects/mesh/quad/skewrendertexture/SkewRenderTexture.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/modal/Modal.js","../../../../node_modules/phaser3-rex-plugins/node_modules/js-yaml/dist/js-yaml.mjs","../../../../node_modules/phaser3-rex-plugins/templates/ui/maker/builders/CreateImage.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/maker/builders/CreateSprite.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/maker/builders/CreateVideo.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/maker/builders/CreateText.js","../../../../node_modules/phaser3-rex-plugins/templates/ui/maker/Maker.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/textedit/CreateInputText.js","../../../../node_modules/phaser3-rex-plugins/plugins/behaviors/textedit/TextEdit.js","../../../../node_modules/phaser3-rex-plugins/plugins/storage/localstorage/utils/StorageMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/storage/localstorage/data/StorageMethods.js","../../../../node_modules/phaser3-rex-plugins/plugins/storage/localstorage/data/Load.js","../../../../node_modules/phaser3-rex-plugins/plugins/storage/localstorage/data/GetDefaultValue.js","../../../../node_modules/phaser3-rex-plugins/plugins/storage/localstorage/data/AddCallbacks.js","../../../../node_modules/phaser3-rex-plugins/plugins/storage/localstorage/data/Extend.js","../../../../node_modules/phaser3-rex-plugins/plugins/storage/localstorage/data/DataManager.js"],"sourcesContent":["// copy from Phaser.GameObjects.Text\r\n\r\nconst Utils = Phaser.Renderer.WebGL.Utils;\r\n\r\nvar WebGLRenderer = function (renderer, src, camera, parentMatrix) {\r\n    if (src.dirty) {\r\n        src.updateTexture();\r\n        src.dirty = false;\r\n    }\r\n\r\n    if ((src.width === 0) || (src.height === 0)) {\r\n        return;\r\n    }\r\n\r\n    camera.addToRenderList(src);\r\n\r\n    var frame = src.frame;\r\n    var width = frame.width;\r\n    var height = frame.height;\r\n    var getTint = Utils.getTintAppendFloatAlpha;\r\n    var pipeline = renderer.pipelines.set(src.pipeline, src);\r\n    var textureUnit = pipeline.setTexture2D(frame.glTexture, src);\r\n\r\n    renderer.pipelines.preBatch(src);\r\n\r\n    pipeline.batchTexture(\r\n        src,\r\n        frame.glTexture,\r\n        width, height,\r\n        src.x, src.y,\r\n        width / src.resolution, height / src.resolution,\r\n        src.scaleX, src.scaleY,\r\n        src.rotation,\r\n        src.flipX, src.flipY,\r\n        src.scrollFactorX, src.scrollFactorY,\r\n        src.displayOriginX, src.displayOriginY,\r\n        0, 0, width, height,\r\n        getTint(src.tintTopLeft, camera.alpha * src._alphaTL),\r\n        getTint(src.tintTopRight, camera.alpha * src._alphaTR),\r\n        getTint(src.tintBottomLeft, camera.alpha * src._alphaBL),\r\n        getTint(src.tintBottomRight, camera.alpha * src._alphaBR),\r\n        src.tintFill,\r\n        0, 0,\r\n        camera,\r\n        parentMatrix,\r\n        false,\r\n        textureUnit\r\n    );\r\n\r\n    renderer.pipelines.postBatch(src);\r\n};\r\n\r\nexport default WebGLRenderer;","// copy from Phaser.GameObjects.Text\r\n\r\nvar CanvasRenderer = function (renderer, src, camera, parentMatrix) {\r\n    if (src.dirty) {\r\n        src.updateTexture();\r\n        src.dirty = false;\r\n    }\r\n\r\n    if ((src.width === 0) || (src.height === 0)) {\r\n        return;\r\n    }\r\n\r\n    camera.addToRenderList(src);\r\n\r\n    renderer.batchSprite(src, src.frame, camera, parentMatrix);\r\n};\r\n\r\nexport default CanvasRenderer;","import WebGLRenderer from './WebGLRenderer.js';\r\nimport CanvasRenderer from './CanvasRenderer.js';\r\n\r\nexport default {\r\n    renderWebGL: WebGLRenderer,\r\n    renderCanvas: CanvasRenderer\r\n\r\n};","const Color = Phaser.Display.Color;\r\n\r\nexport default {\r\n    clear() {\r\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n        this.dirty = true;\r\n        return this;\r\n    },\r\n\r\n    fill(color) {\r\n        this.context.fillStyle = color;\r\n        this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n        this.dirty = true;\r\n        return this;\r\n    },\r\n\r\n    loadFromURL(url, callback) {\r\n        var self = this;\r\n        var img = new Image();\r\n        img.onload = function () {\r\n            if ((self.width !== img.width) || (self.height !== img.height)) {\r\n                self.resize(img.width, img.height);\r\n            } else {\r\n                self.clear();\r\n            }\r\n            self.context.drawImage(img, 0, 0);\r\n            self.updateTexture();\r\n\r\n            if (callback) {\r\n                callback();\r\n            }\r\n\r\n            img.onload = null;\r\n            img.src = '';\r\n            img.remove();\r\n        }\r\n        img.src = url;\r\n        return this;\r\n    },\r\n\r\n    loadFromURLPromise(url) {\r\n        var self = this;\r\n        return new Promise(function (resolve, reject) {\r\n            self.loadFromURL(url, resolve);\r\n        });\r\n    },\r\n\r\n    getDataURL(type, encoderOptions) {\r\n        return this.canvas.toDataURL(type, encoderOptions);\r\n    },\r\n\r\n    getPixel(x, y, out) {\r\n        if (out === undefined) {\r\n            out = new Color();\r\n        }\r\n        var rgb = this.context.getImageData(x, y, 1, 1);\r\n        out.setTo(rgb.data[0], rgb.data[1], rgb.data[2], rgb.data[3])\r\n        return out;\r\n    },\r\n\r\n    setPixel(x, y, r, g, b, a) {\r\n        if (typeof (r) !== 'number') {\r\n            var color = r;\r\n            r = color.red;\r\n            g = color.green;\r\n            b = color.blue;\r\n            a = color.alpha;\r\n        }\r\n\r\n        if (a === undefined) {\r\n            a = ((r !== 0) || (g !== 0) || (b !== 0)) ? 255 : 0;\r\n        }\r\n\r\n        var imgData = this.context.createImageData(1, 1);\r\n        imgData.data[0] = r;\r\n        imgData.data[1] = g;\r\n        imgData.data[2] = b;\r\n        imgData.data[3] = a;\r\n        this.context.putImageData(imgData, x, y);\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n}","var CopyCanvasToTexture = function (scene, srcCanvas, key, x, y, width, height) {\r\n    var textures = scene.sys.textures;\r\n    var renderer = scene.renderer;\r\n\r\n    if (x === undefined) {\r\n        x = 0;\r\n    }\r\n    if (y === undefined) {\r\n        y = 0;\r\n    }\r\n    if (width === undefined) {\r\n        width = srcCanvas.width;\r\n    }\r\n    if (height === undefined) {\r\n        height = srcCanvas.height;\r\n    }\r\n\r\n    var texture;\r\n    if (textures.exists(key)) {\r\n        texture = textures.get(key);\r\n    } else {\r\n        texture = textures.createCanvas(key, width, height);\r\n    }\r\n\r\n    var destCanvas = texture.getSourceImage();\r\n    if (destCanvas.width !== width) {\r\n        destCanvas.width = width;\r\n    }\r\n    if (destCanvas.height !== height) {\r\n        destCanvas.height = height;\r\n    }\r\n\r\n    var destCtx = destCanvas.getContext('2d');\r\n    destCtx.clearRect(0, 0, width, height);\r\n    destCtx.drawImage(srcCanvas, x, y, width, height);\r\n    if (renderer.gl && texture) {\r\n        renderer.canvasToTexture(destCanvas, texture.source[0].glTexture, true, 0);\r\n    }\r\n}\r\n\r\nexport default CopyCanvasToTexture;","import CopyCanvasToTexture from '../../../utils/texture/CopyCanvasToTexture.js';\r\n\r\nexport default {\r\n    updateTexture(callback, scope) {\r\n        if (callback) {\r\n            if (scope) {\r\n                callback.call(scope, this.canvas, this.context);\r\n            } else {\r\n                callback(this.canvas, this.context);\r\n            }\r\n        }\r\n\r\n        if ((this.canvas.width !== this.frame.width) || (this.canvas.height !== this.frame.height)) {\r\n            this.frame.setSize(this.canvas.width, this.canvas.height);\r\n        }\r\n        if (this.renderer.gl) {\r\n            this.frame.source.glTexture = this.renderer.canvasToTexture(this.canvas, this.frame.source.glTexture, true);\r\n            this.frame.glTexture = this.frame.source.glTexture;\r\n        }\r\n        this.dirty = false;\r\n\r\n        var input = this.input;\r\n        if (input && !input.customHitArea) {\r\n            input.hitArea.width = this.width;\r\n            input.hitArea.height = this.height;\r\n        }\r\n        return this;\r\n    },\r\n\r\n    generateTexture(key, x, y, width, height) {\r\n        var srcCanvas = this.canvas;\r\n        if (width === undefined) {\r\n            width = srcCanvas.width;\r\n        } else {\r\n            width *= this.resolution;\r\n        }\r\n        if (height === undefined) {\r\n            height = srcCanvas.height;\r\n        } else {\r\n            height *= this.resolution;\r\n        }\r\n\r\n        CopyCanvasToTexture(this.scene, srcCanvas, key, x, y, width, height);\r\n\r\n        return this;\r\n    },\r\n\r\n    loadTexture(key, frame) {\r\n        var textureFrame = this.scene.sys.textures.getFrame(key, frame);\r\n        if (!textureFrame) {\r\n            return this;\r\n        }\r\n\r\n        if ((this.width !== textureFrame.cutWidth) || (this.height !== textureFrame.cutHeight)) {\r\n            this.setSize(textureFrame.cutWidth, textureFrame.cutHeight);\r\n        } else {\r\n            this.clear();\r\n        }\r\n        this.context.drawImage(textureFrame.source.image,\r\n            textureFrame.cutX, textureFrame.cutY, textureFrame.cutWidth, textureFrame.cutHeight,\r\n            0, 0, this.canvas.width, this.canvas.height);\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n}","import Render from './render/Render.js';\r\nimport CanvasMethods from './CanvasMethods.js';\r\nimport TextureMethods from './TextureMethods.js';\r\n\r\nconst CanvasPool = Phaser.Display.Canvas.CanvasPool;\r\nconst GameObject = Phaser.GameObjects.GameObject;\r\n\r\nclass Canvas extends GameObject {\r\n    constructor(scene, x, y, width, height) {\r\n        if (x === undefined) {\r\n            x = 0;\r\n        }\r\n        if (y === undefined) {\r\n            y = 0;\r\n        }\r\n        if (width === undefined) {\r\n            width = 1;\r\n        }\r\n        if (height === undefined) {\r\n            height = 1;\r\n        }\r\n\r\n        super(scene, 'rexCanvas');\r\n\r\n        this.renderer = scene.sys.game.renderer;\r\n\r\n        this.resolution = 1;\r\n        this._width = width;\r\n        this._height = height;\r\n        width = Math.max(Math.ceil(width * this.resolution), 1);\r\n        height = Math.max(Math.ceil(height * this.resolution), 1);\r\n        this.canvas = CanvasPool.create(this, width, height);\r\n        this.context = this.canvas.getContext('2d');\r\n        this.dirty = false;\r\n\r\n        this.setPosition(x, y);\r\n        this.setOrigin(0.5, 0.5);\r\n        this.initPipeline();\r\n\r\n        this._crop = this.resetCropObject();\r\n\r\n        //  Create a Texture for this Text object\r\n        this.texture = scene.sys.textures.addCanvas(null, this.canvas, true);\r\n\r\n        //  Get the frame\r\n        this.frame = this.texture.get();\r\n\r\n        //  Set the resolution\r\n        this.frame.source.resolution = this.resolution;\r\n\r\n        if (this.renderer && this.renderer.gl) {\r\n            //  Clear the default 1x1 glTexture, as we override it later\r\n            this.renderer.deleteTexture(this.frame.source.glTexture);\r\n            this.frame.source.glTexture = null;\r\n        }\r\n\r\n        this.dirty = true;\r\n\r\n        scene.sys.game.events.on('contextrestored', this.onContextRestored, this);\r\n    }\r\n\r\n    onContextRestored() {\r\n        this.dirty = true;\r\n    }\r\n\r\n    preDestroy() {\r\n        this.scene.sys.game.events.off('contextrestored', this.onContextRestored, this);\r\n        CanvasPool.remove(this.canvas);\r\n        this.texture.destroy();\r\n\r\n        this.canvas = null;\r\n        this.context = null;\r\n    }\r\n\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    set width(value) {\r\n        this.setSize(value, this._height);\r\n    }\r\n\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    set height(value) {\r\n        this.setSize(this._width, value);\r\n    }\r\n\r\n    setSize(width, height) {\r\n        if ((this._width === width) && (this._height === height)) {\r\n            return this;\r\n        }\r\n\r\n        this._width = width;\r\n        this._height = height;\r\n\r\n        this.updateDisplayOrigin();\r\n\r\n        width = Math.max(Math.ceil(width * this.resolution), 1);\r\n        height = Math.max(Math.ceil(height * this.resolution), 1);\r\n        this.canvas.width = width;\r\n        this.canvas.height = height;\r\n\r\n        this.frame.setSize(width, height);\r\n\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    get displayWidth() {\r\n        return this.scaleX * this._width;\r\n    }\r\n\r\n    set displayWidth(value) {\r\n        this.scaleX = value / this._width;\r\n    }\r\n\r\n    get displayHeight() {\r\n        return this.scaleY * this._height;\r\n    }\r\n\r\n    set displayHeight(value) {\r\n        this.scaleY = value / this._height;\r\n    }\r\n\r\n    setDisplaySize(width, height) {\r\n        this.displayWidth = width;\r\n        this.displayHeight = height;\r\n        return this;\r\n    }\r\n\r\n    getCanvas(readOnly) {\r\n        if (!readOnly) {\r\n            this.dirty = true;\r\n        }\r\n        return this.canvas;\r\n    }\r\n\r\n    getContext(readOnly) {\r\n        if (!readOnly) {\r\n            this.dirty = true;\r\n        }\r\n        return this.context;\r\n    }\r\n\r\n    needRedraw() {\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    resize(width, height) {\r\n        this.setSize(width, height);\r\n        return this;\r\n    }\r\n}\r\n\r\nconst Components = Phaser.GameObjects.Components;\r\nPhaser.Class.mixin(Canvas,\r\n    [\r\n        Components.Alpha,\r\n        Components.BlendMode,\r\n        Components.Crop,\r\n        Components.Depth,\r\n        Components.Flip,\r\n        Components.GetBounds,\r\n        Components.Mask,\r\n        Components.Origin,\r\n        Components.Pipeline,\r\n        Components.ScrollFactor,\r\n        Components.Tint,\r\n        Components.Transform,\r\n        Components.Visible,\r\n        Render,\r\n        CanvasMethods,\r\n        TextureMethods,\r\n    ]\r\n);\r\n\r\nexport default Canvas;","const Pad = Phaser.Utils.String.Pad;\r\nvar GetStyle = function (style, canvas, context) {\r\n    if (style == null) {\r\n        return style;\r\n    }\r\n\r\n    switch (typeof (style)) {\r\n        case 'string': return style;\r\n        case 'number': return `#${Pad(Math.floor(style).toString(16), 6, '0', 1)}`;\r\n        case 'function': return style(canvas, context);\r\n        case 'object':\r\n            if (style.hasOwnProperty('r')) {\r\n                if (style.hasOwnProperty('a')) {  // rgba\r\n                    return `rgba(${style.r},${style.g},${style.b},${style.a})`;\r\n                } else {  // rgb\r\n                    return `rgb(${style.r},${style.g},${style.b})`;\r\n                }\r\n            } else if (style.hasOwnProperty('h')) {\r\n                if (style.hasOwnProperty('a')) {  // hsla\r\n                    return `hsla(${style.h},${style.s},${style.l},${style.a})`;\r\n                } else {  // hsl\r\n                    return `hsl(${style.h},${style.s},${style.l})`;\r\n                }\r\n            } else {\r\n                return style; // Not a valid input\r\n            }\r\n        default: return style;\r\n    }\r\n}\r\n\r\nexport default GetStyle;","var DrawCircle = function (\r\n    canvas, context,\r\n    x, y,\r\n    rx, ry,\r\n    fillStyle, strokeStyle, lineWidth,\r\n    startAngle, endAngle, anticlockwise\r\n) {\r\n\r\n    if (startAngle === undefined) {\r\n        startAngle = 0;\r\n    }\r\n    if (endAngle === undefined) {\r\n        endAngle = 2 * Math.PI;\r\n    }\r\n    if (anticlockwise === undefined) {\r\n        anticlockwise = false;\r\n    }\r\n\r\n    context.beginPath();\r\n\r\n    context.ellipse(x, y, rx, ry, 0, startAngle, endAngle, anticlockwise);\r\n\r\n    if (fillStyle != null) {\r\n        context.fillStyle = fillStyle;\r\n        context.fill();\r\n    }\r\n\r\n    if (strokeStyle != null) {\r\n        context.strokeStyle = strokeStyle;\r\n        context.lineWidth = lineWidth;\r\n        context.stroke();\r\n    }\r\n}\r\n\r\nexport default DrawCircle;","var DrawText = function (\r\n    canvas, context,\r\n    x, y,\r\n    text, font,\r\n    fillStyle, strokeStyle, lineWidth,\r\n    textAlign, textBaseline\r\n) {\r\n\r\n    if ((lineWidth === undefined) && (strokeStyle != null)) {\r\n        lineWidth = 2;\r\n    }\r\n\r\n    if (textAlign === undefined) {\r\n        textAlign = 'start';\r\n    }\r\n\r\n    if (textBaseline === undefined) {\r\n        textBaseline = 'alphabetic';\r\n    }\r\n\r\n    context.font = font;\r\n    context.textAlign = textAlign;\r\n    context.textBaseline = textBaseline;\r\n\r\n    context.fillStyle = fillStyle;\r\n    context.strokeStyle = strokeStyle;\r\n\r\n    context.lineWidth = lineWidth;\r\n    context.lineCap = 'round';\r\n    context.lineJoin = 'round';\r\n\r\n    if ((strokeStyle != null) && (strokeStyle !== 'none') && (lineWidth > 0)) {\r\n        context.strokeText(text, x, y);\r\n    }\r\n\r\n    if ((fillStyle != null) && (fillStyle !== 'none')) {\r\n        context.fillText(text, x, y);\r\n    }\r\n\r\n}\r\n\r\nexport default DrawText;","import DrawCicle from '../../../utils/canvas/DrawCircle.js';\r\nimport DrawText from '../../../utils/canvas/DrawText.js';\r\n\r\n\r\nvar DrawContent = function () {\r\n    var x = this.radius;\r\n    var lineWidth = this.thickness * this.radius;\r\n    var barRadius = this.radius - (lineWidth / 2);\r\n    var centerRadius = this.radius - lineWidth;\r\n    var canvas = this.canvas,\r\n        context = this.context;\r\n\r\n    // Draw track\r\n    if (this.trackColor && (lineWidth > 0)) {\r\n        context.save();\r\n\r\n        DrawCicle(\r\n            canvas, context,\r\n            x, x,\r\n            barRadius, barRadius,\r\n            undefined,\r\n            this.trackColor,\r\n            lineWidth\r\n        );\r\n\r\n        context.restore();\r\n    }\r\n\r\n    // Draw bar\r\n    if ((this.barColor) && (barRadius > 0)) {\r\n        var anticlockwise, startAngle, endAngle;\r\n        if (this.value === 1) {\r\n            anticlockwise = false;\r\n            startAngle = 0;\r\n            endAngle = 2 * Math.PI;\r\n        } else {\r\n            anticlockwise = this.anticlockwise;\r\n            startAngle = this.startAngle;\r\n            var deltaAngle = 2 * Math.PI * ((anticlockwise) ? (1 - this.value) : this.value);\r\n            endAngle = deltaAngle + startAngle;\r\n        }\r\n\r\n        context.save();\r\n\r\n        DrawCicle(\r\n            canvas, context,\r\n            x, x,\r\n            barRadius, barRadius,\r\n            undefined,\r\n            this.barColor,\r\n            lineWidth,\r\n            startAngle, endAngle, anticlockwise\r\n        );\r\n\r\n        context.restore();\r\n    }\r\n\r\n    // Draw center\r\n    if (this.centerColor && (centerRadius > 0)) {\r\n        var fillStyle;\r\n        if (this.centerColor2) {\r\n            fillStyle = this.context.createRadialGradient(x, x, 0, x, x, centerRadius);\r\n            fillStyle.addColorStop(0, this.centerColor);\r\n            fillStyle.addColorStop(1, this.centerColor2);\r\n        } else {\r\n            fillStyle = this.centerColor;\r\n        }\r\n\r\n        context.save();\r\n\r\n        DrawCicle(\r\n            canvas, context,\r\n            x, x,\r\n            centerRadius, centerRadius,\r\n            fillStyle\r\n        );\r\n\r\n        context.restore();\r\n    }\r\n\r\n    // Draw text\r\n    if (this.textFormatCallback && (this.textColor || this.textStrokeColor)) {\r\n\r\n        context.save();\r\n\r\n        DrawText(\r\n            canvas, context,\r\n            x, x,\r\n            this.getFormatText(), this.textFont,\r\n            this.textColor, this.textStrokeColor, this.textStrokeThickness,\r\n            'center',  // textAlign\r\n            'middle'   // textBaseline\r\n        )\r\n\r\n        context.restore();\r\n    }\r\n}\r\n\r\nexport default DrawContent;","export default {\r\n    setEventEmitter(eventEmitter, EventEmitterClass) {\r\n        if (EventEmitterClass === undefined) {\r\n            EventEmitterClass = Phaser.Events.EventEmitter; // Use built-in EventEmitter class by default\r\n        }\r\n        this._privateEE = (eventEmitter === true) || (eventEmitter === undefined);\r\n        this._eventEmitter = (this._privateEE) ? (new EventEmitterClass()) : eventEmitter;\r\n        return this;\r\n    },\r\n\r\n    destroyEventEmitter() {\r\n        if (this._eventEmitter && this._privateEE) {\r\n            this._eventEmitter.shutdown();\r\n        }\r\n        return this;\r\n    },\r\n\r\n    getEventEmitter() {\r\n        return this._eventEmitter;\r\n    },\r\n\r\n    on: function () {\r\n        if (this._eventEmitter) {\r\n            this._eventEmitter.on.apply(this._eventEmitter, arguments);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    once: function () {\r\n        if (this._eventEmitter) {\r\n            this._eventEmitter.once.apply(this._eventEmitter, arguments);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    off: function () {\r\n        if (this._eventEmitter) {\r\n            this._eventEmitter.off.apply(this._eventEmitter, arguments);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    emit: function (event) {\r\n        if (this._eventEmitter && event) {\r\n            this._eventEmitter.emit.apply(this._eventEmitter, arguments);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    addListener: function () {\r\n        if (this._eventEmitter) {\r\n            this._eventEmitter.addListener.apply(this._eventEmitter, arguments);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    removeListener: function () {\r\n        if (this._eventEmitter) {\r\n            this._eventEmitter.removeListener.apply(this._eventEmitter, arguments);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    removeAllListeners: function () {\r\n        if (this._eventEmitter) {\r\n            this._eventEmitter.removeAllListeners.apply(this._eventEmitter, arguments);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    listenerCount: function () {\r\n        if (this._eventEmitter) {\r\n            return this._eventEmitter.listenerCount.apply(this._eventEmitter, arguments);\r\n        }\r\n        return 0;\r\n    },\r\n\r\n    listeners: function () {\r\n        if (this._eventEmitter) {\r\n            return this._eventEmitter.listeners.apply(this._eventEmitter, arguments);\r\n        }\r\n        return [];\r\n    },\r\n\r\n    eventNames: function() {\r\n        if (this._eventEmitter) {\r\n            return this._eventEmitter.eventNames.apply(this._eventEmitter, arguments);\r\n        }\r\n        return [];\r\n    }\r\n};","const SceneClass = Phaser.Scene;\r\nvar IsSceneObject = function (object) {\r\n    return (object instanceof SceneClass);\r\n}\r\nexport default IsSceneObject;","import IsSceneObject from './IsSceneObject.js';\r\n\r\nvar GetSceneObject = function (object) {\r\n    if ((object == null) || (typeof (object) !== 'object')) {\r\n        return null;\r\n    } else if (IsSceneObject(object)) { // object = scene\r\n        return object;\r\n    } else if (object.scene && IsSceneObject(object.scene)) { // object = game object\r\n        return object.scene;\r\n    } else if (object.parent && object.parent.scene && IsSceneObject(object.parent.scene)) { // parent = bob object\r\n        return object.parent.scene;\r\n    }\r\n}\r\n\r\nexport default GetSceneObject;","import EventEmitterMethods from '../eventemitter/EventEmitterMethods.js';\r\nimport GetSceneObject from '../system/GetSceneObject.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass ComponentBase {\r\n    constructor(parent, config) {\r\n        this.parent = parent;  // gameObject or scene\r\n        this.scene = GetSceneObject(parent);\r\n        this.isShutdown = false;\r\n\r\n        // Event emitter, default is private event emitter\r\n        this.setEventEmitter(GetValue(config, 'eventEmitter', true));\r\n\r\n        // Register callback of parent destroy event, also see `shutdown` method\r\n        if (this.parent && (this.parent === this.scene)) { // parent is a scene\r\n            this.scene.sys.events.once('shutdown', this.onSceneDestroy, this);\r\n        } else if (this.parent && this.parent.once) { // bob object does not have event emitter\r\n            this.parent.once('destroy', this.onParentDestroy, this);\r\n        }\r\n    }\r\n\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        // parent might not be shutdown yet\r\n        if (this.parent && (this.parent === this.scene)) { // parent is a scene\r\n            this.scene.sys.events.off('shutdown', this.onSceneDestroy, this);\r\n        } else if (this.parent && this.parent.once) { // bob object does not have event emitter\r\n            this.parent.off('destroy', this.onParentDestroy, this);\r\n        }\r\n\r\n        this.destroyEventEmitter();\r\n        this.parent = undefined;\r\n        this.scene = undefined;\r\n        this.isShutdown = true;\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        this.shutdown(fromScene);\r\n    }\r\n\r\n    onSceneDestroy() {\r\n        this.destroy(true);\r\n    }\r\n\r\n    onParentDestroy(parent, fromScene) {\r\n        this.destroy(fromScene);\r\n    }\r\n\r\n};\r\n\r\nObject.assign(\r\n    ComponentBase.prototype,\r\n    EventEmitterMethods\r\n);\r\n\r\nexport default ComponentBase;","import ComponentBase from './ComponentBase.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass TickTask extends ComponentBase {\r\n    constructor(parent, config) {\r\n        super(parent, config);\r\n\r\n        this._isRunning = false;\r\n        this.isPaused = false;\r\n        this.tickingState = false;\r\n        this.setTickingMode(GetValue(config, 'tickingMode', 1));\r\n        // boot() later\r\n    }\r\n\r\n    // override\r\n    boot() {\r\n        if ((this.tickingMode === 2) && (!this.tickingState)) {\r\n            this.startTicking();\r\n        }\r\n    }\r\n\r\n    // override\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        this.stop();\r\n        if (this.tickingState) {\r\n            this.stopTicking();\r\n        }\r\n        super.shutdown(fromScene);\r\n    }\r\n\r\n    setTickingMode(mode) {\r\n        if (typeof (mode) === 'string') {\r\n            mode = TICKINGMODE[mode];\r\n        }\r\n        this.tickingMode = mode;\r\n    }\r\n\r\n    // override\r\n    startTicking() {\r\n        this.tickingState = true;\r\n    }\r\n\r\n    // override\r\n    stopTicking() {\r\n        this.tickingState = false;\r\n    }\r\n\r\n    get isRunning() {\r\n        return this._isRunning;\r\n    }\r\n\r\n    set isRunning(value) {\r\n        if (this._isRunning === value) {\r\n            return;\r\n        }\r\n\r\n        this._isRunning = value;\r\n        if ((this.tickingMode === 1) && (value != this.tickingState)) {\r\n            if (value) {\r\n                this.startTicking();\r\n            } else {\r\n                this.stopTicking();\r\n            }\r\n        }\r\n    }\r\n\r\n    start() {\r\n        this.isPaused = false;\r\n        this.isRunning = true;\r\n        return this;\r\n    }\r\n\r\n    pause() {\r\n        // Only can ba paused in running state\r\n        if (this.isRunning) {\r\n            this.isPaused = true;\r\n            this.isRunning = false;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    resume() {\r\n        // Only can ba resumed in paused state (paused from running state)\r\n        if (this.isPaused) {\r\n            this.isRunning = true;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    stop() {\r\n        this.isPaused = false;\r\n        this.isRunning = false;\r\n        return this;\r\n    }\r\n\r\n    complete() {\r\n        this.isPaused = false;\r\n        this.isRunning = false;\r\n        this.emit('complete', this.parent, this);\r\n    }\r\n}\r\n\r\nconst TICKINGMODE = {\r\n    'no': 0,\r\n    'lazy': 1,\r\n    'always': 2\r\n}\r\n\r\nexport default TickTask;","import TickTask from './TickTask.js';\r\n\r\nclass SceneUpdateTickTask extends TickTask {\r\n    startTicking() {\r\n        super.startTicking();\r\n        this.scene.sys.events.on('update', this.update, this);\r\n    }\r\n\r\n    stopTicking() {\r\n        super.stopTicking();\r\n        if (this.scene) { // Scene might be destoryed\r\n            this.scene.sys.events.off('update', this.update, this);\r\n        }\r\n    }\r\n\r\n    // update(time, delta) {\r\n    //     \r\n    // }\r\n\r\n}\r\n\r\nexport default SceneUpdateTickTask;","const GetValue = Phaser.Utils.Objects.GetValue;\r\nconst Clamp = Phaser.Math.Clamp;\r\n\r\nclass Timer {\r\n    constructor(config) {\r\n        this.resetFromJSON(config);\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.state = GetValue(o, 'state', IDLE);\r\n        this.timeScale = GetValue(o, 'timeScale', 1);\r\n        this.delay = GetValue(o, 'delay', 0);\r\n        this.repeat = GetValue(o, 'repeat', 0);\r\n        this.repeatCounter = GetValue(o, 'repeatCounter', 0);\r\n        this.duration = GetValue(o, 'duration', 0);\r\n        this.nowTime = GetValue(o, 'nowTime', 0);\r\n        this.justRestart = GetValue(o, 'justRestart', false);\r\n    }\r\n\r\n    toJSON() {\r\n        return {\r\n            state: this.state,\r\n            timeScale: this.timeScale,\r\n            delay: this.delay,\r\n            repeat: this.repeat,\r\n            repeatCounter: this.repeatCounter,\r\n            duration: this.duration,\r\n            nowTime: this.nowTime,\r\n            justRestart: this.justRestart,\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n\r\n    }\r\n\r\n    setTimeScale(timeScale) {\r\n        this.timeScale = timeScale;\r\n        return this;\r\n    }\r\n\r\n    setDelay(delay) {\r\n        if (delay === undefined) {\r\n            delay = 0;\r\n        }\r\n        this.delay = delay;\r\n        return this;\r\n    }\r\n\r\n    setDuration(duration) {\r\n        this.duration = duration;\r\n        return this;\r\n    }\r\n\r\n    setRepeat(repeat) {\r\n        this.repeat = repeat;\r\n        return this;\r\n    }\r\n\r\n    setRepeatInfinity() {\r\n        this.repeat = -1;\r\n        return this;\r\n    }\r\n\r\n    start() {\r\n        this.nowTime = (this.delay > 0) ? -this.delay : 0;\r\n        this.state = (this.nowTime >= 0) ? COUNTDOWN : DELAY;\r\n        this.repeatCounter = 0;\r\n        return this;\r\n    }\r\n\r\n    stop() {\r\n        this.state = IDLE;\r\n        return this;\r\n    }\r\n\r\n    update(time, delta) {\r\n        if (this.state === IDLE || this.state === DONE ||\r\n            delta === 0 || this.timeScale === 0\r\n        ) {\r\n            return;\r\n        }\r\n\r\n        this.nowTime += (delta * this.timeScale);\r\n        this.state = (this.nowTime >= 0) ? COUNTDOWN : DELAY;\r\n\r\n        this.justRestart = false;\r\n        if (this.nowTime >= this.duration) {\r\n            if ((this.repeat === -1) || (this.repeatCounter < this.repeat)) {\r\n                this.repeatCounter++;\r\n                this.justRestart = true;\r\n                this.nowTime -= this.duration;\r\n            } else {\r\n                this.nowTime = this.duration;\r\n                this.state = DONE;\r\n            }\r\n        }\r\n    }\r\n\r\n    get t() {\r\n        var t;\r\n        switch (this.state) {\r\n            case IDLE:\r\n            case DELAY:\r\n                t = 0;\r\n                break;\r\n\r\n            case COUNTDOWN:\r\n                t = this.nowTime / this.duration;\r\n                break;\r\n\r\n            case DONE:\r\n                t = 1;\r\n                break;\r\n        }\r\n        return Clamp(t, 0, 1);\r\n    }\r\n\r\n    set t(value) {\r\n        value = Clamp(value, -1, 1);\r\n        if (value < 0) {\r\n            this.state = DELAY;\r\n            this.nowTime = -this.delay * value;\r\n        } else {\r\n            this.state = COUNTDOWN;\r\n            this.nowTime = this.duration * value;\r\n\r\n            if ((value === 1) && (this.repeat !== 0)) {\r\n                this.repeatCounter++;\r\n            }\r\n        }\r\n    }\r\n\r\n    setT(t) {\r\n        this.t = t;\r\n        return this;\r\n    }\r\n\r\n    get isIdle() {\r\n        return this.state === IDLE;\r\n    }\r\n\r\n    get isDelay() {\r\n        return this.state === DELAY;\r\n    }\r\n\r\n    get isCountDown() {\r\n        return this.state === COUNTDOWN;\r\n    }\r\n\r\n    get isRunning() {\r\n        return this.state === DELAY || this.state === COUNTDOWN;\r\n    }\r\n\r\n    get isDone() {\r\n        return this.state === DONE;\r\n    }\r\n\r\n    get isOddIteration() {\r\n        return (this.repeatCounter & 1) === 1;\r\n    }\r\n\r\n    get isEvenIteration() {\r\n        return (this.repeatCounter & 1) === 0;\r\n    }\r\n\r\n}\r\n\r\nconst IDLE = 0;\r\nconst DELAY = 1;\r\nconst COUNTDOWN = 2;\r\nconst DONE = -1;\r\n\r\nexport default Timer;","import TickTask from \"../SceneUpdateTickTask\";\r\nimport Timer from './Timer.js';\r\n\r\nclass TimerTickTask extends TickTask {\r\n    constructor(parent, config) {\r\n        super(parent, config);\r\n        this.timer = new Timer();\r\n        // boot() later \r\n    }\r\n\r\n    // override\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        super.shutdown(fromScene);\r\n        this.timer.destroy();\r\n        this.timer = undefined;\r\n    }\r\n\r\n    start() {\r\n        this.timer.start();\r\n        super.start();\r\n        return this;\r\n    }\r\n\r\n    stop() {\r\n        this.timer.stop();\r\n        super.stop();\r\n        return this;\r\n    }\r\n\r\n    complete() {\r\n        this.timer.stop();\r\n        super.complete();\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nexport default TimerTickTask;","import TickTask from \"../timerticktask/TimerTask\";\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\r\nconst GetEaseFunction = Phaser.Tweens.Builders.GetEaseFunction;\r\n\r\nclass EaseValueTaskBase extends TickTask {\r\n    resetFromJSON(o) {\r\n        this.timer.resetFromJSON(GetValue(o, 'timer'));\r\n        this.setEnable(GetValue(o, 'enable', true));\r\n        this.setTarget(GetValue(o, 'target', this.parent));\r\n        this.setDelay(GetAdvancedValue(o, 'delay', 0));\r\n        this.setDuration(GetAdvancedValue(o, 'duration', 1000));\r\n        this.setEase(GetValue(o, 'ease', 'Linear'));\r\n        this.setRepeat(GetValue(o, 'repeat', 0));\r\n\r\n        return this;\r\n    }\r\n\r\n    setEnable(e) {\r\n        if (e == undefined) {\r\n            e = true;\r\n        }\r\n        this.enable = e;\r\n        return this;\r\n    }\r\n\r\n    setTarget(target) {\r\n        if (target === undefined) {\r\n            target = this.parent;\r\n        }\r\n        this.target = target;\r\n        return this;\r\n    }\r\n\r\n    setDelay(time) {\r\n        this.delay = time;\r\n        return this;\r\n    }\r\n\r\n    setDuration(time) {\r\n        this.duration = time;\r\n        return this;\r\n    }\r\n\r\n    setEase(ease) {\r\n        if (ease === undefined) {\r\n            ease = 'Linear';\r\n        }\r\n        this.ease = ease;\r\n        this.easeFn = GetEaseFunction(ease);\r\n        return this;\r\n    }\r\n\r\n    setRepeat(repeat) {\r\n        this.repeat = repeat;\r\n        return this;\r\n    }\r\n\r\n    // Override\r\n    start() {\r\n        // Ignore start if timer is running, i.e. in DELAY, o RUN state\r\n        if (this.timer.isRunning) {\r\n            return this;\r\n        }\r\n\r\n        super.start();\r\n        return this;\r\n    }\r\n\r\n    restart() {\r\n        this.timer.stop();\r\n        this.start.apply(this, arguments);\r\n        return this;\r\n    }\r\n\r\n    stop(toEnd) {\r\n        if (toEnd === undefined) {\r\n            toEnd = false;\r\n        }\r\n\r\n        super.stop();\r\n\r\n        if (toEnd) {\r\n            this.timer.setT(1);\r\n            this.updateGameObject(this.target, this.timer);\r\n            this.complete();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    update(time, delta) {\r\n        if (\r\n            (!this.isRunning) ||\r\n            (!this.enable) ||\r\n            (!this.parent.active)\r\n        ) {\r\n            return this;\r\n        }\r\n\r\n        var target = this.target,\r\n            timer = this.timer;\r\n\r\n        timer.update(time, delta);\r\n\r\n        // isDelay, isCountDown, isDone\r\n        if (!timer.isDelay) {\r\n            this.updateGameObject(target, timer);\r\n        }\r\n\r\n        this.emit('update', target, this);\r\n\r\n        if (timer.isDone) {\r\n            this.complete();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    // Override\r\n    updateGameObject(target, timer) {\r\n\r\n    }\r\n}\r\n\r\nexport default EaseValueTaskBase;","import EaseValueTaskBase from '../componentbase/tweentask/EaseValueTaskBase.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst Linear = Phaser.Math.Linear;\r\n\r\nclass EaseValueTask extends EaseValueTaskBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n        // this.timer\r\n\r\n        this.resetFromJSON();\r\n        this.boot();\r\n    }\r\n\r\n    start(config) {\r\n        if (this.timer.isRunning) {\r\n            return this;\r\n        }\r\n\r\n        var target = this.target;\r\n        this.propertyKey = GetValue(config, 'key', 'value');\r\n        var currentValue = target[this.propertyKey];\r\n        this.fromValue = GetValue(config, 'from', currentValue);\r\n        this.toValue = GetValue(config, 'to', currentValue);\r\n\r\n        this.setEase(GetValue(config, 'ease', this.ease));\r\n        this.setDuration(GetValue(config, 'duration', this.duration));\r\n\r\n        this.timer.setDuration(this.duration);\r\n\r\n        target[this.propertyKey] = this.fromValue;\r\n\r\n        super.start();\r\n        return this;\r\n    }\r\n\r\n    updateGameObject(target, timer) {\r\n        var t = timer.t;\r\n        t = this.easeFn(t);\r\n\r\n        target[this.propertyKey] = Linear(this.fromValue, this.toValue, t);\r\n    }\r\n}\r\n\r\nexport default EaseValueTask;","import EaseValueTask from './EaseValueTask.js';\r\n\r\nconst Percent = Phaser.Math.Percent;\r\n\r\nvar SetEaseValuePropName = function (name) {\r\n    this.easeValuePropName = name;\r\n    return this;\r\n}\r\n\r\nvar SetEaseValueDuration = function (duration) {\r\n    this.easeValueDuration = duration;\r\n    return this;\r\n}\r\n\r\nvar SetEaseValueFunction = function (ease) {\r\n    this.easeFunction = ease;\r\n    return this;\r\n}\r\n\r\nvar StopEaseValue = function () {\r\n    if (this.easeValueTask) {\r\n        this.easeValueTask.stop();\r\n    }\r\n    return this;\r\n}\r\n\r\nvar EaseValueTo = function (value, min, max) {\r\n    if ((value === undefined) || (value === null)) {\r\n        return this;\r\n    }\r\n\r\n    if (min !== undefined) {\r\n        value = Percent(value, min, max);\r\n    }\r\n\r\n    if (this.easeValueTask === undefined) {\r\n        this.easeValueTask = new EaseValueTask(this, { eventEmitter: null })\r\n    }\r\n\r\n    this.easeValueTask.restart({\r\n        key: this.easeValuePropName,\r\n        to: value,\r\n        duration: this.easeValueDuration,\r\n        ease: this.easeFunction\r\n    });\r\n\r\n    return this;\r\n}\r\n\r\nexport default {\r\n    setEaseValuePropName: SetEaseValuePropName,\r\n    setEaseValueDuration: SetEaseValueDuration,\r\n    setEaseValueFunction: SetEaseValueFunction,\r\n    stopEaseValue: StopEaseValue,\r\n    easeValueTo: EaseValueTo\r\n}","import Canvas from '../canvas/Canvas.js';\r\nimport GetStyle from '../../../utils/canvas/GetStyle.js';\r\nimport DrawContent from './DrawContent.js';\r\nimport EaseValueMethods from '../../../utils/ease/EaseValueMethods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst Clamp = Phaser.Math.Clamp;\r\nconst Linear = Phaser.Math.Linear;\r\nconst Percent = Phaser.Math.Percent;\r\n\r\nconst DefaultStartAngle = Phaser.Math.DegToRad(270);\r\n\r\nclass CircularProgress extends Canvas {\r\n    constructor(scene, x, y, radius, barColor, value, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            radius = GetValue(config, 'radius', 1);\r\n            barColor = GetValue(config, 'barColor', undefined);\r\n            value = GetValue(config, 'value', 0);\r\n        }\r\n        var width = radius * 2;\r\n        super(scene, x, y, width, width);\r\n        this.type = 'rexCircularProgressCanvas';\r\n        this.eventEmitter = GetValue(config, 'eventEmitter', this);\r\n\r\n        this.setRadius(radius);\r\n        this.setTrackColor(GetValue(config, 'trackColor', undefined));\r\n        this.setBarColor(barColor);\r\n        this.setCenterColor(GetValue(config, 'centerColor', undefined));\r\n\r\n        this.setThickness(GetValue(config, 'thickness', 0.2));\r\n        this.setStartAngle(GetValue(config, 'startAngle', DefaultStartAngle));\r\n        this.setAnticlockwise(GetValue(config, 'anticlockwise', false));\r\n\r\n        this.setTextColor(GetValue(config, 'textColor', undefined));\r\n        this.setTextStrokeColor(\r\n            GetValue(config, 'textStrokeColor', undefined),\r\n            GetValue(config, 'textStrokeThickness', undefined)\r\n        );\r\n\r\n        var textFont = GetValue(config, 'textFont', undefined);\r\n        if (textFont) {\r\n            this.setTextFont(textFont);\r\n        } else {\r\n            this.setTextFont(\r\n                GetValue(config, 'textSize', '16px'),\r\n                GetValue(config, 'textFamily', 'Courier'),\r\n                GetValue(config, 'textStyle', '')\r\n            );\r\n        }\r\n        this.setTextFormatCallback(\r\n            GetValue(config, 'textFormatCallback', undefined),\r\n            GetValue(config, 'textFormatCallbackScope', undefined)\r\n        );\r\n\r\n        var callback = GetValue(config, 'valuechangeCallback', null);\r\n        if (callback !== null) {\r\n            var scope = GetValue(config, 'valuechangeCallbackScope', undefined);\r\n            this.eventEmitter.on('valuechange', callback, scope);\r\n        }\r\n\r\n        this\r\n            .setEaseValuePropName('value')\r\n            .setEaseValueDuration(GetValue(config, 'easeValue.duration', 0))\r\n            .setEaseValueFunction(GetValue(config, 'easeValue.ease', 'Linear'))\r\n\r\n        this.setValue(value);\r\n    }\r\n\r\n    resize(width, height) {\r\n        width = Math.floor(Math.min(width, height));\r\n        if (width === this.width) {\r\n            return this;\r\n        }\r\n\r\n        super.resize(width, width);\r\n        this.setRadius(width / 2);\r\n        return this;\r\n    }\r\n\r\n    get value() {\r\n        return this._value;\r\n    }\r\n\r\n    set value(value) {\r\n        value = Clamp(value, 0, 1);\r\n\r\n        var oldValue = this._value;\r\n        var valueChanged = (oldValue != value);\r\n        this.dirty = this.dirty || valueChanged;\r\n        this._value = value;\r\n\r\n        if (valueChanged) {\r\n            this.eventEmitter.emit('valuechange', this._value, oldValue, this.eventEmitter);\r\n        }\r\n    }\r\n\r\n    setValue(value, min, max) {\r\n        if ((value === undefined) || (value === null)) {\r\n            return this;\r\n        }\r\n\r\n        if (min !== undefined) {\r\n            value = Percent(value, min, max);\r\n        }\r\n        this.value = value;\r\n        return this;\r\n    }\r\n\r\n    addValue(inc, min, max) {\r\n        if (min !== undefined) {\r\n            inc = Percent(inc, min, max);\r\n        }\r\n        this.value += inc;\r\n        return this;\r\n    }\r\n\r\n    getValue(min, max) {\r\n        var value = this.value;\r\n        if (min !== undefined) {\r\n            value = Linear(min, max, value);\r\n        }\r\n        return value;\r\n    }\r\n\r\n    get radius() {\r\n        return this._radius;\r\n    }\r\n\r\n    set radius(value) {\r\n        this.dirty = this.dirty || (this._radius != value);\r\n        this._radius = value;\r\n        var width = value * 2;\r\n        this.resize(width, width);\r\n    }\r\n\r\n    setRadius(radius) {\r\n        this.radius = radius;\r\n        return this;\r\n    }\r\n\r\n    get trackColor() {\r\n        return this._trackColor;\r\n    }\r\n\r\n    set trackColor(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.dirty = this.dirty || (this._trackColor != value);\r\n        this._trackColor = value;\r\n    }\r\n\r\n    setTrackColor(color) {\r\n        this.trackColor = color;\r\n        return this;\r\n    }\r\n\r\n    get barColor() {\r\n        return this._barColor;\r\n    }\r\n\r\n    set barColor(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.dirty = this.dirty || (this._barColor != value);\r\n        this._barColor = value;\r\n    }\r\n\r\n    setBarColor(color) {\r\n        this.barColor = color;\r\n        return this;\r\n    }\r\n\r\n    get startAngle() {\r\n        return this._startAngle;\r\n    }\r\n\r\n    set startAngle(value) {\r\n        this.dirty = this.dirty || (this._startAngle != value);\r\n        this._startAngle = value;\r\n    }\r\n\r\n    setStartAngle(angle) {\r\n        this.startAngle = angle;\r\n        return this;\r\n    }\r\n\r\n    get anticlockwise() {\r\n        return this._anticlockwise;\r\n    }\r\n\r\n    set anticlockwise(value) {\r\n        this.dirty = this.dirty || (this._anticlockwise != value);\r\n        this._anticlockwise = value;\r\n    }\r\n\r\n    setAnticlockwise(anticlockwise) {\r\n        if (anticlockwise === undefined) {\r\n            anticlockwise = true;\r\n        }\r\n        this.anticlockwise = anticlockwise;\r\n        return this;\r\n    }\r\n\r\n    get thickness() {\r\n        return this._thickness;\r\n    }\r\n\r\n    set thickness(value) {\r\n        value = Clamp(value, 0, 1);\r\n        this.dirty = this.dirty || (this._thickness != value);\r\n        this._thickness = value;\r\n    }\r\n\r\n    setThickness(thickness) {\r\n        this.thickness = thickness;\r\n        return this;\r\n    }\r\n\r\n    get centerColor() {\r\n        return this._centerColor;\r\n    }\r\n\r\n    set centerColor(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.dirty = this.dirty || (this._centerColor != value);\r\n        this._centerColor = value;\r\n    }\r\n\r\n    get centerColor2() {\r\n        return this._centerColor2;\r\n    }\r\n\r\n    set centerColor2(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.dirty = this.dirty || (this._centerColor2 != value);\r\n        this._centerColor2 = value;\r\n    }\r\n\r\n    setCenterColor(color, color2) {\r\n        this.centerColor = color;\r\n        this.centerColor2 = color2;\r\n        return this;\r\n    }\r\n\r\n    get textColor() {\r\n        return this._textColor;\r\n    }\r\n\r\n    set textColor(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.dirty = this.dirty || (this._textColor != value);\r\n        this._textColor = value;\r\n    }\r\n\r\n    setTextColor(color) {\r\n        this.textColor = color;\r\n        return this;\r\n    }\r\n\r\n    get textStrokeColor() {\r\n        return this._textStrokeColor;\r\n    }\r\n\r\n    set textStrokeColor(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.dirty = this.dirty || (this._textStrokeColor != value);\r\n        this._textStrokeColor = value;\r\n    }\r\n\r\n    get textStrokeThickness() {\r\n        return this._textStrokeThickness;\r\n    }\r\n\r\n    set textStrokeThickness(value) {\r\n        this.dirty = this.dirty || (this._textStrokeThickness != value);\r\n        this._textStrokeThickness = value;\r\n    }\r\n\r\n    setTextStrokeColor(color, thickness) {\r\n        if (thickness === undefined) {\r\n            thickness = 2;\r\n        }\r\n        this.textStrokeColor = color;\r\n        this.textStrokeThickness = thickness;\r\n        return this;\r\n    }\r\n\r\n    get textFont() {\r\n        return this._textFont;\r\n    }\r\n\r\n    set textFont(value) {\r\n        this.dirty = this.dirty || (this._textFont != value);\r\n        this._textFont = value;\r\n    }\r\n\r\n    setTextFont(fontSize, fontFamily, fontStyle) {\r\n        var font;\r\n        if (fontFamily === undefined) {\r\n            font = fontSize;\r\n        } else {\r\n            font = fontStyle + ' ' + fontSize + ' ' + fontFamily;\r\n        }\r\n        this.textFont = font;\r\n        return this;\r\n    }\r\n\r\n    setTextFormatCallback(callback, scope) {\r\n        this.textFormatCallback = callback;\r\n        this.textFormatCallbackScope = scope;\r\n        return this;\r\n    }\r\n\r\n    updateTexture() {\r\n        this.clear();\r\n        DrawContent.call(this);\r\n        super.updateTexture();\r\n        return this;\r\n    }\r\n\r\n    getFormatText(value) {\r\n        if (value === undefined) {\r\n            value = this.value;\r\n        }\r\n\r\n        var text;\r\n        if (this.textFormatCallbackScope) {\r\n            text = this.textFormatCallback(value);\r\n        } else {\r\n            text = this.textFormatCallback.call(this.textFormatCallbackScope, value);\r\n        }\r\n        return text;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    CircularProgress.prototype,\r\n    EaseValueMethods\r\n);\r\n\r\nexport default CircularProgress;","var SetGetFrameNameCallback = function(callback) {\r\n    if (callback === undefined) {\r\n        callback = DefaultGetFrameNameCallback;\r\n    }\r\n    this.getFrameNameCallback = callback;\r\n    return this;\r\n}\r\n\r\nvar DefaultGetFrameNameCallback = function (colIndex, rowIndex, baseFrameName) {\r\n    if (baseFrameName === '__BASE') {\r\n        return `${colIndex},${rowIndex}`;\r\n    } else {\r\n        return `${baseFrameName}_${colIndex},${rowIndex}`;\r\n    }\r\n}\r\n\r\nexport default SetGetFrameNameCallback;","var DeepClone = function (inObject) {\r\n    var outObject;\r\n    var value;\r\n    var key;\r\n\r\n    if ((typeof inObject !== 'object') || (inObject === null)) {\r\n        //  inObject is not an object\r\n        return inObject;\r\n    }\r\n\r\n    //  Create an array or object to hold the values\r\n    outObject = Array.isArray(inObject) ? [] : {};\r\n\r\n    for (key in inObject) {\r\n        value = inObject[key];\r\n\r\n        //  Recursively (deep) copy for nested objects, including arrays\r\n        outObject[key] = DeepClone(value);\r\n    }\r\n\r\n    return outObject;\r\n};\r\n\r\nexport default DeepClone;","import DeepClone from '../../object/DeepClone.js';\r\n\r\nvar SetTexture = function (key, baseFrameName, columns, rows) {\r\n    if (Array.isArray(baseFrameName)) {\r\n        rows = columns;\r\n        columns = baseFrameName;\r\n        baseFrameName = undefined;\r\n    }\r\n\r\n    if (baseFrameName === undefined) {\r\n        baseFrameName = '__BASE';\r\n    }\r\n\r\n    columns = DeepClone(columns);\r\n    rows = DeepClone(rows);\r\n\r\n    this.textureKey = key;\r\n    this.baseFrameName = baseFrameName;\r\n    this.columns.data = columns;\r\n    this.columns.count = (columns) ? columns.length : 0;\r\n    this.columns.stretch = 0;\r\n    this.columns.minWidth = 0;\r\n    this.columns.scale = 1;\r\n    this.rows.data = rows;\r\n    this.rows.count = (rows) ? rows.length : 0;\r\n    this.rows.stretch = 0;\r\n    this.rows.minHeight = 0;\r\n    this.rows.scale = 1;\r\n\r\n    var texture = this.scene.sys.textures.get(key);\r\n    if (!texture) {\r\n        this.clear();\r\n        return this;\r\n    }\r\n    if (!columns || !rows) {\r\n        this.clear();\r\n        return this;\r\n    }\r\n\r\n    // Get remainder width/height for unknown width/height\r\n    var baseFrame = texture.frames[baseFrameName];\r\n    var remainderTextureWidth = baseFrame.width;\r\n    var unknownColumnWidthCount = 0;\r\n    for (var i = 0, cnt = columns.length; i < cnt; i++) {\r\n        if (columns[i] === undefined) {\r\n            unknownColumnWidthCount++;\r\n        } else if (typeof (columns[i]) === 'number') {\r\n            remainderTextureWidth -= columns[i];\r\n        } else {\r\n            remainderTextureWidth -= columns[i].width;\r\n        }\r\n    }\r\n    var unknownColumnWidth = remainderTextureWidth / unknownColumnWidthCount;\r\n\r\n    var remainderTextureHeight = baseFrame.height;\r\n    var unknownRowHeightCount = 0;\r\n    for (var i = 0, cnt = rows.length; i < cnt; i++) {\r\n        if (rows[i] === undefined) {\r\n            unknownRowHeightCount++;\r\n        } else if (typeof (rows[i]) === 'number') {\r\n            remainderTextureHeight -= rows[i];\r\n        } else {\r\n            remainderTextureHeight -= rows[i].width;\r\n        }\r\n    }\r\n    var unknownRowHeight = remainderTextureHeight / unknownRowHeightCount;\r\n\r\n    var row, col, rowHeight, colWidth, frameName;\r\n    var offsetX = 0, offsetY = 0;\r\n    for (var j = 0, jcnt = rows.length; j < jcnt; j++) {\r\n        // Unknown height\r\n        if (rows[j] === undefined) {\r\n            rows[j] = unknownRowHeight;\r\n        }\r\n\r\n        if (typeof (rows[j]) === 'number') {\r\n            rows[j] = {\r\n                height: rows[j],\r\n                stretch: (j % 2),\r\n            }\r\n        }\r\n\r\n        row = rows[j];\r\n        rowHeight = row.height;\r\n\r\n        this.rows.stretch += (row.stretch | 0);\r\n        this.rows.minHeight += (row.stretch > 0) ? 0 : rowHeight;\r\n\r\n        offsetX = 0;\r\n        for (var i = 0, icnt = columns.length; i < icnt; i++) {\r\n            // Unknown width\r\n            if (columns[i] === undefined) {\r\n                columns[i] = unknownColumnWidth;\r\n            }\r\n\r\n            if (typeof (columns[i]) === 'number') {\r\n                columns[i] = {\r\n                    width: columns[i],\r\n                    stretch: (i % 2),\r\n                }\r\n            }\r\n\r\n            col = columns[i];\r\n            colWidth = col.width;\r\n\r\n            if (j === 0) {\r\n                this.columns.stretch += (col.stretch | 0);\r\n                this.columns.minWidth += (col.stretch > 0) ? 0 : colWidth;\r\n            }\r\n\r\n            if ((colWidth >= 1) && (rowHeight >= 1)) {\r\n                frameName = this.getFrameNameCallback(i, j, baseFrameName);\r\n                var frameNameType = typeof (frameName);\r\n                if ((frameNameType === 'string') || (frameNameType === 'number')) {\r\n                    texture.add(\r\n                        frameName, 0,\r\n                        (offsetX + baseFrame.cutX), (offsetY + baseFrame.cutY),\r\n                        colWidth, rowHeight\r\n                    );\r\n                    // Do nothing if frameName is existed\r\n                }\r\n            } else {\r\n                // console.warn(`Size of Grid(${i},${j}) = ${colWidth}x${rowHeight}, which is invalid`);\r\n            }\r\n            offsetX += colWidth;\r\n        }\r\n        offsetY += rowHeight;\r\n    }\r\n\r\n    this.updateTexture();\r\n    return this;\r\n}\r\n\r\nexport default SetTexture;","var UpdateTexture = function () {\r\n    this.clear();\r\n\r\n    if (this.textureKey === undefined) {\r\n        return this;\r\n    }\r\n    var texture = this.scene.sys.textures.get(this.textureKey);\r\n    if (!texture) {\r\n        return this;\r\n    }\r\n\r\n    var minWidth = this.columns.minWidth * this.maxFixedPartScaleX;  // Fixed-part width\r\n    var minHeight = this.rows.minHeight * this.maxFixedPartScaleY;   // Fixed-part height\r\n    var stretchWidth = this.width - minWidth;\r\n    var stretchHeight = this.height - minHeight;\r\n    var fixedPartScaleX = (stretchWidth >= 0) ? this.maxFixedPartScaleX : (this.width / minWidth);\r\n    var fixedPartScaleY = (stretchHeight >= 0) ? this.maxFixedPartScaleY : (this.height / minHeight);\r\n\r\n    if (this.preserveRatio) {\r\n        var minScale = Math.min(fixedPartScaleX, fixedPartScaleY);\r\n        if (fixedPartScaleX > minScale) {\r\n            var compensationWidth = (fixedPartScaleX - minScale) * minWidth;\r\n            if (stretchWidth >= 0) {\r\n                stretchWidth += compensationWidth;\r\n            } else {\r\n                stretchWidth = compensationWidth;\r\n            }\r\n            fixedPartScaleX = minScale;\r\n        }\r\n        if (fixedPartScaleY > minScale) {\r\n            var compensationHeight = (fixedPartScaleY - minScale) * minHeight;\r\n            if (stretchHeight >= 0) {\r\n                stretchHeight += compensationHeight;\r\n            } else {\r\n                stretchHeight = compensationHeight;\r\n            }\r\n            fixedPartScaleY = minScale;\r\n        }\r\n    }\r\n    this.columns.scale = fixedPartScaleX;\r\n    this.rows.scale = fixedPartScaleY;\r\n\r\n    var proportionWidth;\r\n    if (stretchWidth > 0) {\r\n        proportionWidth = (this.columns.stretch > 0) ? (stretchWidth / this.columns.stretch) : 0;\r\n    } else {\r\n        proportionWidth = 0;\r\n    }\r\n\r\n    var proportionHeight;\r\n    if (stretchHeight > 0) {\r\n        proportionHeight = (this.rows.stretch > 0) ? (stretchHeight / this.rows.stretch) : 0;\r\n    } else {\r\n        proportionHeight = 0;\r\n    }\r\n\r\n    var frameName, col, row, colWidth, rowHeight;\r\n    var offsetX = 0, offsetY = 0;\r\n    var imageType;\r\n    for (var j = 0, jcnt = this.rows.count; j < jcnt; j++) {\r\n        row = this.rows.data[j];\r\n        rowHeight = (row.stretch === 0) ? (row.height * fixedPartScaleY) : (proportionHeight * row.stretch);\r\n\r\n        offsetX = 0;\r\n        for (var i = 0, icnt = this.columns.count; i < icnt; i++) {\r\n            col = this.columns.data[i];\r\n            colWidth = (col.stretch === 0) ? (col.width * fixedPartScaleX) : (proportionWidth * col.stretch);\r\n\r\n            frameName = this.getFrameNameCallback(i, j, this.baseFrameName);\r\n            if (texture.has(frameName) && (colWidth > 0) && (rowHeight > 0)) {\r\n                if ((row.stretch === 0) && (col.stretch === 0)) { // Fixed parts\r\n                    imageType = 0; // Draw image\r\n                } else { // Stretchable parts\r\n                    if (this.getStretchMode(i, j) === 0) { // Scaled image\r\n                        imageType = 0; // Draw scaled image\r\n                    } else { // Repeat tile-sprite\r\n                        imageType = 1; // Draw tile-sprite\r\n                    }\r\n                }\r\n\r\n                if (imageType === 0) {\r\n                    this._drawImage(\r\n                        this.textureKey, frameName,\r\n                        offsetX, offsetY,\r\n                        colWidth, rowHeight\r\n                    );\r\n                } else {\r\n                    this._drawTileSprite(\r\n                        this.textureKey, frameName,\r\n                        offsetX, offsetY,\r\n                        colWidth, rowHeight\r\n                    );\r\n                }\r\n            }\r\n\r\n            offsetX += colWidth;\r\n        }\r\n\r\n        offsetY += rowHeight;\r\n    }\r\n}\r\n\r\nexport default UpdateTexture;","const IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar SetStretchMode = function(mode) {\r\n    if (IsPlainObject(mode)) {\r\n        this.stretchMode.edge = parseMode(GetValue(mode, 'edge', 0));\r\n        this.stretchMode.internal = parseMode(GetValue(mode, 'internal', 0));\r\n    } else {\r\n        mode = parseMode(mode);\r\n        this.stretchMode.edge = mode;\r\n        this.stretchMode.internal = mode;\r\n    }\r\n    return this;\r\n};\r\n\r\nvar parseMode = function (mode) {\r\n    if (typeof (mode) === 'string') {\r\n        mode = EXTENDMODE[mode];\r\n    }\r\n    return mode;\r\n}\r\n\r\nconst EXTENDMODE = {\r\n    scale: 0,\r\n    repeat: 1,\r\n}\r\n\r\nexport default SetStretchMode;","var IsEdge = function (colIndex, rowIndex) {\r\n    return (colIndex === 0) || (colIndex === (this.columns.count - 1)) ||\r\n        (rowIndex === 0) || (rowIndex === (this.rows.count - 1));\r\n}\r\n\r\nexport default IsEdge;","import IsEdge from '../utils/IsEdge.js';\r\n\r\nvar GetStretchMode = function(colIndex, rowIndex) {\r\n    return (IsEdge.call(this, colIndex, rowIndex)) ? this.stretchMode.edge : this.stretchMode.internal;\r\n};\r\n\r\nexport default GetStretchMode;","var SetPreserveRatio = function (enable) {\r\n    if (enable == undefined) {\r\n        enable = true;\r\n    }\r\n\r\n    this.preserveRatio = enable;\r\n    return this;\r\n}\r\n\r\nexport default SetPreserveRatio;","var SetMaxFixedPartScale = function (scaleX, scaleY) {\r\n    if (scaleY === undefined) {\r\n        scaleY = scaleX;\r\n    }\r\n\r\n    this.maxFixedPartScaleX = scaleX;\r\n    this.maxFixedPartScaleY = scaleY;\r\n    return this;\r\n};\r\n\r\nexport default SetMaxFixedPartScale;\r\n","var NOOP = function () {\r\n    //  NOOP\r\n};\r\n\r\nexport default NOOP;","import SetGetFrameNameCallback from './texture/SetGetFrameNameCallback.js';\r\nimport SetTexture from './texture/SetTexture.js';\r\nimport UpdateTexture from './texture/UpdateTexture.js';\r\nimport SetStretchMode from './texture/SetStretchMode.js';\r\nimport GetStretchMode from './texture/GetStretchMode.js';\r\nimport SetPreserveRatio from './texture/SetPreserveRatio.js';\r\nimport SetMaxFixedPartScale from './texture/SetMaxFixedPartScale.js';\r\nimport NOOP from '../object/NOOP';\r\n\r\nexport default {\r\n    _drawImage: NOOP,\r\n    _drawTileSprite: NOOP,\r\n    setGetFrameNameCallback: SetGetFrameNameCallback,\r\n    setTexture: SetTexture,\r\n    updateTexture: UpdateTexture,\r\n    setStretchMode: SetStretchMode,\r\n    getStretchMode: GetStretchMode,\r\n    setPreserveRatio: SetPreserveRatio,\r\n    setMaxFixedPartScale: SetMaxFixedPartScale,\r\n};\r\n","import Methods from './Methods.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar NinePatchBase = function (GOClass, type) {\r\n    class NinePatch extends GOClass {\r\n        constructor(scene, x, y, width, height, key, baseFrame, columns, rows, config) {\r\n            if (IsPlainObject(x)) {\r\n                config = x;\r\n                x = GetValue(config, 'x', 0);\r\n                y = GetValue(config, 'y', 0);\r\n                width = GetValue(config, 'width', 1);\r\n                height = GetValue(config, 'height', 1);\r\n                key = GetValue(config, 'key', undefined);\r\n                baseFrame = GetValue(config, 'baseFrame', undefined);\r\n                columns = GetValue(config, 'columns', undefined);\r\n                rows = GetValue(config, 'rows', undefined);\r\n            } else if (IsPlainObject(width)) {\r\n                config = width;\r\n                width = GetValue(config, 'width', 1);\r\n                height = GetValue(config, 'height', 1);\r\n                key = GetValue(config, 'key', undefined);\r\n                baseFrame = GetValue(config, 'baseFrame', undefined);\r\n                columns = GetValue(config, 'columns', undefined);\r\n                rows = GetValue(config, 'rows', undefined);\r\n            } else if (IsPlainObject(key)) {\r\n                config = key;\r\n                key = GetValue(config, 'key', undefined);\r\n                baseFrame = GetValue(config, 'baseFrame', undefined);\r\n                columns = GetValue(config, 'columns', undefined);\r\n                rows = GetValue(config, 'rows', undefined);\r\n            } else if (IsPlainObject(baseFrame)) {\r\n                config = baseFrame;\r\n                baseFrame = GetValue(config, 'baseFrame', undefined);\r\n                columns = GetValue(config, 'columns', undefined);\r\n                rows = GetValue(config, 'rows', undefined);\r\n            } else if (Array.isArray(baseFrame)) {\r\n                config = rows;\r\n                rows = columns;\r\n                columns = baseFrame;\r\n                baseFrame = GetValue(config, 'baseFrame', undefined);\r\n            } else if (IsPlainObject(columns)) {\r\n                config = columns;\r\n                columns = GetValue(config, 'columns', undefined);\r\n                rows = GetValue(config, 'rows', undefined);\r\n            }\r\n\r\n            super(scene);\r\n            this.type = type;\r\n            this\r\n                .setPosition(x, y)\r\n                .setSize(width, height)\r\n                .setOrigin(0.5, 0.5);\r\n\r\n            this.columns = {};\r\n            this.rows = {};\r\n            this.stretchMode = {};\r\n            this._tileSprite = undefined; // Reserved for drawing image\r\n            this._image = undefined; // Reserved for drawing image\r\n\r\n            this.setGetFrameNameCallback(GetValue(config, 'getFrameNameCallback', undefined));\r\n            this.setStretchMode(GetValue(config, 'stretchMode', 0));\r\n            this.setPreserveRatio(GetValue(config, 'preserveRatio', true));\r\n\r\n            var maxFixedPartScale = GetValue(config, 'maxFixedPartScale', 1);\r\n            var maxFixedPartScaleX = GetValue(config, 'maxFixedPartScaleX', maxFixedPartScale);\r\n            var maxFixedPartScaleY = GetValue(config, 'maxFixedPartScaleY', undefined);\r\n            this.setMaxFixedPartScale(maxFixedPartScaleX, maxFixedPartScaleY);\r\n\r\n            this.setTexture(key, baseFrame, columns, rows);\r\n        }\r\n\r\n        get minWidth() {\r\n            return this.columns.minWidth;\r\n        }\r\n\r\n        get minHeight() {\r\n            return this.rows.minHeight;\r\n        }\r\n\r\n        get fixedPartScaleX() {\r\n            return this.columns.scale;\r\n        }\r\n\r\n        get fixedPartScaleY() {\r\n            return this.rows.scale;\r\n        }\r\n\r\n        resize(width, height) {\r\n            if ((this.width === width) && (this.height === height)) {\r\n                return this;\r\n            }\r\n\r\n            super.resize(width, height);\r\n            this.updateTexture();\r\n\r\n            return this;\r\n        }\r\n    }\r\n\r\n    Object.assign(\r\n        NinePatch.prototype,\r\n        Methods\r\n    );\r\n\r\n    return NinePatch;\r\n}\r\n\r\nexport default NinePatchBase;","var MakeChildImageGameObject = function (parent, key, className) {\r\n    if (className === undefined) {\r\n        className = 'image';\r\n    }\r\n    if (!parent[key]) {\r\n        parent[key] = parent.scene.make[className]({\r\n            add: false,\r\n            origin: { x: 0, y: 0 },\r\n        });\r\n        parent.once('destroy', function () {\r\n            if (parent[key]) {\r\n                parent[key].destroy();\r\n                parent[key] = undefined;\r\n            }\r\n        })\r\n    }\r\n    return parent[key];\r\n}\r\nexport default MakeChildImageGameObject;","import MakeChildImageGameObject from \"../../../../utils/rendertexture/MakeChildImageGameObject\";\r\n\r\nvar DrawImage = function (key, frame, x, y, width, height) {\r\n    var gameObject = MakeChildImageGameObject(this, '_image', 'image')\r\n        .setTexture(key, frame)\r\n        .setDisplaySize(width, height);\r\n\r\n    this.draw(gameObject, x, y);\r\n}\r\n\r\nexport default DrawImage;","import MakeChildImageGameObject from \"../../../../utils/rendertexture/MakeChildImageGameObject\";\r\n\r\nvar DrawTileSprite = function (key, frame, x, y, width, height) {\r\n    var gameObject = MakeChildImageGameObject(this, '_tileSprite', 'tileSprite')\r\n        .setTexture(key, frame)\r\n        .setSize(width, height);\r\n\r\n    this.draw(gameObject, x, y);\r\n}\r\n\r\nexport default DrawTileSprite;","import DrawImage from './texture/DrawImage.js';\r\nimport DrawTileSprite from './texture/DrawTileSprite.js';\r\n\r\nexport default {\r\n    _drawImage: DrawImage,\r\n    _drawTileSprite: DrawTileSprite,\r\n};\r\n","import NinePatchBase from '../../../utils/ninepatch/NinePatch.js';\r\nimport Methods from './Methods.js';\r\n\r\nconst RenderTexture = Phaser.GameObjects.RenderTexture;\r\n\r\nclass NinePatch extends NinePatchBase(RenderTexture, 'rexNinePatch') {\r\n\r\n}\r\n\r\nObject.assign(\r\n    NinePatch.prototype,\r\n    Methods\r\n);\r\n\r\nexport default NinePatch;","const GetCalcMatrix = Phaser.GameObjects.GetCalcMatrix;\r\n\r\nvar WebGLRenderer = function (renderer, src, camera, parentMatrix) {\r\n    var bobs = src.getRenderList();\r\n    if (bobs.length === 0) {\r\n        return;\r\n    }\r\n\r\n    camera.addToRenderList(src);\r\n\r\n    var pipeline = renderer.pipelines.set(src.pipeline);\r\n\r\n    var texture = src.frame.glTexture;\r\n\r\n    var textureUnit = pipeline.setGameObject(src);\r\n\r\n    var roundPixels = camera.roundPixels;\r\n\r\n    var result = GetCalcMatrix(src, camera, parentMatrix);\r\n\r\n    var calcMatrix = pipeline.calcMatrix.copyFrom(result.calc);\r\n\r\n    var dx = src._displayOriginX;\r\n    var dy = src._displayOriginY;\r\n\r\n    var alpha = camera.alpha * src.alpha;\r\n\r\n    renderer.pipelines.preBatch(src);\r\n\r\n    for (var i = 0, cnt = bobs.length; i < cnt; i++) {\r\n        bobs[i].webglRender(pipeline, calcMatrix, alpha, dx, dy, texture, textureUnit, roundPixels);\r\n    }\r\n\r\n    renderer.pipelines.postBatch(src);\r\n};\r\n\r\nexport default WebGLRenderer;","const SetTransform = Phaser.Renderer.Canvas.SetTransform;\r\n\r\nvar CanvasRenderer = function (renderer, src, camera, parentMatrix) {\r\n    var ctx = renderer.currentContext;\r\n\r\n    var bobs = src.getRenderList();\r\n    if ((bobs.length === 0) || (!SetTransform(renderer, ctx, src, camera, parentMatrix))) {\r\n        return;\r\n    }\r\n\r\n    camera.addToRenderList(src);\r\n\r\n    var roundPixels = camera.roundPixels;\r\n\r\n    var dx = -src._displayOriginX,\r\n        dy = -src._displayOriginY;\r\n\r\n    ctx.translate(dx, dy);\r\n\r\n    for (var i = 0, cnt = bobs.length; i < cnt; i++) {\r\n        bobs[i].canvasRender(ctx, dx, dy, roundPixels);\r\n    }\r\n\r\n    //  Restore the context saved in SetTransform\r\n    ctx.restore();\r\n};\r\n\r\nexport default CanvasRenderer;\r\n","import WebGLRenderer from './WebGLRenderer.js';\r\nimport CanvasRenderer from './CanvasRenderer.js';\r\n\r\nexport default {\r\n    renderWebGL: WebGLRenderer,\r\n    renderCanvas: CanvasRenderer\r\n\r\n};","var SetTexture = function (key, frame) {\r\n    this.texture = this.scene.sys.textures.get(key);\r\n    this.frame = this.texture.get(frame);\r\n    return this;\r\n}\r\n\r\nexport default SetTexture;","var Resize = function (width, height) {\r\n    if ((this.width === width) && (this.height === height)) {\r\n        return this;\r\n    }\r\n\r\n    this.width = width;\r\n    this.height = height;\r\n\r\n    this.updateDisplayOrigin();\r\n\r\n    var input = this.input;\r\n\r\n    if (input && !input.customHitArea) {\r\n        input.hitArea.width = width;\r\n        input.hitArea.height = height;\r\n    }\r\n\r\n    return this;\r\n}\r\n\r\nexport default Resize;","var AddChild = function (bob) {\r\n    this.lastAppendedChildren.length = 0;\r\n\r\n    if (Array.isArray(bob)) {\r\n        this.children.add(bob)\r\n        this.lastAppendedChildren.push(...bob);\r\n    } else {\r\n        this.children.add(bob);\r\n        this.lastAppendedChildren.push(bob);\r\n    }\r\n\r\n    return this;\r\n}\r\n\r\nexport default AddChild;","const RemoveItem = Phaser.Utils.Array.Remove;\r\n\r\nvar RemoveChild = function (bob) {\r\n    if (this.poolManager) {\r\n        // Free this bob (bob.onFree())\r\n        this.poolManager.free(bob);\r\n    }\r\n\r\n    // Remove this bob from blitter\r\n    RemoveItem(this.children.list, bob);\r\n    this.lastAppendedChildren.length = 0;\r\n    this.dirty = true;\r\n    return this;\r\n}\r\n\r\nexport default RemoveChild;","var RemoveChildren = function () {\r\n    if (this.poolManager) {\r\n        // Free all bobs (bob.onFree())\r\n        this.poolManager.freeMultiple(this.children.list);\r\n    }\r\n\r\n    // Remove all bobs from blitter\r\n    this.children.list.length = 0;\r\n    this.lastAppendedChildren.length = 0;\r\n    this.dirty = true;\r\n    return this;\r\n}\r\n\r\nexport default RemoveChildren;","var GetLastAppendedChildren = function () {\r\n    return this.lastAppendedChildren;\r\n}\r\n\r\nexport default GetLastAppendedChildren;","var GetChildren = function () {\r\n    return this.children.list;\r\n}\r\n\r\nexport default GetChildren;","export default {\r\n    setTint(tint) {\r\n        // 0: Solid tint + texture alpha\r\n        this.tint = tint;\r\n        this.tintFill = false;\r\n        return this;\r\n    },\r\n\r\n    setTintFill(tint) {\r\n        // 1: Solid tint, no texture\r\n        this.tint = tint;\r\n        this.tintFill = true;\r\n        return this;\r\n    },\r\n\r\n    clearTint() {\r\n        this.setTint(0xffffff);\r\n        return this;\r\n    }\r\n}","import SetTexture from './SetTexture.js';\r\nimport Resize from './Resize.js';\r\nimport AddChild from './AddChild.js';\r\nimport RemoveChild from './RemoveChild.js';\r\nimport RemoveChildren from './RemoveChildren.js';\r\nimport GetLastAppendedChildren from './GetLastAppendedChildren.js';\r\nimport GetChildren from './GetChildren.js';\r\nimport TintMethods from './TintMethods.js';\r\n\r\nvar methods = {\r\n    setTexture: SetTexture,\r\n    resize: Resize,\r\n    setSize: Resize,\r\n    addChild: AddChild,\r\n    removeChild: RemoveChild,\r\n    removeChildren: RemoveChildren,\r\n    clear: RemoveChildren,\r\n    getLastAppendedChildren: GetLastAppendedChildren,\r\n    getChildren: GetChildren,\r\n}\r\n\r\nObject.assign(\r\n    methods,\r\n    TintMethods\r\n)\r\n\r\nexport default methods;","class Stack {\r\n    constructor() {\r\n        this.items = [];\r\n    }\r\n\r\n    destroy() {\r\n        this.clear();\r\n        this.items = undefined;\r\n    }\r\n\r\n    pop() {\r\n        return (this.items.length > 0) ? this.items.pop() : null;\r\n    }\r\n\r\n    push(l) {\r\n        this.items.push(l);\r\n        return this;\r\n    }\r\n\r\n    pushMultiple(arr) {\r\n        this.items.push.apply(this.items, arr);\r\n        arr.length = 0;\r\n        return this;\r\n    }\r\n\r\n    clear() {\r\n        this.items.length = 0;\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default Stack;","import Pool from '../../../../pool.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar Pools = {};\r\nclass PoolManager {\r\n    constructor(config) {\r\n        this.pools = GetValue(config, 'pools', Pools);\r\n    }\r\n\r\n    destroy() {\r\n        this.pools = undefined;\r\n    }\r\n\r\n    free(bob) {\r\n        if (!this.pools) {\r\n            return this;\r\n        }\r\n\r\n        var bobType = bob.type;\r\n        if (!this.pools.hasOwnProperty(bobType)) {\r\n            this.pools[bobType] = new Pool();\r\n        }\r\n        this.pools[bobType].push(bob);\r\n        bob.onFree();\r\n        return this;\r\n    }\r\n\r\n    freeMultiple(bobs) {\r\n        if (!this.pools) {\r\n            return this;\r\n        }\r\n\r\n        for (var i = 0, cnt = bobs.length; i < cnt; i++) {\r\n            this.free(bobs[i]);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    allocate(bobType) {\r\n        if (!this.pools || !this.pools.hasOwnProperty(bobType)) {\r\n            return null;\r\n        }\r\n        return this.pools[bobType].pop();\r\n    }\r\n}\r\n\r\nexport default PoolManager;","import Render from './render/Render.js';\r\nimport Methods from './methods/Methods.js';\r\nimport PoolManager from './poolmanager/PoolManager.js';\r\n\r\nconst GameObject = Phaser.GameObjects.GameObject;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst List = Phaser.Structs.List;\r\nconst StableSort = Phaser.Utils.Array.StableSort;\r\n\r\nclass Blitter extends GameObject {\r\n    constructor(scene, x, y, texture, frame, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            texture = GetValue(config, 'texture');\r\n            frame = GetValue(config, 'frame');\r\n        }\r\n\r\n        if (x === undefined) {\r\n            x = 0;\r\n        }\r\n        if (y === undefined) {\r\n            y = 0;\r\n        }\r\n\r\n        super(scene, 'rexBlitter');\r\n\r\n        this.children = new List();\r\n        this.renderList = [];\r\n        this.displayListDirty = false;\r\n        this.lastAppendedChildren = [];\r\n\r\n        var reuseBob = GetValue(config, 'reuseBob', true);\r\n        this.poolManager = (reuseBob) ? (new PoolManager(config)) : undefined;\r\n\r\n        this\r\n            .setTexture(texture, frame)\r\n            .setPosition(x, y)\r\n            .setOrigin(0, 0)\r\n            .clearTint()\r\n            .initPipeline()\r\n\r\n    }\r\n\r\n    preDestroy() {\r\n        this.removeChildren();\r\n        this.children.destroy();\r\n        this.renderList.length = 0;\r\n\r\n        if (this.poolManager) {\r\n            this.poolManager.destroy();\r\n        }\r\n    }\r\n\r\n    getRenderList() {\r\n        if (this.displayListDirty) {\r\n            this.renderList.length = 0;\r\n            var needDepthSort = false;\r\n\r\n            var children = this.children.list;\r\n            for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n                var child = children[i];\r\n                if (ChildCanRender(child)) {\r\n                    this.renderList.push(child);\r\n\r\n                    if (!needDepthSort) {\r\n                        needDepthSort = (child.depth !== 0);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (needDepthSort) {\r\n                StableSort(this.renderList, SortByDepth)\r\n            }\r\n\r\n            this.displayListDirty = false;\r\n        }\r\n\r\n        return this.renderList;\r\n    }\r\n}\r\n\r\nvar ChildCanRender = function (child) {\r\n    return (child.active && child.visible && (child.alpha > 0));\r\n}\r\n\r\nvar SortByDepth = function (childA, childB) {\r\n    return childA._depth - childB._depth;\r\n}\r\n\r\nconst Components = Phaser.GameObjects.Components;\r\nPhaser.Class.mixin(Blitter,\r\n    [\r\n        Components.Alpha,\r\n        Components.BlendMode,\r\n        Components.ComputedSize,\r\n        Components.Depth,\r\n        Components.GetBounds,\r\n        Components.Mask,\r\n        Components.Origin,\r\n        Components.Pipeline,\r\n        Components.ScrollFactor,\r\n        Components.Transform,\r\n        Components.Visible,\r\n        Render,\r\n\r\n        Methods\r\n    ]\r\n);\r\n\r\n\r\nexport default Blitter;","const ImageTypeName = 'image';\r\n\r\nexport {\r\n    ImageTypeName,\r\n}","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2019 Photon Storm Ltd.\r\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\r\n */\r\n\r\n//  Source object\r\n//  The key as a string, or an array of keys, i.e. 'banner', or 'banner.hideBanner'\r\n//  The default value to use if the key doesn't exist\r\n\r\n/**\r\n * Retrieves a value from an object.\r\n *\r\n * @function Phaser.Utils.Objects.GetValue\r\n * @since 3.0.0\r\n *\r\n * @param {object} source - The object to retrieve the value from.\r\n * @param {string} key - The name of the property to retrieve from the object. If a property is nested, the names of its preceding properties should be separated by a dot (`.`) - `banner.hideBanner` would return the value of the `hideBanner` property from the object stored in the `banner` property of the `source` object.\r\n * @param {*} defaultValue - The value to return if the `key` isn't found in the `source` object.\r\n *\r\n * @return {*} The value of the requested key.\r\n */\r\nvar GetValue = function (source, key, defaultValue)\r\n{\r\n    if (!source || typeof source === 'number')\r\n    {\r\n        return defaultValue;\r\n    }\r\n    else if (source.hasOwnProperty(key))\r\n    {\r\n        return source[key];\r\n    }\r\n    else if (key.indexOf('.') !== -1)\r\n    {\r\n        var keys = key.split('.');\r\n        var parent = source;\r\n        var value = defaultValue;\r\n\r\n        //  Use for loop here so we can break early\r\n        for (var i = 0; i < keys.length; i++)\r\n        {\r\n            if (parent.hasOwnProperty(keys[i]))\r\n            {\r\n                //  Yes it has a key property, let's carry on down\r\n                value = parent[keys[i]];\r\n\r\n                parent = parent[keys[i]];\r\n            }\r\n            else\r\n            {\r\n                //  Can't go any further, so reset to default\r\n                value = defaultValue;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return value;\r\n    }\r\n    else\r\n    {\r\n        return defaultValue;\r\n    }\r\n};\r\n\r\nexport default GetValue;\r\n","var Clear = function (obj) {\r\n    if ((typeof (obj) !== 'object') || (obj === null)) {\r\n        return obj;\r\n    }\r\n\r\n    if (Array.isArray(obj)) {\r\n        obj.length = 0;\r\n    } else {\r\n        for (var key in obj) {\r\n            delete obj[key];\r\n        }\r\n    }\r\n\r\n    return obj;\r\n}\r\n\r\nexport default Clear;","import Clear from './Clear.js';\r\n\r\n/**\r\n * Shallow Object Clone. Will not out nested objects.\r\n * @param {object} obj JSON object\r\n * @param {object} ret JSON object to return, set null to return a new object\r\n * @returns {object} this object\r\n */\r\nvar Clone = function (obj, out) {\r\n    var objIsArray = Array.isArray(obj);\r\n\r\n    if (out === undefined) {\r\n        out = (objIsArray) ? [] : {};\r\n    } else {\r\n        Clear(out);\r\n    }\r\n\r\n    if (objIsArray) {\r\n        out.length = obj.length;\r\n        for (var i = 0, cnt = obj.length; i < cnt; i++) {\r\n            out[i] = obj[i];\r\n        }\r\n    } else {\r\n        for (var key in obj) {\r\n            out[key] = obj[key];\r\n        }\r\n    }\r\n\r\n    return out;\r\n};\r\n\r\nexport default Clone;\r\n","import GetValue from '../object/GetValue.js';\r\nimport Clear from '../object/Clear.js';\r\nimport Clone from '../object/Clone.js';\r\n\r\nexport default {\r\n    enableData() {\r\n        if (this.data === undefined) {\r\n            this.data = {};\r\n        }\r\n        return this;\r\n    },\r\n\r\n    getData(key, defaultValue) {\r\n        this.enableData();\r\n        return (key === undefined) ? this.data : GetValue(this.data, key, defaultValue);\r\n    },\r\n\r\n    setData(key, value) {\r\n        this.enableData();\r\n        if (arguments.length === 1) {\r\n            var data = key;\r\n            for (key in data) {\r\n                this.data[key] = data[key];\r\n            }\r\n        } else {\r\n            this.data[key] = value;\r\n        }\r\n        return this;\r\n    },\r\n\r\n    incData(key, inc, defaultValue) {\r\n        if (defaultValue === undefined) {\r\n            defaultValue = 0;\r\n        }\r\n        this.enableData();\r\n        this.setData(key, this.getData(key, defaultValue) + inc);\r\n        return this;\r\n    },\r\n\r\n    mulData(key, mul, defaultValue) {\r\n        if (defaultValue === undefined) {\r\n            defaultValue = 0;\r\n        }\r\n        this.enableData();\r\n        this.setData(key, this.getData(key, defaultValue) * mul);\r\n        return this;\r\n    },\r\n\r\n    clearData() {\r\n        if (this.data) {\r\n            Clear(this.data);\r\n        }\r\n        return this;\r\n    },\r\n};","import DataMethods from '../../../../utils/data/DataMethods.js'\r\n\r\nclass Base {\r\n    constructor(parent, type) {\r\n        this.type = type;\r\n\r\n        this.data = undefined;\r\n\r\n        this\r\n            .setParent(parent)\r\n            .reset()\r\n            .setActive();\r\n\r\n    }\r\n\r\n    destroy() {\r\n        if (this.parent) {\r\n            this.parent.removeChild(this);\r\n            // Remove this bob from blitter, and free it (bob.onFree())\r\n            // Will set this.parent to undefined\r\n        }\r\n    }\r\n\r\n    setParent(parent) {\r\n        this.parent = parent;\r\n        return this;\r\n    }\r\n\r\n    // get scene() {\r\n    //     if (this.parent) {\r\n    //         return this.parent.scene;\r\n    //     } else {\r\n    //         return null;\r\n    //     }\r\n    // }\r\n\r\n    setDisplayListDirty(displayListDirty) {\r\n        if (displayListDirty && this.parent) {\r\n            this.parent.displayListDirty = true;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get active() {\r\n        return this._active;\r\n    }\r\n\r\n    set active(value) {\r\n        this.setDisplayListDirty(this._active != value);\r\n        this._active = value;\r\n    }\r\n\r\n    setActive(active) {\r\n        if (active === undefined) {\r\n            active = true;\r\n        }\r\n        this.active = active;\r\n        return this;\r\n    }\r\n\r\n    modifyPorperties(o) {\r\n        return this;\r\n    }\r\n\r\n    // Override\r\n    reset() {\r\n        this.clearData();\r\n    }\r\n\r\n    // Override\r\n    onFree() {\r\n        this.reset().setActive(false).setParent();\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    Base.prototype,\r\n    DataMethods\r\n);\r\n\r\nexport default Base;","import Base from './Base.js';\r\n\r\nconst DegToRad = Phaser.Math.DegToRad;\r\nconst RadToDeg = Phaser.Math.RadToDeg;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass RenderBase extends Base {\r\n\r\n    get visible() {\r\n        return this._visible;\r\n    }\r\n\r\n    set visible(value) {\r\n        this.setDisplayListDirty(this._visible != value);\r\n        this._visible = value;\r\n    }\r\n\r\n    setVisible(visible) {\r\n        if (visible === undefined) {\r\n            visible = true;\r\n        }\r\n\r\n        this.visible = visible;\r\n        return this;\r\n    }\r\n\r\n    get alpha() {\r\n        return this._alpha;\r\n    }\r\n\r\n    set alpha(value) {\r\n        this.setDisplayListDirty(!!this._alpha !== !!value);\r\n        this._alpha = value;\r\n    }\r\n\r\n    setAlpha(alpha) {\r\n        this.alpha = alpha;\r\n        return this;\r\n    }\r\n\r\n    setX(x) {\r\n        this.x = x;\r\n        return this;\r\n    }\r\n\r\n    setY(y) {\r\n        this.y = y;\r\n        return this;\r\n    }\r\n\r\n    setPosition(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        return this;\r\n    }\r\n\r\n    setRotation(rotation) {\r\n        this.rotation = rotation;\r\n        return this;\r\n    }\r\n\r\n    get angle() {\r\n        return RadToDeg(this.rotation);\r\n    }\r\n\r\n    set angle(value) {\r\n        this.rotation = DegToRad(value);\r\n    }\r\n\r\n    setAngle(angle) {\r\n        this.angle = angle;\r\n        return this;\r\n    }\r\n\r\n    setScaleX(scaleX) {\r\n        this.scaleX = scaleX;\r\n        return this;\r\n    }\r\n\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    set width(value) {\r\n        this._width = value;\r\n    }\r\n\r\n    setWidth(width, keepAspectRatio) {\r\n        if (keepAspectRatio === undefined) {\r\n            keepAspectRatio = false;\r\n        }\r\n        this.width = width;\r\n\r\n        if (keepAspectRatio) {\r\n            this.scaleY = this.scaleX;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setScaleY(scaleY) {\r\n        this.scaleY = scaleY;\r\n        return this;\r\n    }\r\n\r\n    setScale(scaleX, scaleY) {\r\n        if (scaleY === undefined) {\r\n            scaleY = scaleX;\r\n        }\r\n        this.scaleX = scaleX;\r\n        this.scaleY = scaleY;\r\n        return this;\r\n    }\r\n\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    set height(value) {\r\n        this._height = value;\r\n    }\r\n\r\n    setHeight(height, keepAspectRatio) {\r\n        if (keepAspectRatio === undefined) {\r\n            keepAspectRatio = false;\r\n        }\r\n        this.height = height;\r\n\r\n        if (keepAspectRatio) {\r\n            this.scaleX = this.scaleY;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setScale(scaleX, scaleY) {\r\n        if (scaleY === undefined) {\r\n            scaleY = scaleX;\r\n        }\r\n\r\n        this.scaleX = scaleX;\r\n        this.scaleY = scaleY;\r\n        return this;\r\n    }\r\n\r\n    get displayWidth() {\r\n        return this._width * this.scaleX;\r\n    }\r\n\r\n    set displayWidth(value) {\r\n        this.scaleX = value / this._width;\r\n    }\r\n\r\n    setDisplayWidth(width, keepAspectRatio) {\r\n        if (keepAspectRatio === undefined) {\r\n            keepAspectRatio = false;\r\n        }\r\n\r\n        this.displayWidth = width;\r\n\r\n        if (keepAspectRatio) {\r\n            this.scaleY = this.scaleX;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get displayHeight() {\r\n        return this._height * this.scaleY;\r\n    }\r\n\r\n    set displayHeight(value) {\r\n        this.scaleY = value / this._height;\r\n    }\r\n\r\n    setDisplayHeight(height, keepAspectRatio) {\r\n        if (keepAspectRatio === undefined) {\r\n            keepAspectRatio = false;\r\n        }\r\n\r\n        this.displayHeight = height;\r\n\r\n        if (keepAspectRatio) {\r\n            this.scaleX = this.scaleY;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setOriginX(originX) {\r\n        this.originX = originX;\r\n        this._displayOriginX = this.width * originX;\r\n        return this;\r\n    }\r\n\r\n    setOriginY(originY) {\r\n        this.originY = originY;\r\n        this._displayOriginY = this.height * originY;\r\n        return this;\r\n    }\r\n\r\n    setOrigin(originX, originY) {\r\n        if (originY === undefined) {\r\n            originY = originX;\r\n        }\r\n        this.setOriginX(originX).setOriginY(originY);\r\n        return this;\r\n    }\r\n\r\n    get depth() {\r\n        return this._depth;\r\n    }\r\n\r\n    set depth(value) {\r\n        this.setDisplayListDirty(this._depth != value);\r\n        this._depth = value;\r\n    }\r\n\r\n    setDepth(depth) {\r\n        if (depth === undefined) {\r\n            depth = 0;\r\n        }\r\n\r\n        this.depth = depth;\r\n        return this;\r\n    }\r\n\r\n    modifyPorperties(o) {\r\n        if (!o) {\r\n            return this;\r\n        }\r\n\r\n        if (o.hasOwnProperty('x')) {\r\n            this.setX(o.x);\r\n        }\r\n        if (o.hasOwnProperty('y')) {\r\n            this.setY(o.y);\r\n        }\r\n\r\n        if (o.hasOwnProperty('rotation')) {\r\n            this.setRotation(o.rotation);\r\n        } else if (o.hasOwnProperty('angle')) {\r\n            this.setAngle(o.angle);\r\n        }\r\n\r\n        if (o.hasOwnProperty('alpha')) {\r\n            this.setAlpha(o.alpha);\r\n        }\r\n\r\n        // ScaleX, ScaleY\r\n        var width = GetValue(o, 'width', undefined);\r\n        var height = GetValue(o, 'height', undefined);\r\n        var scale = GetValue(o, 'scale', undefined);\r\n        var scaleX = GetValue(o, 'scaleX', scale);\r\n        var scaleY = GetValue(o, 'scaleY', scale);\r\n\r\n        if (width !== undefined) {\r\n            if ((height === undefined) && (scaleY === undefined)) {\r\n                this.setWidth(width, true);\r\n            } else {\r\n                this.setWidth(width);\r\n            }\r\n        } else if (scaleX !== undefined) {\r\n            this.setScaleX(scaleX);\r\n        } else if (o.hasOwnProperty('displayWidth')) {\r\n            this.setDisplayWidth(o.displayWidth);\r\n        }\r\n\r\n        if (height !== undefined) {\r\n            if ((width === undefined) && (scaleX === undefined)) {\r\n                this.setHeight(height, true);\r\n            } else {\r\n                this.setHeight(height);\r\n            }\r\n        } else if (scaleY !== undefined) {\r\n            this.setScaleY(scaleY);\r\n        } else if (o.hasOwnProperty('displayHeight')) {\r\n            this.setDisplayHeight(o.displayHeight);\r\n        }\r\n\r\n        var origin = GetValue(o, 'origin', undefined);\r\n        if (origin !== undefined) {\r\n            this.setOrigin(origin);\r\n        } else {\r\n            if (o.hasOwnProperty('originX')) {\r\n                this.setOriginX(o.originX);\r\n            }\r\n            if (o.hasOwnProperty('originY')) {\r\n                this.setOriginY(o.originY);\r\n            }\r\n        }\r\n\r\n        if (o.hasOwnProperty('depth')) {\r\n            this.setDepth(o.depth);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n\r\n        this\r\n            .setVisible()\r\n            .setAlpha(1)\r\n            .setPosition(0, 0)\r\n            .setRotation(0)\r\n            .setScale(1, 1)\r\n            .setOrigin(0)\r\n            .setDepth(0)\r\n\r\n        return this;\r\n    }\r\n\r\n    // Override\r\n    webglRender(pipeline, calcMatrix, alpha, dx, dy, texture, textureUnit, roundPixels) {\r\n    }\r\n    // Override\r\n    canvasRender(ctx, dx, dy, roundPixels) {\r\n    }\r\n}\r\n\r\nexport default RenderBase;","const TransformMatrix = Phaser.GameObjects.Components.TransformMatrix;\r\nconst GetTint = Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;\r\n\r\nvar FrameMatrix = new TransformMatrix();\r\n\r\nvar WebglRender = function (pipeline, calcMatrix, alpha, dx, dy, texture, textureUnit, roundPixels) {\r\n    var width = this._width,\r\n        height = this._height;\r\n    var displayOriginX = width * this.originX,\r\n        displayOriginY = height * this.originY;\r\n    var x = this.x - dx,\r\n        y = this.y - dy;\r\n\r\n    var flipX = 1;\r\n    var flipY = 1;\r\n\r\n    if (this.flipX) {\r\n        x += width - (displayOriginX * 2);\r\n        flipX = -1;\r\n    }\r\n    if (this.flipY) {\r\n        y += height - (displayOriginY * 2);\r\n        flipY = -1;\r\n    }\r\n\r\n    FrameMatrix.applyITRS(x, y, this.rotation, this.scaleX * flipX, this.scaleY * flipY);\r\n    calcMatrix.multiply(FrameMatrix, FrameMatrix);\r\n\r\n    var tx = -displayOriginX;\r\n    var ty = -displayOriginY;\r\n    var tw = tx + width;\r\n    var th = ty + height;\r\n\r\n    var tx0 = FrameMatrix.getXRound(tx, ty, roundPixels);\r\n    var tx1 = FrameMatrix.getXRound(tx, th, roundPixels);\r\n    var tx2 = FrameMatrix.getXRound(tw, th, roundPixels);\r\n    var tx3 = FrameMatrix.getXRound(tw, ty, roundPixels);\r\n\r\n    var ty0 = FrameMatrix.getYRound(tx, ty, roundPixels);\r\n    var ty1 = FrameMatrix.getYRound(tx, th, roundPixels);\r\n    var ty2 = FrameMatrix.getYRound(tw, th, roundPixels);\r\n    var ty3 = FrameMatrix.getYRound(tw, ty, roundPixels);\r\n\r\n    var u0 = this.frame.u0;\r\n    var v0 = this.frame.v0;\r\n    var u1 = this.frame.u1;\r\n    var v1 = this.frame.v1;\r\n\r\n    var tint = GetTint(this.tint, this.alpha * alpha);\r\n\r\n    pipeline.batchQuad(\r\n        this.parent,\r\n        tx0, ty0,\r\n        tx1, ty1,\r\n        tx2, ty2,\r\n        tx3, ty3,\r\n        u0, v0,\r\n        u1, v1,\r\n        tint, tint, tint, tint,\r\n        this.tintFill,\r\n        texture,\r\n        textureUnit\r\n    );\r\n}\r\n\r\nexport default WebglRender;","var CanvasRender = function (ctx, dx, dy, roundPixels) {\r\n\r\n    ctx.save();\r\n\r\n    var width = this._width,\r\n        height = this._height;\r\n    var displayOriginX = width * this.originX,\r\n        displayOriginY = height * this.originY;\r\n    var x = this.x - displayOriginX,\r\n        y = this.y - displayOriginY;\r\n\r\n    var flipX = 1;\r\n    var flipY = 1;\r\n\r\n    if (this.flipX) {\r\n        x += width;\r\n        flipX = -1;\r\n    }\r\n    if (this.flipY) {\r\n        y += height;\r\n        flipY = -1;\r\n    }\r\n\r\n    if (roundPixels) {\r\n        x = Math.round(x);\r\n        y = Math.round(y);\r\n    }\r\n\r\n    ctx.translate(x, y);\r\n\r\n    ctx.rotate(this.rotation);\r\n\r\n    ctx.scale(this.scaleX * flipX, this.scaleY * flipY);\r\n\r\n    var frame = this.frame;\r\n    ctx.drawImage(\r\n        frame.source.image,\r\n        frame.cutX, frame.cutY, width, height,\r\n        0, 0, width, height,\r\n    );\r\n\r\n    ctx.restore();\r\n\r\n}\r\nexport default CanvasRender;","import RenderBase from '../RenderBase.js';\r\nimport { ImageTypeName } from '../Types.js';\r\nimport WebglRender from './WebglRender.js';\r\nimport CanvasRender from './CanvasRender.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\n\r\nclass ImageData extends RenderBase {\r\n    constructor(parent, frame) {\r\n        super(parent, ImageTypeName);\r\n\r\n        this.setFrame(frame);\r\n    }\r\n\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    set width(value) {\r\n    }\r\n\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    set height(value) {\r\n    }\r\n\r\n    setFrame(frame) {\r\n        if (arguments.length > 0 && !IsPlainObject(frame)) {\r\n            frame = this.parent.texture.get(frame);\r\n        }\r\n        this.frame = frame;\r\n        this._width = (frame) ? frame.width : 0;\r\n        this._height = (frame) ? frame.height : 0;\r\n        return this;\r\n    }\r\n\r\n    setFlipX(flipX) {\r\n        if (flipX === undefined) {\r\n            flipX = true;\r\n        }\r\n        this.flipX = flipX;\r\n        return this;\r\n    }\r\n\r\n    setFlipY(flipY) {\r\n        if (flipY === undefined) {\r\n            flipY = true;\r\n        }\r\n        this.flipY = flipY;\r\n        return this;\r\n    }\r\n\r\n    resetFlip() {\r\n        this.flipX = false;\r\n        this.flipY = false;\r\n        return this;\r\n    }\r\n\r\n    get tint() {\r\n        if (this._tint === undefined) {\r\n            return this.parent.tint;\r\n        } else {\r\n            return this._tint;\r\n        }\r\n    }\r\n\r\n    set tint(value) {\r\n        this._tint = value;\r\n    }\r\n\r\n\r\n    setTint(value) {\r\n        this.tint = value;\r\n        this.tintFill = false;\r\n        return this;\r\n    }\r\n\r\n    setTintFill(value) {\r\n        this.tint = value;\r\n        this.tintFill = true;\r\n        return this;\r\n    }\r\n\r\n    clearTint() {\r\n        this.setTint(0xffffff);\r\n        return this;\r\n    }\r\n\r\n    resetTint() {\r\n        this.tint = undefined;\r\n        this.tintFill = undefined;\r\n        return this;\r\n    }\r\n\r\n    get tintFill() {\r\n        if (this._tintFill === undefined) {\r\n            return this.parent.tintFill;\r\n        } else {\r\n            return this._tintFill;\r\n        }\r\n    }\r\n\r\n    set tintFill(value) {\r\n        this._tintFill = value;\r\n    }\r\n\r\n    reset() {\r\n        super.reset();\r\n\r\n        this\r\n            .resetFlip()\r\n            .resetTint()\r\n            .setFrame();\r\n\r\n        return this;\r\n    }\r\n\r\n    modifyPorperties(o) {\r\n        if (!o) {\r\n            return this;\r\n        }\r\n\r\n        // Size of Image is equal to frame size,\r\n        // Move width, height properties to displayWidth,displayHeight\r\n        if (o.hasOwnProperty('width')) {\r\n            o.displayWidth = o.width;\r\n            delete o.width;\r\n        }\r\n        if (o.hasOwnProperty('height')) {\r\n            o.displayHeight = o.height;\r\n            delete o.height;\r\n        }\r\n\r\n        if (o.hasOwnProperty('frame')) {\r\n            this.setFrame(o.frame);\r\n        }\r\n\r\n        super.modifyPorperties(o);\r\n\r\n        if (o.hasOwnProperty('flipX')) {\r\n            this.setFlipX(o.flipX);\r\n        }\r\n        if (o.hasOwnProperty('flipY')) {\r\n            this.setFlipY(o.flipY);\r\n        }\r\n\r\n        if (o.hasOwnProperty('tint')) {\r\n            this.setTint(o.tint);\r\n        }\r\n\r\n        if (o.hasOwnProperty('tintFill')) {\r\n            this.setTintFill(o.tintFill);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nvar methods = {\r\n    webglRender: WebglRender,\r\n    canvasRender: CanvasRender,\r\n}\r\n\r\nObject.assign(\r\n    ImageData.prototype,\r\n    methods\r\n);\r\n\r\nexport default ImageData;","import { ImageTypeName } from '../../blitterbase/bob/Types.js';\r\nimport ImageData from '../../blitterbase/bob/image/ImageData.js';\r\n\r\nvar AddImage = function (blitter, config) {\r\n    if (typeof (config) === 'string') {\r\n        config = {\r\n            frame: config\r\n        }\r\n    }\r\n\r\n    var bob = (blitter.poolManager) ? blitter.poolManager.allocate(ImageTypeName) : null;\r\n    if (bob === null) {\r\n        bob = new ImageData(blitter);\r\n    } else {\r\n        bob.setParent(blitter).setActive();\r\n    }\r\n    bob.modifyPorperties(config);\r\n\r\n    blitter.addChild(bob);\r\n\r\n    return bob;\r\n}\r\n\r\nexport default AddImage;","import AddImage from '../../blitterbase/utils/AddImage.js';\r\n\r\nvar DrawImage = function (key, frame, x, y, width, height) {\r\n    AddImage(this, {\r\n        frame: frame,\r\n        x: x,\r\n        y: y,\r\n        width: width,\r\n        height: height\r\n    })\r\n}\r\n\r\nexport default DrawImage;","import AddImage from '../../blitterbase/utils/AddImage.js';\r\n\r\nvar DrawTileSprite = function (key, frame, x, y, width, height) {\r\n    var frameObj = this.texture.get(frame);\r\n    var frameWidth = frameObj.width,\r\n        frameHeight = frameObj.height;\r\n    var colCount = Math.floor(width / frameWidth),\r\n        rowCount = Math.floor(height / frameHeight);\r\n    // Align images at center\r\n    x += (width - (colCount * frameWidth)) / 2;\r\n    y += (height - (rowCount * frameHeight)) / 2;\r\n    for (var colIndex = 0; colIndex < colCount; colIndex++) {\r\n        for (var rowIndex = 0; rowIndex < rowCount; rowIndex++) {\r\n            AddImage(this, {\r\n                frame: frame,\r\n                x: x + (colIndex * frameWidth),\r\n                y: y + (rowIndex * frameHeight),\r\n            })\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default DrawTileSprite;","import DrawImage from './texture/DrawImage.js';\r\nimport DrawTileSprite from './texture/DrawTileSprite.js';\r\n\r\nexport default {\r\n    _drawImage: DrawImage,\r\n    _drawTileSprite: DrawTileSprite,\r\n};\r\n","import Blitter from '../blitterbase/BlitterBase.js'\r\nimport NinePatchBase from '../../../utils/ninepatch/NinePatch.js';\r\nimport Methods from './Methods.js';\r\nimport SetTexture from '../blitterbase/methods/SetTexture.js';\r\n\r\nclass NinePatch extends NinePatchBase(Blitter, 'rexNinePatch2') {\r\n    setTexture(key, baseFrameName, columns, rows) {\r\n        SetTexture.call(this, key, '__BASE');\r\n\r\n        // Not initialized yet\r\n        if (!this.columns) {\r\n            return this;\r\n        }\r\n\r\n        super.setTexture(key, baseFrameName, columns, rows);\r\n        return this;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    NinePatch.prototype,\r\n    Methods\r\n);\r\n\r\nexport default NinePatch;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass RoundRectangle {\r\n    constructor(x, y, width, height, radiusConfig) {\r\n        this.cornerRadius = {};\r\n        this._width = 0;\r\n        this._height = 0;\r\n        this.setTo(x, y, width, height, radiusConfig);\r\n    }\r\n\r\n    setTo(x, y, width, height, radiusConfig) {\r\n        this.setPosition(x, y);\r\n        this.setRadius(radiusConfig);\r\n        this.setSize(width, height);\r\n        return this;\r\n    }\r\n\r\n    setPosition(x, y) {\r\n        if (x === undefined) {\r\n            x = 0;\r\n        }\r\n        if (y === undefined) {\r\n            y = x;\r\n        }\r\n        this.x = x;\r\n        this.y = y;\r\n        return this;\r\n    }\r\n\r\n    setRadius(value) {\r\n        if (value === undefined) {\r\n            value = 0;\r\n        }\r\n        this.radius = value;\r\n        return this;\r\n    }\r\n\r\n    setSize(width, height) {\r\n        this.width = width;\r\n        this.height = height;\r\n        return this;\r\n    }\r\n\r\n    get minWidth() {\r\n        var radius = this.cornerRadius;\r\n        return Math.max(radius.tl.x + radius.tr.x, radius.bl.x + radius.br.x);\r\n    }\r\n\r\n    get minHeight() {\r\n        var radius = this.cornerRadius;\r\n        return Math.max(radius.tl.y + radius.bl.y, radius.tr.y + radius.br.y);\r\n    }\r\n\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    set width(value) {\r\n        if (value == null) {\r\n            value = 0;\r\n        }\r\n        this._width = Math.max(value, this.minWidth);\r\n    }\r\n\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    set height(value) {\r\n        if (value == null) {\r\n            value = 0;\r\n        }\r\n        this._height = Math.max(value, this.minHeight);\r\n    }\r\n\r\n    get radius() {\r\n        var radius = this.cornerRadius;\r\n        return Math.max(\r\n            radius.tl.x, radius.tl.y,\r\n            radius.tr.x, radius.tr.y,\r\n            radius.bl.x, radius.bl.y,\r\n            radius.br.x, radius.br.y\r\n        );\r\n    }\r\n\r\n    set radius(value) {\r\n        var defaultRadiusX, defaultRadiusY;\r\n        if (typeof (value) === 'number') {\r\n            defaultRadiusX = value;\r\n            defaultRadiusY = value;\r\n        } else {\r\n            defaultRadiusX = GetValue(value, 'x', 0);\r\n            defaultRadiusY = GetValue(value, 'y', 0);\r\n        }\r\n\r\n        var radius = this.cornerRadius;\r\n        radius.tl = GetRadius(GetValue(value, 'tl', undefined), defaultRadiusX, defaultRadiusY);\r\n        radius.tr = GetRadius(GetValue(value, 'tr', undefined), defaultRadiusX, defaultRadiusY);\r\n        radius.bl = GetRadius(GetValue(value, 'bl', undefined), defaultRadiusX, defaultRadiusY);\r\n        radius.br = GetRadius(GetValue(value, 'br', undefined), defaultRadiusX, defaultRadiusY);\r\n    }\r\n\r\n    get radiusTL() {\r\n        var radius = this.cornerRadius.tl;\r\n        return Math.max(radius.x, radius.y);\r\n    }\r\n\r\n    set radiusTL(value) {\r\n        SetRadius(this.cornerRadius.tl, value);\r\n    }\r\n\r\n    get radiusTR() {\r\n        var radius = this.cornerRadius.tr;\r\n        return Math.max(radius.x, radius.y);\r\n    }\r\n\r\n    set radiusTR(value) {\r\n        SetRadius(this.cornerRadius.tr, value);\r\n    }\r\n\r\n    get radiusBL() {\r\n        var radius = this.cornerRadius.bl;\r\n        return Math.max(radius.x, radius.y);\r\n    }\r\n\r\n    set radiusBL(value) {\r\n        SetRadius(this.cornerRadius.bl, value);\r\n    }\r\n\r\n    get radiusBR() {\r\n        var radius = this.cornerRadius.br;\r\n        return Math.max(radius.x, radius.y);\r\n    }\r\n\r\n    set radiusBR(value) {\r\n        SetRadius(this.cornerRadius.br, value);\r\n    }\r\n}\r\n\r\nvar GetRadius = function (radius, defaultRadiusX, defaultRadiusY) {\r\n    if (radius === undefined) {\r\n        return {\r\n            x: defaultRadiusX,\r\n            y: defaultRadiusY\r\n        };\r\n    } else if (typeof (radius) === 'number') {\r\n        return {\r\n            x: radius,\r\n            y: radius\r\n        };\r\n    } else {\r\n        return radius;\r\n    }\r\n}\r\n\r\nvar SetRadius = function (radius, value) {\r\n    if (typeof (value) === 'number') {\r\n        radius.x = value;\r\n        radius.y = value;\r\n    } else {\r\n        radius.x = GetValue(value, 'x', 0);\r\n        radius.y = GetValue(value, 'y', 0);\r\n    }\r\n}\r\nexport default RoundRectangle;","var LineTo = function (x, y, pathData) {\r\n    var cnt = pathData.length;\r\n    if (cnt >= 2) {\r\n        var lastX = pathData[cnt - 2];\r\n        var lastY = pathData[cnt - 1];\r\n        if ((x === lastX) && (y === lastY)) {\r\n            return pathData;\r\n        }\r\n    }\r\n\r\n    pathData.push(x, y);\r\n    return pathData;\r\n}\r\n\r\nexport default LineTo;","import LineTo from './LineTo.js';\r\n\r\nconst DegToRad = Phaser.Math.DegToRad;\r\n\r\nvar ArcTo = function (centerX, centerY, radiusX, radiusY, startAngle, endAngle, antiClockWise, iteration, pathData) {\r\n    // startAngle, endAngle: 0 ~ 360\r\n    if (antiClockWise && (endAngle > startAngle)) {\r\n        endAngle -= 360;\r\n    } else if (!antiClockWise && (endAngle < startAngle)) {\r\n        endAngle += 360;\r\n    }\r\n\r\n    var deltaAngle = endAngle - startAngle;\r\n    var step = DegToRad(deltaAngle) / iteration;\r\n    startAngle = DegToRad(startAngle);\r\n    for (var i = 0; i <= iteration; i++) {\r\n        var angle = startAngle + (step * i);\r\n        var x = centerX + (radiusX * Math.cos(angle));\r\n        var y = centerY + (radiusY * Math.sin(angle));\r\n        LineTo(x, y, pathData);\r\n    }\r\n    return pathData;\r\n}\r\nexport default ArcTo;","/*\r\nsrc: {\r\n    fillColor, \r\n    fillAlpha, \r\n    pathData, \r\n    pathIndexes  // Earcut(pathData)\r\n}\r\n*/\r\n\r\nvar Utils = Phaser.Renderer.WebGL.Utils;\r\n\r\nvar FillPathWebGL = function (pipeline, calcMatrix, src, alpha, dx, dy)\r\n{\r\n    var fillTintColor = Utils.getTintAppendFloatAlpha(src.fillColor, src.fillAlpha * alpha);\r\n\r\n    var path = src.pathData;\r\n    var pathIndexes = src.pathIndexes;\r\n\r\n    for (var i = 0; i < pathIndexes.length; i += 3)\r\n    {\r\n        var p0 = pathIndexes[i] * 2;\r\n        var p1 = pathIndexes[i + 1] * 2;\r\n        var p2 = pathIndexes[i + 2] * 2;\r\n\r\n        var x0 = path[p0 + 0] - dx;\r\n        var y0 = path[p0 + 1] - dy;\r\n        var x1 = path[p1 + 0] - dx;\r\n        var y1 = path[p1 + 1] - dy;\r\n        var x2 = path[p2 + 0] - dx;\r\n        var y2 = path[p2 + 1] - dy;\r\n\r\n        var tx0 = calcMatrix.getX(x0, y0);\r\n        var ty0 = calcMatrix.getY(x0, y0);\r\n        var tx1 = calcMatrix.getX(x1, y1);\r\n        var ty1 = calcMatrix.getY(x1, y1);\r\n        var tx2 = calcMatrix.getX(x2, y2);\r\n        var ty2 = calcMatrix.getY(x2, y2);\r\n\r\n        pipeline.batchTri(src, tx0, ty0, tx1, ty1, tx2, ty2, 0, 0, 1, 1, fillTintColor, fillTintColor, fillTintColor, 2);\r\n    }\r\n};\r\n\r\nexport default FillPathWebGL;\r\n","/*\r\nsrc: {\r\n    strokeColor,\r\n    strokeAlpha,\r\n    pathData,\r\n    lineWidth,\r\n    closePath\r\n}\r\n*/\r\nvar Utils = Phaser.Renderer.WebGL.Utils;\r\n\r\nvar StrokePathWebGL = function (pipeline, src, alpha, dx, dy)\r\n{\r\n    var strokeTint = pipeline.strokeTint;\r\n    var strokeTintColor = Utils.getTintAppendFloatAlpha(src.strokeColor, src.strokeAlpha * alpha);\r\n\r\n    strokeTint.TL = strokeTintColor;\r\n    strokeTint.TR = strokeTintColor;\r\n    strokeTint.BL = strokeTintColor;\r\n    strokeTint.BR = strokeTintColor;\r\n\r\n    var path = src.pathData;\r\n    var pathLength = path.length - 1;\r\n    var lineWidth = src.lineWidth;\r\n    var halfLineWidth = lineWidth / 2;\r\n\r\n    var px1 = path[0] - dx;\r\n    var py1 = path[1] - dy;\r\n\r\n    if (!src.closePath)\r\n    {\r\n        pathLength -= 2;\r\n    }\r\n\r\n    for (var i = 2; i < pathLength; i += 2)\r\n    {\r\n        var px2 = path[i] - dx;\r\n        var py2 = path[i + 1] - dy;\r\n\r\n        pipeline.batchLine(\r\n            px1,\r\n            py1,\r\n            px2,\r\n            py2,\r\n            halfLineWidth,\r\n            halfLineWidth,\r\n            lineWidth,\r\n            i - 2,\r\n            (src.closePath) ? (i === pathLength - 1) : false\r\n        );\r\n\r\n        px1 = px2;\r\n        py1 = py2;\r\n    }\r\n};\r\n\r\nexport default StrokePathWebGL;\r\n","import FillPathWebGL from '../../utils/render/FillPathWebGL.js';\r\nimport StrokePathWebGL from '../../utils/render/StrokePathWebGL.js';\r\n\r\nconst GetCalcMatrix = Phaser.GameObjects.GetCalcMatrix;\r\n\r\nvar PolygonWebGLRenderer = function (renderer, src, camera, parentMatrix) {    \r\n    if (src.dirty) {\r\n        src.updateData();\r\n        src.dirty = false;\r\n    }\r\n\r\n    camera.addToRenderList(src);\r\n\r\n    var pipeline = renderer.pipelines.set(src.pipeline);\r\n\r\n    var result = GetCalcMatrix(src, camera, parentMatrix);\r\n\r\n    var calcMatrix = pipeline.calcMatrix.copyFrom(result.calc);\r\n\r\n    var dx = src._displayOriginX;\r\n    var dy = src._displayOriginY;\r\n\r\n    var alpha = camera.alpha * src.alpha;\r\n\r\n    renderer.pipelines.preBatch(src);\r\n\r\n    if (src.isFilled) {\r\n        FillPathWebGL(pipeline, calcMatrix, src, alpha, dx, dy);\r\n    }\r\n\r\n    if (src.isStroked) {\r\n        StrokePathWebGL(pipeline, src, alpha, dx, dy);\r\n    }\r\n\r\n    renderer.pipelines.postBatch(src);\r\n};\r\n\r\nexport default PolygonWebGLRenderer;","var FillStyleCanvas = function (ctx, src, altColor, altAlpha)\r\n{\r\n    var fillColor = (altColor) ? altColor : src.fillColor;\r\n    var fillAlpha = (altAlpha) ? altAlpha : src.fillAlpha;\r\n\r\n    var red = ((fillColor & 0xFF0000) >>> 16);\r\n    var green = ((fillColor & 0xFF00) >>> 8);\r\n    var blue = (fillColor & 0xFF);\r\n\r\n    ctx.fillStyle = 'rgba(' + red + ',' + green + ',' + blue + ',' + fillAlpha + ')';\r\n};\r\n\r\nexport default FillStyleCanvas;\r\n","var LineStyleCanvas = function (ctx, src, altColor, altAlpha)\r\n{\r\n    var strokeColor = (altColor) ? altColor : src.strokeColor;\r\n    var strokeAlpha = (altAlpha) ? altAlpha : src.strokeAlpha;\r\n\r\n    var red = ((strokeColor & 0xFF0000) >>> 16);\r\n    var green = ((strokeColor & 0xFF00) >>> 8);\r\n    var blue = (strokeColor & 0xFF);\r\n\r\n    ctx.strokeStyle = 'rgba(' + red + ',' + green + ',' + blue + ',' + strokeAlpha + ')';\r\n    ctx.lineWidth = src.lineWidth;\r\n};\r\n\r\nexport default LineStyleCanvas;\r\n","import FillStyleCanvas from '../../utils/render/FillStyleCanvas';\r\nimport LineStyleCanvas from '../../utils/render/LineStyleCanvas';\r\n\r\nconst SetTransform = Phaser.Renderer.Canvas.SetTransform;\r\n\r\nvar PolygonCanvasRenderer = function (renderer, src, camera, parentMatrix) {\r\n    if (src.dirty) {\r\n        src.updateData();\r\n        src.dirty = false;\r\n    }\r\n\r\n    camera.addToRenderList(src);\r\n\r\n    var ctx = renderer.currentContext;\r\n\r\n    if (SetTransform(renderer, ctx, src, camera, parentMatrix)) {\r\n        var dx = src._displayOriginX;\r\n        var dy = src._displayOriginY;\r\n\r\n        var path = src.pathData;\r\n        var pathLength = path.length - 1;\r\n\r\n        var px1 = path[0] - dx;\r\n        var py1 = path[1] - dy;\r\n\r\n        ctx.beginPath();\r\n\r\n        ctx.moveTo(px1, py1);\r\n\r\n        if (!src.closePath) {\r\n            pathLength -= 2;\r\n        }\r\n\r\n        for (var i = 2; i < pathLength; i += 2) {\r\n            var px2 = path[i] - dx;\r\n            var py2 = path[i + 1] - dy;\r\n\r\n            ctx.lineTo(px2, py2);\r\n        }\r\n\r\n        ctx.closePath();\r\n\r\n        if (src.isFilled) {\r\n            FillStyleCanvas(ctx, src);\r\n\r\n            ctx.fill();\r\n        }\r\n\r\n        if (src.isStroked) {\r\n            LineStyleCanvas(ctx, src);\r\n\r\n            ctx.stroke();\r\n        }\r\n\r\n        //  Restore the context saved in SetTransform\r\n        ctx.restore();\r\n    }\r\n};\r\n\r\nexport default PolygonCanvasRenderer;\r\n","import WebGLRenderer from './WebGLRenderer.js';\r\nimport CanvasRenderer from './CanvasRenderer.js';\r\n\r\nexport default {\r\n    renderWebGL: WebGLRenderer,\r\n    renderCanvas: CanvasRenderer\r\n\r\n};","import GeomRoundRectangle from '../../../geom/roundrectangle/RoundRectangle.js';\r\nimport LineTo from '../../../geom/pathdata/LineTo.js';\r\nimport ArcTo from '../../../geom/pathdata/ArcTo.js';\r\nimport Render from './render/Render.js';\r\n\r\nconst Shape = Phaser.GameObjects.Shape;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst Earcut = Phaser.Geom.Polygon.Earcut;\r\n\r\nclass RoundRectangle extends Shape {\r\n    constructor(scene, x, y, width, height, radiusConfig, fillColor, fillAlpha) {\r\n        var strokeColor, strokeAlpha, strokeWidth;\r\n        if (IsPlainObject(x)) {\r\n            var config = x;\r\n\r\n            x = config.x;\r\n            y = config.y;\r\n            width = config.width;\r\n            height = config.height;\r\n            radiusConfig = config.radius;\r\n            fillColor = config.color;\r\n            fillAlpha = config.alpha;\r\n\r\n            strokeColor = config.strokeColor;\r\n            strokeAlpha = config.strokeAlpha;\r\n            strokeWidth = config.strokeWidth;\r\n        }\r\n        if (x === undefined) {\r\n            x = 0;\r\n        }\r\n        if (y === undefined) {\r\n            y = 0;\r\n        }\r\n        if (radiusConfig === undefined) {\r\n            radiusConfig = 0;\r\n        }\r\n\r\n        var geom = new GeomRoundRectangle();  // Configurate it later\r\n        super(scene, 'rexRoundRectangleShape', geom);\r\n\r\n        var radius = GetValue(radiusConfig, 'radius', radiusConfig);\r\n        geom.setTo(0, 0, width, height, radius);\r\n\r\n        var iteration = GetValue(radiusConfig, 'iteration', undefined);\r\n        this.setIteration(iteration);\r\n        this.setPosition(x, y);\r\n\r\n        if (fillColor !== undefined) {\r\n            this.setFillStyle(fillColor, fillAlpha);\r\n        }\r\n\r\n        if (strokeColor !== undefined) {\r\n            if (strokeWidth === undefined) {\r\n                strokeWidth = 2;\r\n            }\r\n            this.setStrokeStyle(strokeWidth, strokeColor, strokeAlpha);\r\n        }\r\n\r\n        this.updateDisplayOrigin();\r\n        this.dirty = true;\r\n    }\r\n\r\n    updateData() {\r\n        var geom = this.geom;\r\n        var pathData = this.pathData;\r\n\r\n        pathData.length = 0;\r\n\r\n        var cornerRadius = geom.cornerRadius,\r\n            radius,\r\n            iteration = this.iteration + 1;\r\n        // bottom-right\r\n        radius = cornerRadius.br;\r\n        if (isArcCorner(radius)) {\r\n            var centerX = geom.width - radius.x;\r\n            var centerY = geom.height - radius.y;\r\n            ArcTo(centerX, centerY, radius.x, radius.y, 0, 90, false, iteration, pathData);\r\n        } else {\r\n            LineTo(geom.width, geom.height, pathData);\r\n        }\r\n\r\n        // bottom-left\r\n        radius = cornerRadius.bl;\r\n        if (isArcCorner(radius)) {\r\n            var centerX = radius.x;\r\n            var centerY = geom.height - radius.y;\r\n            ArcTo(centerX, centerY, radius.x, radius.y, 90, 180, false, iteration, pathData);\r\n        } else {\r\n            LineTo(0, geom.height, pathData);\r\n        }\r\n\r\n        // top-left\r\n        radius = cornerRadius.tl;\r\n        if (isArcCorner(radius)) {\r\n            var centerX = radius.x;\r\n            var centerY = radius.y;\r\n            ArcTo(centerX, centerY, radius.x, radius.y, 180, 270, false, iteration, pathData);\r\n        } else {\r\n            LineTo(0, 0, pathData);\r\n        }\r\n\r\n        // top-right\r\n        radius = cornerRadius.tr;\r\n        if (isArcCorner(radius)) {\r\n            var centerX = geom.width - radius.x;\r\n            var centerY = radius.y;\r\n            ArcTo(centerX, centerY, radius.x, radius.y, 270, 360, false, iteration, pathData);\r\n        } else {\r\n            LineTo(geom.width, 0, pathData);\r\n        }\r\n\r\n        pathData.push(pathData[0], pathData[1]); // Repeat first point to close curve\r\n        this.pathIndexes = Earcut(pathData);\r\n        return this;\r\n    }\r\n\r\n    get width() {\r\n        return this.geom.width;\r\n    }\r\n    set width(value) {\r\n        this.resize(value, this.height);\r\n    }\r\n\r\n    get height() {\r\n        return this.geom.height;\r\n    }\r\n    set height(value) {\r\n        this.resize(this.width, value);\r\n    }\r\n\r\n    setSize(width, height) {\r\n        // Override Shape's setSize method\r\n        if (height === undefined) {\r\n            height = width;\r\n        }\r\n        if ((this.geom.width === width) && (this.geom.height === height)) {\r\n            return this;\r\n        }\r\n        this.geom.setSize(width, height);\r\n        this.updateDisplayOrigin();\r\n        this.dirty = true;\r\n\r\n        var input = this.input;\r\n        if (input && !input.customHitArea) {\r\n            input.hitArea.width = width;\r\n            input.hitArea.height = height;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    resize(width, height) {\r\n        this.setSize(width, height);\r\n        return this;\r\n    }\r\n\r\n    get iteration() {\r\n        return this._iteration;\r\n    }\r\n\r\n    set iteration(value) {\r\n        // Set iteration first time\r\n        if (this._iteration === undefined) {\r\n            this._iteration = value;\r\n            return;\r\n        }\r\n\r\n        // Change iteration value\r\n        if (this._iteration === value) {\r\n            return;\r\n        }\r\n\r\n        this._iteration = value;\r\n        this.dirty = true;\r\n    }\r\n\r\n    setIteration(iteration) {\r\n        if (iteration === undefined) {\r\n            iteration = 6;\r\n        }\r\n        this.iteration = iteration;\r\n        return this;\r\n    }\r\n\r\n    get radius() {\r\n        return this.geom.radius;\r\n    }\r\n\r\n    set radius(value) {\r\n        this.geom.setRadius(value);\r\n        this.updateDisplayOrigin();\r\n        this.dirty = true;\r\n    }\r\n\r\n    get radiusTL() {\r\n        return this.geom.radiusTL;\r\n    }\r\n\r\n    set radiusTL(value) {\r\n        this.geom.radiusTL = value;\r\n        this.dirty = true;\r\n    }\r\n\r\n    get radiusTR() {\r\n        return this.geom.radiusTR;\r\n    }\r\n\r\n    set radiusTR(value) {\r\n        this.geom.radiusTR = value;\r\n        this.dirty = true;\r\n    }\r\n\r\n    get radiusBL() {\r\n        return this.geom.radiusBL;\r\n    }\r\n\r\n    set radiusBL(value) {\r\n        this.geom.radiusBL = value;\r\n        this.dirty = true;\r\n    }\r\n\r\n    get radiusBR() {\r\n        return this.geom.radiusBR;\r\n    }\r\n\r\n    set radiusBR(value) {\r\n        this.geom.radiusBR = value;\r\n        this.dirty = true;\r\n    }\r\n\r\n    setRadius(value) {\r\n        if (value === undefined) {\r\n            value = 0;\r\n        }\r\n        this.radius = value;\r\n        return this;\r\n    }\r\n\r\n    setRadiusTL(value) {\r\n        if (value === undefined) {\r\n            value = 0;\r\n        }\r\n        this.radiusTL = value;\r\n        return this;\r\n    }\r\n\r\n    setRadiusTR(value) {\r\n        if (value === undefined) {\r\n            value = 0;\r\n        }\r\n        this.radiusTR = value;\r\n        return this;\r\n    }\r\n\r\n    setRadiusBL(value) {\r\n        if (value === undefined) {\r\n            value = 0;\r\n        }\r\n        this.radiuBL = value;\r\n        return this;\r\n    }\r\n\r\n    setRadiusBR(value) {\r\n        if (value === undefined) {\r\n            value = 0;\r\n        }\r\n        this.radiusBR = value;\r\n        return this;\r\n    }\r\n\r\n    get cornerRadius() {\r\n        return this.geom.cornerRadius;\r\n    }\r\n\r\n    set cornerRadius(value) {\r\n        this.radius = value;\r\n    }\r\n\r\n    setCornerRadius(value) {\r\n        return this.setRadius(value);\r\n    }\r\n}\r\n\r\nvar isArcCorner = function (radius) {\r\n    return ((radius.x !== 0) && (radius.y !== 0));\r\n}\r\n\r\n\r\nObject.assign(\r\n    RoundRectangle.prototype,\r\n    Render\r\n);\r\n\r\nexport default RoundRectangle;","import RoundRectangle from '../../geom/roundrectangle/RoundRectangle.js';\r\n\r\nconst DegToRad = Phaser.Math.DegToRad;\r\nconst Rad0 = DegToRad(0);\r\nconst Rad90 = DegToRad(90);\r\nconst Rad180 = DegToRad(180);\r\nconst Rad270 = DegToRad(270);\r\n\r\nvar AddRoundRectanglePath = function (context, x, y, width, height, radiusConfig, iteration) {\r\n    var geom = new RoundRectangle(x, y, width, height, radiusConfig),\r\n        minWidth = geom.minWidth,\r\n        minHeight = geom.minHeight,\r\n        scaleRX = (width >= minWidth) ? 1 : (width / minWidth),\r\n        scaleRY = (height >= minHeight) ? 1 : (height / minHeight);\r\n\r\n    var cornerRadius = geom.cornerRadius;\r\n    var radius, radiusX, radiusY, centerX, centerY;\r\n\r\n    context.save();\r\n    context.beginPath();\r\n\r\n    context.translate(x, y);\r\n\r\n    // Bottom-right\r\n    radius = cornerRadius.br;\r\n    radiusX = radius.x * scaleRX;\r\n    radiusY = radius.y * scaleRY;\r\n    centerX = width - radiusX;\r\n    centerY = height - radiusY;\r\n    context.moveTo(width, centerY);\r\n    if ((radiusX > 0) && (radiusY > 0)) {\r\n        ArcTo(context, centerX, centerY, radiusX, radiusY, Rad0, Rad90, iteration);\r\n    } else {\r\n        context.lineTo(width, height);\r\n        context.lineTo(centerX, height);\r\n    }\r\n\r\n    // Bottom-left\r\n    radius = cornerRadius.bl;\r\n    radiusX = radius.x * scaleRX;\r\n    radiusY = radius.y * scaleRY;\r\n    centerX = radiusX;\r\n    centerY = height - radiusY;\r\n    context.lineTo(radiusX, height);\r\n    if ((radiusX > 0) && (radiusY > 0)) {\r\n        ArcTo(context, centerX, centerY, radiusX, radiusY, Rad90, Rad180, iteration);\r\n    } else {\r\n        context.lineTo(0, height);\r\n        context.lineTo(0, centerY);\r\n    }\r\n\r\n    // Top-left\r\n    radius = cornerRadius.tl;\r\n    radiusX = radius.x * scaleRX;\r\n    radiusY = radius.y * scaleRY;\r\n    centerX = radiusX;\r\n    centerY = radiusY;\r\n    context.lineTo(0, centerY);\r\n    if ((radiusX > 0) && (radiusY > 0)) {\r\n        ArcTo(context, centerX, centerY, radiusX, radiusY, Rad180, Rad270, iteration);\r\n    } else {\r\n        context.lineTo(0, 0);\r\n        context.lineTo(centerX, 0);\r\n    }\r\n\r\n    // Top-right\r\n    radius = cornerRadius.tr;\r\n    radiusX = radius.x * scaleRX;\r\n    radiusY = radius.y * scaleRY;\r\n    centerX = width - radiusX;\r\n    centerY = radiusY;\r\n    context.lineTo(centerX, 0);\r\n    if ((radiusX > 0) && (radiusY > 0)) {\r\n        ArcTo(context, centerX, centerY, radiusX, radiusY, Rad270, Rad0, iteration);\r\n    } else {\r\n        context.lineTo(width, 0);\r\n        context.lineTo(width, centerY);\r\n    }\r\n\r\n    context.closePath();\r\n    context.restore();\r\n}\r\n\r\nvar ArcTo = function (context, centerX, centerY, radiusX, radiusY, startAngle, endAngle, iteration) {\r\n    if (iteration == null) {  // undefined, or null\r\n        context.ellipse(centerX, centerY, radiusX, radiusY, 0, startAngle, endAngle);\r\n    } else {\r\n        iteration += 1;\r\n        var x, y, angle;\r\n        var step = (endAngle - startAngle) / iteration;\r\n        for (var i = 0; i <= iteration; i++) {\r\n            angle = startAngle + (step * i);\r\n            x = centerX + (radiusX * Math.cos(angle));\r\n            y = centerY + (radiusY * Math.sin(angle));\r\n            context.lineTo(x, y);\r\n        }\r\n    }\r\n}\r\n\r\nexport default AddRoundRectanglePath;","import AddRoundRectanglePath from './AddRoundRectanglePath.js'\r\n\r\nvar DrawRoundRectangle = function (\r\n    canvas, context,\r\n    x, y,\r\n    width, height, radiusConfig,\r\n    fillStyle, strokeStyle, lineWidth, fillColor2, isHorizontalGradient,\r\n    iteration\r\n) {\r\n\r\n    AddRoundRectanglePath(context, x, y, width, height, radiusConfig, iteration);\r\n\r\n    if (fillStyle != null) {\r\n        if (fillColor2 != null) {\r\n            var grd;\r\n            if (isHorizontalGradient) {\r\n                grd = context.createLinearGradient(0, 0, width, 0);\r\n            } else {\r\n                grd = context.createLinearGradient(0, 0, 0, height);\r\n            }\r\n            grd.addColorStop(0, fillStyle);\r\n            grd.addColorStop(1, fillColor2);\r\n            fillStyle = grd;\r\n        }\r\n\r\n        context.fillStyle = fillStyle;\r\n        context.fill();\r\n    }\r\n\r\n    if ((strokeStyle != null) && (lineWidth > 0)) {\r\n        context.strokeStyle = strokeStyle;\r\n        context.lineWidth = lineWidth;\r\n        context.stroke();\r\n    }\r\n}\r\n\r\nexport default DrawRoundRectangle;","import DrawRoundRectangle from '../../../utils/canvas/DrawRoundRectangle.js';\r\n\r\nvar DrawRoundRectangleBackground = function (\r\n    canvasObject,\r\n    color,\r\n    strokeColor, strokeLineWidth,\r\n    radius,\r\n    color2, isHorizontalGradient,\r\n    iteration\r\n) {\r\n\r\n    if ((color == null) && (strokeColor == null)) {\r\n        return;\r\n    }\r\n\r\n    var width = canvasObject.canvas.width,\r\n        height = canvasObject.canvas.height;\r\n\r\n    if (strokeColor == null) {\r\n        strokeLineWidth = 0;\r\n    }\r\n    var x = strokeLineWidth / 2;\r\n    width -= strokeLineWidth;\r\n    height -= strokeLineWidth;\r\n    DrawRoundRectangle(canvasObject.canvas, canvasObject.context,\r\n        x, x,\r\n        width, height,\r\n        radius,\r\n        color,\r\n        strokeColor, strokeLineWidth,\r\n        color2, isHorizontalGradient,\r\n        iteration\r\n    );\r\n}\r\n\r\nexport default DrawRoundRectangleBackground;","import DrawRoundRectangleBackground from '../utils/DrawRoundRectangleBackground.js';\r\n\r\nvar DrawContent = function () {\r\n    DrawRoundRectangleBackground(\r\n        this,\r\n        this.fillStyle,\r\n        this.strokeStyle,\r\n        this.lineWidth,\r\n        this.radius,\r\n        this.fillColor2,\r\n        this.isHorizontalGradient,\r\n        this.iteration\r\n    );\r\n}\r\n\r\nexport default DrawContent;","import Canvas from '../canvas/Canvas.js';\r\nimport GetStyle from '../../../utils/canvas/GetStyle.js';\r\nimport DrawContent from './DrawContent.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass RoundRectangle extends Canvas {\r\n    constructor(scene, x, y, width, height, radiusConfig, fillStyle, strokeStyle, lineWidth, fillColor2, isHorizontalGradient) {\r\n        super(scene, x, y, width, height);\r\n        this.type = 'rexRoundRectangleCanvas';\r\n\r\n        var radius = GetValue(radiusConfig, 'radius', radiusConfig);\r\n        var iteration = GetValue(radiusConfig, 'iteration', undefined);\r\n        this.setRadius(radius);\r\n        this.setIteration(iteration);\r\n        this.setFillStyle(fillStyle, fillColor2, isHorizontalGradient);\r\n        this.setStrokeStyle(strokeStyle, lineWidth);\r\n    }\r\n\r\n    get radius() {\r\n        return this._radius;\r\n    }\r\n\r\n    set radius(value) {\r\n        this.dirty |= (this._radius != value);\r\n        this._radius = value;\r\n    }\r\n\r\n    setRadius(radius) {\r\n        this.radius = radius;\r\n        return this;\r\n    }\r\n\r\n    get iteration() {\r\n        return this._iteration;\r\n    }\r\n\r\n    set iteration(value) {\r\n        this.dirty |= (this._iteration != value);\r\n        this._iteration = value;\r\n    }\r\n\r\n    setIteration(iteration) {\r\n        this.iteration = iteration;\r\n        return this;\r\n    }\r\n\r\n    get fillStyle() {\r\n        return this._fillStyle;\r\n    }\r\n\r\n    set fillStyle(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.dirty |= (this._fillStyle != value);\r\n        this._fillStyle = value;\r\n    }\r\n\r\n    get fillColor2() {\r\n        return this._fillColor2;\r\n    }\r\n\r\n    set fillColor2(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.dirty |= (this._fillColor2 != value);\r\n        this._fillColor2 = value;\r\n    }\r\n\r\n    get isHorizontalGradient() {\r\n        return this._fillStyle;\r\n    }\r\n\r\n    set isHorizontalGradient(value) {\r\n        this.dirty |= (this._isHorizontalGradient != value);\r\n        this._isHorizontalGradient = value;\r\n    }\r\n\r\n    setFillStyle(fillStyle, fillColor2, isHorizontalGradient) {\r\n        if (isHorizontalGradient === undefined) {\r\n            isHorizontalGradient = true;\r\n        }\r\n        this.fillStyle = fillStyle;\r\n        this.fillColor2 = fillColor2;\r\n        this.isHorizontalGradient = isHorizontalGradient;\r\n        return this;\r\n    }\r\n\r\n    get strokeStyle() {\r\n        return this._strokeStyle;\r\n    }\r\n\r\n    set strokeStyle(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.dirty |= (this._strokeStyle != value);\r\n        this._strokeStyle = value;\r\n    }\r\n\r\n    get lineWidth() {\r\n        return this._lineWidth;\r\n    }\r\n\r\n    set lineWidth(value) {\r\n        this.dirty |= (this._lineWidth != value);\r\n        this._lineWidth = value;\r\n    }\r\n\r\n    setStrokeStyle(strokeStyle, lineWidth) {\r\n        this.strokeStyle = strokeStyle;\r\n        this.lineWidth = lineWidth;\r\n        return this;\r\n    }\r\n\r\n    updateTexture() {\r\n        this.clear();\r\n        DrawContent.call(this);\r\n        super.updateTexture();\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default RoundRectangle;","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2019 Photon Storm Ltd.\r\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\r\n */\r\n\r\nvar Utils = Phaser.Renderer.WebGL.Utils;\r\n\r\n/**\r\n * Renders this Game Object with the WebGL Renderer to the given Camera.\r\n * The object will not render if any of its renderFlags are set or it is being actively filtered out by the Camera.\r\n * This method should not be called directly. It is a utility function of the Render module.\r\n *\r\n * @method Phaser.GameObjects.Text#renderWebGL\r\n * @since 3.0.0\r\n * @private\r\n *\r\n * @param {Phaser.Renderer.WebGL.WebGLRenderer} renderer - A reference to the current active WebGL renderer.\r\n * @param {Phaser.GameObjects.Text} src - The Game Object being rendered in this call.\r\n * @param {number} interpolationPercentage - Reserved for future use and custom pipelines.\r\n * @param {Phaser.Cameras.Scene2D.Camera} camera - The Camera that is rendering the Game Object.\r\n * @param {Phaser.GameObjects.Components.TransformMatrix} parentMatrix - This transform matrix is defined if the game object is nested\r\n */\r\nvar WebGLRenderer = function (renderer, src, camera, parentMatrix) {\r\n    if ((src.width === 0) || (src.height === 0)) {\r\n        return;\r\n    }\r\n\r\n    camera.addToRenderList(src);\r\n\r\n    var frame = src.frame;\r\n    var width = frame.width;\r\n    var height = frame.height;\r\n    var getTint = Utils.getTintAppendFloatAlpha;\r\n    var pipeline = renderer.pipelines.set(src.pipeline, src);\r\n    var textureUnit = pipeline.setTexture2D(frame.glTexture, src);\r\n\r\n    renderer.pipelines.preBatch(src);\r\n\r\n    pipeline.batchTexture(\r\n        src,\r\n        frame.glTexture,\r\n        width, height,\r\n        src.x, src.y,\r\n        width / src.style.resolution, height / src.style.resolution,\r\n        src.scaleX, src.scaleY,\r\n        src.rotation,\r\n        src.flipX, src.flipY,\r\n        src.scrollFactorX, src.scrollFactorY,\r\n        src.displayOriginX, src.displayOriginY,\r\n        0, 0, width, height,\r\n        getTint(src.tintTopLeft, camera.alpha * src._alphaTL),\r\n        getTint(src.tintTopRight, camera.alpha * src._alphaTR),\r\n        getTint(src.tintBottomLeft, camera.alpha * src._alphaBL),\r\n        getTint(src.tintBottomRight, camera.alpha * src._alphaBR),\r\n        src.tintFill,\r\n        0, 0,\r\n        camera,\r\n        parentMatrix,\r\n        false,\r\n        textureUnit\r\n    );\r\n\r\n    renderer.pipelines.postBatch(src);\r\n};\r\n\r\nexport default  WebGLRenderer;\r\n","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2019 Photon Storm Ltd.\r\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\r\n */\r\n\r\n/**\r\n * Renders this Game Object with the Canvas Renderer to the given Camera.\r\n * The object will not render if any of its renderFlags are set or it is being actively filtered out by the Camera.\r\n * This method should not be called directly. It is a utility function of the Render module.\r\n *\r\n * @method Phaser.GameObjects.Text#renderCanvas\r\n * @since 3.0.0\r\n * @private\r\n *\r\n * @param {Phaser.Renderer.Canvas.CanvasRenderer} renderer - A reference to the current active Canvas renderer.\r\n * @param {Phaser.GameObjects.Text} src - The Game Object being rendered in this call.\r\n * @param {number} interpolationPercentage - Reserved for future use and custom pipelines.\r\n * @param {Phaser.Cameras.Scene2D.Camera} camera - The Camera that is rendering the Game Object.\r\n * @param {Phaser.GameObjects.Components.TransformMatrix} parentMatrix - This transform matrix is defined if the game object is nested\r\n */\r\nvar CanvasRenderer = function (renderer, src, camera, parentMatrix) {\r\n    if ((src.width === 0) || (src.height === 0)) {\r\n        return;\r\n    }\r\n\r\n    camera.addToRenderList(src);\r\n\r\n    renderer.batchSprite(src, src.frame, camera, parentMatrix);\r\n};\r\n\r\nexport default CanvasRenderer;\r\n","import WebGLRenderer from './WebGLRenderer.js';\r\nimport CanvasRenderer from './CanvasRenderer.js';\r\n\r\nexport default {\r\n    renderWebGL: WebGLRenderer,\r\n    renderCanvas: CanvasRenderer\r\n\r\n};","/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2018 Photon Storm Ltd.\r\n * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\r\n */\r\n\r\nconst CanvasPool = Phaser.Display.Canvas.CanvasPool;\r\n\r\n/**\r\n * Calculates the ascent, descent and fontSize of a given font style.\r\n *\r\n * @function Phaser.GameObjects.MeasureText\r\n * @since 3.0.0\r\n *\r\n * @param {Phaser.GameObjects.Text.TextStyle} textStyle - The TextStyle object to measure.\r\n *\r\n * @return {object} An object containing the ascent, descent and fontSize of the TextStyle.\r\n */\r\nvar MeasureText = function (textStyle) {\r\n    // @property {HTMLCanvasElement} canvas - The canvas element that the text is rendered.\r\n    var canvas = CanvasPool.create(this);\r\n\r\n    // @property {HTMLCanvasElement} context - The context of the canvas element that the text is rendered to.\r\n    var context = canvas.getContext('2d');\r\n\r\n    textStyle.syncFont(canvas, context);\r\n\r\n    var metrics = context.measureText(textStyle.testString);\r\n\r\n    if ('actualBoundingBoxAscent' in metrics) {\r\n        var ascent = metrics.actualBoundingBoxAscent;\r\n        var descent = metrics.actualBoundingBoxDescent;\r\n\r\n        var output = {\r\n            ascent: ascent,\r\n            descent: descent,\r\n            fontSize: (ascent + descent)\r\n        };\r\n\r\n        CanvasPool.remove(canvas);\r\n\r\n        return output;\r\n    }\r\n\r\n    var width = Math.ceil(metrics.width * textStyle.baselineX);\r\n    var baseline = width;\r\n    var height = 2 * baseline;\r\n\r\n    baseline = baseline * textStyle.baselineY | 0;\r\n\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    context.fillStyle = '#f00';\r\n    context.fillRect(0, 0, width, height);\r\n\r\n    context.font = textStyle._font;\r\n\r\n    context.textBaseline = 'alphabetic';\r\n    context.fillStyle = '#000';\r\n    context.fillText(textStyle.testString, 0, baseline);\r\n\r\n    var output = {\r\n        ascent: 0,\r\n        descent: 0,\r\n        fontSize: 0\r\n    };\r\n\r\n    if (!context.getImageData(0, 0, width, height)) {\r\n        output.ascent = baseline;\r\n        output.descent = baseline + 6;\r\n        output.fontSize = output.ascent + output.descent;\r\n\r\n        CanvasPool.remove(canvas);\r\n\r\n        return output;\r\n    }\r\n\r\n    var imagedata = context.getImageData(0, 0, width, height).data;\r\n    var pixels = imagedata.length;\r\n    var line = width * 4;\r\n    var i;\r\n    var j;\r\n    var idx = 0;\r\n    var stop = false;\r\n\r\n    // ascent. scan from top to bottom until we find a non red pixel\r\n    for (i = 0; i < baseline; i++) {\r\n        for (j = 0; j < line; j += 4) {\r\n            if (imagedata[idx + j] !== 255) {\r\n                stop = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (!stop) {\r\n            idx += line;\r\n        }\r\n        else {\r\n            break;\r\n        }\r\n    }\r\n\r\n    output.ascent = baseline - i;\r\n\r\n    idx = pixels - line;\r\n    stop = false;\r\n\r\n    // descent. scan from bottom to top until we find a non red pixel\r\n    for (i = height; i > baseline; i--) {\r\n        for (j = 0; j < line; j += 4) {\r\n            if (imagedata[idx + j] !== 255) {\r\n                stop = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (!stop) {\r\n            idx -= line;\r\n        }\r\n        else {\r\n            break;\r\n        }\r\n    }\r\n\r\n    output.descent = (i - baseline);\r\n    output.fontSize = output.ascent + output.descent;\r\n\r\n    CanvasPool.remove(canvas);\r\n\r\n    return output;\r\n};\r\n\r\nexport default MeasureText;","var CONST = {\r\n    // new line mode\r\n    NO_NEWLINE: 0,\r\n    RAW_NEWLINE: 1,\r\n    WRAPPED_NEWLINE: 2,\r\n\r\n    // wrap mode\r\n    NO_WRAP: 0,\r\n    WORD_WRAP: 1,\r\n    CHAR_WRAP: 2,\r\n\r\n    // split lines\r\n    SPLITREGEXP: /(?:\\r\\n|\\r|\\n)/\r\n};\r\n\r\nexport default CONST;","import MeasureText from './MeasureText.js';\r\nimport CONST from '../const.js';\r\nimport GetStyle from '../../../../utils/canvas/GetStyle.js';\r\n\r\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\n//  Key: [ Object Key, Default Value, postCallback ]\r\n\r\nvar propertyMap = {\r\n    // background\r\n    backgroundColor: ['backgroundColor', null, GetStyle],\r\n    backgroundColor2: ['backgroundColor2', null, GetStyle],\r\n    backgroundHorizontalGradient: ['backgroundHorizontalGradient', true, null],\r\n    backgroundStrokeColor: ['backgroundStrokeColor', null, GetStyle],\r\n    backgroundStrokeLineWidth: ['backgroundStrokeLineWidth', 2, null],\r\n    backgroundCornerRadius: ['backgroundCornerRadius', 0, null],\r\n    backgroundCornerIteration: ['backgroundCornerIteration', null, null],\r\n\r\n    // font\r\n    fontFamily: ['fontFamily', 'Courier', null],\r\n    fontSize: ['fontSize', '16px', null],\r\n    fontStyle: ['fontStyle', '', null],\r\n    color: ['color', '#fff', GetStyle],\r\n    stroke: ['stroke', '#fff', GetStyle],\r\n    strokeThickness: ['strokeThickness', 0, null],\r\n    shadowOffsetX: ['shadow.offsetX', 0, null],\r\n    shadowOffsetY: ['shadow.offsetY', 0, null],\r\n    shadowColor: ['shadow.color', '#000', GetStyle],\r\n    shadowBlur: ['shadow.blur', 0, null],\r\n    shadowStroke: ['shadow.stroke', false, null],\r\n    shadowFill: ['shadow.fill', false, null],\r\n\r\n    // underline\r\n    underlineColor: ['underline.color', '#000', GetStyle],\r\n    underlineThickness: ['underline.thickness', 0, null],\r\n    underlineOffset: ['underline.offset', 0, null],\r\n\r\n    // align\r\n    halign: ['halign', 'left', null],\r\n    valign: ['valign', 'top', null],\r\n\r\n    // size\r\n    maxLines: ['maxLines', 0, null],\r\n    fixedWidth: ['fixedWidth', 0, null],\r\n    fixedHeight: ['fixedHeight', 0, null],\r\n    resolution: ['resolution', 0, null],\r\n    lineSpacing: ['lineSpacing', 0, null],\r\n    xOffset: ['xOffset', 0, null],\r\n\r\n    rtl: ['rtl', false, null],\r\n    testString: ['testString', '|Mqgy', null],\r\n    baselineX: ['baselineX', 1.2, null],\r\n    baselineY: ['baselineY', 1.4, null],\r\n\r\n    // wrap\r\n    wrapMode: ['wrap.mode', 0, null],\r\n    wrapWidth: ['wrap.width', 0, null],\r\n    wrapCallback: ['wrap.callback', null],\r\n    wrapCallbackScope: ['wrap.callbackScope', null],\r\n};\r\n\r\nclass TextStyle {\r\n    constructor(text, style) {\r\n        this.parent = text;\r\n\r\n        this.backgroundColor;\r\n        this.backgroundColor2;\r\n        this.backgroundHorizontalGradient;\r\n        this.backgroundStrokeColor;\r\n        this.backgroundStrokeLineWidth;\r\n        this.backgroundCornerRadius;\r\n        this.backgroundCornerIteration;\r\n\r\n        this.fontFamily;\r\n        this.fontSize;\r\n        this.fontStyle;\r\n        this.color;\r\n        this.stroke;\r\n        this.strokeThickness;\r\n        this.shadowOffsetX;\r\n        this.shadowOffsetY;\r\n        this.shadowColor;\r\n        this.shadowBlur;\r\n        this.shadowStroke;\r\n        this.shadowFill;\r\n\r\n        this.underlineColor;\r\n        this.underlineThickness;\r\n        this.underlineOffset;\r\n\r\n        this.halign;\r\n        this.valign;\r\n\r\n        this.maxLines;\r\n        this.fixedWidth;\r\n        this.fixedHeight;\r\n        this.resolution;\r\n        this.lineSpacing;\r\n        this.xOffset;\r\n\r\n        this.rtl;\r\n        this.testString;\r\n\r\n        this.baselineX;\r\n        this.baselineY;\r\n\r\n        this.wrapMode;\r\n        this.wrapWidth;\r\n        this.wrapCallback;\r\n        this.wrapCallbackScope;\r\n\r\n        this._font;\r\n\r\n        //  Set to defaults + user style\r\n        this.setStyle(style, false, true);\r\n    }\r\n\r\n    get canvas() {\r\n        return this.parent.canvasText.canvas;\r\n    }\r\n\r\n    get context() {\r\n        return this.parent.canvasText.context;\r\n    }\r\n\r\n    get isWrapFitMode() {\r\n        return (this.fixedWidth > 0) && (this.wrapMode !== CONST.NO_WRAP) && (this.wrapWidth === 0);\r\n    }\r\n\r\n    setStyle(style, updateText, setDefaults) {\r\n        if (updateText === undefined) {\r\n            updateText = true;\r\n        }\r\n        if (setDefaults === undefined) {\r\n            setDefaults = false;\r\n        }\r\n\r\n        if (style && style.hasOwnProperty('wrap')) {\r\n            var wrap = style.wrap;\r\n            if (wrap.hasOwnProperty('mode')) {\r\n                var mode = wrap.mode;\r\n                if (typeof mode === 'string') {\r\n                    wrap.mode = WRAPMODE[mode];\r\n                }\r\n            } else {\r\n                if (wrap.hasOwnProperty('width')) {\r\n                    wrap.mode = 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        // default halign of RTL is 'right'\r\n        if (style && style.rtl && setDefaults && (!style.hasOwnProperty('halign'))) {\r\n            style.halign = 'right';\r\n        }\r\n\r\n        //  Avoid type mutation\r\n        if (style && style.hasOwnProperty('fontSize') && typeof style.fontSize === 'number') {\r\n            style.fontSize = style.fontSize.toString() + 'px';\r\n        }\r\n\r\n        for (var key in propertyMap) {\r\n            var prop = propertyMap[key];  // [ Object Key, Default Value, preCallback ]\r\n            var objKey = prop[0];\r\n            var defaultValue = (setDefaults) ? prop[1] : this[key];\r\n            var postCallback = prop[2];\r\n\r\n\r\n            if (key === 'wrapCallback' || key === 'wrapCallbackScope') {\r\n                // Callback & scope should be set without processing the values\r\n                this[key] = GetValue(style, objKey, defaultValue);\r\n            } else {\r\n                var value = GetAdvancedValue(style, objKey, defaultValue);\r\n                if (postCallback) {\r\n                    value = postCallback(value);\r\n                }\r\n                this[key] = value;\r\n            }\r\n\r\n        }\r\n\r\n        //  Allow for 'font' override\r\n        var font = GetValue(style, 'font', null);\r\n\r\n        if (font === null) {\r\n            this._font = this.fontStyle + ' ' + this.fontSize + ' ' + this.fontFamily;\r\n        } else {\r\n            this._font = font;\r\n        }\r\n\r\n        //  Allow for 'fill' to be used in place of 'color'\r\n        var fill = GetValue(style, 'fill', null);\r\n\r\n        if (fill !== null) {\r\n            this.color = GetStyle(fill);\r\n        }\r\n\r\n        var imageData = GetValue(style, 'images', undefined);\r\n        if (imageData) {\r\n            this.parent.addImage(imageData);\r\n        }\r\n\r\n        var metrics = GetValue(style, 'metrics', false);\r\n\r\n        //  Provide optional TextMetrics in the style object to avoid the canvas look-up / scanning\r\n        //  Doing this is reset if you then change the font of this TextStyle after creation\r\n        if (metrics) {\r\n            this.metrics = {\r\n                ascent: GetValue(metrics, 'ascent', 0),\r\n                descent: GetValue(metrics, 'descent', 0),\r\n                fontSize: GetValue(metrics, 'fontSize', 0)\r\n            };\r\n        } else if (updateText || (!this.metrics)) {\r\n            this.metrics = MeasureText(this);\r\n        }\r\n\r\n        if (updateText) {\r\n            return this.parent.updateText();\r\n        } else {\r\n            return this.parent;\r\n        }\r\n    }\r\n\r\n    syncFont(canvas, context) {\r\n        context.font = this._font;\r\n    }\r\n\r\n    syncStyle(canvas, context) {\r\n        context.textBaseline = 'alphabetic';\r\n\r\n        context.fillStyle = this.color;\r\n        context.strokeStyle = this.stroke;\r\n\r\n        context.lineWidth = this.strokeThickness;\r\n        context.lineCap = 'round';\r\n        context.lineJoin = 'round';\r\n    }\r\n\r\n    syncShadow(context, enabled) {\r\n        if (enabled) {\r\n            context.shadowOffsetX = this.shadowOffsetX;\r\n            context.shadowOffsetY = this.shadowOffsetY;\r\n            context.shadowColor = this.shadowColor;\r\n            context.shadowBlur = this.shadowBlur;\r\n        } else {\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n            context.shadowColor = 0;\r\n            context.shadowBlur = 0;\r\n        }\r\n    }\r\n\r\n    update(recalculateMetrics) {\r\n        if (recalculateMetrics) {\r\n            this._font = `${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();\r\n\r\n            this.metrics = MeasureText(this);\r\n        }\r\n\r\n        return this.parent.updateText(recalculateMetrics);\r\n    }\r\n\r\n    buildFont() {\r\n        var newFont = `${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();\r\n        if (newFont !== this._font) {\r\n            this._font = newFont;\r\n            //this.metrics = MeasureText(this);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setFont(font) {\r\n        if (typeof font === 'string') {\r\n            this.fontFamily = font;\r\n            this.fontSize = '';\r\n            this.fontStyle = '';\r\n        } else {\r\n            this.fontFamily = GetValue(font, 'fontFamily', 'Courier');\r\n            this.fontSize = GetValue(font, 'fontSize', '16px');\r\n            this.fontStyle = GetValue(font, 'fontStyle', '');\r\n        }\r\n\r\n        return this.update(true);\r\n    }\r\n\r\n    setFontFamily(family) {\r\n        this.fontFamily = family;\r\n\r\n        return this.update(true);\r\n    }\r\n\r\n    setFontStyle(style) {\r\n        this.fontStyle = style;\r\n\r\n        return this.update(true);\r\n    }\r\n\r\n    setFontSize(size) {\r\n        if (typeof size === 'number') {\r\n            size = size.toString() + 'px';\r\n        }\r\n\r\n        this.fontSize = size;\r\n\r\n        return this.update(true);\r\n    }\r\n\r\n    setTestString(string) {\r\n        this.testString = string;\r\n\r\n        return this.update(true);\r\n    }\r\n\r\n    setFixedSize(width, height) {\r\n        this.fixedWidth = width;\r\n        this.fixedHeight = height;\r\n\r\n        if (width) {\r\n            this.parent.width = width;\r\n        }\r\n\r\n        if (height) {\r\n            this.parent.height = height;\r\n        }\r\n\r\n        return this.update(this.isWrapFitMode);\r\n    }\r\n\r\n    setResolution(value) {\r\n        this.resolution = value;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setLineSpacing(value) {\r\n        this.lineSpacing = value;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setXOffset(value) {\r\n        this.xOffset = value;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setBackgroundColor(color, color2, isHorizontalGradient) {\r\n        if (isHorizontalGradient === undefined) {\r\n            isHorizontalGradient = true;\r\n        }\r\n\r\n        this.backgroundColor = GetStyle(color, this.canvas, this.context);\r\n        this.backgroundColor2 = GetStyle(color2, this.canvas, this.context);\r\n        this.backgroundHorizontalGradient = isHorizontalGradient;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setBackgroundStrokeColor(color, lineWidth) {\r\n        this.backgroundStrokeColor = GetStyle(color, this.canvas, this.context);\r\n        this.backgroundStrokeLineWidth = lineWidth;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setBackgroundCornerRadius(radius, iteration) {\r\n        this.backgroundCornerRadius = radius;\r\n        this.backgroundCornerIteration = iteration;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setFill(color) {\r\n        this.color = GetStyle(color, this.canvas, this.context);\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setColor(color) {\r\n        this.color = GetStyle(color, this.canvas, this.context);\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setStroke(color, thickness) {\r\n        if (color === undefined) {\r\n            //  Reset the stroke to zero (disabling it)\r\n            this.strokeThickness = 0;\r\n        } else {\r\n            if (thickness === undefined) {\r\n                thickness = this.strokeThickness;\r\n            }\r\n\r\n            this.stroke = GetStyle(color, this.canvas, this.context);\r\n            this.strokeThickness = thickness;\r\n        }\r\n\r\n        return this.update(true);\r\n    }\r\n\r\n    setShadow(x, y, color, blur, shadowStroke, shadowFill) {\r\n        if (x === undefined) {\r\n            x = 0;\r\n        }\r\n        if (y === undefined) {\r\n            y = 0;\r\n        }\r\n        if (color === undefined) {\r\n            color = '#000';\r\n        }\r\n        if (blur === undefined) {\r\n            blur = 0;\r\n        }\r\n        if (shadowStroke === undefined) {\r\n            shadowStroke = false;\r\n        }\r\n        if (shadowFill === undefined) {\r\n            shadowFill = true;\r\n        }\r\n\r\n        this.shadowOffsetX = x;\r\n        this.shadowOffsetY = y;\r\n        this.shadowColor = GetStyle(color, this.canvas, this.context);\r\n        this.shadowBlur = blur;\r\n        this.shadowStroke = shadowStroke;\r\n        this.shadowFill = shadowFill;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setShadowOffset(x, y) {\r\n        if (x === undefined) {\r\n            x = 0;\r\n        }\r\n        if (y === undefined) {\r\n            y = x;\r\n        }\r\n\r\n        this.shadowOffsetX = x;\r\n        this.shadowOffsetY = y;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setShadowColor(color) {\r\n        if (color === undefined) {\r\n            color = '#000';\r\n        }\r\n\r\n        this.shadowColor = GetStyle(color, this.canvas, this.context);\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setShadowBlur(blur) {\r\n        if (blur === undefined) {\r\n            blur = 0;\r\n        }\r\n\r\n        this.shadowBlur = blur;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setShadowStroke(enabled) {\r\n        this.shadowStroke = enabled;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setShadowFill(enabled) {\r\n        this.shadowFill = enabled;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setUnderline(color, thickness, offset) {\r\n        if (color === undefined) {\r\n            color = '#000';\r\n        }\r\n        if (thickness === undefined) {\r\n            thickness = 0;\r\n        }\r\n        if (offset === undefined) {\r\n            offset = 0;\r\n        }\r\n\r\n        this.underlineColor = GetStyle(color, this.canvas, this.context);\r\n        this.underlineThickness = thickness;\r\n        this.underlineOffset = offset;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setUnderlineColor(color) {\r\n        if (color === undefined) {\r\n            color = '#000';\r\n        }\r\n\r\n        this.underlineColor = GetStyle(color, this.canvas, this.context);\r\n        return this.update(false);\r\n    }\r\n\r\n    setUnderlineThickness(thickness) {\r\n        if (thickness === undefined) {\r\n            thickness = 0;\r\n        }\r\n\r\n        this.underlineThickness = thickness;\r\n        return this.update(false);\r\n    }\r\n\r\n    setUnderlineOffset(offset) {\r\n        if (offset === undefined) {\r\n            offset = 0;\r\n        }\r\n\r\n        this.underlineOffset = offset;\r\n        return this.update(false);\r\n    }\r\n\r\n    setWrapMode(mode) {\r\n        if (typeof mode === 'string') {\r\n            mode = WRAPMODE[mode.toLowerCase()] || 0;\r\n        }\r\n        this.wrapMode = mode;\r\n        return this.update(true);\r\n    }\r\n\r\n    setWrapWidth(width) {\r\n        this.wrapWidth = width;\r\n        return this.update(false);\r\n    }\r\n\r\n    setAlign(halign, valign) {\r\n        if (halign === undefined) {\r\n            halign = 'left';\r\n        }\r\n        if (valign === undefined) {\r\n            valign = 'top';\r\n        }\r\n        this.halign = halign;\r\n        this.valign = valign;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setHAlign(halign) {\r\n        if (halign === undefined) {\r\n            halign = 'left';\r\n        }\r\n        this.halign = halign;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setVAlign(valign) {\r\n        if (valign === undefined) {\r\n            valign = 'top';\r\n        }\r\n        this.valign = valign;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    setMaxLines(max) {\r\n        if (max === undefined) {\r\n            max = 0;\r\n        }\r\n\r\n        this.maxLines = max;\r\n\r\n        return this.update(false);\r\n    }\r\n\r\n    getTextMetrics() {\r\n        var metrics = this.metrics;\r\n\r\n        return {\r\n            ascent: metrics.ascent,\r\n            descent: metrics.descent,\r\n            fontSize: metrics.fontSize\r\n        };\r\n    }\r\n\r\n    setTextMetrics(metrics, font) {\r\n        this.metrics.ascent = metrics.ascent;\r\n        this.metrics.descent = metrics.descent;\r\n        this.metrics.fontSize = metrics.fontSize;\r\n\r\n        if (font) {\r\n            if (typeof font === 'string') {\r\n                this.fontFamily = font;\r\n                this.fontSize = '';\r\n                this.fontStyle = '';\r\n            } else {\r\n                this.fontFamily = GetValue(font, 'fontFamily', this.fontFamily);\r\n                this.fontSize = GetValue(font, 'fontSize', this.fontSize);\r\n                this.fontStyle = GetValue(font, 'fontStyle', this.fontStyle);\r\n            }\r\n        }\r\n\r\n        return this.parent.updateText(true);\r\n    }\r\n\r\n    get lineHeight() {\r\n        return this.metrics.fontSize + this.strokeThickness + this.lineSpacing;\r\n    }\r\n\r\n    toJSON() {\r\n        var output = {};\r\n\r\n        for (var key in propertyMap) {\r\n            output[key] = this[key];\r\n        }\r\n\r\n        output.metrics = this.getTextMetrics();\r\n\r\n        return output;\r\n    }\r\n\r\n    destroy() {\r\n        this.parent = undefined;\r\n    }\r\n\r\n}\r\n\r\nconst HALIGNMODE = {\r\n    left: CONST.hleft,\r\n    center: CONST.hcenter,\r\n    right: CONST.hright,\r\n};\r\nconst VALIGNMODE = {\r\n    top: CONST.vtop,\r\n    center: CONST.vcenter,\r\n    bottom: CONST.vbottom,\r\n};\r\nconst WRAPMODE = {\r\n    none: CONST.NO_WRAP,\r\n    word: CONST.WORD_WRAP,\r\n    char: CONST.CHAR_WRAP,\r\n    character: CONST.CHAR_WRAP\r\n};\r\n\r\nexport default TextStyle;","const CanvasPool = Phaser.Display.Canvas.CanvasPool;\r\n\r\nvar MeasureTextMargins = function (textStyle, testString, out) {\r\n    if (out === undefined) {\r\n        out = {};\r\n    }\r\n\r\n    var canvas = CanvasPool.create(this);\r\n    var context = canvas.getContext('2d');\r\n\r\n    textStyle.syncFont(canvas, context);\r\n\r\n    var metrics = context.measureText(testString);\r\n\r\n    var width = Math.ceil(metrics.width * textStyle.baselineX);\r\n    var baseline = width;\r\n    var height = 2 * baseline;\r\n\r\n    baseline = baseline * textStyle.baselineY | 0;\r\n\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    context.fillStyle = '#f00';\r\n    context.fillRect(0, 0, width, height);\r\n\r\n    context.font = textStyle._font;\r\n\r\n    context.textBaseline = 'alphabetic';\r\n    context.fillStyle = '#000';\r\n    context.fillText(textStyle.testString, 0, baseline);\r\n\r\n    out.left = 0;\r\n\r\n    if ((width === 0) || (height === 0) || !context.getImageData(0, 0, width, height)) {\r\n        CanvasPool.remove(canvas);\r\n        return out;\r\n    }\r\n\r\n    var imagedata = context.getImageData(0, 0, width, height).data;\r\n    var stop = false;\r\n    for (var x = 0; x < width; x++) {\r\n        for (var y = 0; y < height; y++) {\r\n            var idx = (y * width + x) * 4;\r\n            if (imagedata[idx] !== 255) {\r\n                out.left = x;\r\n                stop = true;\r\n                break;\r\n            }\r\n        }\r\n        if (stop) {\r\n            break;\r\n        }\r\n    }\r\n\r\n    CanvasPool.remove(canvas);\r\n    return out;\r\n}\r\n\r\nexport default MeasureTextMargins;","import DrawRoundRectangleBackground from '../../../canvas/utils/DrawRoundRectangleBackground.js';\r\n\r\nexport default {\r\n    draw(startX, startY, textWidth, textHeight) {\r\n        var penManager = this.penManager;\r\n        this.hitAreaManager.clear();\r\n\r\n        var context = this.context;\r\n        context.save();\r\n\r\n        var defaultStyle = this.defaultStyle;\r\n\r\n        this.clear();\r\n        DrawRoundRectangleBackground(\r\n            this,\r\n            defaultStyle.backgroundColor,\r\n            defaultStyle.backgroundStrokeColor,\r\n            defaultStyle.backgroundStrokeLineWidth,\r\n            defaultStyle.backgroundCornerRadius,\r\n            defaultStyle.backgroundColor2,\r\n            defaultStyle.backgroundHorizontalGradient,\r\n            defaultStyle.backgroundCornerIteration\r\n        );\r\n\r\n        // draw lines\r\n        startX += this.startXOffset;\r\n        startY += this.startYOffset;\r\n        var defaultHalign = defaultStyle.halign,\r\n            valign = defaultStyle.valign;\r\n\r\n        var lineWidth, lineHeight = defaultStyle.lineHeight;\r\n        var lines = penManager.lines;\r\n        var totalLinesNum = lines.length,\r\n            maxLines = defaultStyle.maxLines;\r\n        var drawLinesNum, drawLineStartIdx, drawLineEndIdx;\r\n        if ((maxLines > 0) && (totalLinesNum > maxLines)) {\r\n            drawLinesNum = maxLines;\r\n            if (valign === 'center') { // center\r\n                drawLineStartIdx = Math.floor((totalLinesNum - drawLinesNum) / 2);\r\n            } else if (valign === 'bottom') { // bottom\r\n                drawLineStartIdx = totalLinesNum - drawLinesNum;\r\n            } else {\r\n                drawLineStartIdx = 0;\r\n            }\r\n        } else {\r\n            drawLinesNum = totalLinesNum;\r\n            drawLineStartIdx = 0;\r\n        }\r\n        drawLineEndIdx = drawLineStartIdx + drawLinesNum;\r\n\r\n        var offsetX, offsetY;\r\n        var rtl = this.rtl,\r\n            rtlOffset = (rtl) ? this.parent.width : undefined;\r\n        if (valign === 'center') { // center\r\n            offsetY = Math.max((textHeight - (drawLinesNum * lineHeight)) / 2, 0);\r\n        } else if (valign === 'bottom') { // bottom\r\n            offsetY = Math.max(textHeight - (drawLinesNum * lineHeight) - 2, 0);\r\n        } else {\r\n            offsetY = 0;\r\n        }\r\n        offsetY += startY;\r\n        for (var lineIdx = drawLineStartIdx; lineIdx < drawLineEndIdx; lineIdx++) {\r\n            lineWidth = penManager.getLineWidth(lineIdx);\r\n            if (lineWidth === 0) {\r\n                continue;\r\n            }\r\n\r\n            var pens = lines[lineIdx],\r\n                penCount = pens.length;\r\n            var halign = defaultHalign;\r\n            // Seek if there has algin tag\r\n            for (var penIdx = 0; penIdx < penCount; penIdx++) {\r\n                var penAlign = pens[penIdx].prop.align\r\n                if (penAlign !== undefined) {\r\n                    halign = penAlign;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (halign === 'center') { // center\r\n                offsetX = (textWidth - lineWidth) / 2;\r\n            } else if (halign === 'right') { // right\r\n                offsetX = (!rtl) ? (textWidth - lineWidth) : 0;\r\n            } else {\r\n                offsetX = (!rtl) ? 0 : (textWidth - lineWidth);\r\n            }\r\n            offsetX += startX;\r\n\r\n            for (var penIdx = 0; penIdx < penCount; penIdx++) {\r\n                this.drawPen(pens[penIdx], offsetX, offsetY, rtlOffset);\r\n            }\r\n        }\r\n\r\n        context.restore();\r\n    },\r\n\r\n    drawPen(pen, offsetX, offsetY, rtlOffset) {\r\n        offsetX += pen.x;\r\n        offsetY += pen.y + (pen.prop.y || 0);\r\n\r\n        if (rtlOffset !== undefined) {\r\n            offsetX = rtlOffset - offsetX;\r\n        }\r\n\r\n        var canvas = this.canvas;\r\n        var context = this.context;\r\n        context.save();\r\n\r\n        var curStyle = this.parser.propToContextStyle(this.defaultStyle, pen.prop);\r\n        curStyle.buildFont();\r\n        curStyle.syncFont(canvas, context);\r\n        curStyle.syncStyle(canvas, context);\r\n\r\n        // Underline\r\n        if ((curStyle.underlineThickness > 0) && (pen.width > 0)) {\r\n            this.drawUnderline(offsetX, offsetY, pen.width, curStyle);\r\n        }\r\n\r\n        // Text\r\n        if (pen.isTextPen) {\r\n            this.drawText(offsetX, offsetY, pen.text, curStyle);\r\n        }\r\n\r\n        // Image\r\n        if (pen.isImagePen) {\r\n            this.drawImage(offsetX, offsetY, pen.prop.img, curStyle);\r\n        }\r\n\r\n        context.restore();\r\n\r\n        if (pen.hasAreaMarker && (pen.width > 0)) {\r\n            this.hitAreaManager.add(\r\n                pen.prop.area, // key\r\n                offsetX, // x\r\n                (offsetY - this.startYOffset), // y\r\n                pen.width, // width\r\n                this.defaultStyle.lineHeight // height\r\n            );\r\n        }\r\n    },\r\n\r\n    clear() {\r\n        var canvas = this.canvas;\r\n        this.context.clearRect(0, 0, canvas.width, canvas.height);\r\n    },\r\n\r\n    drawUnderline(x, y, width, style) {\r\n        y += style.underlineOffset - (style.underlineThickness / 2);\r\n        if (this.autoRound) {\r\n            x = Math.round(x);\r\n            y = Math.round(y);\r\n        }\r\n\r\n        var context = this.context;\r\n        var savedLineCap = context.lineCap;\r\n        context.lineCap = 'butt';\r\n        context.strokeStyle = style.underlineColor;\r\n        context.lineWidth = style.underlineThickness;\r\n        context.beginPath();\r\n        context.moveTo(x, y);\r\n        context.lineTo((x + width), y);\r\n        context.stroke();\r\n        context.lineCap = savedLineCap;\r\n    },\r\n\r\n    drawText(x, y, text, style) {\r\n        if (this.autoRound) {\r\n            x = Math.round(x);\r\n            y = Math.round(y);\r\n        }\r\n\r\n        var context = this.context;\r\n        if (style.stroke && (style.stroke !== 'none') && (style.strokeThickness > 0)) {\r\n            style.syncShadow(context, style.shadowStroke);\r\n            context.strokeText(text, x, y);\r\n        }\r\n\r\n        if (style.color && (style.color !== 'none')) {\r\n            style.syncShadow(context, style.shadowFill);\r\n            context.fillText(text, x, y);\r\n        }\r\n    },\r\n\r\n    drawImage(x, y, imgKey, style) {\r\n        y -= this.startYOffset;\r\n        this.parent.imageManager.draw(imgKey, this.context, x, y, this.autoRound);\r\n    }\r\n\r\n}","import CONST from '../const.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst NO_NEWLINE = CONST.NO_NEWLINE;\r\nconst RAW_NEWLINE = CONST.RAW_NEWLINE;\r\n\r\nclass Pen {\r\n    constructor(config) {\r\n        this.prop = {};\r\n        this.resetFromJSON(config);\r\n    }\r\n\r\n    resetFromJSON(o) { // (txt, x, y, width, prop, newLineMode, startIndex)\r\n        this.text = GetValue(o, 'text', '');\r\n        this.x = GetValue(o, 'x', 0);\r\n        this.y = GetValue(o, 'y', 0);\r\n        this.width = GetValue(o, 'width', 0);\r\n\r\n        var prop = GetValue(o, 'prop', null);\r\n        if (prop === null) {\r\n            prop = {};\r\n        }\r\n        this.prop = prop;\r\n        this.newLineMode = GetValue(o, 'newLineMode', 0);\r\n        this.startIndex = GetValue(o, 'startIndex', 0);\r\n    }\r\n\r\n    get plainText() {\r\n        var txt = this.text\r\n        if (this.newLineMode === RAW_NEWLINE) {\r\n            txt += \"\\n\";\r\n        }\r\n\r\n        return txt;\r\n    }\r\n\r\n    get wrapText() {\r\n        var txt = this.text;\r\n        if (this.newLineMode !== NO_NEWLINE) {\r\n            txt += \"\\n\";\r\n        }\r\n\r\n        return txt;\r\n    }\r\n\r\n    get rawTextLength() {\r\n        var len = this.text.length;\r\n        if (this.newLineMode === RAW_NEWLINE) {\r\n            len += 1;\r\n        }\r\n        return len;\r\n    }\r\n\r\n    get endIndex() {\r\n        return this.startIndex + this.rawTextLength;\r\n    }\r\n\r\n    get lastX() {\r\n        return this.x + this.width;\r\n    }\r\n\r\n    get isTextPen() {\r\n        return (this.text !== '');\r\n    }\r\n\r\n    get isImagePen() {\r\n        return !!this.prop.img;\r\n    }\r\n\r\n    get hasAreaMarker() {\r\n        return !!this.prop.area;\r\n    }\r\n};\r\n\r\nexport default Pen;","import Pool from '../../../../pool.js';\r\nimport Pen from './Pen.js';\r\nimport CONST from '../const.js';\r\nimport Clone from '../../../../utils/object/Clone.js';\r\nimport NOOP from '../../../../utils/object/NOOP.js';\r\n\r\nconst GetFastValue = Phaser.Utils.Objects.GetFastValue;\r\nconst NO_NEWLINE = CONST.NO_NEWLINE;\r\nconst WRAPPED_NEWLINE = CONST.WRAPPED_NEWLINE;\r\n\r\n// Reuse objects can increase performance\r\nvar PensPool = new Pool(); // Default pens pool\r\nvar LinesPool = new Pool(); // Default lines pool\r\nclass PenManager {\r\n    constructor(config) {\r\n        this.pens = []; // all pens\r\n        this.lines = []; // pens in lines [ [],[],[],.. ]\r\n        this.maxLinesWidth = undefined;\r\n\r\n        this.PensPool = GetFastValue(config, 'pensPool', PensPool);\r\n        this.LinesPool = GetFastValue(config, 'linesPool', LinesPool);\r\n        this.tagToText = GetFastValue(config, 'tagToText', NOOP);\r\n        this.tagToTextScope = GetFastValue(config, 'tagToTextScope', undefined);\r\n    }\r\n\r\n    destroy() {\r\n        this.clear();\r\n        this.tagToText = undefined;\r\n        this.tagToTextScope = undefined;\r\n    }\r\n\r\n    clear() {\r\n        for (var i = 0, len = this.lines.length; i < len; i++) {\r\n            this.lines[i].length = 0;\r\n        }\r\n\r\n        this.PensPool.pushMultiple(this.pens);\r\n        this.LinesPool.pushMultiple(this.lines);\r\n        this.maxLinesWidth = undefined;\r\n    }\r\n\r\n    addTextPen(text, x, y, width, prop, newLineMode) {\r\n        var pen = this.PensPool.pop();\r\n        if (pen == null) {\r\n            pen = new Pen();\r\n        }\r\n        PEN_CONFIG.text = text;\r\n        PEN_CONFIG.x = x;\r\n        PEN_CONFIG.y = y;\r\n        PEN_CONFIG.width = width;\r\n        PEN_CONFIG.prop = prop;\r\n        PEN_CONFIG.newLineMode = newLineMode;\r\n        pen.resetFromJSON(PEN_CONFIG);\r\n        this.addPen(pen);\r\n        return this;\r\n    }\r\n\r\n    addImagePen(x, y, width, prop) {\r\n        this.addTextPen('', x, y, width, prop, NO_NEWLINE);\r\n        return this;\r\n    }\r\n\r\n    addNewLinePen() {\r\n        var previousPen = this.lastPen;\r\n        var x = (previousPen) ? previousPen.lastX : 0;\r\n        var y = (previousPen) ? previousPen.y : 0;\r\n        var prop = (previousPen) ? Clone(previousPen.prop) : null;\r\n        this.addTextPen('', x, y, 0, prop, WRAPPED_NEWLINE);\r\n        return this;\r\n    }\r\n\r\n    addPen(pen) {\r\n        var previousPen = this.lastPen;\r\n        if (previousPen == null) {\r\n            pen.startIndex = 0;\r\n        } else {\r\n            pen.startIndex = previousPen.endIndex;\r\n        }\r\n        this.pens.push(pen);\r\n\r\n        // maintan lines\r\n        var line = this.lastLine;\r\n        if (line == null) {\r\n            line = this.LinesPool.pop() || [];\r\n            this.lines.push(line);\r\n        }\r\n        line.push(pen);\r\n\r\n        // new line, add an empty line\r\n        if (pen.newLineMode !== NO_NEWLINE) {\r\n            line = this.LinesPool.pop() || [];\r\n            this.lines.push(line);\r\n        }\r\n        this.maxLinesWidth = undefined;\r\n    }\r\n\r\n    clone(targetPenManager) {\r\n        if (targetPenManager == null)\r\n            targetPenManager = new PenManager();\r\n\r\n        targetPenManager.clear();\r\n\r\n        for (var li = 0, llen = this.lines.length; li < llen; li++) {\r\n            var pens = this.lines[li];\r\n            for (var pi = 0, plen = pens.length; pi < plen; pi++) {\r\n                var pen = pens[pi];\r\n                targetPenManager.addPen(\r\n                    pen.text,\r\n                    pen.x,\r\n                    pen.y,\r\n                    pen.width,\r\n                    Clone(pen.prop),\r\n                    pen.newLineMode\r\n                );\r\n            }\r\n        }\r\n\r\n        return targetPenManager;\r\n    }\r\n\r\n    get lastPen() {\r\n        return this.pens[this.pens.length - 1];\r\n    }\r\n\r\n    get lastLine() {\r\n        return this.lines[this.lines.length - 1];\r\n    }\r\n\r\n    getLineStartIndex(i) {\r\n        if (i >= this.lines.length) {\r\n            return this.getLineEndIndex(i);\r\n        } else {\r\n            var line = this.lines[i];\r\n            return (line && line[0]) ? line[0].startIndex : 0;\r\n        }\r\n    }\r\n\r\n    getLineEndIndex(i) {\r\n        if (i >= this.lines.length) {\r\n            i = this.lines.length - 1;\r\n        }\r\n        var li, hasLastPen = false,\r\n            line;\r\n        for (li = i; li >= 0; li--) {\r\n            line = this.lines[li];\r\n            hasLastPen = (line != null) && (line.length > 0);\r\n            if (hasLastPen) {\r\n                break;\r\n            }\r\n        }\r\n        if (!hasLastPen) {\r\n            return 0;\r\n        }\r\n\r\n        var lastPen = line[line.length - 1];\r\n        return lastPen.endIndex;\r\n    }\r\n\r\n    getLineWidth(i) {\r\n        var line = this.lines[i];\r\n        if (!line) {\r\n            return 0;\r\n        }\r\n\r\n        var lastPen = line[line.length - 1];\r\n        if (lastPen == null) {\r\n            return 0;\r\n        }\r\n\r\n        var lineWidth = lastPen.lastX; // start from 0\r\n        return lineWidth;\r\n    }\r\n\r\n    getMaxLineWidth() {\r\n        if (this.maxLinesWidth !== undefined) {\r\n            return this.maxLinesWidth;\r\n        }\r\n        var w, maxW = 0;\r\n        for (var i = 0, len = this.lines.length; i < len; i++) {\r\n            w = this.getLineWidth(i);\r\n            if (w > maxW) {\r\n                maxW = w;\r\n            }\r\n        }\r\n        this.maxLinesWidth = maxW;\r\n        return maxW;\r\n    }\r\n\r\n    getLineWidths() {\r\n        var result = [];\r\n        for (var i = 0, len = this.lines.length; i < len; i++) {\r\n            result.push(this.getLineWidth(i));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    get linesCount() {\r\n        return this.lines.length;\r\n    }\r\n\r\n    get plainText() {\r\n        var txt = \"\",\r\n            pens = this.pens;\r\n        for (var i = 0, len = pens.length; i < len; i++) {\r\n            txt += pens[i].plainText;\r\n        }\r\n\r\n        return txt;\r\n    }\r\n\r\n    get rawTextLength() {\r\n        var l = 0,\r\n            pens = this.pens;\r\n        for (var i = 0, len = this.pens.length; i < len; i++) {\r\n            l += pens[i].rawTextLength;\r\n        }\r\n\r\n        return l;\r\n    }\r\n\r\n    getSliceTagText(start, end, wrap) {\r\n        if (start === undefined) {\r\n            start = 0;\r\n        }\r\n        if (end === undefined) {\r\n            var lastPen = this.lastPen;\r\n            if (lastPen == null) {\r\n                return \"\";\r\n            }\r\n\r\n            end = lastPen.endIndex;\r\n        }\r\n        if (wrap === undefined) {\r\n            wrap = false;\r\n        }\r\n\r\n        var txt = \"\",\r\n            formatTxt,\r\n            pen, penTxt, penStartIdx, penEndIdx, isInRange;\r\n        var currentProp, previousProp;\r\n        for (var i = 0, len = this.pens.length; i < len; i++) {\r\n            pen = this.pens[i];\r\n            penEndIdx = pen.endIndex;\r\n            if (penEndIdx <= start) {\r\n                continue;\r\n            }\r\n            pen = this.pens[i];\r\n            penTxt = (!wrap) ? pen.plainText : pen.wrapText;\r\n            currentProp = pen.prop;\r\n            penStartIdx = pen.startIndex;\r\n\r\n            isInRange = (penStartIdx >= start) && (penEndIdx <= end);\r\n            if (!isInRange) {\r\n                penTxt = penTxt.substring(start - penStartIdx, end - penStartIdx);\r\n            }\r\n\r\n            if (this.tagToTextScope) {\r\n                txt += this.tagToText.call(this.tagToTextScope, penTxt, currentProp, previousProp);\r\n            } else {\r\n                txt += this.tagToText(penTxt, currentProp, previousProp);\r\n            }\r\n\r\n            previousProp = currentProp;\r\n            if (penEndIdx >= end) {\r\n                break;\r\n            }\r\n        }\r\n\r\n        return txt;\r\n    }\r\n\r\n    get length() {\r\n        return this.lines.length;\r\n    }\r\n\r\n    set length(value) {\r\n        // Only for set length to 0 (clear)\r\n        this.clear();\r\n    }\r\n};\r\n\r\nvar PEN_CONFIG = {};\r\n\r\nexport default PenManager;","import Pool from '../../../../pool.js';\r\n\r\nconst Rectangle = Phaser.Geom.Rectangle;\r\n\r\nvar RectanglePool = new Pool();\r\nclass HitAreaManager {\r\n    constructor() {\r\n        this.hitAreas = [];\r\n    }\r\n\r\n    destroy() {\r\n        this.clear();\r\n    }\r\n\r\n    clear() {\r\n        RectanglePool.pushMultiple(this.hitAreas);\r\n        return this;\r\n    }\r\n\r\n    add(key, x, y, width, height) {\r\n        var rectangle = RectanglePool.pop();\r\n        if (rectangle === null) {\r\n            rectangle = new Rectangle(x, y, width, height);\r\n        } else {\r\n            rectangle.setTo(x, y, width, height);\r\n        }\r\n        rectangle.key = key;\r\n        this.hitAreas.push(rectangle);\r\n        return this;\r\n    }\r\n\r\n    getFirst(x, y) {\r\n        for (var i = 0, cnt = this.hitAreas.length; i < cnt; i++) {\r\n            var hitArea = this.hitAreas[i];\r\n            if (hitArea.contains(x, y)) {\r\n                return hitArea;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    drawBounds(graphics, color, parent) {\r\n        if (color === undefined) {\r\n            color = 0xffffff;\r\n        }\r\n\r\n        if (parent) {\r\n            graphics\r\n                .save()\r\n                .scaleCanvas(parent.scaleX, parent.scaleY)\r\n                .rotateCanvas(parent.rotation)\r\n                .translateCanvas(parent.x, parent.y)\r\n        }\r\n\r\n        for (var i = 0, cnt = this.hitAreas.length; i < cnt; i++) {\r\n            var hitArea = this.hitAreas[i];\r\n            graphics\r\n                .lineStyle(1, color)\r\n                .strokeRect(hitArea.x, hitArea.y, hitArea.width, hitArea.height);\r\n        }\r\n\r\n        if (parent) {\r\n            graphics\r\n                .restore()\r\n        }\r\n        return this;\r\n    }\r\n}\r\nexport default HitAreaManager;","var SetInteractive = function () {\r\n    this.parent\r\n\r\n        .on('pointerdown', OnAreaDown, this)\r\n\r\n        .on('pointerup', OnAreaUp, this)\r\n\r\n        .on('pointermove', OnAreaOverOut, this)\r\n        .on('pointerover', OnAreaOverOut, this)\r\n        .on('pointerout', function (pointer, event) {\r\n            OnAreaOverOut.call(this, pointer, null, null, event);\r\n        }, this)\r\n}\r\n\r\nvar OnAreaDown = function (pointer, localX, localY, event) {\r\n    var area = this.hitAreaManager.getFirst(localX, localY);\r\n    if (area === null) {\r\n        return;\r\n    }\r\n\r\n    FireEvent.call(this, 'areadown', area.key, pointer, localX, localY, event);\r\n}\r\n\r\nvar OnAreaUp = function (pointer, localX, localY, event) {\r\n    var area = this.hitAreaManager.getFirst(localX, localY);\r\n    if (area === null) {\r\n        return;\r\n    }\r\n\r\n    FireEvent.call(this, 'areaup', area.key, pointer, localX, localY, event);\r\n}\r\n\r\nvar OnAreaOverOut = function (pointer, localX, localY, event) {\r\n    if (localX === null) {  // Case of pointerout\r\n        if (this.lastHitAreaKey !== null) {\r\n            FireEvent.call(this, 'areaout', this.lastHitAreaKey, pointer, localX, localY, event);\r\n        }\r\n        this.lastHitAreaKey = null;\r\n        return;\r\n    }\r\n\r\n    var area = this.hitAreaManager.getFirst(localX, localY);\r\n    var hitAreaKey = (area) ? area.key : null;\r\n    if (this.lastHitAreaKey === hitAreaKey) {\r\n        return;\r\n    }\r\n\r\n    if (this.lastHitAreaKey !== null) {\r\n        FireEvent.call(this, 'areaout', this.lastHitAreaKey, pointer, localX, localY, event);\r\n    }\r\n    if (hitAreaKey !== null) {\r\n        FireEvent.call(this, 'areaover', hitAreaKey, pointer, localX, localY, event);\r\n    }\r\n\r\n    this.lastHitAreaKey = hitAreaKey;\r\n}\r\n\r\nvar FireEvent = function (eventName, key, pointer, localX, localY, event) {\r\n    this.parent.emit(`${eventName}-${key}`, pointer, localX, localY, event);\r\n    this.parent.emit(eventName, key, pointer, localX, localY, event);\r\n}\r\nexport default SetInteractive;","import Pool from '../../../../pool.js';\r\n\r\nvar LinesPool = new Pool();\r\n\r\nvar FreeLine = function (line) {\r\n    if (!line) {\r\n        return;\r\n    }\r\n    LinesPool.push(line);\r\n}\r\n\r\nvar FreeLines = function (lines) {\r\n    if (!lines) {\r\n        return;\r\n    }\r\n    LinesPool.pushMultiple(lines);\r\n}\r\n\r\nvar GetLine = function (text, width, newLineMode) {\r\n    var l = LinesPool.pop();\r\n    if (l === null) {\r\n        l = {};\r\n    }\r\n    l.text = text;\r\n    l.width = width;\r\n    l.newLineMode = newLineMode;\r\n    return l;\r\n}\r\n\r\nexport {\r\n    FreeLine,\r\n    FreeLines,\r\n    GetLine,\r\n}","import { FreeLine, GetLine } from './LinePool.js';\r\nimport CONST from '../const.js';\r\n\r\nconst NO_NEWLINE = CONST.NO_NEWLINE;\r\nconst RAW_NEWLINE = CONST.RAW_NEWLINE;\r\nconst WRAPPED_NEWLINE = CONST.WRAPPED_NEWLINE;\r\nconst NO_WRAP = CONST.NO_WRAP;\r\nconst WORD_WRAP = CONST.WORD_WRAP;\r\nconst CHAR_WRAP = CONST.CHAR_WRAP;\r\nconst splitRegExp = CONST.SPLITREGEXP;\r\n\r\nvar WrapText = function (text, getTextWidth, wrapMode, wrapWidth, offset) {\r\n    if (wrapWidth <= 0) {\r\n        wrapMode = NO_WRAP;\r\n    }\r\n\r\n    var retLines = [];\r\n    if (!text || !text.length) {\r\n        return retLines;\r\n    }\r\n\r\n    var isNoWrap = (wrapMode === NO_WRAP);\r\n    var isWordWrap = (wrapMode === WORD_WRAP);\r\n\r\n    var lines = text.split(splitRegExp),\r\n        line, remainWidth, newLineMode;\r\n    for (var i = 0, linesLen = lines.length; i < linesLen; i++) {\r\n        line = lines[i];\r\n        newLineMode = (i === (linesLen - 1)) ? NO_NEWLINE : RAW_NEWLINE;\r\n\r\n        if (isNoWrap) {\r\n            var textWidth = getTextWidth(line);\r\n            retLines.push(GetLine(line, textWidth, newLineMode));\r\n            continue;\r\n        }\r\n\r\n        remainWidth = (i === 0) ? (wrapWidth - offset) : wrapWidth;\r\n\r\n        // short string testing\r\n        if (line.length <= 100) {\r\n            var textWidth = getTextWidth(line);\r\n            if (textWidth <= remainWidth) {\r\n                retLines.push(GetLine(line, textWidth, newLineMode));\r\n                continue;\r\n            }\r\n        }\r\n\r\n        var tokenArray, isSpaceCharacterEnd;\r\n        if (isWordWrap) {\r\n            // word mode\r\n            tokenArray = line.split(' ');\r\n            isSpaceCharacterEnd = (tokenArray[tokenArray.length - 1] === '');\r\n            if (isSpaceCharacterEnd) {\r\n                tokenArray.length -= 1;\r\n            }\r\n        } else {\r\n            tokenArray = line;\r\n        }\r\n        var token, tokenWidth, isLastToken;\r\n        var lineText = '', lineWidth = 0;\r\n        var currLineWidth;\r\n        var whiteSpaceWidth = (isWordWrap) ? getTextWidth(' ') : undefined;\r\n        for (var j = 0, tokenLen = tokenArray.length; j < tokenLen; j++) {\r\n            token = tokenArray[j];\r\n            tokenWidth = getTextWidth(token);\r\n\r\n            isLastToken = (j === (tokenLen - 1));\r\n            if (isWordWrap && (!isLastToken || isSpaceCharacterEnd)) {\r\n                token += ' ';\r\n                tokenWidth += whiteSpaceWidth;\r\n            }\r\n\r\n            // Text width of single token is larger than a line width\r\n            if (isWordWrap && (tokenWidth > wrapWidth)) {\r\n                if (lineText !== '') {\r\n                    // Has pending lineText, flush it out\r\n                    retLines.push(GetLine(lineText, lineWidth, WRAPPED_NEWLINE));\r\n\r\n                } else if ((j === 0) && (offset > 0)) {\r\n                    // No pending lineText, but has previous text. Append a newline\r\n                    retLines.push(GetLine('', 0, WRAPPED_NEWLINE));\r\n\r\n                }\r\n\r\n                // Word break\r\n                retLines.push(...WrapText(token, getTextWidth, CHAR_WRAP, wrapWidth, 0));\r\n                // Continue at last-wordBreak-line\r\n                var lastwordBreakLine = retLines.pop();\r\n                lineText = lastwordBreakLine.text;\r\n                lineWidth = lastwordBreakLine.width;                \r\n                // Free this line\r\n                FreeLine(lastwordBreakLine);\r\n\r\n                // Special case : Start at a space character, discard it\r\n                if (lineText === ' ') {\r\n                    lineText = '';\r\n                    lineWidth = 0;\r\n                }\r\n                continue;\r\n            }\r\n\r\n            currLineWidth = lineWidth + tokenWidth;\r\n            if (currLineWidth > remainWidth) {\r\n                // New line\r\n                retLines.push(GetLine(lineText, lineWidth, WRAPPED_NEWLINE));\r\n                lineText = token;\r\n                lineWidth = tokenWidth;\r\n                remainWidth = wrapWidth;\r\n\r\n            } else {\r\n                // Append token, continue\r\n                lineText += token;\r\n                lineWidth = currLineWidth;\r\n            }\r\n\r\n            if (isLastToken) {\r\n                // Flush remain text\r\n                retLines.push(GetLine(lineText, lineWidth, newLineMode));\r\n            }\r\n        } // for token in tokenArray\r\n\r\n    } // for each line in lines\r\n\r\n    return retLines;\r\n};\r\n\r\nexport default WrapText;","import DrawMethods from './DrawMethods.js';\r\nimport PenManager from '../penmanger/PenManager.js';\r\nimport HitAreaManager from '../hitareamanager/HitAreaManager.js';\r\nimport SetInteractive from './SetInteractive.js';\r\nimport CONST from '../const.js';\r\nimport WrapText from '../wraptext/WrapText.js';\r\nimport Clone from '../../../../utils/object/Clone.js';\r\nimport { FreeLines, GetLine } from '../wraptext/LinePool.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst NO_WRAP = CONST.NO_WRAP;\r\nconst NO_NEWLINE = CONST.NO_NEWLINE;\r\n\r\nclass CanvasText {\r\n    constructor(config) {\r\n        this.parent = config.parent;\r\n        this.context = GetValue(config, 'context', null);\r\n        this.canvas = this.context.canvas;\r\n        this.parser = GetValue(config, 'parser', null);\r\n        this.defaultStyle = GetValue(config, 'style', null);\r\n        this.autoRound = true;\r\n\r\n        this.pensPool = GetValue(config, 'pensPool', null);\r\n        this.penManager = this.newPenManager();\r\n        this._tmpPenManager = null;\r\n\r\n        this.hitAreaManager = new HitAreaManager();\r\n        this.lastHitAreaKey = null;\r\n\r\n        var context = this.context;\r\n        this.getTextWidth = function (text) {\r\n            return context.measureText(text).width;\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        this.context = undefined;\r\n        this.canvas = undefined;\r\n        this.parser = undefined;\r\n        this.defaultStyle = undefined;\r\n\r\n        if (this.penManager) {\r\n            this.penManager.destroy();\r\n            this.penManager = undefined;\r\n        }\r\n        if (this._tmpPenManager) {\r\n            this._tmpPenManager.destroy();\r\n            this._tmpPenManager = undefined;\r\n        }\r\n        if (this.hitAreaManager) {\r\n            this.hitAreaManager.destroy();\r\n            this.hitAreaManager = undefined;\r\n        }\r\n    }\r\n\r\n    updatePenManager(text, wrapMode, wrapWidth, lineHeight, penManager) {\r\n        if (penManager === undefined) {\r\n            penManager = this.penManager;\r\n        }\r\n        penManager.clear();\r\n        if (text === \"\") {\r\n            return penManager;\r\n        }\r\n\r\n        var textStyle = this.parent.style;\r\n        if (textStyle.isWrapFitMode) {\r\n            var padding = this.parent.padding;\r\n            wrapWidth = textStyle.fixedWidth - padding.left - padding.right;\r\n        }\r\n\r\n        var canvas = this.canvas;\r\n        var context = this.context;\r\n\r\n        var MeasureText = function (text) {\r\n            return context.measureText(text).width;\r\n        }\r\n\r\n        var cursorX = 0,\r\n            cursorY = 0;\r\n\r\n        var customTextWrapCallback = textStyle.wrapCallback,\r\n            customTextWrapCallbackScope = textStyle.wrapCallbackScope;\r\n        var reuseLines = true;\r\n\r\n        var plainText, curProp, curStyle;\r\n        var match = this.parser.splitText(text),\r\n            result, wrapLines;\r\n        for (var i = 0, len = match.length; i < len; i++) {\r\n            result = this.parser.tagTextToProp(match[i], curProp);\r\n            plainText = result.plainText;\r\n            curProp = result.prop;\r\n\r\n            if (curProp.img) { // Image tag                \r\n                var imgWidth = this.imageManager.getOuterWidth(curProp.img);\r\n                if ((wrapWidth > 0) && (wrapMode !== NO_WRAP)) {  // Wrap mode\r\n                    if (wrapWidth < (cursorX + imgWidth)) {\r\n                        penManager.addNewLinePen();\r\n                        cursorY += lineHeight;\r\n                        cursorX = 0;\r\n                    }\r\n                }\r\n                penManager.addImagePen(cursorX, cursorY, imgWidth, Clone(curProp));\r\n                cursorX += imgWidth;\r\n\r\n            } else if (plainText !== '') {\r\n                // wrap text to lines\r\n                // Save the current context.\r\n                context.save();\r\n                curStyle = this.parser.propToContextStyle(this.defaultStyle, curProp);\r\n                curStyle.buildFont();\r\n                curStyle.syncFont(canvas, context);\r\n                curStyle.syncStyle(canvas, context);\r\n\r\n                if (!customTextWrapCallback) {\r\n                    wrapLines = WrapText(\r\n                        plainText,\r\n                        MeasureText,\r\n                        wrapMode, wrapWidth,\r\n                        cursorX\r\n                    );\r\n                } else { // customTextWrapCallback\r\n                    wrapLines = customTextWrapCallback.call(customTextWrapCallbackScope,\r\n                        plainText,\r\n                        MeasureText,\r\n                        wrapWidth,\r\n                        cursorX\r\n                    );\r\n                    if (typeof (wrapLines) === 'string') {\r\n                        wrapLines = wrapLines.split('\\n');\r\n                    }\r\n                    var n;\r\n                    for (var j = 0, jLen = wrapLines.length; j < jLen; j++) {\r\n                        n = wrapLines[j];\r\n                        if (typeof (n) === 'string') {\r\n                            wrapLines[j] = GetLine(n, MeasureText(n), (j < (jLen - 1)) ? 2 : 0);\r\n                        } else {\r\n                            reuseLines = false;\r\n                        }\r\n                    }\r\n                }  // customTextWrapCallback\r\n\r\n                // add pens\r\n                var n;\r\n                for (var j = 0, jLen = wrapLines.length; j < jLen; j++) {\r\n                    n = wrapLines[j];\r\n                    penManager.addTextPen(n.text, cursorX, cursorY, n.width, Clone(curProp), n.newLineMode);\r\n\r\n                    if (n.newLineMode !== NO_NEWLINE) {\r\n                        cursorX = 0;\r\n                        cursorY += lineHeight;\r\n                    } else {\r\n                        cursorX += n.width;\r\n                    }\r\n\r\n                }\r\n\r\n                if (reuseLines) {\r\n                    FreeLines(wrapLines);\r\n                }\r\n                wrapLines = null;\r\n\r\n                context.restore();\r\n\r\n            }\r\n\r\n        }\r\n\r\n        // Add strokeThinkness to last pen of each line\r\n        for (var i = 0, len = this.lines.length; i < len; i++) {\r\n            var line = this.lines[i];\r\n            var lastPen = line[line.length - 1];\r\n            if (lastPen) {\r\n                lastPen.width += this.parser.getStrokeThinkness(this.defaultStyle, lastPen.prop);\r\n            }\r\n        }\r\n\r\n        return penManager;\r\n    }\r\n\r\n    get startXOffset() {\r\n        var defaultStyle = this.defaultStyle;\r\n        return (defaultStyle.strokeThickness / 2) + defaultStyle.xOffset;\r\n    }\r\n\r\n    get startYOffset() {\r\n        var defaultStyle = this.defaultStyle;\r\n        return (defaultStyle.strokeThickness / 2) + defaultStyle.metrics.ascent;\r\n    }\r\n\r\n    get lines() {\r\n        return this.penManager.lines;\r\n    }\r\n\r\n    get desplayLinesCount() {\r\n        var linesCount = this.penManager.linesCount,\r\n            maxLines = this.defaultStyle.maxLines;\r\n        if ((maxLines > 0) && (linesCount > maxLines)) {\r\n            linesCount = maxLines;\r\n        }\r\n        return linesCount;\r\n    }\r\n\r\n    get linesWidth() {\r\n        return Math.ceil(this.penManager.getMaxLineWidth());\r\n    }\r\n\r\n    get linesHeight() {\r\n        var linesCount = this.desplayLinesCount;\r\n        var linesHeight = (this.defaultStyle.lineHeight * linesCount);\r\n        if (linesCount > 0) {\r\n            linesHeight -= this.defaultStyle.lineSpacing;\r\n        }\r\n        return linesHeight;\r\n    }\r\n\r\n    get imageManager() {\r\n        return this.parent.imageManager;\r\n    }\r\n\r\n    get rtl() {\r\n        return this.parent.style.rtl;\r\n    }\r\n\r\n    newPenManager() {\r\n        return new PenManager({\r\n            pensPool: this.pensPool,\r\n            tagToText: this.parser.propToTagText,\r\n            tagToTextScope: this.parser\r\n        });\r\n    }\r\n\r\n    get tmpPenManager() {\r\n        if (this._tmpPenManager === null) {\r\n            this._tmpPenManager = this.newPenManager();\r\n        }\r\n        return this._tmpPenManager;\r\n    }\r\n\r\n    getPlainText(text, start, end) {\r\n        var plainText;\r\n        if (text == null) {\r\n            plainText = this.penManager.plainText;\r\n        } else {\r\n            var m, match = this.parser.splitText(text, 1); // PLAINTEXTONLY_MODE\r\n            plainText = \"\";\r\n            for (var i = 0, len = match.length; i < len; i++) {\r\n                plainText += match[i];\r\n            }\r\n        }\r\n\r\n        if ((start != null) || (end != null)) {\r\n            if (start == null) {\r\n                start = 0;\r\n            }\r\n            if (end == null) {\r\n                end = plainText.length;\r\n            }\r\n            plainText = plainText.substring(start, end);\r\n        }\r\n\r\n        return plainText;\r\n    }\r\n\r\n    getPenManager(text, retPenManager) {\r\n        if (text === undefined) {\r\n            return this.copyPenManager(retPenManager, this.penManager);\r\n        }\r\n\r\n        if (retPenManager === undefined) {\r\n            retPenManager = this.newPenManager();\r\n        }\r\n\r\n        var defaultStyle = this.defaultStyle;\r\n        this.updatePenManager(\r\n            text,\r\n            defaultStyle.wrapMode,\r\n            defaultStyle.wrapWidth,\r\n            defaultStyle.lineHeight,\r\n            retPenManager\r\n        );\r\n        return retPenManager;\r\n    }\r\n\r\n    getText(text, start, end, wrap) {\r\n        if (text == null) {\r\n            return this.penManager.getSliceTagText(start, end, wrap);\r\n        }\r\n\r\n        var penManager = this.tmpPenManager;\r\n        var defaultStyle = this.defaultStyle;\r\n        this.updatePenManager(\r\n            text,\r\n            defaultStyle.wrapMode,\r\n            defaultStyle.wrapWidth,\r\n            defaultStyle.lineHeight,\r\n            penManager\r\n        );\r\n\r\n        return penManager.getSliceTagText(start, end, wrap);\r\n    }\r\n\r\n    copyPenManager(ret, src) {\r\n        if (src === undefined) {\r\n            src = this.penManager;\r\n        }\r\n        return src.copy(ret);\r\n    }\r\n\r\n    getTextWidth(penManager) {\r\n        if (penManager === undefined) {\r\n            penManager = this.penManager;\r\n        }\r\n\r\n        return penManager.getMaxLineWidth();\r\n    }\r\n\r\n    getLastPen(penManager) {\r\n        if (penManager === undefined) {\r\n            penManager = this.penManager;\r\n        }\r\n\r\n        return penManager.lastPen;\r\n    }\r\n};\r\n\r\nvar methods = {\r\n    setInteractive: SetInteractive,\r\n}\r\n\r\nObject.assign(\r\n    CanvasText.prototype,\r\n    DrawMethods,\r\n    methods\r\n);\r\n\r\nexport default CanvasText;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar AddImage = function (key, config) {\r\n    if (config === undefined) {\r\n        config = {\r\n            key: key\r\n        }\r\n    }\r\n\r\n    if (!config.hasOwnProperty('key')) {\r\n        config.key = key;\r\n    }\r\n\r\n    var textureKey = config.key, frameKey = config.frame;\r\n    var width = config.width, height = config.height;\r\n\r\n    if ((width === undefined) || (height === undefined)) {\r\n        var frame = this.textureManager.getFrame(textureKey, frameKey);\r\n        var frameWidth = (frame) ? frame.cutWidth : 0;\r\n        var frameHeight = (frame) ? frame.cutHeight : 0;\r\n        if ((width === undefined) && (height === undefined)) {\r\n            width = frameWidth;\r\n            height = frameHeight;\r\n        } else if (width === undefined) {\r\n            width = frameWidth * (height / frameHeight);\r\n        } else if (height === undefined) {\r\n            height = frameHeight * (width / frameWidth);\r\n        }\r\n    }\r\n\r\n    this.images[key] = {\r\n        key: textureKey,\r\n        frame: frameKey,\r\n        width: width,\r\n        height: height,\r\n        y: GetValue(config, 'y', 0),\r\n        left: GetValue(config, 'left', 0),\r\n        right: GetValue(config, 'right', 0)\r\n    }\r\n}\r\n\r\nexport default AddImage;","var DrawImage = function (key, context, x, y, autoRound) {\r\n    var imgData = this.get(key);\r\n\r\n    x += imgData.left;\r\n    y += imgData.y;\r\n    if (autoRound) {\r\n        x = Math.round(x);\r\n        y = Math.round(y);\r\n    }\r\n\r\n    var frame = this.textureManager.getFrame(imgData.key, imgData.frame);\r\n\r\n    context.drawImage(\r\n        frame.source.image,\r\n        frame.cutX, frame.cutY, frame.cutWidth, frame.cutHeight,\r\n        x, y, imgData.width, imgData.height\r\n    );\r\n}\r\n\r\nexport default DrawImage;","import AddImage from './AddImage.js';\r\nimport DrawImage from './DrawImage.js';\r\n\r\nclass ImageManager {\r\n    constructor(scene) {\r\n        this.textureManager = scene.sys.textures;\r\n        this.images = {};\r\n    }\r\n\r\n    destroy() {\r\n        this.textureManager = undefined;\r\n        this.images = undefined;\r\n    }\r\n\r\n    add(key, config) {\r\n        if (typeof (key) === 'string') {\r\n            AddImage.call(this, key, config);\r\n        } else if (Array.isArray(key)) {\r\n            var data = key;\r\n            for (var i = 0, cnt = data.length; i < cnt; i++) {\r\n                AddImage.call(this, data[i]);\r\n            }\r\n        } else {\r\n            var data = key;\r\n            for (var key in data) {\r\n                AddImage.call(this, key, data[key]);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    has(key) {\r\n        return this.images.hasOwnProperty(key);\r\n    }\r\n\r\n    remove(key) {\r\n        if (this.has(key)) {\r\n            delete this.images[key];\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get(key) {\r\n        if (!this.has(key)) {\r\n            if (this.textureManager.exists(key)) {\r\n                this.add(key);\r\n            }\r\n        }\r\n        return this.images[key];\r\n    }\r\n\r\n    getOuterWidth(key) {\r\n        var data = this.get(key);\r\n        return (data) ? (data.width + data.left + data.right) : 0;\r\n    }\r\n\r\n    getFrame(key) {\r\n        var data = this.get(key);\r\n        return (data) ? this.textureManager.getFrame(data.key, data.frame) : undefined;\r\n    }\r\n\r\n    hasTexture(key) {\r\n        return !!this.getFrame(key);\r\n    }\r\n}\r\n\r\nvar methods = {\r\n    draw: DrawImage\r\n}\r\n\r\nObject.assign(\r\n    ImageManager.prototype,\r\n    methods\r\n);\r\n\r\n\r\nexport default ImageManager;","import Render from './render/Render.js';\r\nimport TextStyle from './textstyle/TextStyle.js'; // extended\r\nimport MeasureTextMargins from './textstyle/MeasureTextMargins.js';\r\nimport CanvasText from './canvastext/CanvasText.js';\r\nimport Pool from '../../../pool.js';\r\nimport CONST from './const.js';\r\nimport ImageManager from '../../../utils/texture/imagemanager/ImageManager.js';\r\nimport CopyCanvasToTexture from '../../../utils/texture/CopyCanvasToTexture.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst AddToDOM = Phaser.DOM.AddToDOM;\r\nconst CanvasPool = Phaser.Display.Canvas.CanvasPool;\r\nconst GameObject = Phaser.GameObjects.GameObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst RemoveFromDOM = Phaser.DOM.RemoveFromDOM;\r\nconst SPLITREGEXP = CONST.SPLITREGEXP;\r\n\r\nvar PensPools = {};\r\n\r\nclass Text extends GameObject {\r\n    constructor(scene, x, y, text, style, type, parser) {\r\n        if (IsPlainObject(x)) {\r\n            var config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            text = GetValue(config, 'text', '');\r\n            style = GetValue(config, 'style', '');\r\n        }\r\n        if (x === undefined) {\r\n            x = 0;\r\n        }\r\n        if (y === undefined) {\r\n            y = 0;\r\n        }\r\n\r\n        super(scene, type);\r\n\r\n        this.renderer = scene.sys.game.renderer;\r\n\r\n        this.setPosition(x, y);\r\n        this.setOrigin(0, 0);\r\n        this.initPipeline();\r\n\r\n        this.canvas = CanvasPool.create(this);\r\n\r\n        this.context = this.canvas.getContext('2d');\r\n\r\n        this._imageManager = undefined;\r\n\r\n        if (style) {\r\n            // Override align\r\n            if (style.hasOwnProperty('align')) {\r\n                var halign = style.align;\r\n                delete style.align;\r\n                style.halign = halign;\r\n            }\r\n            // Has Stroke color but stroke thinkness, set stroke thinkness to 1\r\n            if (style.hasOwnProperty('stroke') && !style.hasOwnProperty('strokeThickness')) {\r\n                style.strokeThickness = 1;\r\n            }\r\n        }\r\n        this.style = new TextStyle(this, style);\r\n\r\n        this.autoRound = true;\r\n\r\n        this._text = undefined;\r\n\r\n        this.padding = {\r\n            left: 0,\r\n            right: 0,\r\n            top: 0,\r\n            bottom: 0\r\n        };\r\n\r\n        this.width = 1;\r\n\r\n        this.height = 1;\r\n\r\n        this.dirty = false;\r\n\r\n        //  If resolution wasn't set, force it to 1\r\n        if (this.style.resolution === 0) {\r\n            this.style.resolution = 1;\r\n        }\r\n\r\n        this._crop = this.resetCropObject();\r\n\r\n        //  Create a Texture for this Text object\r\n        this.texture = scene.sys.textures.addCanvas(null, this.canvas, true);\r\n\r\n        //  Get the frame\r\n        this.frame = this.texture.get();\r\n\r\n        //  Set the resolution\r\n        this.frame.source.resolution = this.style.resolution;\r\n\r\n        if (this.renderer.gl) {\r\n            //  Clear the default 1x1 glTexture, as we override it later\r\n\r\n            this.renderer.deleteTexture(this.frame.source.glTexture);\r\n\r\n            this.frame.source.glTexture = null;\r\n        }\r\n\r\n        if (!PensPools.hasOwnProperty(type)) {\r\n            PensPools[type] = new Pool();\r\n        }\r\n        this.canvasText = new CanvasText({\r\n            parent: this,\r\n            context: this.context,\r\n            parser: parser,\r\n            style: this.style,\r\n            pensPool: PensPools[type]\r\n        });\r\n        this.parser = parser;\r\n\r\n        this.initRTL();\r\n\r\n        if (style && style.padding) {\r\n            this.setPadding(style.padding);\r\n        }\r\n\r\n        this.setText(text);\r\n\r\n        scene.sys.game.events.on('contextrestored', this.onContextRestored, this);\r\n    }\r\n\r\n    onContextRestored() {\r\n        this.dirty = true;\r\n    }\r\n\r\n    preDestroy() {\r\n        if (this.style.rtl) {\r\n            RemoveFromDOM(this.canvas);\r\n        }\r\n\r\n        this.scene.sys.game.events.off('contextrestored', this.onContextRestored, this);\r\n\r\n        this.canvasText.destroy();\r\n        this.canvasText = undefined;\r\n\r\n        if (this._imageManager) {\r\n            this._imageManager.destroy();\r\n            this._imageManager = undefined;\r\n        }\r\n\r\n        CanvasPool.remove(this.canvas);\r\n\r\n        this.texture.destroy();\r\n    }\r\n\r\n    set text(value) {\r\n        this.setText(value);\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n\r\n    initRTL() {\r\n        if (!this.style.rtl) {\r\n            return;\r\n        }\r\n\r\n        //  Here is where the crazy starts.\r\n        //\r\n        //  Due to browser implementation issues, you cannot fillText BiDi text to a canvas\r\n        //  that is not part of the DOM. It just completely ignores the direction property.\r\n\r\n        this.canvas.dir = 'rtl';\r\n\r\n        //  Experimental atm, but one day ...\r\n        this.context.direction = 'rtl';\r\n\r\n        //  Add it to the DOM, but hidden within the parent canvas.\r\n        this.canvas.style.display = 'none';\r\n\r\n        AddToDOM(this.canvas, this.scene.sys.canvas);\r\n\r\n        //  And finally we set the x origin\r\n        this.originX = 1;\r\n    }\r\n\r\n    setText(value) {\r\n        if (value == null) {\r\n            value = '';\r\n        } else if (Array.isArray(value)) {\r\n            value = value.join('\\n');\r\n        } else {\r\n            value = value.toString();\r\n        }\r\n\r\n        if (value === this._text) {\r\n            return this;\r\n        }\r\n\r\n        this._text = value;\r\n        this.updateText();\r\n\r\n        return this;\r\n    }\r\n\r\n    appendText(value) {\r\n        if (value == null) {\r\n            return this;\r\n        }\r\n        if (Array.isArray(value)) {\r\n            value = value.join('\\n');\r\n        }\r\n\r\n        this.setText(this.text + value.toString())\r\n        return this;\r\n    }\r\n\r\n    setStyle(style) {\r\n        return this.style.setStyle(style);\r\n    }\r\n\r\n    setFont(font) {\r\n        return this.style.setFont(font);\r\n    }\r\n\r\n    setFontFamily(family) {\r\n        return this.style.setFontFamily(family);\r\n    }\r\n\r\n    setFontSize(size) {\r\n        return this.style.setFontSize(size);\r\n    }\r\n\r\n    setFontStyle(style) {\r\n        return this.style.setFontStyle(style);\r\n    }\r\n\r\n    setTestString(string) {\r\n        return this.style.setTestString(string);\r\n    }\r\n\r\n    setFixedSize(width, height) {\r\n        return this.style.setFixedSize(width, height);\r\n    }\r\n\r\n    setBackgroundColor(color, color2, isHorizontalGradient) {\r\n        return this.style.setBackgroundColor(color, color2, isHorizontalGradient);\r\n    }\r\n\r\n    setBackgroundStrokeColor(color, lineWidth) {\r\n        return this.style.setBackgroundStrokeColor(color, lineWidth);\r\n    }\r\n\r\n    setBackgroundCornerRadius(radius, iteration) {\r\n        return this.style.setBackgroundCornerRadius(radius, iteration);\r\n    }\r\n\r\n    setFill(color) {\r\n        return this.style.setFill(color);\r\n    }\r\n\r\n    setColor(color) {\r\n        return this.style.setColor(color);\r\n    }\r\n\r\n    setStroke(color, thickness) {\r\n        return this.style.setStroke(color, thickness);\r\n    }\r\n\r\n    setShadow(x, y, color, blur, shadowStroke, shadowFill) {\r\n        return this.style.setShadow(x, y, color, blur, shadowStroke, shadowFill);\r\n    }\r\n\r\n    setShadowOffset(x, y) {\r\n        return this.style.setShadowOffset(x, y);\r\n    }\r\n\r\n    setShadowColor(color) {\r\n        return this.style.setShadowColor(color);\r\n    }\r\n\r\n    setShadowBlur(blur) {\r\n        return this.style.setShadowBlur(blur);\r\n    }\r\n\r\n    setShadowStroke(enabled) {\r\n        return this.style.setShadowStroke(enabled);\r\n    }\r\n\r\n    setShadowFill(enabled) {\r\n        return this.style.setShadowFill(enabled);\r\n    }\r\n\r\n    setWrapMode(mode) {\r\n        return this.style.setWrapMode(mode);\r\n    }\r\n\r\n    setWrapWidth(width) {\r\n        return this.style.setWrapWidth(width);\r\n    }\r\n\r\n    // Align with built-in text game object\r\n    setWordWrapWidth(width) {\r\n        return this.style.setWrapWidth(width);\r\n    }\r\n\r\n    setAlign(align) {\r\n        return this.style.setHAlign(align);\r\n    }\r\n    setHAlign(align) {\r\n        return this.style.setHAlign(align);\r\n    }\r\n    setVAlign(align) {\r\n        return this.style.setVAlign(align);\r\n    }\r\n\r\n    setLineSpacing(value) {\r\n        return this.style.setLineSpacing(value);\r\n    }\r\n\r\n    setXOffset(value) {\r\n        return this.style.setXOffset(value);\r\n    }\r\n\r\n\r\n    setPadding(left, top, right, bottom) {\r\n        if (typeof left === 'object') {\r\n            var config = left;\r\n\r\n            //  If they specify x and/or y this applies to all\r\n            var x = GetValue(config, 'x', null);\r\n\r\n            if (x !== null) {\r\n                left = x;\r\n                right = x;\r\n            } else {\r\n                left = GetValue(config, 'left', 0);\r\n                right = GetValue(config, 'right', left);\r\n            }\r\n\r\n            var y = GetValue(config, 'y', null);\r\n\r\n            if (y !== null) {\r\n                top = y;\r\n                bottom = y;\r\n            } else {\r\n                top = GetValue(config, 'top', 0);\r\n                bottom = GetValue(config, 'bottom', top);\r\n            }\r\n        } else {\r\n            if (left === undefined) {\r\n                left = 0;\r\n            }\r\n            if (top === undefined) {\r\n                top = left;\r\n            }\r\n            if (right === undefined) {\r\n                right = left;\r\n            }\r\n            if (bottom === undefined) {\r\n                bottom = top;\r\n            }\r\n        }\r\n\r\n        this.padding.left = left;\r\n        this.padding.top = top;\r\n        this.padding.right = right;\r\n        this.padding.bottom = bottom;\r\n\r\n        return this.updateText(false);\r\n    }\r\n\r\n    setMaxLines(max) {\r\n        return this.style.setMaxLines(max);\r\n    }\r\n\r\n    setResolution(value) {\r\n        return this.style.setResolution(value);\r\n    }\r\n\r\n    updateText(runWrap) {\r\n        if (runWrap === undefined) {\r\n            runWrap = true;\r\n        }\r\n        var canvasText = this.canvasText;\r\n\r\n        // wrap text to pens\r\n        var style = this.style;\r\n        if (runWrap) {\r\n            canvasText.updatePenManager(\r\n                this._text,\r\n                style.wrapMode,\r\n                style.wrapWidth,\r\n                style.lineHeight\r\n            );\r\n        }\r\n\r\n        // resize\r\n        var padding = this.padding;\r\n        var textWidth, textHeight;\r\n        var linesWidth = Math.ceil(canvasText.linesWidth);\r\n        if (style.fixedWidth === 0) {\r\n            this.width = linesWidth + padding.left + padding.right;\r\n            textWidth = linesWidth;\r\n        }\r\n        else {\r\n            this.width = style.fixedWidth;\r\n            textWidth = this.width - padding.left - padding.right;\r\n            if (textWidth < linesWidth) {\r\n                textWidth = linesWidth;\r\n            }\r\n        }\r\n        if (style.fixedHeight === 0) {\r\n            this.height = canvasText.linesHeight + padding.top + padding.bottom;\r\n            textHeight = canvasText.linesHeight;\r\n        }\r\n        else {\r\n            this.height = style.fixedHeight;\r\n            textHeight = this.height - padding.top - padding.bottom;\r\n            if (textHeight < canvasText.linesHeight) {\r\n                textHeight = canvasText.linesHeight;\r\n            }\r\n        }\r\n\r\n        var w = this.width;\r\n        var h = this.height;\r\n\r\n        this.updateDisplayOrigin();\r\n\r\n        var resolution = style.resolution;\r\n        w *= resolution;\r\n        h *= resolution;\r\n\r\n        w = Math.max(Math.ceil(w), 1);\r\n        h = Math.max(Math.ceil(h), 1);\r\n\r\n        var canvas = this.canvas;\r\n        var context = this.context;\r\n        if (canvas.width !== w || canvas.height !== h) {\r\n            canvas.width = w;\r\n            canvas.height = h;\r\n            this.frame.setSize(w, h);\r\n        } else {\r\n            context.clearRect(0, 0, w, h);\r\n        }\r\n\r\n        context.save();\r\n        context.scale(resolution, resolution);\r\n\r\n        // draw\r\n        var startX = (!this.style.rtl) ? padding.left : padding.right;\r\n        var startY = padding.top;\r\n        canvasText.draw(\r\n            startX,\r\n            startY,\r\n            textWidth,\r\n            textHeight,\r\n        );\r\n\r\n        context.restore();\r\n\r\n        if (this.renderer && this.renderer.gl) {\r\n            this.frame.source.glTexture = this.renderer.canvasToTexture(canvas, this.frame.source.glTexture, true);\r\n            this.frame.glTexture = this.frame.source.glTexture;\r\n        }\r\n\r\n        this.dirty = true;\r\n\r\n        var input = this.input;\r\n\r\n        if (input && !input.customHitArea) {\r\n            input.hitArea.width = this.width;\r\n            input.hitArea.height = this.height;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    getTextMetrics() {\r\n        return this.style.getTextMetrics();\r\n    }\r\n\r\n    setTextMetrics(metrics, font) {\r\n        return this.style.setTextMetrics(metrics, font);\r\n    }\r\n\r\n    toJSON() {\r\n        var out = Components.ToJSON(this);\r\n\r\n        //  Extra Text data is added here\r\n\r\n        var data = {\r\n            autoRound: this.autoRound,\r\n            text: this._text,\r\n            style: this.style.toJSON(),\r\n            resolution: this.resolution,\r\n            padding: {\r\n                left: this.padding.left,\r\n                right: this.padding.right,\r\n                top: this.padding.top,\r\n                bottom: this.padding.bottom\r\n            }\r\n        };\r\n\r\n        out.data = data;\r\n\r\n        return out;\r\n    }\r\n\r\n    setInteractive(hitArea, hitAreaCallback, dropZone) {\r\n        var isInteractived = !!this.input;\r\n\r\n        GameObject.prototype.setInteractive.call(this, hitArea, hitAreaCallback, dropZone);\r\n\r\n        if (!isInteractived) {\r\n            this.canvasText.setInteractive();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    getWrappedText(text, start, end) {\r\n        text = this.canvasText.getText(text, start, end, true);\r\n        return text.split(SPLITREGEXP);\r\n    }\r\n\r\n    getPlainText(text, start, end) {\r\n        return this.canvasText.getPlainText(text, start, end);\r\n    }\r\n\r\n    getText(text, start, end, wrap) {\r\n        if (wrap === undefined) {\r\n            wrap = false;\r\n        }\r\n        return this.canvasText.getText(text, start, end, wrap);\r\n    }\r\n\r\n    getSubString(text, start, end) {\r\n        return this.getText(text, start, end);\r\n    }\r\n\r\n    copyPenManager(penManager) {\r\n        return this.canvasText.copyPenManager(penManager);\r\n    }\r\n\r\n    getPenManager(text, penManager) {\r\n        return this.canvasText.getPenManager(text, penManager);\r\n    }\r\n\r\n    setSize(width, height) {\r\n        return this.setFixedSize(width, height);\r\n    }\r\n\r\n    resize(width, height) {\r\n        return this.setFixedSize(width, height);\r\n    }\r\n\r\n    set lineSpacing(value) {\r\n        this.setLineSpacing(value);\r\n    }\r\n    get lineSpacing() {\r\n        return this.style.lineSpacing;\r\n    }\r\n\r\n    get imageManager() {\r\n        if (!this._imageManager) {\r\n            this._imageManager = new ImageManager(this.scene);\r\n        }\r\n        return this._imageManager;\r\n    }\r\n\r\n    addImage(key, config) {\r\n        this.imageManager.add(key, config);\r\n        return this;\r\n    }\r\n\r\n    drawAreaBounds(graphics, color) {\r\n        this.canvasText.hitAreaManager.drawBounds(graphics, color, this);\r\n        return this;\r\n    }\r\n\r\n    measureTextMargins(testString, out) {\r\n        return MeasureTextMargins(this.style, testString, out);\r\n    }\r\n\r\n    generateTexture(key, x, y, width, height) {\r\n        var srcCanvas = this.canvas;\r\n        if (width === undefined) {\r\n            width = srcCanvas.width;\r\n        } else {\r\n            width *= this.resolution;\r\n        }\r\n        if (height === undefined) {\r\n            height = srcCanvas.height;\r\n        } else {\r\n            height *= this.resolution;\r\n        }\r\n\r\n        CopyCanvasToTexture(this.scene, srcCanvas, key, x, y, width, height);\r\n        return this;\r\n    }\r\n}\r\n\r\nconst Components = Phaser.GameObjects.Components;\r\nPhaser.Class.mixin(Text,\r\n    [\r\n        Components.Alpha,\r\n        Components.BlendMode,\r\n        Components.ComputedSize,\r\n        Components.Crop,\r\n        Components.Depth,\r\n        Components.Flip,\r\n        Components.GetBounds,\r\n        Components.Mask,\r\n        Components.Origin,\r\n        Components.Pipeline,\r\n        Components.ScrollFactor,\r\n        Components.Tint,\r\n        Components.Transform,\r\n        Components.Visible,\r\n        Render\r\n    ]\r\n);\r\n\r\nexport default Text;","var GetOpenTagRegString = function (tagName, param) {\r\n    if (param === undefined) {\r\n        return `\\\\[${tagName}\\\\]`;\r\n    } else {\r\n        return `\\\\[${tagName}=(${param})\\\\]`;\r\n    }\r\n}\r\nvar GetCloseTagRegString = function (tagName) {\r\n    return `\\\\[\\/${tagName}\\\\]`;\r\n}\r\n\r\nconst NUMBER_PARAM = '[-.0-9]+';\r\nconst COLOR_PARAM = '[a-z]+|#[0-9abcdef]+';\r\nconst STR_PARAM = '[^\\\\]]+';\r\n\r\nconst ESC = 'esc';\r\nconst ESC_OPEN = GetOpenTagRegString(ESC);\r\nconst ESC_CLOSE = GetCloseTagRegString(ESC);\r\n\r\nconst RAW = 'raw';\r\nconst RAW_OPEN = GetOpenTagRegString(RAW);\r\nconst RAW_CLOSE = GetCloseTagRegString(RAW);\r\n\r\nconst BLOD = 'b';\r\nconst BLOD_OPEN = GetOpenTagRegString(BLOD);\r\nconst BLOD_CLOSE = GetCloseTagRegString(BLOD);\r\n\r\nconst ITALICS = 'i';\r\nconst ITALICS_OPEN = GetOpenTagRegString(ITALICS);\r\nconst ITALICS_CLOSE = GetCloseTagRegString(ITALICS);\r\n\r\nconst WEIGHT = 'weight';\r\nconst WEIGHT_OPEN = GetOpenTagRegString(WEIGHT, NUMBER_PARAM);\r\nconst WEIGHT_CLOSE = GetCloseTagRegString(WEIGHT);\r\n\r\nconst SIZE = 'size';\r\nconst SIZE_OPEN = GetOpenTagRegString(SIZE, NUMBER_PARAM);\r\nconst SIZE_CLOSE = GetCloseTagRegString(SIZE);\r\n\r\nconst COLOR = 'color';\r\nconst COLOR_OPEN = GetOpenTagRegString(COLOR, COLOR_PARAM);\r\nconst COLOR_CLOSE = GetCloseTagRegString(COLOR);\r\n\r\nconst UNDERLINE = 'u';\r\nconst UNDERLINE_OPEN = GetOpenTagRegString(UNDERLINE);\r\nconst UNDERLINE_OPENC = GetOpenTagRegString(UNDERLINE, COLOR_PARAM);\r\nconst UNDERLINE_CLOSE = GetCloseTagRegString(UNDERLINE);\r\n\r\nconst SHADOW = 'shadow';\r\nconst SHADOW_OPEN = GetOpenTagRegString(SHADOW);\r\nconst SHADOW_CLOSE = GetCloseTagRegString(SHADOW);\r\n\r\nconst STROKE = 'stroke';\r\nconst STROKE_OPEN = GetOpenTagRegString(STROKE);\r\nconst STROKE_OPENC = GetOpenTagRegString(STROKE, COLOR_PARAM);\r\nconst STROKE_CLOSE = GetCloseTagRegString(STROKE);\r\n\r\nconst OFFSETY = 'y';\r\nconst OFFSETY_OPEN = GetOpenTagRegString(OFFSETY, NUMBER_PARAM);\r\nconst OFFSETY_CLOSE = GetCloseTagRegString(OFFSETY);\r\n\r\nconst IMAGE = 'img';\r\nconst IMAGE_OPEN = GetOpenTagRegString(IMAGE, STR_PARAM);\r\nconst IMAGE_CLOSE = GetCloseTagRegString(IMAGE);\r\n\r\nconst AREA = 'area';\r\nconst AREA_OPEN = GetOpenTagRegString(AREA, STR_PARAM);\r\nconst AREA_CLOSE = GetCloseTagRegString(AREA);\r\n\r\nconst ALIGN = 'align';\r\nconst ALIGN_OPEN = GetOpenTagRegString(ALIGN, STR_PARAM);\r\nconst ALIGN_CLOSE = GetCloseTagRegString(ALIGN);\r\n\r\n\r\nconst RE_ESC_OPEN = new RegExp(ESC_OPEN, 'i');\r\nconst RE_ESC_CLOSE = new RegExp(ESC_CLOSE, 'i');\r\n\r\nconst RE_RAW_OPEN = new RegExp(RAW_OPEN, 'i');\r\nconst RE_RAW_CLOSE = new RegExp(RAW_CLOSE, 'i');\r\n\r\nconst RE_BLOD_OPEN = new RegExp(BLOD_OPEN, 'i');\r\nconst RE_BLOD_CLOSE = new RegExp(BLOD_CLOSE, 'i');\r\n\r\nconst RE_ITALICS_OPEN = new RegExp(ITALICS_OPEN, 'i');\r\nconst RE_ITALICS_CLOSE = new RegExp(ITALICS_CLOSE, 'i');\r\n\r\nconst RE_WEIGHT_OPEN = new RegExp(WEIGHT_OPEN, 'i');\r\nconst RE_WEIGHT_CLOSE = new RegExp(WEIGHT_CLOSE, 'i');\r\n\r\nconst RE_SIZE_OPEN = new RegExp(SIZE_OPEN, 'i');\r\nconst RE_SIZE_CLOSE = new RegExp(SIZE_CLOSE, 'i');\r\n\r\nconst RE_COLOR_OPEN = new RegExp(COLOR_OPEN, 'i');\r\nconst RE_COLOR_CLOSE = new RegExp(COLOR_CLOSE, 'i');\r\n\r\nconst RE_UNDERLINE_OPEN = new RegExp(UNDERLINE_OPEN, 'i');\r\nconst RE_UNDERLINE_OPENC = new RegExp(UNDERLINE_OPENC, 'i');\r\nconst RE_UNDERLINE_CLOSE = new RegExp(UNDERLINE_CLOSE, 'i');\r\n\r\nconst RE_SHADOW_OPEN = new RegExp(SHADOW_OPEN, 'i');\r\nconst RE_SHADOW_CLOSE = new RegExp(SHADOW_CLOSE, 'i');\r\n\r\nconst RE_STROKE_OPEN = new RegExp(STROKE_OPEN, 'i');\r\nconst RE_STROKE_OPENC = new RegExp(STROKE_OPENC, 'i');\r\nconst RE_STROKE_CLOSE = new RegExp(STROKE_CLOSE, 'i');\r\n\r\nconst RE_OFFSETY_OPEN = new RegExp(OFFSETY_OPEN, 'i');\r\nconst RE_OFFSETY_CLOSE = new RegExp(OFFSETY_CLOSE, 'i');\r\n\r\nconst RE_IMAGE_OPEN = new RegExp(IMAGE_OPEN, 'i');\r\nconst RE_IMAGE_CLOSE = new RegExp(IMAGE_CLOSE, 'i');\r\n\r\nconst RE_AREA_OPEN = new RegExp(AREA_OPEN, 'i')\r\nconst RE_AREA_CLOSE = new RegExp(AREA_CLOSE, 'i');\r\n\r\nconst RE_ALIGN_OPEN = new RegExp(ALIGN_OPEN, 'i')\r\nconst RE_ALIGN_CLOSE = new RegExp(ALIGN_CLOSE, 'i');\r\n\r\nconst RE_SPLITTEXT = new RegExp([\r\n    RAW_OPEN, RAW_CLOSE,\r\n    ESC_OPEN, ESC_CLOSE,\r\n\r\n    BLOD_OPEN, BLOD_CLOSE,\r\n    ITALICS_OPEN, ITALICS_CLOSE,\r\n    WEIGHT_OPEN, WEIGHT_CLOSE,\r\n\r\n    SIZE_OPEN, SIZE_CLOSE,\r\n    COLOR_OPEN, COLOR_CLOSE,\r\n    UNDERLINE_OPEN, UNDERLINE_OPENC, UNDERLINE_CLOSE,\r\n    SHADOW_OPEN, SHADOW_CLOSE,\r\n    STROKE_OPEN, STROKE_OPENC, STROKE_CLOSE,\r\n    OFFSETY_OPEN, OFFSETY_CLOSE,\r\n    IMAGE_OPEN, IMAGE_CLOSE,\r\n    AREA_OPEN, AREA_CLOSE,\r\n    ALIGN_OPEN, ALIGN_CLOSE\r\n].join('|'), 'ig');\r\n\r\n\r\nexport {\r\n    RE_ESC_OPEN, RE_ESC_CLOSE,\r\n    RE_RAW_OPEN, RE_RAW_CLOSE,\r\n\r\n    RE_BLOD_OPEN, RE_BLOD_CLOSE,\r\n    RE_ITALICS_OPEN, RE_ITALICS_CLOSE,\r\n    RE_WEIGHT_OPEN, RE_WEIGHT_CLOSE,\r\n\r\n    RE_SIZE_OPEN, RE_SIZE_CLOSE,\r\n    RE_COLOR_OPEN, RE_COLOR_CLOSE,\r\n    RE_UNDERLINE_OPEN, RE_UNDERLINE_OPENC, RE_UNDERLINE_CLOSE,\r\n    RE_SHADOW_OPEN, RE_SHADOW_CLOSE,\r\n    RE_STROKE_OPEN, RE_STROKE_OPENC, RE_STROKE_CLOSE,\r\n    RE_OFFSETY_OPEN, RE_OFFSETY_CLOSE,\r\n    RE_IMAGE_OPEN, RE_IMAGE_CLOSE,\r\n    RE_AREA_OPEN, RE_AREA_CLOSE,\r\n    RE_ALIGN_OPEN, RE_ALIGN_CLOSE,\r\n\r\n    RE_SPLITTEXT,\r\n\r\n    GetOpenTagRegString, GetCloseTagRegString,\r\n    NUMBER_PARAM, COLOR_PARAM, STR_PARAM\r\n}","import {\r\n    RE_SPLITTEXT,\r\n    RE_ESC_OPEN, RE_ESC_CLOSE,\r\n    RE_RAW_OPEN, RE_RAW_CLOSE,\r\n} from './tags.js';\r\n\r\nvar SplitText = function (text, mode) {\r\n    var result = [];\r\n    var charIdx = 0;\r\n    var rawMode = false,\r\n        escMode = false;\r\n    while (true) {\r\n        var regexResult = RE_SPLITTEXT.exec(text);\r\n        if (!regexResult) {\r\n            break;\r\n        }\r\n\r\n        var match = regexResult[0];\r\n        if (escMode) {\r\n            if (RE_ESC_CLOSE.test(match)) {\r\n                escMode = false;\r\n            } else {\r\n                continue; // Skip other tags\r\n            }\r\n\r\n        } else if (rawMode) {\r\n            if (RE_RAW_CLOSE.test(match)) {\r\n                rawMode = false;\r\n            } else {\r\n                continue; // Skip other tags\r\n            }\r\n\r\n        } else {\r\n            if (RE_ESC_OPEN.test(match)) {\r\n                escMode = true;\r\n            } else if (RE_RAW_OPEN.test(match)) {\r\n                rawMode = true;\r\n            }\r\n        }\r\n\r\n        var matchEnd = RE_SPLITTEXT.lastIndex;\r\n        var matchStart = matchEnd - match.length;\r\n\r\n        if (charIdx < matchStart) {\r\n            var content = text.substring(charIdx, matchStart);\r\n            result.push(content);\r\n        }\r\n\r\n        if (mode === undefined) {\r\n            result.push(match);\r\n        }\r\n\r\n        charIdx = matchEnd;\r\n    }\r\n\r\n    var totalLen = text.length;\r\n    if (charIdx < totalLen) { // Push remainder string\r\n        result.push(text.substring(charIdx, totalLen));\r\n    }\r\n\r\n    return result; // [text,...]\r\n}\r\n\r\nexport default SplitText;","import {\r\n    RE_ESC_OPEN, RE_ESC_CLOSE,\r\n    RE_RAW_OPEN, RE_RAW_CLOSE,\r\n\r\n    RE_BLOD_OPEN, RE_BLOD_CLOSE,\r\n    RE_ITALICS_OPEN, RE_ITALICS_CLOSE,\r\n    RE_WEIGHT_OPEN, RE_WEIGHT_CLOSE,\r\n\r\n    RE_SIZE_OPEN, RE_SIZE_CLOSE,\r\n    RE_COLOR_OPEN, RE_COLOR_CLOSE,\r\n    RE_UNDERLINE_OPEN, RE_UNDERLINE_OPENC, RE_UNDERLINE_CLOSE,\r\n    RE_SHADOW_OPEN, RE_SHADOW_CLOSE,\r\n    RE_STROKE_OPEN, RE_STROKE_OPENC, RE_STROKE_CLOSE,\r\n    RE_OFFSETY_OPEN, RE_OFFSETY_CLOSE,\r\n    RE_IMAGE_OPEN, RE_IMAGE_CLOSE,\r\n    RE_AREA_OPEN, RE_AREA_CLOSE,\r\n    RE_ALIGN_OPEN, RE_ALIGN_CLOSE\r\n} from './tags.js';\r\n\r\nconst PROP_REMOVE = false;\r\nconst PROP_ADD = true;\r\n\r\nvar GETPROP_RESULT = {\r\n    plainText: null,\r\n    prevProp: null\r\n};\r\n\r\nvar TagTextToProp = function (text, prevProp) {\r\n    // text : result of splitText()\r\n    if (prevProp == null) {\r\n        prevProp = {};\r\n    }\r\n\r\n    var plainText = '';\r\n\r\n    // close image tag\r\n    if (prevProp.img) {\r\n        UpdateProp(prevProp, PROP_REMOVE, 'img');\r\n    }\r\n\r\n    if (prevProp.esc) {\r\n        if (RE_ESC_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'esc');\r\n        } else {\r\n            plainText = text;\r\n        }\r\n\r\n    } else if (prevProp.raw) {\r\n        if (RE_RAW_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'raw');\r\n        } else {\r\n            plainText = text;\r\n        }\r\n\r\n    } else {\r\n        if (RE_ESC_OPEN.test(text)) {\r\n            UpdateProp(prevProp, PROP_ADD, 'esc', true);\r\n        } else if (RE_ESC_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'esc');\r\n\r\n        } else if (RE_RAW_OPEN.test(text)) {\r\n            UpdateProp(prevProp, PROP_ADD, 'raw', true);\r\n        } else if (RE_RAW_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'raw');\r\n\r\n        } else if (RE_BLOD_OPEN.test(text)) {\r\n            UpdateProp(prevProp, PROP_ADD, 'b', true);\r\n        } else if (RE_BLOD_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'b');\r\n\r\n        } else if (RE_ITALICS_OPEN.test(text)) {\r\n            UpdateProp(prevProp, PROP_ADD, 'i', true);\r\n        } else if (RE_ITALICS_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'i');\r\n\r\n        } else if (RE_WEIGHT_OPEN.test(text)) {\r\n            var innerMatch = text.match(RE_WEIGHT_OPEN);\r\n            UpdateProp(prevProp, PROP_ADD, 'weight', innerMatch[1]);\r\n        } else if (RE_WEIGHT_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'weight');\r\n\r\n        } else if (RE_SIZE_OPEN.test(text)) {\r\n            var innerMatch = text.match(RE_SIZE_OPEN);\r\n            UpdateProp(prevProp, PROP_ADD, 'size', `${innerMatch[1]}px`);\r\n        } else if (RE_SIZE_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'size');\r\n\r\n        } else if (RE_COLOR_OPEN.test(text)) {\r\n            var innerMatch = text.match(RE_COLOR_OPEN);\r\n            UpdateProp(prevProp, PROP_ADD, 'color', innerMatch[1]);\r\n        } else if (RE_COLOR_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'color');\r\n\r\n        } else if (RE_UNDERLINE_OPEN.test(text)) {\r\n            UpdateProp(prevProp, PROP_ADD, 'u', true);\r\n        } else if (RE_UNDERLINE_OPENC.test(text)) {\r\n            var innerMatch = text.match(RE_UNDERLINE_OPENC);\r\n            UpdateProp(prevProp, PROP_ADD, 'u', innerMatch[1]);\r\n        } else if (RE_UNDERLINE_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'u');\r\n\r\n        } else if (RE_SHADOW_OPEN.test(text)) {\r\n            UpdateProp(prevProp, PROP_ADD, 'shadow', true);\r\n        } else if (RE_SHADOW_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'shadow');\r\n\r\n        } else if (RE_STROKE_OPEN.test(text)) {\r\n            UpdateProp(prevProp, PROP_ADD, 'stroke', true);\r\n        } else if (RE_STROKE_OPENC.test(text)) {\r\n            var innerMatch = text.match(RE_STROKE_OPENC);\r\n            UpdateProp(prevProp, PROP_ADD, 'stroke', innerMatch[1]);\r\n        } else if (RE_STROKE_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'stroke');\r\n\r\n        } else if (RE_OFFSETY_OPEN.test(text)) {\r\n            var innerMatch = text.match(RE_OFFSETY_OPEN);\r\n            UpdateProp(prevProp, PROP_ADD, 'y', parseFloat(innerMatch[1]));\r\n        } else if (RE_OFFSETY_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'y');\r\n\r\n        } else if (RE_IMAGE_OPEN.test(text)) {\r\n            var innerMatch = text.match(RE_IMAGE_OPEN);\r\n            UpdateProp(prevProp, PROP_ADD, 'img', innerMatch[1]);\r\n        } else if (RE_IMAGE_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'img');\r\n\r\n        } else if (RE_AREA_OPEN.test(text)) {\r\n            var innerMatch = text.match(RE_AREA_OPEN);\r\n            UpdateProp(prevProp, PROP_ADD, 'area', innerMatch[1]);\r\n        } else if (RE_AREA_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'area');\r\n\r\n        } else if (RE_ALIGN_OPEN.test(text)) {\r\n            var innerMatch = text.match(RE_ALIGN_OPEN);\r\n            UpdateProp(prevProp, PROP_ADD, 'align', innerMatch[1]);\r\n        } else if (RE_ALIGN_CLOSE.test(text)) {\r\n            UpdateProp(prevProp, PROP_REMOVE, 'align');\r\n\r\n        } else {\r\n            plainText = text;\r\n        }\r\n    }\r\n\r\n    var result = GETPROP_RESULT;\r\n    result.plainText = plainText;\r\n    result.prop = prevProp;\r\n    return result;\r\n}\r\n\r\nvar UpdateProp = function (prop, op, key, value) {\r\n    if (op === PROP_ADD) {\r\n        // PROP_ADD     \r\n        prop[key] = value;\r\n    } else {\r\n        // PROP_REMOVE        \r\n        if (prop.hasOwnProperty(key)) {\r\n            delete prop[key];\r\n        }\r\n    }\r\n\r\n    return prop;\r\n};\r\n\r\nexport default TagTextToProp;","import TextStyle from '../../textbase/textstyle/TextStyle.js';\r\n\r\nvar PropToContextStyle = function (defaultStyle, prop) {\r\n    var result = STYLE_RESULT;\r\n    if (!prop.hasOwnProperty('img')) {\r\n        result.image = null;\r\n\r\n        if (prop.hasOwnProperty('family')) {\r\n            result.fontFamily = prop.family;\r\n        } else {\r\n            result.fontFamily = defaultStyle.fontFamily;\r\n        }\r\n\r\n        if (prop.hasOwnProperty('size')) {\r\n            var size = prop.size;\r\n            if (typeof (size) === 'number') {\r\n                size = `${size}px`;\r\n            }\r\n            result.fontSize = size;\r\n        } else {\r\n            result.fontSize = defaultStyle.fontSize;\r\n        }\r\n        result.fontStyle = GetFontStyle(prop);\r\n\r\n        if (prop.hasOwnProperty('color')) {\r\n            result.color = prop.color;\r\n        } else {\r\n            result.color = defaultStyle.color;\r\n        }\r\n\r\n        if (prop.hasOwnProperty('stroke')) {\r\n            if (prop.stroke === true) {\r\n                result.stroke = defaultStyle.stroke;\r\n                result.strokeThickness = defaultStyle.strokeThickness;\r\n            } else {\r\n                result.stroke = prop.stroke;\r\n                result.strokeThickness = defaultStyle.strokeThickness;\r\n            }\r\n        } else {\r\n            result.stroke = defaultStyle.stroke;\r\n            result.strokeThickness = 0;\r\n        }\r\n    } else {\r\n        result.image = prop.img;\r\n    }\r\n\r\n    if (prop.hasOwnProperty('shadow')) {\r\n        if (prop.shadow === true) {\r\n            result.shadowColor = defaultStyle.shadowColor;\r\n            result.shadowOffsetX = defaultStyle.shadowOffsetX;\r\n            result.shadowOffsetY = defaultStyle.shadowOffsetY;\r\n            result.shadowBlur = defaultStyle.shadowBlur;\r\n            result.shadowStroke = true;\r\n            result.shadowFill = true;\r\n        } else {\r\n            result.shadowColor = prop.shadow;\r\n            result.shadowOffsetX = defaultStyle.shadowOffsetX;\r\n            result.shadowOffsetY = defaultStyle.shadowOffsetY;\r\n            result.shadowBlur = defaultStyle.shadowBlur;\r\n            result.shadowStroke = true;\r\n            result.shadowFill = true;\r\n        }\r\n    } else {\r\n        result.shadowColor = '#000';\r\n        result.shadowOffsetX = 0;\r\n        result.shadowOffsetY = 0;\r\n        result.shadowBlur = 0;\r\n        result.shadowStroke = false;\r\n        result.shadowFill = false;\r\n    }\r\n\r\n    if (prop.hasOwnProperty('u')) {\r\n        if (prop.u === true) {\r\n            result.underlineColor = defaultStyle.underlineColor;\r\n            result.underlineThickness = defaultStyle.underlineThickness;\r\n            result.underlineOffset = defaultStyle.underlineOffset;\r\n        } else {\r\n            result.underlineColor = prop.u;\r\n            result.underlineThickness = defaultStyle.underlineThickness;\r\n            result.underlineOffset = defaultStyle.underlineOffset;\r\n        }\r\n    } else {\r\n        result.underlineColor = '#000';\r\n        result.underlineThickness = 0;\r\n        result.underlineOffset = 0;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nvar GetFontStyle = function (prop) {\r\n    var isBold = prop.b;\r\n    var weight = prop.weight;\r\n    var isItalic = prop.i;\r\n\r\n    if (isBold || weight || isItalic) {\r\n        if (isItalic) {\r\n            if (isBold) {\r\n                return 'bold italic';\r\n            } else if (weight) {\r\n                return `${weight} italic`;\r\n            } else {\r\n                return 'italic';\r\n            }\r\n        } else {  // !isItalic\r\n            if (isBold) {\r\n                return 'bold';\r\n            } else {\r\n                return weight.toString();\r\n            }\r\n        }\r\n    } else {\r\n        return '';\r\n    }\r\n};\r\n\r\n\r\nvar STYLE_RESULT = new TextStyle();\r\n\r\nexport default PropToContextStyle;","var PropToTagText = function (text, prop, prevProp) {\r\n    if (prevProp == null) {\r\n        prevProp = EMPTYPROP;\r\n    }\r\n\r\n    var headers = [];\r\n\r\n    for (var k in prevProp) {\r\n        if (!prop.hasOwnProperty(k)) {\r\n            headers.push(`[/${k}]`);\r\n        }\r\n    }\r\n\r\n    for (var k in prop) {\r\n        var value = prop[k];\r\n\r\n        if (prevProp[k] === value) {\r\n            continue;\r\n        }\r\n\r\n        switch (k) {\r\n            case 'size':\r\n                headers.push(`[size=${value.replace('px', '')}]`);\r\n                break;\r\n\r\n            case 'color':\r\n            case 'weight':\r\n            case 'stroke':\r\n            case 'y':\r\n            case 'img':\r\n            case 'area':\r\n            case 'align':\r\n                headers.push(`[${k}=${value}]`);\r\n                break;\r\n\r\n            case 'u':\r\n                if (value === true) {\r\n                    headers.push('[u]');\r\n                } else {\r\n                    headers.push(`[u=${value}]`)\r\n                }\r\n                break;\r\n\r\n            default:\r\n                headers.push(`[${k}]`);\r\n                break;\r\n        }\r\n    }\r\n\r\n    headers.push(text);\r\n\r\n    return headers.join('');\r\n}\r\n\r\nvar EMPTYPROP = {};\r\n\r\n\r\nexport default PropToTagText;","import SplitText from './SplitText.js';\r\nimport TagTextToProp from './TagTextToProp.js';\r\nimport PropToContextStyle from './PropToContextStyle.js'\r\nimport PropToTagText from './PropToTagText.js';\r\n\r\nclass Parser {\r\n    getStrokeThinkness(defaultStyle, prop) {\r\n        var strokeThickness;\r\n        if (prop.hasOwnProperty('stroke')) {\r\n            strokeThickness = defaultStyle.strokeThickness;\r\n        } else {\r\n            strokeThickness = 0;\r\n        }\r\n        return strokeThickness;\r\n    }\r\n\r\n}\r\n\r\nvar methods = {\r\n    splitText: SplitText,\r\n    tagTextToProp: TagTextToProp,\r\n    propToContextStyle: PropToContextStyle,\r\n    propToTagText: PropToTagText,\r\n}\r\n\r\nObject.assign(\r\n    Parser.prototype,\r\n    methods\r\n);\r\n\r\nexport default Parser;","import TextStyle from '../textbase/textstyle/TextStyle.js';\r\n\r\nvar GETPROP_RESULT = {\r\n    plainText: null,\r\n    prevProp: null\r\n};\r\n\r\nvar STYLE_RESULT = new TextStyle();\r\n\r\nclass Parser {\r\n    constructor(tags) {\r\n        if (tags === undefined) {\r\n            tags = {};\r\n        }\r\n        this.tags = tags;\r\n    }\r\n\r\n    addTag(name, prop) {\r\n        this.tags[name] = prop;\r\n    }\r\n\r\n    getTag(name) {\r\n        return this.tags[name];\r\n    }\r\n\r\n    splitText(text, mode) {\r\n        var result = [];\r\n        var charIdx = 0;\r\n        while (true) {\r\n            var regexResult = RE_SPLITTEXT.exec(text);\r\n            if (!regexResult) {\r\n                break;\r\n            }\r\n\r\n            var match = regexResult[0];\r\n            var matchStart = RE_SPLITTEXT.lastIndex - match.length;\r\n\r\n            if (charIdx < matchStart) {\r\n                result.push(text.substring(charIdx, matchStart));\r\n            }\r\n            if (mode === undefined) {\r\n                result.push(match);\r\n            } else if (mode === 1) { // RAWTEXTONLY_MODE\r\n                if (RE_CLASS_HEADER.test(match)) {\r\n                    var innerMatch = match.match(RE_CLASS);\r\n                    result.push(innerMatch[2]);\r\n                } else if (RE_STYLE_HEADER.test(match)) {\r\n                    var innerMatch = match.match(RE_STYLE);\r\n                    result.push(innerMatch[2]);\r\n                }\r\n            }\r\n\r\n            charIdx = RE_SPLITTEXT.lastIndex;\r\n        }\r\n\r\n        var totalLen = text.length;\r\n        if (charIdx < totalLen) {  // Push remainder string\r\n            result.push(text.substring(charIdx, totalLen));\r\n        }\r\n\r\n        return result; // [text,...]         \r\n    }\r\n\r\n    tagTextToProp(text, prevProp) {\r\n        var plainText, propOut;\r\n        if (RE_CLASS_HEADER.test(text)) {\r\n            var innerMatch = text.match(RE_CLASS);\r\n            if (innerMatch != null) {\r\n                var name = innerMatch[1];\r\n                var tags = this.tags;\r\n                if (tags.hasOwnProperty(name)) {\r\n                    propOut = tags[name];\r\n                } else {\r\n                    propOut = {};\r\n                }\r\n                propOut._class = name;\r\n                plainText = innerMatch[2];\r\n            }\r\n        } else if (RE_STYLE_HEADER.test(text)) {\r\n            var innerMatch = text.match(RE_STYLE);\r\n            if (innerMatch != null) {\r\n                var style = innerMatch[1];\r\n                propOut = StyleToProp(style);\r\n                propOut._style = style;\r\n                plainText = innerMatch[2];\r\n            }\r\n        }\r\n\r\n        if (plainText == null) {\r\n            plainText = text;\r\n        }\r\n\r\n        if (propOut == null) {\r\n            propOut = {};\r\n        }\r\n\r\n        var result = GETPROP_RESULT;\r\n        result.plainText = plainText;\r\n        result.prop = propOut;\r\n        return result;\r\n    }\r\n\r\n    propToContextStyle(defaultStyle, prop) {\r\n        var result = STYLE_RESULT;\r\n        if (!prop.hasOwnProperty('img')) {\r\n            result.image = null;\r\n\r\n            if (prop.hasOwnProperty('family') || prop.hasOwnProperty('fontFamily') || prop.hasOwnProperty('font-family')) {\r\n                var family = (prop.hasOwnProperty('family')) ? prop.family :\r\n                    (prop.hasOwnProperty('fontFamily')) ? prop.fontFamily :\r\n                        prop['font-family'];\r\n                result.fontFamily = family;\r\n            } else {\r\n                result.fontFamily = defaultStyle.fontFamily;\r\n            }\r\n\r\n            if (prop.hasOwnProperty('size') || prop.hasOwnProperty('fontSize') || prop.hasOwnProperty('font-size')) {\r\n                var size = (prop.hasOwnProperty('size')) ? prop.size :\r\n                    (prop.hasOwnProperty('fontSize')) ? prop.fontSize :\r\n                        prop['font-size'];\r\n                if (typeof (size) === 'number') {\r\n                    size = `${size}px`;\r\n                }\r\n                result.fontSize = size;\r\n            } else {\r\n                result.fontSize = defaultStyle.fontSize;\r\n            }\r\n\r\n            if (prop.hasOwnProperty('style') || prop.hasOwnProperty('fontStyle') || prop.hasOwnProperty('font-style')) {\r\n                var fontStyle = (prop.hasOwnProperty('style')) ? prop.style :\r\n                    (prop.hasOwnProperty('fontStyle')) ? prop.fontStyle :\r\n                        prop['font-style'];\r\n                result.fontStyle = fontStyle;\r\n            } else {\r\n                result.fontStyle = defaultStyle.fontStyle;\r\n            }\r\n\r\n            if (prop.hasOwnProperty('color') || prop.hasOwnProperty('font-color')) {\r\n                var color = (prop.hasOwnProperty('color')) ? prop.color : prop['font-color'];\r\n                result.color = color;\r\n            } else {\r\n                result.color = defaultStyle.color;\r\n            }\r\n\r\n            if (prop.hasOwnProperty('stroke')) {\r\n                var stroke = prop.stroke; // {color, thickness}\r\n                result.stroke = (stroke.hasOwnProperty('color')) ? stroke.color : defaultStyle.stroke;\r\n                result.strokeThickness = (stroke.hasOwnProperty('thickness')) ? stroke.thickness : defaultStyle.strokeThickness;\r\n            } else {\r\n                result.stroke = defaultStyle.stroke;\r\n                result.strokeThickness = defaultStyle.strokeThickness;\r\n            }\r\n        } else {\r\n            result.image = prop.img;\r\n        }\r\n\r\n        if (prop.hasOwnProperty('shadow')) {\r\n            var shadow = prop.shadow; // {color, offsetX, offsetY, blur}\r\n            result.shadowColor = (shadow.hasOwnProperty('color')) ? shadow.color : defaultStyle.shadowColor;\r\n            result.shadowOffsetX = (shadow.hasOwnProperty('offsetX')) ? shadow.offsetX : defaultStyle.shadowOffsetX;\r\n            result.shadowOffsetY = (shadow.hasOwnProperty('offsetY')) ? shadow.offsetY : defaultStyle.shadowOffsetY;\r\n            result.shadowBlur = (shadow.hasOwnProperty('blur')) ? shadow.blur : defaultStyle.shadowBlur;\r\n            result.shadowStroke = true;\r\n            result.shadowFill = true;\r\n        } else {\r\n            result.shadowColor = defaultStyle.shadowColor;\r\n            result.shadowOffsetX = defaultStyle.shadowOffsetX;\r\n            result.shadowOffsetY = defaultStyle.shadowOffsetY;\r\n            result.shadowBlur = defaultStyle.shadowBlur;\r\n            result.shadowStroke = defaultStyle.shadowStroke;\r\n            result.shadowFill = defaultStyle.shadowFill;\r\n        }\r\n\r\n        if (prop.hasOwnProperty('u') || prop.hasOwnProperty('underline')) {\r\n            var u = (prop.hasOwnProperty('u')) ? prop.u : prop.underline; // {color, thickness, offset}\r\n            result.underlineColor = (u.hasOwnProperty('color')) ? u.color : defaultStyle.underlineColor;\r\n            result.underlineThickness = (u.hasOwnProperty('thickness')) ? u.thickness : defaultStyle.underlineThickness;\r\n            result.underlineOffset = (u.hasOwnProperty('offset')) ? u.offset : defaultStyle.underlineOffset;\r\n        } else {\r\n            result.underlineColor = defaultStyle.underlineColor;\r\n            result.underlineThickness = defaultStyle.underlineThickness;\r\n            result.underlineOffset = defaultStyle.underlineOffset;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    getStrokeThinkness(defaultStyle, prop) {\r\n        var strokeThinkness;\r\n        if (prop.hasOwnProperty('stroke')) {\r\n            var stroke = prop.stroke; // {color, thickness}           \r\n            strokeThinkness = (stroke.hasOwnProperty('thickness')) ? stroke.thickness : defaultStyle.strokeThickness;\r\n        } else {\r\n            strokeThinkness = defaultStyle.strokeThickness;\r\n        }\r\n        return strokeThinkness;\r\n    }\r\n\r\n    propToTagText(text, prop, prevProp) {\r\n        if (prop.hasOwnProperty('_class')) { // class mode\r\n            if (text === '') {\r\n                if (this.isTextTag(prop._class)) {\r\n                    return '';\r\n                }\r\n            }\r\n            return `<class='${prop._class}'>${text}</class>`;\r\n        } else if (prop.hasOwnProperty('_style')) { // class mode\r\n            return `<style='${prop._style}'>${text}</style>`;\r\n        } else {\r\n            return text;\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        this.tags = undefined;\r\n    }\r\n\r\n    isTextTag(tagName) {\r\n        var tag = this.tags[tagName];\r\n        if (tag) {\r\n            return (tag.img == null);\r\n        } else { // tag not found\r\n            return false;\r\n        }\r\n    }\r\n};\r\n\r\nvar StyleToProp = function (s) {\r\n    s = s.split(\";\");\r\n\r\n    var result = {},\r\n        prop, k, v;\r\n    for (var i = 0, slen = s.length; i < slen; i++) {\r\n        prop = s[i].split(\":\");\r\n        k = prop[0], v = prop[1];\r\n        if (isEmpty(k) || isEmpty(v)) {\r\n            continue;\r\n        }\r\n\r\n        switch (k) {\r\n            case 'stroke':\r\n                var stroke = v.split(' '); // stroke:blue 1px\r\n                var len = stroke.length;\r\n                v = {};\r\n                if (len >= 1) {\r\n                    v.color = stroke[0];\r\n                }\r\n                if (len >= 2) {\r\n                    v.thickness = parseInt(stroke[1].replace('px', ''));\r\n                }\r\n                break;\r\n\r\n            case 'shadow':\r\n                var shadow = v.split(' '); // shadow:blue 2px 2px 2px\r\n                var len = shadow.length;\r\n                v = {};\r\n                if (len >= 1) {\r\n                    v.color = shadow[0];\r\n                }\r\n                if (len >= 2) {\r\n                    v.offsetX = parseInt(shadow[1].replace('px', ''));\r\n                }\r\n                if (len >= 3) {\r\n                    v.offsetY = parseInt(shadow[2].replace('px', ''));\r\n                }\r\n                if (len >= 4) {\r\n                    v.blur = parseInt(shadow[3].replace('px', ''));\r\n                }\r\n                break;\r\n\r\n            case 'u':\r\n            case 'underline': // underline:blue 3px -1px\r\n                var u = v.split(' ');\r\n                var len = u.length;\r\n                v = {};\r\n                if (len >= 1) {\r\n                    v.color = u[0];\r\n                }\r\n                if (len >= 2) {\r\n                    v.thickness = parseInt(u[1].replace('px', ''));\r\n                }\r\n                if (len >= 3) {\r\n                    v.offset = parseInt(u[2].replace('px', ''));\r\n                }\r\n                break;\r\n\r\n            case 'y':\r\n                v = parseFloat(v);\r\n                break;\r\n        }\r\n        result[k] = v;\r\n    }\r\n    return result;\r\n};\r\n\r\nvar isEmpty = function (s) {\r\n    // Remove white spaces.\r\n    s = s.replace(RE_SPACE, '');\r\n    return (s.length === 0);\r\n};\r\n\r\nvar RE_SPLITTEXT = /<\\s*class=[\"|']([^\"|']+)[\"|']\\s*\\>([\\s\\S]*?)<\\s*\\/class\\s*\\>|<\\s*style=[\"|']([^\"|']+)[\"|']\\s*\\>([\\s\\S]*?)<\\s*\\/style\\s*\\>/g;\r\nvar RE_CLASS_HEADER = /<\\s*class=/i;\r\nvar RE_CLASS = /<\\s*class=[\"|']([^\"|']+)[\"|']\\s*\\>([\\s\\S]*?)<\\s*\\/class\\s*\\>/;\r\nvar RE_STYLE_HEADER = /<\\s*style=/i;\r\nvar RE_STYLE = /<\\s*style=[\"|']([^\"|']+)[\"|']\\s*\\>([\\s\\S]*?)<\\s*\\/style\\s*\\>/;\r\nvar RE_SPACE = /^\\s+|\\s+$/;\r\n\r\nexport default Parser;","import Text from '../textbase/Text.js';\r\nimport ParserKlass from './Parser.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass TagText extends Text {\r\n    constructor(scene, x, y, text, style) {\r\n        var tags = GetValue(style, 'tags', undefined);\r\n        var parser = new ParserKlass(tags);\r\n        super(scene, x, y, text, style, 'rexTagText', parser);\r\n    }\r\n\r\n    addTag(name, prop) {\r\n        this.parser.addTag(name, prop);\r\n        return this.updateText(true);\r\n    }\r\n\r\n    addTags(tags) {\r\n        for (var name in tags) {\r\n            this.parser.addTag(name, tags[name]);\r\n        }\r\n        return this.updateText(true);\r\n    }\r\n\r\n    getTag(name) {\r\n        return this.parser.getTag(name);\r\n    }\r\n\r\n    preDestroy() {\r\n        super.preDestroy();\r\n        this.parser.destroy();\r\n        this.parser = undefined;\r\n    }\r\n}\r\n\r\nexport default TagText;","var Resize = function (width, height) {\r\n    if (this.scene.sys.scale.autoRound) {\r\n        width = Math.floor(width);\r\n        height = Math.floor(height);\r\n    }\r\n\r\n    if ((this.width === width) && (this.height === height)) {\r\n        return this;\r\n    }\r\n\r\n    var style = this.node.style;\r\n    style.width = `${width}px`;\r\n    style.height = `${height}px`;\r\n    this.updateSize();\r\n    return this;\r\n}\r\n\r\nexport default Resize;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar SetProperties = function (properties, config, out) {\r\n    if (out === undefined) {\r\n        out = {};\r\n    }\r\n\r\n    var property, value;\r\n    for (var key in properties) {\r\n        property = properties[key];  // [propName, defaultValue]\r\n        value = GetValue(config, key, property[1]);\r\n        if (value !== undefined) {\r\n            out[property[0]] = value;\r\n        }\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\nexport default SetProperties;","var RouteEvents = function (gameObject, element, elementEvents) {\r\n    for(let elementEventName in elementEvents) {  // Note: Don't use `var` here\r\n        element.addEventListener(elementEventName, function (e) {\r\n            gameObject.emit(elementEvents[elementEventName], gameObject, e);\r\n        });\r\n    }\r\n}\r\n\r\nexport default RouteEvents;","var StopPropagationTouchEvents = function (element) {\r\n    // Don't propagate touch/mouse events to parent(game canvas)\r\n    element.addEventListener('touchstart', callback, false);\r\n    element.addEventListener('touchmove', callback, false);\r\n    element.addEventListener('touchend', callback, false);\r\n    element.addEventListener('mousedown', callback, false);\r\n    element.addEventListener('mouseup', callback, false);\r\n    element.addEventListener('mousemove', callback, false);\r\n}\r\n\r\nvar callback = function (e) {\r\n    e.stopPropagation();\r\n}\r\nexport default StopPropagationTouchEvents;","import Resize from '../utils/Resize.js';\r\nimport SetPrpoerties from '../utils/SetProperties.js';\r\nimport RouteEvents from '../utils/RouteEvents.js';\r\nimport StopPropagationTouchEvents from '../../../utils/input/StopPropagationTouchEvents.js';\r\n\r\nconst DOMElement = Phaser.GameObjects.DOMElement;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass InputText extends DOMElement {\r\n    constructor(scene, x, y, width, height, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            width = GetValue(config, 'width', 0);\r\n            height = GetValue(config, 'height', 0);\r\n        } else if (IsPlainObject(width)) {\r\n            config = width;\r\n            width = GetValue(config, 'width', 0);\r\n            height = GetValue(config, 'height', 0);\r\n        }\r\n\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        var element;\r\n        var textType = GetValue(config, 'type', 'text');\r\n        if (textType === 'textarea') {\r\n            element = document.createElement('textarea');\r\n            element.style.resize = 'none';\r\n        } else {\r\n            element = document.createElement('input');\r\n            element.type = textType;\r\n        }\r\n\r\n        SetPrpoerties(ElementProperties, config, element);\r\n\r\n        var style = GetValue(config, 'style', undefined);\r\n        style = SetPrpoerties(StyleProperties, config, style);\r\n        // Apply other style properties\r\n        var elementStyle = element.style;\r\n        for (var key in config) {\r\n            if ((key in ElementProperties) || (key in StyleProperties)) {\r\n                continue;\r\n            } else if (key in elementStyle) {\r\n                style[key] = config[key];\r\n            }\r\n        }\r\n        style['box-sizing'] = 'border-box';\r\n        super(scene, x, y, element, style);\r\n        this.type = 'rexInputText';\r\n        this.resize(width, height);\r\n\r\n        // Apply events\r\n        RouteEvents(this, element, ElementEvents);\r\n\r\n        // Don't propagate touch/mouse events to parent(game canvas)\r\n        StopPropagationTouchEvents(element);\r\n\r\n        if (GetValue(config, 'selectAll', false)) {\r\n            this.selectAll();\r\n        }\r\n\r\n        this._isFocused = false;\r\n        this\r\n            .on('focus', function () {\r\n                this._isFocused = true;\r\n            }, this)\r\n            .on('blur', function () {\r\n                this._isFocused = false;\r\n            }, this)\r\n\r\n    }\r\n\r\n    get text() {\r\n        return this.node.value;\r\n    }\r\n\r\n    set text(value) {\r\n        this.node.value = value;\r\n    }\r\n\r\n    setText(value) { // Override\r\n        this.text = value;\r\n        return this;\r\n    }\r\n\r\n    get maxLength() {\r\n        return this.node.maxLength;\r\n    }\r\n\r\n    set maxLength(value) {\r\n        this.node.maxLength = value;\r\n    }\r\n\r\n    setMaxLength(value) {\r\n        this.maxLength = value;\r\n        return this;\r\n    }\r\n\r\n    get minLength() {\r\n        return this.node.minLength;\r\n    }\r\n\r\n    set minLength(value) {\r\n        this.node.minLength = value;\r\n    }\r\n\r\n    setMinLength(value) {\r\n        this.minLength = value;\r\n        return this;\r\n    }\r\n\r\n    get placeholder() {\r\n        return this.node.placeholder;\r\n    }\r\n\r\n    set placeholder(value) {\r\n        this.node.placeholder = value;\r\n    }\r\n\r\n    setPlaceholder(value) {\r\n        this.placeholder = value;\r\n        return this;\r\n    }\r\n\r\n    selectText(selectionStart, selectionEnd) {\r\n        if (selectionStart === undefined) {\r\n            this.node.select();\r\n        } else {\r\n            this.node.setSelectionRange(selectionStart, selectionEnd);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    selectAll() {\r\n        this.selectText();\r\n        return this;\r\n    }\r\n\r\n    get selectionStart() {\r\n        return this.node.selectionStart;\r\n    }\r\n\r\n    get selectionEnd() {\r\n        return this.node.selectionEnd;\r\n    }\r\n\r\n    get selectedText() {\r\n        var node = this.node;\r\n        return node.value.substring(node.selectionStart, node.selectionEnd);\r\n    }\r\n\r\n    get cursorPosition() {\r\n        return this.node.selectionStart;\r\n    }\r\n\r\n    set cursorPosition(value) {\r\n        this.node.setSelectionRange(value, value);\r\n    }\r\n\r\n    setCursorPosition(value) {\r\n        if (value === undefined) {\r\n            value = 0;\r\n        }\r\n        this.cursorPosition = value;\r\n        return this;\r\n    }\r\n\r\n    get tooltip() {\r\n        return this.node.title;\r\n    }\r\n\r\n    set tooltip(value) {\r\n        this.node.title = value;\r\n    }\r\n\r\n    setTooltip(value) {\r\n        this.tooltip = value;\r\n        return this;\r\n    }\r\n\r\n    setTextChangedCallback(callback) {\r\n        this.onTextChanged = callback;\r\n        return this;\r\n    }\r\n\r\n    get readOnly() {\r\n        return this.node.readOnly;\r\n    }\r\n\r\n    set readOnly(value) {\r\n        this.node.readOnly = value;\r\n    }\r\n\r\n    setReadOnly(value) {\r\n        if (value === undefined) {\r\n            value = true;\r\n        }\r\n        this.readOnly = value;\r\n        return this;\r\n    }\r\n\r\n    get spellCheck() {\r\n        return this.node.spellcheck;\r\n    }\r\n\r\n    set spellCheck(value) {\r\n        this.node.spellcheck = value;\r\n    }\r\n\r\n    setSpellCheck(value) {\r\n        this.spellCheck = value;\r\n        return this;\r\n    }\r\n\r\n    get fontColor() {\r\n        return this.node.style.color;\r\n    }\r\n\r\n    set fontColor(value) {\r\n        this.node.style.color = value;\r\n    }\r\n\r\n    setFontColor(value) {\r\n        this.fontColor = value;\r\n        return this;\r\n    }\r\n\r\n    setStyle(key, value) {\r\n        this.node.style[key] = value;\r\n        return this;\r\n    }\r\n\r\n    getStyle(key) {\r\n        return this.node.style[key];\r\n    }\r\n\r\n    scrollToBottom() {\r\n        this.node.scrollTop = this.node.scrollHeight;\r\n        return this;\r\n    }\r\n\r\n    setEnabled(enabled) {\r\n        if (enabled === undefined) {\r\n            enabled = true;\r\n        }\r\n        this.node.disabled = !enabled;\r\n        return this;\r\n    }\r\n\r\n    setBlur() {\r\n        this.node.blur();\r\n        return this;\r\n    }\r\n\r\n    setFocus() {\r\n        this.node.focus();\r\n        return this;\r\n    }\r\n\r\n    get isFocused() {\r\n        return this._isFocused;\r\n    }\r\n}\r\n\r\nvar methods = {\r\n    resize: Resize\r\n}\r\n\r\nObject.assign(\r\n    InputText.prototype,\r\n    methods\r\n);\r\n\r\nconst ElementProperties = {\r\n    id: ['id', undefined],\r\n    text: ['value', undefined],\r\n    maxLength: ['maxLength', undefined],\r\n    minLength: ['minLength', undefined],\r\n    placeholder: ['placeholder', undefined],\r\n    tooltip: ['title', undefined],\r\n    readOnly: ['readOnly', false],\r\n    spellCheck: ['spellcheck', false],\r\n    autoComplete: ['autocomplete', 'off'],\r\n};\r\n\r\nconst StyleProperties = {\r\n    align: ['textAlign', undefined],\r\n    paddingLeft: ['padding-left', undefined],\r\n    paddingRight: ['padding-right', undefined],\r\n    paddingTop: ['padding-top', undefined],\r\n    paddingBottom: ['padding-bottom', undefined],\r\n    fontFamily: ['fontFamily', undefined],\r\n    fontSize: ['font-size', undefined],\r\n    color: ['color', '#ffffff'],\r\n    backgroundColor: ['backgroundColor', 'transparent'],\r\n    border: ['border', 0],\r\n    borderColor: ['borderColor', 'transparent'],\r\n    outline: ['outline', 'none'],\r\n    direction: ['direction', undefined]\r\n};\r\n\r\nconst ElementEvents = {\r\n    input: 'textchange',\r\n\r\n    click: 'click',\r\n    dblclick: 'dblclick',\r\n\r\n    mousedown: 'pointerdown',\r\n    mousemove: 'pointermove',\r\n    mouseup: 'pointerup',\r\n\r\n    touchstart: 'pointerdown',\r\n    touchmove: 'pointermove',\r\n    touchend: 'pointerup',\r\n\r\n    keydown: 'keydown',\r\n    keyup: 'keyup',\r\n    keypress: 'keypress',\r\n\r\n    focus: 'focus',\r\n    blur: 'blur',\r\n\r\n    select: 'select'\r\n};\r\n\r\nexport default InputText;","var IsPointerInHitArea = function (gameObject, pointer, preTest, postTest) {\r\n    if (pointer) {\r\n        if (preTest && !preTest(gameObject, pointer)) {\r\n            return false;\r\n        }\r\n        if (!HitTest(gameObject, pointer)) {\r\n            return false;\r\n        }\r\n        if (postTest && !postTest(gameObject, pointer)) {\r\n            return false;\r\n        }\r\n        return true;\r\n\r\n    } else {\r\n        var inputManager = gameObject.scene.input.manager;\r\n        var pointersTotal = inputManager.pointersTotal;\r\n        var pointers = inputManager.pointers,\r\n            pointer;\r\n        for (var i = 0; i < pointersTotal; i++) {\r\n            pointer = pointers[i];\r\n            if (preTest && !preTest(gameObject, pointer)) {\r\n                continue;\r\n            }\r\n            if (!HitTest(gameObject, pointer)) {\r\n                continue;\r\n            }\r\n            if (postTest && !postTest(gameObject, pointer)){\r\n                continue;\r\n            }\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\nvar HitTest = function (gameObject, pointer) {\r\n    var scene = gameObject.scene;\r\n    var cameras = scene.input.cameras.getCamerasBelowPointer(pointer);\r\n    var inputManager = scene.input.manager;\r\n    var gameObjects = [gameObject];\r\n    var output;\r\n\r\n    for (var i = 0, len = cameras.length; i < len; i++) {\r\n        output = inputManager.hitTest(pointer, gameObjects, cameras[i]);\r\n        if (output.length > 0) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport default IsPointerInHitArea;","var NumberInputUpdateCallback = function (text, textObject, hiddenInputText) {\r\n    text = text.replace(' ', '');\r\n    var previousText = hiddenInputText.previousText;\r\n    if (text === previousText) {\r\n        return text;\r\n    }\r\n\r\n    if (isNaN(text)) {\r\n        // Enter a NaN character, back to previous text\r\n        text = previousText;\r\n        var cursorPosition = hiddenInputText.cursorPosition - 1;\r\n        hiddenInputText.setText(text);\r\n        hiddenInputText.setCursorPosition(cursorPosition);\r\n    } else {\r\n        // New number text, update previous texr\r\n        hiddenInputText.previousText = text;\r\n    }\r\n\r\n    return text;\r\n}\r\nexport default NumberInputUpdateCallback;","import InputText from '../inputtext/InputText.js';\r\nimport IsPointerInHitArea from '../../../utils/input/IsPointerInHitArea.js';\r\nimport NumberInputUpdateCallback from './defaultcallbacks/NumberInputUpdateCallback.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst Wrap = Phaser.Math.Wrap;\r\n\r\nclass HiddenInputText extends InputText {\r\n    constructor(textObject, config) {\r\n        super(textObject.scene, config);\r\n        // Note: Don't add this game object into scene\r\n\r\n        // Set style\r\n        var style = this.node.style;\r\n        style.position = 'absolute';\r\n        style.opacity = 0;\r\n        style.pointerEvents = 'none';\r\n        style.zIndex = 0;\r\n        // hide native blue text cursor on iOS\r\n        style.transform = 'scale(0)';\r\n\r\n        this.setCursor(GetValue(config, 'cursor', '|'));\r\n        this.setCursorFlashDuration(GetValue(config, 'cursorFlashDuration', 1000));\r\n        this.cursorFlashTimer = 0;\r\n\r\n        this.setEnterClose(GetValue(config, 'enterClose', true));\r\n\r\n        this.onOpenCallback = GetValue(config, 'onOpen', undefined);\r\n        this.onCloseCallback = GetValue(config, 'onClose', undefined);\r\n\r\n        var onUpdateCallback = GetValue(config, 'onUpdate', undefined);\r\n        if (onUpdateCallback === 'number') {\r\n            onUpdateCallback = NumberInputUpdateCallback;\r\n        }\r\n        this.onUpdateCallback = onUpdateCallback;\r\n\r\n        this.textObject = textObject;\r\n        textObject\r\n            .setInteractive()\r\n            .on('pointerdown', this.setFocus, this)\r\n            .on('destroy', this.destroy, this);\r\n\r\n\r\n        this\r\n            .on('focus', function () {\r\n                this.cursorFlashTimer = 0;\r\n\r\n                if (this.enterClose) {\r\n                    this.scene.input.keyboard.once('keydown-ENTER', this.setBlur, this);\r\n                }\r\n\r\n                this.setText(this.textObject.text);\r\n                this.scene.sys.events.on('postupdate', this.updateText, this);\r\n                this.scene.input.on('pointerdown', this.onClickOutside, this);\r\n\r\n                if (this.onOpenCallback) {\r\n                    this.onOpenCallback(this.textObject, this);\r\n                }\r\n\r\n            }, this)\r\n            .on('blur', function () {\r\n                this.updateText();\r\n\r\n                this.scene.sys.events.off('postupdate', this.updateText, this);\r\n                this.scene.input.off('pointerdown', this.onClickOutside, this);\r\n\r\n                if (this.onCloseCallback) {\r\n                    this.onCloseCallback(this.textObject, this);\r\n                }\r\n            }, this)\r\n\r\n    }\r\n\r\n    preDestroy() {\r\n        this.textObject.off('pointerdown', this.setFocus, this);\r\n        this.textObject.off('destroy', this.destroy, this);\r\n        this.scene.sys.events.off('postupdate', this.updateText, this);\r\n        this.scene.input.off('pointerdown', this.onClickOutside, this);\r\n\r\n        super.preDestroy();\r\n    }\r\n\r\n    onClickOutside(pointer) {\r\n        if (!IsPointerInHitArea(this.textObject, pointer)) {\r\n            this.setBlur();\r\n        }\r\n    }\r\n\r\n    updateText() {\r\n        var text = this.text;\r\n\r\n        if (this.onUpdateCallback) {\r\n            var newText = this.onUpdateCallback(text, this.textObject, this);\r\n            if (newText != null) {\r\n                text = newText;\r\n            }\r\n        }\r\n\r\n        if (this.isFocused && this.hasCursor) {\r\n            // Insert Cursor\r\n            var cursorPosition = this.cursorPosition;\r\n            text = text.substring(0, cursorPosition) + this.cursor + text.substring(cursorPosition);\r\n        }\r\n\r\n        this.textObject.setText(text);\r\n\r\n        return this;\r\n    }\r\n\r\n    setCursor(s) {\r\n        this._cursor = s;\r\n        this.hasCursor = s && (s !== '');\r\n        return s;\r\n    }\r\n\r\n    setCursorFlashDuration(duration) {\r\n        this.cursorFlashDuration = duration;\r\n        return this;\r\n    }\r\n\r\n    get cursor() {\r\n        if (!this._isFocused) {\r\n            return this._cursor;\r\n        }\r\n\r\n        // Flash Cursor\r\n        var cursor;\r\n        if (this.cursorFlashTimer < (this.cursorFlashDuration / 2)) {\r\n            cursor = this._cursor;\r\n        } else {\r\n            cursor = ' ';\r\n        }\r\n\r\n        var timerValue = this.cursorFlashTimer + this.scene.game.loop.delta;\r\n        this.cursorFlashTimer = Wrap(timerValue, 0, this.cursorFlashDuration);\r\n        return cursor;\r\n    }\r\n\r\n    setEnterClose(value) {\r\n        if (value === undefined) {\r\n            value = true;\r\n        }\r\n        this.enterClose = value;\r\n        return this;\r\n    }\r\n\r\n    open() {\r\n        this.setFocus();\r\n        return this;\r\n    }\r\n\r\n    close() {\r\n        this.setBlur();\r\n        return this;\r\n    }\r\n\r\n    get isOpened() {\r\n        return this._isFocused;\r\n    }\r\n}\r\n\r\nexport default HiddenInputText;","const Zone = Phaser.GameObjects.Zone;\r\nconst AddItem = Phaser.Utils.Array.Add;\r\nconst RemoveItem = Phaser.Utils.Array.Remove;\r\n\r\nclass Base extends Zone {\r\n    constructor(scene, x, y, width, height) {\r\n        if (x === undefined) {\r\n            x = 0;\r\n        }\r\n        if (y === undefined) {\r\n            y = 0;\r\n        }\r\n        if (width === undefined) {\r\n            width = 1;\r\n        }\r\n        if (height === undefined) {\r\n            height = 1;\r\n        }\r\n        super(scene, x, y, width, height);\r\n        this.children = [];\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        if (fromScene) {\r\n            // Stop scene\r\n            var child;\r\n            for (var i = this.children.length - 1; i >= 0; i--) {\r\n                child = this.children[i];\r\n                if (!child.parentContainer &&  // Not in container\r\n                    !child.displayList         // Not in scene, neither in layer\r\n                ) {\r\n                    // Destroy child which is not in scene, container, or layer manually\r\n                    child.destroy(fromScene);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Destroy/remove children\r\n        this.clear(!fromScene);\r\n        super.destroy(fromScene);\r\n    }\r\n\r\n    contains(gameObject) {\r\n        return (this.children.indexOf(gameObject) !== -1);\r\n    }\r\n\r\n    add(gameObjects) {\r\n        var parent = this;\r\n        AddItem(this.children, gameObjects, 0,\r\n            // Callback of item added\r\n            function (gameObject) {\r\n                gameObject.once('destroy', parent.onChildDestroy, parent);\r\n            }, this);\r\n        return this;\r\n    }\r\n\r\n    remove(gameObjects, destroyChild) {\r\n        var parent = this;\r\n        RemoveItem(this.children, gameObjects,\r\n            // Callback of item removed\r\n            function (gameObject) {\r\n                gameObject.off('destroy', parent.onChildDestroy, parent);\r\n                if (destroyChild) {\r\n                    gameObject.destroy();\r\n                }\r\n            }\r\n        );\r\n        return this;\r\n    }\r\n\r\n    onChildDestroy(child, fromScene) {\r\n        // Only remove reference\r\n        this.remove(child, false);\r\n    }\r\n\r\n    clear(destroyChild) {\r\n        var parent = this;\r\n        var gameObject;\r\n        for (var i = 0, cnt = this.children.length; i < cnt; i++) {\r\n            gameObject = this.children[i];\r\n            gameObject.off('destroy', parent.onChildDestroy, parent);\r\n            if (destroyChild) {\r\n                gameObject.destroy();\r\n            }\r\n        }\r\n        this.children.length = 0;\r\n        return this;\r\n    }\r\n}\r\n\r\nconst Components = Phaser.GameObjects.Components;\r\nPhaser.Class.mixin(Base,\r\n    [\r\n        Components.Alpha,\r\n        Components.Flip\r\n    ]\r\n);\r\n\r\nexport default Base;","var GetParent = function (gameObject, name) {\r\n    var parent;\r\n    if (name === undefined) {\r\n        if (gameObject.hasOwnProperty('rexContainer')) {\r\n            parent = gameObject.rexContainer.parent;\r\n        }\r\n    } else {\r\n        parent = GetParent(gameObject);\r\n        while (parent) {\r\n            if (parent.name === name) {\r\n                break;\r\n            }\r\n            parent = GetParent(parent);\r\n        }\r\n    }\r\n    return parent;\r\n}\r\n\r\nvar GetTopmostParent = function (gameObject) {\r\n    var parent = GetParent(gameObject);\r\n    while (parent) {\r\n        gameObject = parent;\r\n        parent = GetParent(parent);\r\n    }\r\n    return gameObject;\r\n}\r\n\r\nexport { GetParent, GetTopmostParent };","const DegToRad = Phaser.Math.DegToRad;\r\nconst RadToDeg = Phaser.Math.RadToDeg;\r\n\r\nvar GetLocalState = function (gameObject) {\r\n    if (!gameObject.hasOwnProperty('rexContainer')) {\r\n        var rexContainer = {\r\n            parent: null, self: null,\r\n            x: 0, y: 0, syncPosition: true,\r\n            rotation: 0, syncRotation: true,\r\n            scaleX: 0, scaleY: 0, syncScale: true,\r\n            alpha: 0, syncAlpha: true,\r\n            visible: true,\r\n            active: true,\r\n        };\r\n\r\n        Object.defineProperty(rexContainer, 'angle', {\r\n            get: function () {\r\n                return RadToDeg(this.rotation);\r\n            },\r\n            set: function (value) {\r\n                this.rotation = DegToRad(value);\r\n            }\r\n        });\r\n        Object.defineProperty(rexContainer, 'displayWidth', {\r\n            get: function () {\r\n                return gameObject.width * this.scaleX;\r\n            },\r\n            set: function (width) {\r\n                this.scaleX = width / gameObject.width;\r\n            }\r\n        });\r\n        Object.defineProperty(rexContainer, 'displayHeight', {\r\n            get: function () {\r\n                return gameObject.height * this.scaleY;\r\n            },\r\n            set: function (height) {\r\n                this.scaleY = height / gameObject.height;\r\n            }\r\n        });\r\n\r\n        gameObject.rexContainer = rexContainer;\r\n    }\r\n    return gameObject.rexContainer;\r\n}\r\n\r\nexport default GetLocalState;","import { GetParent, GetTopmostParent } from './GetParent.js';\r\nimport GetLocalState from './utils/GetLocalState.js';\r\n\r\nexport default {\r\n    setParent(gameObject, parent) {\r\n        if (parent === undefined) {\r\n            parent = this;\r\n        }\r\n        var localState = GetLocalState(gameObject);\r\n        if (parent) { // Add to parent\r\n            localState.parent = parent;\r\n            localState.self = gameObject;\r\n        } else { // Remove from parent\r\n            localState.parent = null;\r\n            localState.self = null;\r\n        }\r\n        return this;\r\n    },\r\n\r\n    getParent(gameObject, name) {\r\n        if (typeof (gameObject) === 'string') {\r\n            name = gameObject;\r\n            gameObject = undefined;\r\n        }\r\n        if (gameObject === undefined) {\r\n            gameObject = this;\r\n        }\r\n        return GetParent(gameObject, name);\r\n    },\r\n\r\n    getTopmostParent(gameObject) {\r\n        if (gameObject === undefined) {\r\n            gameObject = this;\r\n        }\r\n        return GetTopmostParent(gameObject);\r\n    }\r\n};","import Base from './Base.js';\r\nimport GetLocalState from './utils/GetLocalState.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst BaseAdd = Base.prototype.add;\r\n\r\nvar Add = function (gameObject, config) {\r\n    this.setParent(gameObject);\r\n\r\n    var state = GetLocalState(gameObject);\r\n    SetupSyncFlags(state, config);\r\n\r\n    this\r\n        .resetChildState(gameObject)           // Reset local state of child\r\n        .updateChildVisible(gameObject)        // Apply parent's visible to child\r\n        .updateChildActive(gameObject)         // Apply parent's active to child\r\n        .updateChildScrollFactor(gameObject)   // Apply parent's scroll factor to child\r\n        .updateChildMask(gameObject);          // Apply parent's mask to child\r\n\r\n    BaseAdd.call(this, gameObject);\r\n    return this;\r\n}\r\n\r\nvar AddLocal = function (gameObject, config) {\r\n    this.setParent(gameObject);\r\n\r\n    // Set local state from child directly\r\n    var state = GetLocalState(gameObject);\r\n    SetupSyncFlags(state, config);\r\n    // Position\r\n    state.x = gameObject.x;\r\n    state.y = gameObject.y;\r\n    state.rotation = gameObject.rotation;\r\n    state.scaleX = gameObject.scaleX;\r\n    state.scaleY = gameObject.scaleY;\r\n    // Alpha\r\n    state.alpha = gameObject.alpha;\r\n    // Visible\r\n    state.visible = gameObject.visible;\r\n    // Active\r\n    state.active = gameObject.active;\r\n\r\n    this\r\n        .updateChildPosition(gameObject)\r\n        .updateChildAlpha(gameObject)\r\n        .updateChildVisible(gameObject)        // Apply parent's visible to child\r\n        .updateChildActive(gameObject)         // Apply parent's active to child\r\n        .updateChildScrollFactor(gameObject)   // Apply parent's scroll factor to child\r\n        .updateChildMask(gameObject);          // Apply parent's mask to child\r\n\r\n    BaseAdd.call(this, gameObject);\r\n    return this;\r\n}\r\n\r\nvar SetupSyncFlags = function (state, config) {\r\n    state.syncPosition = GetValue(config, 'syncPosition', true);\r\n    state.syncRotation = GetValue(config, 'syncRotation', true);\r\n    state.syncScale = GetValue(config, 'syncScale', true);\r\n    state.syncAlpha = GetValue(config, 'syncAlpha', true);\r\n}\r\n\r\nexport default {\r\n    // Can override this method\r\n    add(gameObject) {\r\n        if (Array.isArray(gameObject)) {\r\n            this.addMultiple(gameObject);\r\n        } else {\r\n            Add.call(this, gameObject);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    // Don't override this method\r\n    pin(gameObject, config) {\r\n        if (Array.isArray(gameObject)) {\r\n            this.addMultiple(gameObject, config);\r\n        } else {\r\n            Add.call(this, gameObject, config);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    addMultiple(gameObjects) {\r\n        for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n            Add.call(this, gameObjects[i]);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    addLocal(gameObject) {\r\n        if (Array.isArray(gameObject)) {\r\n            this.addMultiple(gameObject);\r\n        } else {\r\n            AddLocal.call(this, gameObject);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    // Don't override this method\r\n    pinLocal(gameObject, config) {\r\n        if (Array.isArray(gameObject)) {\r\n            this.addMultiple(gameObject, config);\r\n        } else {\r\n            AddLocal.call(this, gameObject, config);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    addLocalMultiple(gameObjects) {\r\n        for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n            AddLocal.call(this, gameObjects[i]);\r\n        }\r\n        return this;\r\n    }\r\n};","import Base from './Base.js';\r\nimport { GetParent } from './GetParent.js';\r\n\r\nconst BaseRemove = Base.prototype.remove;\r\nconst BaseClear = Base.prototype.clear;\r\n\r\nexport default {\r\n    remove(gameObject, destroyChild) {\r\n        if (GetParent(gameObject) !== this) {\r\n            return this;\r\n        }\r\n        this.setParent(gameObject, null);\r\n        BaseRemove.call(this, gameObject, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    clear(destroyChild) {\r\n        for (var i = 0, cnt = this.children.length; i < cnt; i++) {\r\n            this.setParent(this.children[i], null);\r\n        }\r\n        BaseClear.call(this, destroyChild);\r\n        return this;\r\n    },\r\n};","import GetLocalState from './utils/GetLocalState.js';\r\n\r\nexport default {\r\n    getLocalState(gameObject) {\r\n        return GetLocalState(gameObject);\r\n    },\r\n\r\n    resetChildState(gameObject) {\r\n        this\r\n            .resetChildPositionState(gameObject)\r\n            .resetChildVisibleState(gameObject)\r\n            .resetChildAlphaState(gameObject)\r\n            .resetChildActiveState(gameObject);\r\n        return this;\r\n    },\r\n\r\n    resetChildrenState(gameObjects) {\r\n        for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n            this.resetChildState(gameObjects[i]);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    syncProperties() {\r\n        this\r\n            .syncPosition()\r\n            .syncVisible()\r\n            .syncAlpha()\r\n            .syncActive()\r\n            .syncScrollFactor()\r\n            .syncMask();\r\n        return this;\r\n    }\r\n};","const RotateAround = Phaser.Math.RotateAround;\r\n\r\nexport default {\r\n    worldToLocal(point) {\r\n        // Transform\r\n        point.x -= this.x;\r\n        point.y -= this.y;\r\n        // Rotate\r\n        RotateAround(point, 0, 0, -this.rotation);\r\n        // Scale\r\n        point.x /= this.scaleX;\r\n        point.y /= this.scaleY;\r\n        return point;\r\n    },\r\n\r\n    localToWorld(point) {\r\n        // Scale\r\n        point.x *= this.scaleX;\r\n        point.y *= this.scaleY;\r\n        // Rotate\r\n        RotateAround(point, 0, 0, this.rotation);\r\n        // Transform\r\n        point.x += this.x;\r\n        point.y += this.y;\r\n        return point;\r\n    }\r\n};","var GetScale = function (a, b) {\r\n    if (a === b) {\r\n        return 1;\r\n    } else {\r\n        return a / b;\r\n    }\r\n}\r\n\r\nexport default GetScale;","import GetLocalState from './utils/GetLocalState.js';\r\nimport GetScale from './utils/GetScale.js';\r\n\r\nexport default {\r\n    updateChildPosition(child) {\r\n        if (child.isRexContainerLite) {\r\n            child.syncChildrenEnable = false;\r\n        }\r\n        var state = GetLocalState(child);\r\n        var parent = state.parent;\r\n\r\n        if (state.syncPosition) {\r\n            child.x = state.x;\r\n            child.y = state.y;\r\n            parent.localToWorld(child);\r\n        }\r\n\r\n        if (state.syncRotation) {\r\n            child.rotation = state.rotation + parent.rotation;\r\n        }\r\n\r\n        if (state.syncScale) {\r\n            child.scaleX = state.scaleX * parent.scaleX;\r\n            child.scaleY = state.scaleY * parent.scaleY;\r\n        }\r\n\r\n        if (child.isRexContainerLite) {\r\n            child.syncChildrenEnable = true;\r\n            child.syncPosition();\r\n        }\r\n        return this;\r\n    },\r\n\r\n    syncPosition() {\r\n        if (this.syncChildrenEnable) {\r\n            this.children.forEach(this.updateChildPosition, this);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    resetChildPositionState(child) {\r\n        var state = GetLocalState(child);\r\n        var parent = state.parent;\r\n        state.x = child.x;\r\n        state.y = child.y;\r\n        parent.worldToLocal(state);\r\n\r\n        state.scaleX = GetScale(child.scaleX, parent.scaleX);\r\n        state.scaleY = GetScale(child.scaleY, parent.scaleY);\r\n\r\n        state.rotation = child.rotation - parent.rotation;\r\n        return this;\r\n    },\r\n\r\n    setChildPosition(child, x, y) {\r\n        child.x = x;\r\n        child.y = y;\r\n        this.resetChildPositionState(child);\r\n        return this;\r\n    },\r\n\r\n    setChildLocalPosition(child, x, y) {\r\n        var state = GetLocalState(child);\r\n        state.x = x;\r\n        state.y = y;\r\n        this.updateChildPosition(child);\r\n        return this;\r\n    },\r\n\r\n    resetLocalPositionState() {\r\n        var parent = GetLocalState(this).parent;\r\n        if (parent) {\r\n            parent.resetChildPositionState(this);\r\n        }\r\n        return this;\r\n    }\r\n};","import GetLocalState from './utils/GetLocalState.js';\r\n\r\nconst DegToRad = Phaser.Math.DegToRad;\r\n\r\nexport default {\r\n    updateChildRotation(child) {\r\n        var state = GetLocalState(child);\r\n        var parent = state.parent;\r\n        if (state.syncRotation) {\r\n            child.rotation = parent.rotation + state.rotation;\r\n        }\r\n        return this;\r\n    },\r\n\r\n    syncRotation() {\r\n        if (this.syncChildrenEnable) {\r\n            this.children.forEach(this.updateChildRotation, this);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    resetChildRotationState(child) {\r\n        var state = GetLocalState(child);\r\n        var parent = state.parent;\r\n        state.rotation = child.rotation - parent.rotation;\r\n        return this;\r\n    },\r\n\r\n    setChildRotation(child, rotation) {\r\n        child.rotation = rotation;\r\n        this.resetChildRotationState(child);\r\n        return this;\r\n    },\r\n\r\n    setChildAngle(child, angle) {\r\n        child.angle = angle;\r\n        this.resetChildRotationState(child);\r\n        return this;\r\n    },\r\n\r\n    setChildLocalRotation(child, rotation) {\r\n        var state = GetLocalState(child);\r\n        state.rotation = rotation;\r\n        this.updateChildRotation(child);\r\n        return this;\r\n    },\r\n\r\n    setChildLocalAngle(child, angle) {\r\n        var state = GetLocalState(child);\r\n        state.rotation = DegToRad(angle);\r\n        this.updateChildRotation(child);\r\n        return this;\r\n    },\r\n\r\n    resetLocalRotationState() {\r\n        var parent = GetLocalState(this).parent;\r\n        if (parent) {\r\n            parent.resetChildRotationState(this);\r\n        }\r\n        return this;\r\n    },\r\n}","import GetLocalState from './utils/GetLocalState.js';\r\nimport GetScale from './utils/GetScale.js';\r\n\r\nexport default {\r\n    updateChildScale(child) {\r\n        var state = GetLocalState(child);\r\n        var parent = state.parent;\r\n        if (state.syncScale) {\r\n            child.scaleX = parent.scaleX * state.scaleX;\r\n            child.scaleY = parent.scaleY * state.scaleY;\r\n        }\r\n        return this;\r\n    },\r\n\r\n    syncScale() {\r\n        if (this.syncChildrenEnable) {\r\n            this.children.forEach(this.updateChildScale, this);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    resetChildScaleState(child) {\r\n        var state = GetLocalState(child);\r\n        var parent = state.parent;\r\n        state.scaleX = GetScale(child.scaleX, parent.scaleX);\r\n        state.scaleY = GetScale(child.scaleY, parent.scaleY);\r\n        return this;\r\n    },\r\n\r\n    setChildScale(child, scaleX, scaleY) {\r\n        if (scaleY === undefined) {\r\n            scaleY = scaleX;\r\n        }\r\n        child.scaleX = scaleX;\r\n        child.scaleY = scaleY;\r\n        this.resetChildScaleState(child);\r\n        return this;\r\n    },\r\n\r\n    setChildLocalScale(child, scaleX, scaleY) {\r\n        if (scaleY === undefined) {\r\n            scaleY = scaleX;\r\n        }\r\n        var state = GetLocalState(child);\r\n        state.scaleX = scaleX;\r\n        state.scaleY = scaleY;\r\n        this.updateChildScale(child);\r\n        return this;\r\n    },\r\n\r\n    setChildDisplaySize(child, width, height) {\r\n        child.setDisplaySize(width, height);\r\n        this.resetChildScaleState(child);\r\n        return this;\r\n    },\r\n\r\n    resetLocalScaleState() {\r\n        var parent = GetLocalState(this).parent;\r\n        if (parent) {\r\n            parent.resetChildScaleState(this);\r\n        }\r\n        return this;\r\n    },\r\n}","/*\r\n\r\nVisible in localState:\r\n\r\n  - visible: original visible of child\r\n  - maskVisible: invisible by parent mask, see MaskChildren.js\r\n      - undefined (not in masking) : Equal to mask visible\r\n      - true (mask visible) : Inside, or across parent's visible area\r\n      - false (maske invisible) : Out of parent's visible area\r\n\r\nVisible result of child = (parent visible) && (child visible) && (mask visible)\r\n*/\r\n\r\nimport GetLocalState from './utils/GetLocalState.js';\r\n\r\nexport default {\r\n    updateChildVisible(child) {\r\n        var localState = GetLocalState(child);\r\n        var parent = localState.parent;\r\n        var maskVisible = (localState.hasOwnProperty('maskVisible')) ? localState.maskVisible : true;\r\n        child.visible = parent.visible && localState.visible && maskVisible;\r\n        return this;\r\n    },\r\n\r\n    syncVisible() {\r\n        if (this.syncChildrenEnable) {\r\n            this.children.forEach(this.updateChildVisible, this);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    resetChildVisibleState(child) {\r\n        var localState = GetLocalState(child);\r\n        // Delete maskVisible property\r\n        if (localState.hasOwnProperty('maskVisible')) {\r\n            delete localState.maskVisible;\r\n        }\r\n        localState.visible = child.visible;\r\n        return this;\r\n    },\r\n\r\n    setChildVisible(child, visible) {\r\n        // Visible of child will be affect by parent's visible, and mask visible\r\n        this.setChildLocalVisible(child, visible);\r\n        return this;\r\n    },\r\n\r\n    // Internal method\r\n    setChildLocalVisible(child, visible) {\r\n        if (visible === undefined) {\r\n            visible = true;\r\n        }\r\n        var localState = GetLocalState(child);\r\n        localState.visible = visible;\r\n        this.updateChildVisible(child);\r\n        return this;\r\n    },\r\n\r\n    // Internal method\r\n    setChildMaskVisible(child, visible) {\r\n        if (visible === undefined) {\r\n            visible = true;\r\n        }\r\n        var localState = GetLocalState(child);\r\n        localState.maskVisible = visible;\r\n        this.updateChildVisible(child);\r\n        return this;\r\n    },\r\n\r\n    resetLocalVisibleState() {\r\n        var parent = GetLocalState(this).parent;\r\n        if (parent) {\r\n            parent.resetChildVisibleState(this);\r\n        }\r\n        return this;\r\n    }\r\n};","import GetLocalState from './utils/GetLocalState.js';\r\nimport GetScale from './utils/GetScale.js';\r\n\r\nexport default {\r\n    updateChildAlpha(child) {\r\n        var state = GetLocalState(child);\r\n        var parent = state.parent;\r\n        if (state.syncAlpha) {\r\n            child.alpha = parent.alpha * state.alpha;\r\n        }\r\n        return this;\r\n    },\r\n\r\n    syncAlpha() {\r\n        if (this.syncChildrenEnable) {\r\n            this.children.forEach(this.updateChildAlpha, this);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    resetChildAlphaState(child) {\r\n        var state = GetLocalState(child);\r\n        var parent = state.parent;\r\n        state.alpha = GetScale(child.alpha, parent.alpha);\r\n        return this;\r\n    },\r\n\r\n    setChildAlpha(child, alpha) {\r\n        child.alpha = alpha;\r\n        this.resetChildAlphaState(child);\r\n        return this;\r\n    },\r\n\r\n    setChildLocalAlpha(child, alpha) {\r\n        var state = GetLocalState(child);\r\n        state.alpha = alpha;\r\n        this.updateChildAlpha(child);\r\n        return this;\r\n    },\r\n\r\n    resetLocalAlphaState() {\r\n        var parent = GetLocalState(this).parent;\r\n        if (parent) {\r\n            parent.resetChildAlphaState(this);\r\n        }\r\n        return this;\r\n    }\r\n};","import GetLocalState from './utils/GetLocalState.js';\r\n\r\nexport default {\r\n    updateChildActive(child) {\r\n        var localState = GetLocalState(child);\r\n        var parent = localState.parent;\r\n        child.active = parent.active && localState.active;\r\n        return this;\r\n    },\r\n\r\n    syncActive() {\r\n        if (this.syncChildrenEnable) {\r\n            this.children.forEach(this.updateChildActive, this);\r\n        }\r\n        return this;\r\n    },\r\n    \r\n    resetChildActiveState(child) {\r\n        var localState = GetLocalState(child);\r\n        localState.active = child.active;\r\n        return this;\r\n    },\r\n\r\n    setChildActive(child, active) {\r\n        child.active = active;\r\n        this.resetChildActiveState(child);\r\n        return this;\r\n    },\r\n\r\n    setChildLocalActive(child, active) {\r\n        if (active === undefined) {\r\n            active = true;\r\n        }\r\n        var localState = GetLocalState(child);\r\n        localState.active = active;\r\n        this.updateChildActive(child);\r\n        return this;\r\n    },\r\n\r\n    resetLocalActiveState() {\r\n        var parent = GetLocalState(this).parent;\r\n        if (parent) {\r\n            parent.resetChildActiveState(this);\r\n        }\r\n        return this;\r\n    }\r\n};","import GetLocalState from './utils/GetLocalState.js';\r\n\r\nexport default {\r\n    updateChildScrollFactor(child) {\r\n        var localState = GetLocalState(child);\r\n        var parent = localState.parent;\r\n        child.setScrollFactor(parent.scrollFactorX, parent.scrollFactorY);\r\n        return this;\r\n    },\r\n\r\n    syncScrollFactor() {\r\n        if (this.syncChildrenEnable) {\r\n            this.children.forEach(this.updateChildScrollFactor, this);\r\n        }\r\n        return this;\r\n    },\r\n\r\n};","export default {\r\n    updateChildMask(child) {\r\n        // Don't propagate null mask to clear children's mask\r\n        if (this.mask == null) {\r\n            return this;\r\n        }\r\n\r\n        var maskGameObject = (this.mask.hasOwnProperty('geometryMask')) ? this.mask.geometryMask : this.mask.bitmapMask;\r\n        if (maskGameObject !== child) {\r\n            child.mask = this.mask;\r\n        }\r\n        return this;\r\n    },\r\n\r\n    syncMask() {\r\n        if (this.syncChildrenEnable) {\r\n            this.children.forEach(this.updateChildMask, this);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    setMask(mask) {\r\n        this.mask = mask;\r\n        return this;\r\n    },\r\n\r\n    clearMask(destroyMask) {\r\n        if (destroyMask === undefined) {\r\n            destroyMask = false;\r\n        }\r\n\r\n        // Clear current mask\r\n        this._mask = null;\r\n        // Clear children mask\r\n        this.children.forEach(function (child) {\r\n            child.clearMask(false);\r\n        });\r\n\r\n        if (destroyMask && this.mask) {\r\n            this.mask.destroy();\r\n        }\r\n        return this;\r\n    },\r\n};","var SortGameObjectsByDepth = function (gameObjects, descending) {\r\n    if (gameObjects.length === 0) {\r\n        return gameObjects;\r\n    }\r\n\r\n    if (descending === undefined) {\r\n        descending = false;\r\n    }\r\n\r\n    var scene = gameObjects[0].scene;\r\n    var displayList = scene.sys.displayList;\r\n    displayList.depthSort();\r\n\r\n    if (descending) {\r\n        gameObjects.sort(function (childA, childB) {\r\n            return displayList.getIndex(childB) - displayList.getIndex(childA);\r\n        })\r\n    } else {\r\n        gameObjects.sort(function (childA, childB) {\r\n            return displayList.getIndex(childA) - displayList.getIndex(childB);\r\n        })\r\n    }\r\n\r\n    return gameObjects;\r\n}\r\n\r\nexport default SortGameObjectsByDepth;","import SortGameObjectsByDepth from '../../utils/system/SortGameObjectsByDepth.js';\r\n\r\nexport default {\r\n    setDepth(value, containerOnly) {\r\n        this.depth = value;\r\n        if (!containerOnly && this.children) {\r\n            var children = this.getAllChildren();\r\n            for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n                children[i].depth = value;\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n\r\n    swapDepth(containerB) {\r\n        var depthA = this.depth;\r\n        var depthB = containerB.depth;\r\n        this.setDepth(depthB);\r\n        containerB.setDepth(depthA);\r\n        return this;\r\n    },\r\n\r\n    incDepth(inc) {\r\n        this.depth += inc;\r\n        if (this.children) {\r\n            var children = this.getAllChildren();\r\n            for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n                children[i].depth += inc;\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n\r\n    moveDepthBelow(gameObject) {\r\n        var displayList = gameObject.scene.children;\r\n        var children = this.getAllChildren([this]);\r\n        SortGameObjectsByDepth(children);\r\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n            var child = children[i];\r\n            if (displayList.exists(child)) {\r\n                displayList.moveBelow(gameObject, child);\r\n                break;\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n\r\n    moveDepthAbove(gameObject) {\r\n        var displayList = gameObject.scene.children;\r\n        var children = this.getAllChildren([this]);\r\n        SortGameObjectsByDepth(children, true);\r\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n            var child = children[i];\r\n            if (displayList.exists(child)) {\r\n                displayList.moveAbove(gameObject, child);\r\n                break;\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n};","var DepthFirstSearch = function (root, callback) {\r\n    var skip = callback(root);\r\n    if ((!skip) && root.isRexContainerLite) {\r\n        var children = root.children;\r\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n            DepthFirstSearch(children[i], callback);\r\n        }\r\n    }\r\n}\r\n\r\nvar BreadthFirstSearch = function (root, callback) {\r\n    var queue = [root];    \r\n    while (queue.length > 0) {\r\n        var current = queue.shift();\r\n        var skip = callback(current);\r\n\r\n        if ((!skip) && current.isRexContainerLite) {\r\n            queue.push(...current.children);\r\n        }\r\n    }\r\n}\r\n\r\nexport {\r\n    DepthFirstSearch,\r\n    BreadthFirstSearch\r\n};","import { GetParent } from './GetParent.js';\r\nimport { DepthFirstSearch, BreadthFirstSearch } from './utils/Traversal.js';\r\n\r\nconst ArrayUtils = Phaser.Utils.Array;\r\n\r\nexport default {\r\n    getChildren(out) {\r\n        if (!out) {\r\n            out = this.children; // Return internal children array\r\n        } else {\r\n            for (var i = 0, cnt = this.children.length; i < cnt; i++) {\r\n                out.push(this.children[i]);\r\n            }\r\n            // Copy children\r\n        }\r\n        return out;\r\n    },\r\n\r\n    getAllChildren(out) {\r\n        if (out === undefined) {\r\n            out = [];\r\n        }\r\n\r\n        var root = this;\r\n        BreadthFirstSearch(root, function (child) {\r\n            // Don't add root\r\n            if (child === root) {\r\n                return;\r\n            }\r\n            out.push(child);\r\n        });\r\n\r\n        return out;\r\n    },\r\n\r\n    getAllVisibleChildren(out) {\r\n        if (out === undefined) {\r\n            out = [];\r\n        }\r\n\r\n        var root = this;\r\n        BreadthFirstSearch(root, function (child) {\r\n            // Don't add root\r\n            if (child === root) {\r\n                return;\r\n            }\r\n            // Don't add invisible child\r\n            if (!child.visible) {\r\n                return true;\r\n            }\r\n            out.push(child);\r\n        });\r\n\r\n        return out;\r\n    },\r\n\r\n    bfs(callback, root) {\r\n        if (root === undefined) {\r\n            root = this;\r\n        }\r\n        BreadthFirstSearch(root, callback);\r\n        return this;\r\n    },\r\n\r\n    dfs(callback, root) {\r\n        if (root === undefined) {\r\n            root = this;\r\n        }\r\n        DepthFirstSearch(root, callback);\r\n        return this;\r\n    },\r\n\r\n    contains(gameObject) { // Override Base.contains method\r\n        var parent = GetParent(gameObject);\r\n        if (!parent) {\r\n            return false;\r\n        } else if (parent === this) {\r\n            return true;\r\n        } else {\r\n            return this.contains(parent);\r\n        }\r\n    },\r\n\r\n    getByName(name, recursive) {\r\n        if (!recursive) {\r\n            return ArrayUtils.GetFirst(this.children, 'name', name); // object, or null if not found\r\n\r\n        } else { // recursive\r\n            // Breadth-first search\r\n            var queue = [this];\r\n            var parent, child;\r\n            while (queue.length) {\r\n                parent = queue.shift();\r\n\r\n                for (var i = 0, cnt = parent.children.length; i < cnt; i++) {\r\n                    child = parent.children[i];\r\n                    if (child.name === name) {\r\n                        return child;\r\n                    } else if (child.isRexContainerLite) {\r\n                        queue.push(child);\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n\r\n        }\r\n\r\n    },\r\n\r\n    getRandom(startIndex, length) {\r\n        return ArrayUtils.GetRandom(this.children, startIndex, length);\r\n    },\r\n\r\n    getFirst(property, value, startIndex, endIndex) {\r\n        return ArrayUtils.GetFirstElement(this.children, property, value, startIndex, endIndex);\r\n    },\r\n\r\n    getAll(property, value, startIndex, endIndex) {\r\n        return ArrayUtils.GetAll(this.children, property, value, startIndex, endIndex);\r\n    },\r\n\r\n    count(property, value, startIndex, endIndex) {\r\n        return ArrayUtils.CountAllMatching(this.children, property, value, startIndex, endIndex);\r\n    },\r\n\r\n    swap(child1, child2) {\r\n        ArrayUtils.Swap(this.children, child1, child2);\r\n        return this;\r\n    },\r\n\r\n    setAll(property, value, startIndex, endIndex) {\r\n        ArrayUtils.SetAll(this.children, property, value, startIndex, endIndex);\r\n        return this;\r\n    },\r\n};","var GetLocalStates = function (gameObjects) {\r\n    var localStates = []\r\n    for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n        var gameObject = gameObjects[i];\r\n        if (!gameObject.hasOwnProperty('rexContainer')) {\r\n            continue;\r\n        }\r\n        localStates.push(gameObject.rexContainer);\r\n    }\r\n    return localStates;\r\n}\r\n\r\nvar GetScene = function (gameObjects) {\r\n    for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n        var scene = gameObjects[i].scene;\r\n        if (scene) {\r\n            return scene;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nvar UpdateChild = function (tween, key, target) {\r\n    if (!target.parent) {\r\n        // target object was removed, so remove this tween too\r\n        tween.remove();\r\n        return;\r\n    }\r\n\r\n    var parent = target.parent;\r\n    var child = target.self;\r\n    switch (key) {\r\n        case 'x':\r\n        case 'y':\r\n            parent.updateChildPosition(child);\r\n            break;\r\n\r\n        case 'angle':\r\n        case 'rotation':\r\n            parent.updateChildRotation(child);\r\n            break;\r\n\r\n        case 'scaleX':\r\n        case 'scaleY':\r\n        case 'displayWidth':\r\n        case 'displayHeight':\r\n            parent.updateChildScale(child);\r\n            break;\r\n\r\n        case 'alpha':\r\n            parent.updateChildAlpha(child);\r\n            break;\r\n\r\n        default:\r\n            parent.updateChildPosition(child);\r\n            parent.updateChildRotation(child);\r\n            parent.updateChildScale(child);\r\n            parent.updateChildAlpha(child);\r\n            break;\r\n    }\r\n};\r\n\r\nexport default {\r\n    tweenChild(tweenConfig) {\r\n        var targets = tweenConfig.targets;\r\n        if (!Array.isArray(targets)) {\r\n            targets = [targets];\r\n        }\r\n\r\n        var scene = this.scene || GetScene(targets);\r\n        if (!scene) {\r\n            return;\r\n        }\r\n\r\n        // Map child game objects to local states\r\n        tweenConfig.targets = GetLocalStates(targets);\r\n        var tween = scene.tweens.add(tweenConfig);\r\n\r\n        // Update child game object in 'update' event\r\n        tween.on('update', UpdateChild);\r\n\r\n        return tween;\r\n    },\r\n\r\n    createTweenChildConfig(tweenConfig) {\r\n        var targets = tweenConfig.targets;\r\n        if (targets) {\r\n            if (!Array.isArray(targets)) {\r\n                targets = [targets];\r\n            }\r\n            // Map child game objects to local states\r\n            tweenConfig.targets = GetLocalStates(targets);\r\n        }\r\n\r\n        var onUpdate = tweenConfig.onUpdate;\r\n        tweenConfig.onUpdate = function (tween, target) {\r\n            if (onUpdate) {\r\n                onUpdate(tween, target);\r\n            }\r\n            UpdateChild(tween, undefined, target);\r\n        }\r\n\r\n        return tweenConfig;\r\n    },\r\n\r\n    tween(tweenConfig) {\r\n        var scene = this.scene;\r\n        if (!tweenConfig.targets) {\r\n            tweenConfig.targets = this;\r\n        }\r\n        return scene.tweens.add(tweenConfig);\r\n    },\r\n\r\n    timelineChild(timelineConfig) {\r\n        var targets = timelineConfig.targets;\r\n        // Map child game objects to local states\r\n        if (targets) {\r\n            if (!Array.isArray(targets)) {\r\n                targets = [targets];\r\n            }\r\n\r\n            timelineConfig.targets = GetLocalStates(targets);\r\n        }\r\n\r\n        var tweens = timelineConfig.tweens;\r\n        for (var i = 0, cnt = tweens.length; i < cnt; i++) {\r\n            tweens[i] = this.createTweenChildConfig(tweens[i]);\r\n        }\r\n\r\n        var timeline = this.scene.tweens.timeline(timelineConfig);\r\n        return timeline;\r\n    }\r\n}","import SortGameObjectsByDepth from '../../utils/system/SortGameObjectsByDepth.js';\r\n\r\nvar AddToLayer = function (layer) {\r\n    var gameObjects = this.getAllChildren([this]);\r\n    SortGameObjectsByDepth(gameObjects);\r\n    layer.add(gameObjects);\r\n    return this;\r\n}\r\n\r\nexport default {\r\n    addToLayer: AddToLayer,\r\n    addToContainer: AddToLayer,\r\n}","const RotateAround = Phaser.Math.RotateAround;\r\n\r\nvar ChangeOrigin = function (gameObject, originX, originY) {\r\n    if (originY === undefined) {\r\n        originY = originX;\r\n    }\r\n\r\n    var deltaXY = {\r\n        x: (originX - gameObject.originX) * gameObject.displayWidth,\r\n        y: (originY - gameObject.originY) * gameObject.displayHeight\r\n    }\r\n    RotateAround(deltaXY, 0, 0, gameObject.rotation);\r\n\r\n    gameObject.originX = originX;\r\n    gameObject.originY = originY;\r\n    gameObject.x = gameObject.x + deltaXY.x;\r\n    gameObject.y = gameObject.y + deltaXY.y;\r\n\r\n    return gameObject;\r\n}\r\n\r\nexport default ChangeOrigin;","import ChangeOriginBase from '../../utils/origin/ChangeOrigin.js';\r\n\r\nvar ChangeOrigin = function (originX, originY) {\r\n    this.syncChildrenEnable = false;\r\n    ChangeOriginBase(this, originX, originY);\r\n    this.syncChildrenEnable = true;\r\n\r\n    var children = this.getAllChildren();\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        this.resetChildPositionState(children[i]);\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default ChangeOrigin;","import Parent from './Parent.js';\r\nimport AddChild from './AddChild.js';\r\nimport RemoveChild from './RemoveChild.js';\r\nimport ChildState from './ChildState.js';\r\nimport Transform from './Transform.js';\r\nimport Position from './Position.js';\r\nimport Rotation from './Rotation.js';\r\nimport Scale from './Scale.js';\r\nimport Visible from './Visible.js';\r\nimport Alpha from './Alpha.js';\r\nimport Active from './Active.js';\r\nimport ScrollFactor from './ScrollFactor.js';\r\nimport Mask from './Mask.js';\r\nimport Depth from './Depth.js';\r\nimport Children from './Children.js';\r\nimport Tween from './Tween.js';\r\nimport AddToContainer from './AddToContainer.js';\r\n\r\nimport ChangeOrigin from './ChangeOrigin.js';\r\n\r\nvar methods = {\r\n    changeOrigin: ChangeOrigin,\r\n};\r\n\r\nObject.assign(\r\n    methods,\r\n    Parent,\r\n    AddChild,\r\n    RemoveChild,\r\n    ChildState,\r\n    Transform,\r\n    Position,\r\n    Rotation,\r\n    Scale,\r\n    Visible,\r\n    Alpha,\r\n    Active,\r\n    ScrollFactor,\r\n    Mask,\r\n    Depth,\r\n    Children,\r\n    Tween,\r\n    AddToContainer\r\n);\r\n\r\nexport default methods;","import Base from './Base.js';\r\nimport Methods from './Methods.js';\r\nimport { GetParent } from './GetParent.js';\r\n\r\nclass ContainerLite extends Base {\r\n    constructor(scene, x, y, width, height, children) {\r\n        super(scene, x, y, width, height);\r\n        this.type = 'rexContainerLite';\r\n        this.isRexContainerLite = true;\r\n        this.syncChildrenEnable = true;\r\n\r\n        this._active = true;\r\n        this._mask = null;\r\n        this._scrollFactorX = 1;\r\n        this._scrollFactorY = 1;\r\n\r\n        if (children) {\r\n            this.add(children);\r\n        }\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        this.syncChildrenEnable = false; // Don't sync properties changing anymore\r\n        super.destroy(fromScene);\r\n    }\r\n\r\n    resize(width, height) {\r\n        this.setSize(width, height);\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this._x;\r\n    }\r\n\r\n    set x(value) {\r\n        if (this._x === value) {\r\n            return;\r\n        }\r\n        this._x = value;\r\n\r\n        this.syncPosition();\r\n    }\r\n\r\n    get y() {\r\n        return this._y;\r\n    }\r\n\r\n    set y(value) {\r\n        if (this._y === value) {\r\n            return;\r\n        }\r\n        this._y = value;\r\n\r\n        this.syncPosition();\r\n    }\r\n\r\n    // Override\r\n    get rotation() {\r\n        return super.rotation;\r\n    }\r\n\r\n    set rotation(value) {\r\n        if (this.rotation === value) {\r\n            return;\r\n        }\r\n        super.rotation = value;\r\n\r\n        this.syncPosition();\r\n    }\r\n\r\n    // Override\r\n    get scaleX() {\r\n        return super.scaleX;\r\n    }\r\n\r\n    set scaleX(value) {\r\n        if (this.scaleX === value) {\r\n            return;\r\n        }\r\n        super.scaleX = value;\r\n\r\n        this.syncPosition();\r\n    }\r\n\r\n    // Override\r\n    get scaleY() {\r\n        return super.scaleY;\r\n    }\r\n\r\n    set scaleY(value) {\r\n        if (this.scaleY === value) {\r\n            return;\r\n        }\r\n        super.scaleY = value;\r\n\r\n        this.syncPosition();\r\n    }\r\n\r\n    // Override\r\n    get scale() {\r\n        return super.scale;\r\n    }\r\n\r\n    set scale(value) {\r\n        if (this.scale === value) {\r\n            return;\r\n        }\r\n        super.scale = value;\r\n\r\n        this.syncPosition();\r\n    }\r\n\r\n    // Override\r\n    get visible() {\r\n        return super.visible;\r\n    }\r\n\r\n    set visible(value) {\r\n        if (super.visible === value) {\r\n            return;\r\n        }\r\n        super.visible = value;\r\n\r\n        this.syncVisible();\r\n    }\r\n\r\n    // Override\r\n    get alpha() {\r\n        return super.alpha;\r\n    }\r\n\r\n    set alpha(value) {\r\n        if (super.alpha === value) {\r\n            return;\r\n        }\r\n        super.alpha = value;\r\n\r\n        this.syncAlpha();\r\n    }\r\n\r\n    // Override\r\n    get active() {\r\n        return this._active;\r\n    }\r\n\r\n    set active(value) {\r\n        if (this._active === value) {\r\n            return;\r\n        }\r\n        this._active = value;\r\n\r\n        this.syncActive();\r\n    }\r\n\r\n    // Override\r\n    get mask() {\r\n        return this._mask;\r\n    }\r\n    set mask(mask) {\r\n        if (this._mask === mask) {\r\n            return;\r\n        }\r\n        this._mask = mask;\r\n\r\n        this.syncMask();\r\n    }\r\n\r\n    // Override\r\n    get scrollFactorX() {\r\n        return this._scrollFactorX;\r\n    }\r\n\r\n    set scrollFactorX(value) {\r\n        if (this._scrollFactorX === value) {\r\n            return;\r\n        }\r\n\r\n        this._scrollFactorX = value;\r\n        this.syncScrollFactor();\r\n    }\r\n    get scrollFactorY() {\r\n        return this._scrollFactorY;\r\n    }\r\n\r\n    set scrollFactorY(value) {\r\n        if (this._scrollFactorY === value) {\r\n            return;\r\n        }\r\n\r\n        this._scrollFactorY = value;\r\n        this.syncScrollFactor();\r\n    }\r\n\r\n    // Compatiable with container plugin\r\n    get list() {\r\n        return this.children;\r\n    }\r\n\r\n    static GetParent(child) {\r\n        return GetParent(child);\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    ContainerLite.prototype,\r\n    Methods\r\n);\r\n\r\nexport default ContainerLite;","import Canvas from '../canvas/Canvas.js';\r\nimport AddRoundRectanglePath from '../../../utils/canvas/AddRoundRectanglePath.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass CircleMaskImage extends Canvas {\r\n    constructor(scene, x, y, key, frame, config) {\r\n        super(scene, x, y);\r\n\r\n        this.type = 'rexCircleMaskImage';\r\n        this.setTexture(key, frame, config);\r\n    }\r\n\r\n    setTexture(key, frame, config) {\r\n        if (typeof (frame) === 'object') {\r\n            config = frame;\r\n            frame = undefined;\r\n        }\r\n\r\n        var maskType, backgroundColor;\r\n        if (typeof (config) === 'string') {\r\n            maskType = config;\r\n            backgroundColor = undefined;\r\n        } else {\r\n            maskType = GetValue(config, 'maskType', 0);\r\n            backgroundColor = GetValue(config, 'backgroundColor', undefined);\r\n        }\r\n\r\n        if (maskType === undefined) {\r\n            maskType = 0;\r\n        } else if (typeof (maskType) === 'string') {\r\n            maskType = MASKTYPE[maskType];\r\n        }\r\n\r\n        this._textureKey = key;\r\n        this._frameName = frame;\r\n\r\n        if (maskType === null) {\r\n            this.loadTexture(key, frame);\r\n            this.dirty = true;\r\n            return this;\r\n        }\r\n\r\n        var hasBackgroundColor = (backgroundColor != null);\r\n        if (!hasBackgroundColor) { // No background color -- draw image first\r\n            this.loadTexture(key, frame);\r\n        }\r\n\r\n        // Draw mask\r\n        var canvas = this.canvas,\r\n            ctx = this.context;\r\n        var width = canvas.width,\r\n            height = canvas.height;\r\n\r\n        ctx.save();\r\n        ctx.globalCompositeOperation = (hasBackgroundColor) ? 'source-over' : 'destination-in';\r\n        ctx.beginPath();\r\n\r\n        // Draw circle, ellipse, or roundRectangle\r\n        switch (maskType) {\r\n            case 2:\r\n                var radiusConfig = GetValue(config, 'radius', 0);\r\n                var iteration = GetValue(config, 'iteration', undefined);\r\n                AddRoundRectanglePath(ctx, 0, 0, width, height, radiusConfig, iteration);\r\n                break;\r\n\r\n            default: // circle, ellipse\r\n                var centerX = Math.floor(width / 2);\r\n                var centerY = Math.floor(height / 2);\r\n                if (maskType === 0) {\r\n                    ctx.arc(centerX, centerY, Math.min(centerX, centerY), 0, (2 * Math.PI));\r\n                } else {\r\n                    ctx.ellipse(centerX, centerY, centerX, centerY, 0, 0, (2 * Math.PI));\r\n                }\r\n                break;\r\n        }\r\n\r\n        if (hasBackgroundColor) {\r\n            ctx.fillStyle = backgroundColor;\r\n        }\r\n        ctx.fill();\r\n        ctx.restore();\r\n\r\n        if (hasBackgroundColor) {  // Has background color -- draw image last\r\n            ctx.save();\r\n            ctx.globalCompositeOperation = 'destination-atop';\r\n            this.loadTexture(key, frame);\r\n            ctx.restore();\r\n        }\r\n\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    resize(width, height) {\r\n        // Don't draw content again.\r\n        this.setDisplaySize(width, height);\r\n        return this;\r\n    }\r\n}\r\n\r\nconst MASKTYPE = {\r\n    circle: 0,\r\n    ellipse: 1,\r\n    roundRectangle: 2\r\n}\r\n\r\nexport default CircleMaskImage;","import DataMethods from '../../../../utils/data/DataMethods.js'\r\n\r\nclass Base {\r\n    constructor(parent, type) {\r\n        this.setParent(parent);\r\n        this.type = type;\r\n\r\n        this.reset().setActive();\r\n    }\r\n\r\n    destroy() {\r\n        this.parent.removeChild(this);\r\n    }\r\n\r\n    setParent(parent) {\r\n        this.parent = parent;\r\n        return this;\r\n    }\r\n\r\n    get scene() {\r\n        return this.parent.scene;\r\n    }\r\n\r\n    get canvas() {\r\n        return (this.parent) ? this.parent.canvas : null;\r\n    }\r\n\r\n    get context() {\r\n        return (this.parent) ? this.parent.context : null;\r\n    }\r\n\r\n    setDirty(dirty) {\r\n        if (dirty && this.parent) {\r\n            this.parent.dirty = true;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get active() {\r\n        return this._active;\r\n    }\r\n\r\n    set active(value) {\r\n        this.setDirty(this._active != value);\r\n        this._active = value;\r\n    }\r\n\r\n    setActive(active) {\r\n        if (active === undefined) {\r\n            active = true;\r\n        }\r\n        this.active = active;\r\n        return this;\r\n    }\r\n\r\n    modifyPorperties(o) {\r\n        return this;\r\n    }\r\n\r\n    // Override\r\n    onFree() {\r\n        this.reset().setParent();\r\n    }\r\n\r\n    // Override\r\n    reset() {\r\n        return this;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    Base.prototype,\r\n    DataMethods\r\n);\r\n\r\nexport default Base;","import Base from '../Base.js';\r\n\r\nconst DegToRad = Phaser.Math.DegToRad;\r\nconst RadToDeg = Phaser.Math.RadToDeg;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass RenderBase extends Base {\r\n    constructor(parent, type) {\r\n        super(parent, type);\r\n\r\n        this.originX = 0;\r\n        this.offsetX = 0;  // Override\r\n        this.offsetY = 0;  // Override\r\n    }\r\n\r\n    get visible() {\r\n        return this._visible;\r\n    }\r\n\r\n    set visible(value) {\r\n        this.setDirty(this._visible != value);\r\n        this._visible = value;\r\n    }\r\n\r\n    setVisible(visible) {\r\n        if (visible === undefined) {\r\n            visible = true;\r\n        }\r\n\r\n        this.visible = visible;\r\n        return this;\r\n    }\r\n\r\n    get alpha() {\r\n        return this._alpha;\r\n    }\r\n\r\n    set alpha(value) {\r\n        this.setDirty(this._alpha != value);\r\n        this._alpha = value;\r\n    }\r\n\r\n    setAlpha(alpha) {\r\n        this.alpha = alpha;\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this._x;\r\n    }\r\n\r\n    set x(value) {\r\n        this.setDirty(this._x != value);\r\n        this._x = value;\r\n    }\r\n\r\n    setX(x) {\r\n        this.x = x;\r\n        return this;\r\n    }\r\n\r\n    get y() {\r\n        return this._y;\r\n    }\r\n\r\n    set y(value) {\r\n        this.setDirty(this._y != value);\r\n        this._y = value;\r\n    }\r\n\r\n    setY(y) {\r\n        this.y = y;\r\n        return this;\r\n    }\r\n\r\n    setPosition(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        return this;\r\n    }\r\n\r\n    get rotation() {\r\n        return this._rotation;\r\n    }\r\n\r\n    set rotation(value) {\r\n        this.setDirty(this._rotation != value);\r\n        this._rotation = value;\r\n    }\r\n\r\n    setRotation(rotation) {\r\n        this.rotation = rotation;\r\n        return this;\r\n    }\r\n\r\n    get angle() {\r\n        return RadToDeg(this._rotation);\r\n    }\r\n\r\n    set angle(value) {\r\n        this.rotation = DegToRad(value);\r\n    }\r\n\r\n    setAngle(angle) {\r\n        this.angle = angle;\r\n        return this;\r\n    }\r\n\r\n    get scaleX() {\r\n        return this._scaleX;\r\n    }\r\n\r\n    set scaleX(value) {\r\n        this.setDirty(this._scaleX !== value);\r\n        this._scaleX = value;\r\n    }\r\n\r\n    setScaleX(scaleX) {\r\n        this.scaleX = scaleX;\r\n        return this;\r\n    }\r\n\r\n    // Override\r\n    get width() {\r\n        return 0;\r\n    }\r\n\r\n    // Override\r\n    set width(value) { }\r\n\r\n    setWidth(width, keepAspectRatio) {\r\n        if (keepAspectRatio === undefined) {\r\n            keepAspectRatio = false;\r\n        }\r\n        this.width = width;\r\n\r\n        if (keepAspectRatio) {\r\n            this.scaleY = this.scaleX;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get leftSpace() {\r\n        return this._leftSpace;\r\n    }\r\n\r\n    set leftSpace(value) {\r\n        this.setDirty(this._leftSpace !== value);\r\n        this._leftSpace = value;\r\n    }\r\n\r\n    setLeftSpace(value) {\r\n        this.leftSpace = value;\r\n        return this;\r\n    }\r\n\r\n    get rightSpace() {\r\n        return this._rightSpace;\r\n    }\r\n\r\n    set rightSpace(value) {\r\n        this.setDirty(this._rightSpace !== value);\r\n        this._rightSpace = value;\r\n    }\r\n\r\n    setRightSpace(value) {\r\n        this.rightSpace = value;\r\n        return this;\r\n    }\r\n\r\n    get outerWidth() {\r\n        return this.width + this.leftSpace + this.rightSpace;\r\n    }\r\n\r\n    get scaleY() {\r\n        return this._scaleY;\r\n    }\r\n\r\n    set scaleY(value) {\r\n        this.setDirty(this._scaleY !== value);\r\n        this._scaleY = value;\r\n    }\r\n\r\n    setScaleY(scaleY) {\r\n        this.scaleY = scaleY;\r\n        return this;\r\n    }\r\n\r\n    // Override\r\n    get height() {\r\n        return 0;\r\n    }\r\n\r\n    // Override\r\n    set height(value) { }\r\n\r\n    setHeight(height, keepAspectRatio) {\r\n        if (keepAspectRatio === undefined) {\r\n            keepAspectRatio = false;\r\n        }\r\n        this.height = height;\r\n\r\n        if (keepAspectRatio) {\r\n            this.scaleX = this.scaleY;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setScale(scaleX, scaleY) {\r\n        if (scaleY === undefined) {\r\n            scaleY = scaleX;\r\n        }\r\n\r\n        this.scaleX = scaleX;\r\n        this.scaleY = scaleY;\r\n        return this;\r\n    }\r\n\r\n    setOrigin(x) {\r\n        this.originX = x;\r\n        return this;\r\n    }\r\n\r\n    setAlign(align) {\r\n        this.align = align;\r\n        return this;\r\n    }\r\n\r\n    modifyPorperties(o) {\r\n        if (!o) {\r\n            return this;\r\n        }\r\n\r\n        if (o.hasOwnProperty('x')) {\r\n            this.setX(o.x);\r\n        }\r\n        if (o.hasOwnProperty('y')) {\r\n            this.setY(o.y);\r\n        }\r\n\r\n        if (o.hasOwnProperty('rotation')) {\r\n            this.setRotation(o.rotation);\r\n        } else if (o.hasOwnProperty('angle')) {\r\n            this.setAngle(o.angle);\r\n        }\r\n\r\n        if (o.hasOwnProperty('alpha')) {\r\n            this.setAlpha(o.alpha);\r\n        }\r\n\r\n        // ScaleX, ScaleY\r\n        var width = GetValue(o, 'width', undefined);\r\n        var height = GetValue(o, 'height', undefined);\r\n        var scaleX = GetValue(o, 'scaleX', undefined);\r\n        var scaleY = GetValue(o, 'scaleY', undefined);\r\n\r\n        if (width !== undefined) {\r\n            if ((height === undefined) && (scaleY === undefined)) {\r\n                this.setWidth(width, true);\r\n            } else {\r\n                this.setWidth(width);\r\n            }\r\n        } else if (scaleX !== undefined) {\r\n            this.setScaleX(scaleX);\r\n        }\r\n        if (height !== undefined) {\r\n            if ((width === undefined) && (scaleX === undefined)) {\r\n                this.setHeight(height, true);\r\n            } else {\r\n                this.setHeight(height);\r\n            }\r\n        } else if (scaleY !== undefined) {\r\n            this.setScaleY(scaleY);\r\n        }\r\n\r\n        if (o.hasOwnProperty('leftSpace')) {\r\n            this.setLeftSpace(o.leftSpace);\r\n        }\r\n        if (o.hasOwnProperty('rightSpace')) {\r\n            this.setRightSpace(o.rightSpace);\r\n        }\r\n\r\n        if (o.hasOwnProperty('align')) {\r\n            this.setAlign(o.align);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    setDrawBelowCallback(callback) {\r\n        this.drawBelowCallback = callback;\r\n        return this;\r\n    }\r\n\r\n    setDrawAboveCallback(callback) {\r\n        this.drawAboveCallback = callback;\r\n        return this;\r\n    }\r\n\r\n    reset() {\r\n        this\r\n            .setVisible()\r\n            .setAlpha(1)\r\n            .setPosition(0, 0)\r\n            .setRotation(0)\r\n            .setScale(1, 1)\r\n            .setLeftSpace(0).setRightSpace(0)\r\n            .setOrigin(0)\r\n            .setAlign()\r\n            .setDrawBelowCallback()\r\n            .setDrawAboveCallback()\r\n        return this;\r\n    }\r\n\r\n    // Override\r\n    drawContent() { }\r\n\r\n    // Override\r\n    draw() {\r\n        var context = this.context;\r\n        context.save();\r\n\r\n        var x = this.x + this.leftSpace + this.offsetX - (this.originX * this.width),\r\n            y = this.y + this.offsetY;\r\n        if (this.autoRound) {\r\n            x = Math.round(x);\r\n            y = Math.round(y);\r\n        }\r\n\r\n        context.translate(x, y);\r\n        context.globalAlpha = this.alpha;\r\n        context.scale(this.scaleX, this.scaleY);\r\n        context.rotate(this.rotation);\r\n\r\n        if (this.drawBelowCallback) {\r\n            this.drawBelowCallback(this);\r\n        }\r\n\r\n        this.drawContent();\r\n\r\n        if (this.drawAboveCallback) {\r\n            this.drawAboveCallback(this);\r\n        }\r\n\r\n        context.restore();\r\n    }\r\n}\r\n\r\nexport default RenderBase;","import Base from './renderbase/RenderBase.js';\r\nimport GetStyle from '../../../../utils/canvas/GetStyle.js';\r\nimport DrawRoundRectangleBackground from '../../../canvas/utils/DrawRoundRectangleBackground.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Background extends Base {\r\n    constructor(parent, config) {\r\n        super(parent, 'background');\r\n\r\n        this.setColor(\r\n            GetValue(config, 'color', null),\r\n            GetValue(config, 'color2', null),\r\n            GetValue(config, 'horizontalGradient', true)\r\n        );\r\n\r\n        this.setStroke(\r\n            GetValue(config, 'stroke', null),\r\n            GetValue(config, 'strokeThickness', 2)\r\n        );\r\n\r\n        this.setCornerRadius(\r\n            GetValue(config, 'cornerRadius', 0),\r\n            GetValue(config, 'cornerIteration', null)\r\n        );\r\n    }\r\n\r\n    set color(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.setDirty(this._color != value);\r\n        this._color = value;\r\n    }\r\n\r\n    get color() {\r\n        return this._color;\r\n    }\r\n\r\n    set color2(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.setDirty(this._color2 != value);\r\n        this._color2 = value;\r\n    }\r\n\r\n    get color2() {\r\n        return this._color2;\r\n    }\r\n\r\n    set horizontalGradient(value) {\r\n        this.setDirty(this._horizontalGradient != value);\r\n        this._horizontalGradient = value;\r\n    }\r\n\r\n    get horizontalGradient() {\r\n        return this._horizontalGradient;\r\n    }\r\n\r\n    setColor(color, color2, isHorizontalGradient) {\r\n        if (isHorizontalGradient === undefined) {\r\n            isHorizontalGradient = true;\r\n        }\r\n\r\n        this.color = color;\r\n        this.color2 = color2;\r\n        this.horizontalGradient = isHorizontalGradient;\r\n        return this;\r\n    }\r\n\r\n    set stroke(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.setDirty(this._stroke != value);\r\n        this._stroke = value;\r\n    }\r\n\r\n    get stroke() {\r\n        return this._stroke;\r\n    }\r\n\r\n    set strokeThickness(value) {\r\n        this.setDirty(this._strokeThickness != value);\r\n        this._strokeThickness = value;\r\n    }\r\n\r\n    get strokeThickness() {\r\n        return this._strokeThickness;\r\n    }\r\n\r\n    setStroke(color, lineWidth) {\r\n        this.stroke = color;\r\n        this.strokeThickness = lineWidth;\r\n        return this;\r\n    }\r\n\r\n    set cornerRadius(value) {\r\n        this.setDirty(this._cornerRadius != value);\r\n        this._cornerRadius = value;\r\n    }\r\n\r\n    get cornerRadius() {\r\n        return this._cornerRadius;\r\n    }\r\n\r\n    set cornerIteration(value) {\r\n        this.setDirty(this._cornerIteration != value);\r\n        this._cornerIteration = value;\r\n    }\r\n\r\n    get cornerIteration() {\r\n        return this._cornerIteration;\r\n    }\r\n\r\n    setCornerRadius(radius, iteration) {\r\n        this.cornerRadius = radius;\r\n        this.cornerIteration = iteration;\r\n        return this;\r\n    }\r\n\r\n    drawContent() {\r\n        DrawRoundRectangleBackground(\r\n            this.parent,\r\n            this.color,\r\n            this.stroke,\r\n            this.strokeThickness,\r\n            this.cornerRadius,\r\n            this.color2,\r\n            this.horizontalGradient,\r\n            this.cornerIteration\r\n        );\r\n    }\r\n}\r\n\r\nexport default Background;","import Base from './renderbase/RenderBase.js';\r\nimport GetStyle from '../../../../utils/canvas/GetStyle.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass InnerBounds extends Base {\r\n    constructor(parent, config) {\r\n        super(parent, 'background');\r\n\r\n        this.setColor(\r\n            GetValue(config, 'color', null),\r\n            GetValue(config, 'color2', null),\r\n            GetValue(config, 'horizontalGradient', true)\r\n        );\r\n\r\n        this.setStroke(\r\n            GetValue(config, 'stroke', null),\r\n            GetValue(config, 'strokeThickness', 2)\r\n        );\r\n    }\r\n\r\n    set color(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.setDirty(this._color != value);\r\n        this._color = value;\r\n    }\r\n\r\n    get color() {\r\n        return this._color;\r\n    }\r\n\r\n    set color2(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.setDirty(this._color2 != value);\r\n        this._color2 = value;\r\n    }\r\n\r\n    get color2() {\r\n        return this._color2;\r\n    }\r\n\r\n    set horizontalGradient(value) {\r\n        this.setDirty(this._horizontalGradient != value);\r\n        this._horizontalGradient = value;\r\n    }\r\n\r\n    get horizontalGradient() {\r\n        return this._horizontalGradient;\r\n    }\r\n\r\n    setColor(color, color2, isHorizontalGradient) {\r\n        if (isHorizontalGradient === undefined) {\r\n            isHorizontalGradient = true;\r\n        }\r\n\r\n        this.color = color;\r\n        this.color2 = color2;\r\n        this.horizontalGradient = isHorizontalGradient;\r\n        return this;\r\n    }\r\n\r\n    set stroke(value) {\r\n        value = GetStyle(value, this.canvas, this.context);\r\n        this.setDirty(this._stroke != value);\r\n        this._stroke = value;\r\n    }\r\n\r\n    get stroke() {\r\n        return this._stroke;\r\n    }\r\n\r\n    set strokeThickness(value) {\r\n        this.setDirty(this._strokeThickness != value);\r\n        this._strokeThickness = value;\r\n    }\r\n\r\n    get strokeThickness() {\r\n        return this._strokeThickness;\r\n    }\r\n\r\n    setStroke(color, lineWidth) {\r\n        this.stroke = color;\r\n        this.strokeThickness = lineWidth;\r\n        return this;\r\n    }\r\n\r\n    drawContent() {\r\n        var padding = this.parent.padding;\r\n        var x = padding.left,\r\n            y = padding.top,\r\n            width = this.parent.width - padding.left - padding.right,\r\n            height = this.parent.height - padding.top - padding.bottom;\r\n        var context = this.context;\r\n        if (this.color != null) {\r\n            var fillStyle;\r\n            if (this.color2 != null) {\r\n                var grd;\r\n                if (this.horizontalGradient) {\r\n                    grd = context.createLinearGradient(0, 0, width, 0);\r\n                } else {\r\n                    grd = context.createLinearGradient(0, 0, 0, height);\r\n                }\r\n                grd.addColorStop(0, this.color);\r\n                grd.addColorStop(1, this.color2);\r\n                fillStyle = grd;\r\n            } else {\r\n                fillStyle = this.color;\r\n            }\r\n\r\n            context.fillStyle = fillStyle;\r\n            context.fillRect(x, y, width, height);\r\n        }\r\n\r\n        if ((this.stroke != null) && (this.strokeThickness > 0)) {\r\n            context.strokeStyle = this.stroke;\r\n            context.lineWidth = this.strokeThickness;\r\n            context.strokeRect(x, y, width, height);\r\n        }\r\n    }\r\n}\r\n\r\nexport default InnerBounds;","var GetProperty = function (name, config, defaultConfig) {\r\n    if (config.hasOwnProperty(name)) {\r\n        return config[name];\r\n    } else {\r\n        return defaultConfig[name];\r\n    }\r\n}\r\n\r\nexport default GetProperty;","import GetStyle from '../../../../../utils/canvas/GetStyle.js';\r\nimport GetProperty from '../utils/GetProperty.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass TextStyle {\r\n    constructor(config) {\r\n        this.set(config);\r\n    }\r\n\r\n    toJSON() {\r\n        return {\r\n            bold: this.bold,\r\n            italic: this.italic,\r\n            fontSize: this.fontSize,\r\n            fontFamily: this.fontFamily,\r\n            color: this.color,\r\n            stroke: this.stroke,\r\n            strokeThickness: this.strokeThickness,\r\n            shaodwColor: this.shadowColor,\r\n            shadowBlur: this.shadowBlur,\r\n            shadowOffsetX: this.shadowOffsetX,\r\n            shadowOffsetY: this.shadowOffsetY,\r\n            offsetX: this.offsetX,\r\n            offsetY: this.offsetY,\r\n            align: this.align\r\n        }\r\n    }\r\n\r\n    set(o) {\r\n        this.setBold(GetValue(o, 'bold', false));\r\n        this.setItalic(GetValue(o, 'italic', false));\r\n        this.setFontSize(GetValue(o, 'fontSize', '16px'));\r\n        this.setFontFamily(GetValue(o, 'fontFamily', 'Courier'));\r\n        this.setColor(GetValue(o, 'color', '#fff'));\r\n        this.setStrokeStyle(\r\n            GetValue(o, 'stroke', null),\r\n            GetValue(o, 'strokeThickness', 0)\r\n        );\r\n        this.setShadow(\r\n            GetValue(o, 'shadowColor', null),\r\n            GetValue(o, 'shadowOffsetX', 0),\r\n            GetValue(o, 'shadowOffsetY', 0),\r\n            GetValue(o, 'shadowBlur', 0)\r\n        );\r\n        this.setOffset(\r\n            GetValue(o, 'offsetX', 0),\r\n            GetValue(o, 'offsetY', 0)\r\n        );\r\n        this.setAlign(GetValue(o, 'align', undefined));\r\n\r\n        return this;\r\n    }\r\n\r\n    modify(o) {\r\n        if (o.hasOwnProperty('bold')) {\r\n            this.setBold(o.bold);\r\n        }\r\n        if (o.hasOwnProperty('italic')) {\r\n            this.setItalic(o.italic);\r\n        }\r\n        if (o.hasOwnProperty('fontSize')) {\r\n            this.setFontSize(o.fontSize);\r\n        }\r\n        if (o.hasOwnProperty('fontFamily')) {\r\n            this.setFontFamily(o.fontFamily);\r\n        }\r\n        if (o.hasOwnProperty('color')) {\r\n            this.setColor(o.color);\r\n        }\r\n        if (o.hasOwnProperty('stroke') || o.hasOwnProperty('strokeThickness')) {\r\n            this.setStrokeStyle(\r\n                GetProperty('stroke', o, this),\r\n                GetProperty('strokeThickness', o, this)\r\n            );\r\n        }\r\n\r\n        if (o.hasOwnProperty('shadowColor')) {\r\n            this.setShadowColor(o.shadowColor);\r\n        }\r\n\r\n        if (o.hasOwnProperty('shadowOffsetX') || o.hasOwnProperty('shadowOffsetY')) {\r\n            this.setShadowOffset(\r\n                GetProperty('shadowOffsetX', o, this),\r\n                GetProperty('shadowOffsetY', o, this),\r\n            );\r\n        }\r\n\r\n        if (o.hasOwnProperty('shadowBlur')) {\r\n            this.setShadowBlur(o.shaodwBlur);\r\n        }\r\n\r\n        if (o.hasOwnProperty('offsetX')) {\r\n            this.setOffsetX(o.offsetX);\r\n        }\r\n        if (o.hasOwnProperty('offsetY')) {\r\n            this.setOffsetY(o.offsetY);\r\n        }\r\n\r\n        if (o.hasOwnProperty('align')) {\r\n            this.setAlign(o.align);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    clone() {\r\n        return new TextStyle(this.toJSON());\r\n    }\r\n\r\n    copyFrom(sourceTextStyle) {\r\n        this.set(sourceTextStyle.toJSON());\r\n        return this;\r\n    }\r\n\r\n    copyTo(targetTextStyle) {\r\n        targetTextStyle.set(this.toJSON());\r\n        return this;\r\n    }\r\n\r\n    setBold(value) {\r\n        if (value === undefined) {\r\n            value = true;\r\n        }\r\n        this.bold = value;\r\n        return this;\r\n    }\r\n\r\n    setItalic(value) {\r\n        if (value === undefined) {\r\n            value = true;\r\n        }\r\n        this.italic = value;\r\n        return this;\r\n    }\r\n\r\n    get fontStyle() {\r\n        if (this.bold && this.italic) {\r\n            return 'bold italic';\r\n        } else if (this.bold) {\r\n            return 'bold';\r\n        } else if (this.italic) {\r\n            return 'italic';\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    setFontSize(fontSize) {\r\n        if (typeof (fontSize) === 'number') {\r\n            fontSize = `${fontSize}px`;\r\n        }\r\n        this.fontSize = fontSize;\r\n        return this;\r\n    }\r\n\r\n    setFontFamily(fontFamily) {\r\n        this.fontFamily = fontFamily;\r\n        return this;\r\n    }\r\n\r\n    get font() {\r\n        return `${this.fontStyle} ${this.fontSize} ${this.fontFamily}`;\r\n    }\r\n\r\n    setColor(color) {\r\n        this.color = GetStyle(color);\r\n        return this;\r\n    }\r\n\r\n    get hasFill() {\r\n        return this.color != null;\r\n    }\r\n\r\n    setStrokeStyle(stroke, strokeThickness) {\r\n        this.stroke = GetStyle(stroke);\r\n        if (strokeThickness !== undefined) {\r\n            this.strokeThickness = strokeThickness;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setStrokeThickness(strokeThickness) {\r\n        this.strokeThickness = strokeThickness;\r\n        return this;\r\n    }\r\n\r\n    get hasStroke() {\r\n        return (this.stroke != null) && (this.strokeThickness > 0);\r\n    }\r\n\r\n    setShadowColor(color) {\r\n        this.shadowColor = GetStyle(color);\r\n        return this;\r\n    }\r\n\r\n    setShadowOffset(offsetX, offsetY) {\r\n        if (offsetX === undefined) {\r\n            offsetX = 0\r\n        }\r\n        if (offsetY === undefined) {\r\n            offsetY = 0\r\n        }\r\n\r\n        this.shadowOffsetX = offsetX;\r\n        this.shadowOffsetY = offsetY;\r\n        return this;\r\n    }\r\n\r\n    setShadowBlur(blur) {\r\n        if (blur === undefined) {\r\n            blur = 0\r\n        }\r\n\r\n        this.shaodwBlur = blur;\r\n        return this;\r\n    }\r\n\r\n    setShadow(color, offsetX, offsetY, blur) {\r\n        this\r\n            .setShadowColor(color)\r\n            .setShadowOffset(offsetX, offsetY)\r\n            .setShadowBlur(blur);\r\n        return this;\r\n    }\r\n\r\n    setOffsetX(offsetX) {\r\n        if (offsetX === undefined) {\r\n            offsetX = 0\r\n        }\r\n\r\n        this.offsetX = offsetX;\r\n        return this;\r\n    }\r\n\r\n    setOffsetY(offsetY) {\r\n        if (offsetY === undefined) {\r\n            offsetY = 0\r\n        }\r\n\r\n        this.offsetY = offsetY;\r\n        return this;\r\n    }\r\n\r\n    setOffset(offsetX, offsetY) {\r\n        this\r\n            .setOffsetX(offsetX)\r\n            .setOffsetY(offsetY);\r\n        return this;\r\n    }\r\n\r\n    setAlign(align) {\r\n        this.align = align;\r\n        return this;\r\n    }\r\n\r\n    syncFont(context) {\r\n        context.font = this.font;\r\n        return this;\r\n    }\r\n\r\n    syncStyle(context) {\r\n        context.textBaseline = 'alphabetic';\r\n\r\n        var hasFill = this.hasFill;\r\n        var hasStroke = this.hasStroke;\r\n        context.fillStyle = (hasFill) ? this.color : '#000';\r\n\r\n        context.strokeStyle = (hasStroke) ? this.stroke : '#000';\r\n        context.lineWidth = (hasStroke) ? this.strokeThickness : 0;\r\n        context.lineCap = 'round';\r\n        context.lineJoin = 'round';\r\n\r\n        return this;\r\n    }\r\n\r\n    syncShadow(context) {\r\n        if (context.shadowColor != null) {\r\n            context.shadowColor = this.shadowColor;\r\n            context.shadowOffsetX = this.shadowOffsetX;\r\n            context.shadowOffsetY = this.shadowOffsetY;\r\n            context.shadowBlur = this.shadowBlur;\r\n        } else {\r\n            context.shadowColor = 0;\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n            context.shadowBlur = 0;\r\n        }\r\n    }\r\n\r\n    getTextMetrics(context, text) {\r\n        this.syncFont(context).syncStyle(context);\r\n        return context.measureText(text);\r\n    }\r\n\r\n}\r\n\r\nexport default TextStyle;","var SetFixedSize = function (width, height) {\r\n    if (width === undefined) {\r\n        width = 0;\r\n    }\r\n    if (height === undefined) {\r\n        height = 0;\r\n    }\r\n\r\n    if ((width > 0) && (height > 0)) {\r\n        if ((this.fixedWidth !== width) || (this.fixedHeight !== height)) {\r\n            this.dirty = true;\r\n        }\r\n    } else {\r\n        this.dirty = true;\r\n    }\r\n\r\n    this.fixedWidth = width;\r\n    this.fixedHeight = height;\r\n\r\n    return this;\r\n}\r\n\r\nexport default SetFixedSize;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar GetPadding = function (padding, key) {\r\n    if (key === undefined) {\r\n        return padding;\r\n    }\r\n    return padding[key];\r\n}\r\n\r\nvar SetPadding = function (padding, key, value) {\r\n    var keyType = typeof (key);\r\n    if (keyType === 'string') {\r\n        padding[key] = value;\r\n    } else if (keyType === 'number') {\r\n        padding.left = key;\r\n        padding.right = key;\r\n        padding.top = key;\r\n        padding.bottom = key;\r\n    } else {\r\n        padding.left = GetValue(key, 'left', 0);\r\n        padding.right = GetValue(key, 'right', 0);\r\n        padding.top = GetValue(key, 'top', 0);\r\n        padding.bottom = GetValue(key, 'bottom', 0);\r\n    }\r\n}\r\n\r\nexport {\r\n    GetPadding,\r\n    SetPadding\r\n}","import { SetPadding as SetPaddingBase } from '../../../../utils/padding/PaddingMethods.js';\r\n\r\nvar SetPadding = function (key, value) {\r\n    var padding = this.padding;\r\n    var paddingLeft = padding.left,\r\n        paddingRight = padding.right,\r\n        paddingTop = padding.top,\r\n        paddingBottom = padding.bottom;\r\n\r\n    SetPaddingBase(padding, key, value);\r\n\r\n    this.dirty = this.dirty ||\r\n        (paddingLeft != padding.left) ||\r\n        (paddingRight != padding.right) ||\r\n        (paddingTop != padding.top) ||\r\n        (paddingBottom != padding.bottom)\r\n        ;\r\n    return this;\r\n};\r\n\r\nexport default SetPadding;","import { GetPadding as GetPaddingBase } from '../../../../utils/padding/PaddingMethods.js';\r\n\r\nvar GetPadding = function (key) {\r\n    return GetPaddingBase(this.padding, key);\r\n}\r\n\r\nexport default GetPadding;","var ModifyTextStyle = function (style) {\r\n    this.textStyle.modify(style);\r\n    return this;\r\n};\r\n\r\nexport default ModifyTextStyle;","var ResetTextStyle = function () {\r\n    this.textStyle.copyFrom(this.defaultTextStyle);\r\n    return this;\r\n};\r\n\r\nexport default ResetTextStyle;","var RemoveChild = function (bob) {\r\n    this.poolManager.free(bob);\r\n    RemoveItem(this.children.list, bob);\r\n    this.lastAppendedChildren.length = 0;\r\n    this.dirty = true;\r\n    return this;\r\n}\r\n\r\nexport default RemoveChild;","var RemoveChildren = function () {\r\n    this.poolManager.freeMultiple(this.children);\r\n    this.children.length = 0;\r\n    this.lastAppendedChildren.length = 0;\r\n    this.dirty = true;\r\n    return this;\r\n}\r\n\r\nexport default RemoveChildren;","var ClearContent = function() {\r\n    this.setText();\r\n    return this;\r\n}\r\n\r\nexport default ClearContent;\r\n\r\n","var AddChild = function (bob) {\r\n    this.lastAppendedChildren.length = 0;\r\n\r\n    if (Array.isArray(bob)) {\r\n        this.children.push(...bob);\r\n        this.lastAppendedChildren.push(...bob);\r\n    } else {\r\n        this.children.push(bob);\r\n        this.lastAppendedChildren.push(bob);\r\n    }\r\n\r\n    return this;\r\n}\r\n\r\nexport default AddChild;","const CharTypeName = 'text';\r\nconst ImageTypeName = 'image';\r\nconst CmdTypeName = 'command';\r\n\r\nvar CanRender = function (bob) {\r\n    var bobType = bob.type;\r\n    return (bobType === CharTypeName) || (bobType === ImageTypeName);\r\n}\r\n\r\nvar IsNewLineChar = function (bob) {\r\n    return (bob.type === CharTypeName) && (bob.text === '\\n');\r\n}\r\n\r\nvar IsCommand = function (bob) {\r\n    return bob.type === CmdTypeName;\r\n}\r\n\r\nexport {\r\n    CharTypeName,\r\n    ImageTypeName,\r\n    CmdTypeName,\r\n    CanRender,\r\n    IsNewLineChar,\r\n    IsCommand\r\n}","import RenderBase from '../renderbase/RenderBase.js';\r\nimport { CharTypeName } from '../Types.js';\r\nimport TextStyle from './TextStyle.js';\r\n\r\nclass CharData extends RenderBase {\r\n    constructor(\r\n        parent,\r\n        text,\r\n        style\r\n    ) {\r\n        super(parent, CharTypeName);\r\n        this.style = new TextStyle(style);\r\n        this.setText(text);\r\n    }\r\n\r\n    get autoRound() {\r\n        return this.parent.autoRound;\r\n    }\r\n\r\n    get offsetX() {\r\n        return this.style.offsetX;\r\n    }\r\n\r\n    set offsetX(value) {\r\n        if (this.style) {\r\n            this.style.offsetX = value;\r\n        }\r\n    }\r\n\r\n    get offsetY() {\r\n        return this.style.offsetY;\r\n    }\r\n\r\n    set offsetY(value) {\r\n        if (this.style) {\r\n            this.style.offsetY = value;\r\n        }\r\n    }\r\n\r\n    get align() {\r\n        return this.style.align;\r\n    }\r\n\r\n    set align(value) {\r\n        if (this.style) {\r\n            this.style.align = value;\r\n        }\r\n    }\r\n\r\n    modifyStyle(style) {\r\n        this.setDirty(true);\r\n        this.style.modify(style);\r\n        return this;\r\n    }\r\n\r\n    modifyPorperties(o) {\r\n        if (!o) {\r\n            return this;\r\n        }\r\n\r\n        this.modifyStyle(o);\r\n        super.modifyPorperties(o);\r\n        return this;\r\n    }\r\n\r\n    setText(text) {\r\n        this.setDirty(this.text != text);\r\n        this.text = text;\r\n\r\n        this.updateTextSize();\r\n\r\n        return this;\r\n    }\r\n\r\n    updateTextSize() {\r\n        if ((this.text === '\\n') || (this.text === '')) {\r\n            this.textWidth = 0;\r\n            this.textHeight = 0;\r\n        } else {\r\n            var metrics = this.style.getTextMetrics(this.context, this.text);\r\n            this.textWidth = metrics.width;\r\n\r\n            var ascent, descent;\r\n            if (metrics.hasOwnProperty('actualBoundingBoxAscent')) {\r\n                ascent = metrics.actualBoundingBoxAscent;\r\n                descent = metrics.actualBoundingBoxDescent;\r\n            } else {\r\n                ascent = 0;\r\n                descent = 0;\r\n            }\r\n            this.textHeight = ascent + descent;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get width() {\r\n        return this.textWidth * this.scaleX;\r\n    }\r\n\r\n    set width(value) {\r\n        if (this.textWidth > 0) {\r\n            this.scaleX = value / this.textWidth;\r\n        } else {\r\n            this.scaleX = 1;\r\n        }\r\n    }\r\n\r\n    get height() {\r\n        return this.textHeight * this.scaleY;\r\n    }\r\n\r\n    set height(value) {\r\n        if (this.textHeight > 0) {\r\n            this.scaleY = value / this.textHeight;\r\n        } else {\r\n            this.scaleY = 1;\r\n        }\r\n    }\r\n\r\n    drawContent() {\r\n        var textStyle = this.style;\r\n        var hasFill = textStyle.hasFill,\r\n            hasStroke = textStyle.hasStroke;\r\n\r\n        if (!hasFill && !hasStroke) {\r\n            return;\r\n        }\r\n\r\n        var context = this.context;\r\n        textStyle.syncFont(context).syncStyle(context);\r\n\r\n        if (hasStroke) {\r\n            textStyle.syncShadow(context);\r\n            context.strokeText(this.text, 0, 0);\r\n        }\r\n\r\n        if (hasFill) {\r\n            textStyle.syncShadow(context);\r\n            context.fillText(this.text, 0, 0);\r\n        }\r\n    }\r\n\r\n    draw() {\r\n        if (!this.visible || (this.text === '') || (this.text === '\\n')) {\r\n            return this;\r\n        }\r\n\r\n        super.draw();\r\n    }\r\n}\r\n\r\nexport default CharData;","import CharData from '../bob/char/CharData.js';\r\nimport { CharTypeName } from '../bob/Types.js';\r\n\r\nvar AppendText = function (text, style) {\r\n    if (style) {\r\n        this.textStyle.modify(style);\r\n    }\r\n\r\n    var bobArray = [];\r\n    for (var i = 0, cnt = text.length; i < cnt; i++) {\r\n        var char = text.charAt(i);\r\n        var bob = this.poolManager.allocate(CharTypeName);\r\n        if (bob === null) {\r\n            bob = new CharData(\r\n                this,               // parent\r\n                char,               // text\r\n                this.textStyle,     // style\r\n            );\r\n        } else {\r\n            bob\r\n                .setParent(this)\r\n                .setActive()\r\n                .modifyStyle(this.textStyle)\r\n                .setText(char);\r\n        }\r\n        // bob.modifyPorperties(properties);  // Warning: Will modify text-style twice\r\n\r\n        bobArray.push(bob);\r\n    }\r\n\r\n    this.addChild(bobArray);\r\n\r\n    return this;\r\n};\r\n\r\nexport default AppendText;","import AppendText from './AppendText.js';\r\n\r\nvar SetText = function (text, style) {\r\n    if (text === undefined) {\r\n        text = '';\r\n    }\r\n\r\n    this.removeChildren();\r\n    AppendText.call(this, text, style);  // this.appendText might be override\r\n\r\n    this.dirty = true;\r\n    return this;\r\n};\r\n\r\nexport default SetText;","import RenderBase from '../renderbase/RenderBase.js';\r\nimport { ImageTypeName } from '../Types.js';\r\n\r\nclass ImageData extends RenderBase {\r\n    constructor(\r\n        parent,\r\n        key, frame\r\n    ) {\r\n        super(parent, ImageTypeName);\r\n        this.setTexture(key, frame);\r\n    }\r\n\r\n    get frameWidth() {\r\n        return (this.frameObj) ? this.frameObj.cutWidth : 0;\r\n    }\r\n\r\n    get frameHeight() {\r\n        return (this.frameObj) ? this.frameObj.cutHeight : 0;\r\n    }\r\n\r\n    get offsetY() {\r\n        return -this.height;\r\n    }\r\n\r\n    set offsetY(value) { }\r\n\r\n    get key() {\r\n        return this._key;\r\n    }\r\n\r\n    set key(value) {\r\n        this.setDirty(this._key != value);\r\n        this._key = value;\r\n    }\r\n\r\n    get frame() {\r\n        return this._frame;\r\n    }\r\n\r\n    set frame(value) {\r\n        this.setDirty(this._frame != value);\r\n        this._frame = value;\r\n    }\r\n\r\n    setTexture(key, frame) {\r\n        this.key = key;\r\n        this.frame = frame;\r\n\r\n        this.frameObj = this.scene.sys.textures.getFrame(key, frame);\r\n        return this;\r\n    }\r\n\r\n    get width() {\r\n        return this.frameWidth * this.scaleX;\r\n    }\r\n\r\n    set width(value) {\r\n        this.setDirty(this.width !== value);\r\n        this.scaleX = value / this.frameWidth;\r\n    }\r\n\r\n    get height() {\r\n        return this.frameHeight * this.scaleY;\r\n    }\r\n\r\n    set height(value) {\r\n        this.setDirty(this.height !== value);\r\n        this.scaleY = value / this.frameHeight;\r\n    }\r\n\r\n    setHeight(height, keepAspectRatio) {\r\n        if (keepAspectRatio === undefined) {\r\n            keepAspectRatio = false;\r\n        }\r\n        this.height = height;\r\n\r\n        if (keepAspectRatio) {\r\n            this.scaleX = this.scaleY;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    drawContent() {\r\n        var context = this.context;\r\n        var frame = this.frameObj;\r\n\r\n        var width = this.frameWidth,\r\n            height = this.frameHeight;\r\n        context.drawImage(\r\n            frame.source.image,              // image\r\n            frame.cutX, frame.cutY, width, height,\r\n            0, 0, width, height,\r\n        );\r\n    }\r\n\r\n    draw() {\r\n        if (!this.visible) {\r\n            return this;\r\n        }\r\n\r\n        super.draw();\r\n    }\r\n\r\n}\r\n\r\nexport default ImageData;","import ImageData from '../bob/image/ImageData.js';\r\nimport { ImageTypeName } from '../bob/Types.js';\r\n\r\nvar AppendImage = function (key, frame, properties) {\r\n    var bob = this.poolManager.allocate(ImageTypeName);\r\n\r\n    if (bob === null) {\r\n        bob = new ImageData(\r\n            this,               // parent\r\n            key,\r\n            frame\r\n        );\r\n    } else {\r\n        bob\r\n            .setParent(this)\r\n            .setActive()\r\n            .setTexture(key, frame)\r\n    }\r\n    bob.modifyPorperties(properties);\r\n\r\n    this.addChild(bob);\r\n\r\n    return this;\r\n};\r\n\r\nexport default AppendImage;","import Base from '../Base.js';\r\nimport { CmdTypeName } from '../Types.js';\r\n\r\nclass Command extends Base {\r\n    constructor(parent, name, callback, param, scope) {\r\n        super(parent, CmdTypeName);\r\n\r\n        this\r\n            .setName(name)\r\n            .setParameter(param)\r\n            .setCallback(callback, scope);\r\n    }\r\n\r\n    setName(name) {\r\n        this.name = name;\r\n        return this;\r\n    }\r\n\r\n    setParameter(param) {\r\n        this.param = param;\r\n        return this;\r\n    }\r\n\r\n    setCallback(callback, scope) {\r\n        this.callback = callback;\r\n        this.scope = scope;\r\n        return this;\r\n    }\r\n\r\n    exec() {\r\n        var result;\r\n        if (this.scope) {\r\n            result = this.callback.call(this.scope, this.param, this.name);\r\n        } else {\r\n            result = this.callback(this.param, this.name);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    draw() { }\r\n\r\n    onFree() {\r\n        super.onFree();\r\n        this\r\n            .setName()\r\n            .setCallback()\r\n            .setParameter()\r\n    }\r\n}\r\n\r\nexport default Command;","import { CmdTypeName } from '../bob/Types.js';\r\nimport Command from '../bob/command/Command.js';\r\n\r\nvar AppendCommand = function (name, callback, param, scope) {\r\n    var bob = this.poolManager.allocate(CmdTypeName);\r\n\r\n    if (bob === null) {\r\n        bob = new Command(\r\n            this,               // parent\r\n            name,\r\n            callback, param, scope,\r\n        );\r\n    } else {\r\n        bob\r\n            .setParent(this)\r\n            .setActive()\r\n            .setName(name)\r\n            .setCallback(callback, scope)\r\n            .setParameter(param)\r\n\r\n    }\r\n\r\n    this.addChild(bob);\r\n\r\n    return this;\r\n}\r\n\r\nexport default AppendCommand;","var SetWrapConfig = function (config) {\r\n    if (config === undefined) {\r\n        config = {};\r\n    }\r\n\r\n    this.wrapConfig = config;\r\n    return this;\r\n}\r\n\r\nexport default SetWrapConfig;","import { CharTypeName } from '../../../bob/Types.js';\r\n\r\nvar GetWord = function (children, startIndex, charMode, result) {\r\n    if (result === undefined) {\r\n        result = { word: [], width: 0 };\r\n    }\r\n\r\n    result.word.length = 0;\r\n\r\n    var endIndex = children.length;\r\n    var currentIndex = startIndex;\r\n    var word = result.word, wordWidth = 0;\r\n    while (currentIndex < endIndex) {\r\n        var child = children[currentIndex];\r\n        if ((child.type === CharTypeName) && (child.text !== ' ') && (child.text !== '\\n')) {\r\n            word.push(child);\r\n            wordWidth += child.outerWidth;\r\n            currentIndex++;\r\n            // Continue\r\n        } else {  // Get non-text child, a space, or a new-line\r\n            if (currentIndex === startIndex) { // Single child\r\n                word.push(child);\r\n                wordWidth += child.outerWidth;\r\n            }\r\n            break;\r\n        }\r\n\r\n        if (charMode) {  // Word only contains 1 character\r\n            break;\r\n        }\r\n    }\r\n\r\n    result.width = wordWidth;\r\n    return result;\r\n}\r\n\r\nexport default GetWord;","import { CanRender } from '../../bob/Types.js';\r\n\r\nvar OffsetChildren = function (children, offsetX, offsetY) {\r\n    if ((offsetX === 0) && (offsetY === 0)) {\r\n        return;\r\n    }\r\n\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        var child = children[i];\r\n        if (!CanRender(child)) {\r\n            continue;\r\n        }\r\n\r\n        child.x += offsetX;\r\n        child.y += offsetY;\r\n    }\r\n}\r\n\r\nexport default OffsetChildren;","var GetChildrenAlign = function (children) {\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        var child = children[i];\r\n        if (child.align !== undefined) {\r\n            return child.align;\r\n        }\r\n    }\r\n\r\n    return undefined;\r\n}\r\n\r\nexport default GetChildrenAlign;","import OffsetChildren from '../OffsetChildren.js';\r\nimport GetChildrenAlign from '../GetChildrenAlign.js';\r\n\r\nvar AlignLines = function (result, width, height) {\r\n    var hAlign = result.hAlign,\r\n        vAlign = result.vAlign;\r\n\r\n    var offsetX, offsetY;\r\n\r\n    var linesHeight = result.linesHeight;\r\n    switch (vAlign) {\r\n        case 1: // center\r\n        case 'center':\r\n            offsetY = (height - linesHeight) / 2;\r\n            break;\r\n\r\n        case 2: // bottom\r\n        case 'bottom':\r\n            offsetY = height - linesHeight;\r\n            break;\r\n\r\n        default:\r\n            offsetY = 0;\r\n            break;\r\n    }\r\n\r\n    var lines = result.lines;\r\n    for (var li = 0, lcnt = lines.length; li < lcnt; li++) {\r\n        var line = lines[li];\r\n        var lineWidth = line.width,\r\n            children = line.children;\r\n\r\n        var lineHAlign = GetChildrenAlign(children);\r\n        if (lineHAlign === undefined) {\r\n            lineHAlign = hAlign;\r\n        }\r\n\r\n        switch (lineHAlign) {\r\n            case 1:  // center\r\n            case 'center':\r\n                offsetX = (width - lineWidth) / 2\r\n                break;\r\n\r\n            case 2:  // right\r\n            case 'right':\r\n                offsetX = width - lineWidth;\r\n                break;\r\n\r\n            default:\r\n                offsetX = 0;\r\n                break;\r\n        }\r\n\r\n        OffsetChildren(children, offsetX, offsetY);\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default AlignLines;","import GetWord from './GetWord.js';\r\nimport AlignLines from './AlignLines.js';\r\nimport { CanRender, IsNewLineChar } from '../../../bob/Types.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar RunWordWrap = function (config) {\r\n    // Parse parameters\r\n    var startIndex = GetValue(config, 'start', 0);\r\n\r\n    var paddingTop = GetValue(config, 'padding.top', 0);\r\n    var paddingBottom = GetValue(config, 'padding.bottom', 0);  // Add extra space below last line\r\n\r\n    // Get lineHeight, maxLines\r\n    var lineHeight = GetValue(config, 'lineHeight', undefined);\r\n    var maxLines;\r\n    if (lineHeight === undefined) {\r\n        // Calculate lineHeight via maxLines, in fixedHeight mode\r\n        maxLines = GetValue(config, 'maxLines', 0);\r\n        if (this.fixedHeight > 0) {\r\n            var innerHeight = this.fixedHeight - this.padding.top - this.padding.bottom - paddingTop - paddingBottom;\r\n            lineHeight = innerHeight / maxLines;\r\n        } else {\r\n            lineHeight = 0;\r\n        }\r\n    } else {\r\n        if (this.fixedHeight > 0) {\r\n            // Calculate maxLines via lineHeight, in fixedHeight mode\r\n            maxLines = GetValue(config, 'maxLines', undefined);\r\n            if (maxLines === undefined) {\r\n                var innerHeight = this.fixedHeight - this.padding.top - this.padding.bottom - paddingTop - paddingBottom;\r\n                maxLines = Math.floor(innerHeight / lineHeight);\r\n            }\r\n        } else {\r\n            maxLines = GetValue(config, 'maxLines', 0); // Default is show all lines\r\n        }\r\n\r\n    }\r\n    var showAllLines = (maxLines === 0);\r\n\r\n    // Get wrapWidth\r\n    var wrapWidth = GetValue(config, 'wrapWidth', undefined);\r\n    if (wrapWidth === undefined) {\r\n        if (this.fixedWidth > 0) {\r\n            wrapWidth = this.fixedWidth - this.padding.left - this.padding.right;\r\n        } else {\r\n            wrapWidth = Infinity; // No word-wrap\r\n        }\r\n    }\r\n\r\n    var letterSpacing = GetValue(config, 'letterSpacing', 0);\r\n\r\n    var hAlign = GetValue(config, 'hAlign', 0);\r\n    var vAlign = GetValue(config, 'vAlign', 0);\r\n\r\n    var charWrap = GetValue(config, 'charWrap', false);\r\n\r\n    var result = {\r\n        start: startIndex,  // Next start index\r\n        isLastPage: false,  // Is last page\r\n        padding: {\r\n            top: paddingTop,\r\n            bottom: paddingBottom\r\n        },\r\n        lineHeight: lineHeight,\r\n        maxLines: maxLines,\r\n        wrapWidth: wrapWidth,\r\n        letterSpacing: letterSpacing,\r\n        hAlign: hAlign,\r\n        vAlign: vAlign,\r\n        charWrap: charWrap,\r\n        children: [],       // Word-wrap result\r\n        lines: [],          // Word-wrap result in lines\r\n        maxLineWidth: 0,\r\n        linesHeight: 0\r\n    }\r\n\r\n    // Set all children to inactive\r\n    var children = this.children;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        children[i].setActive(false);\r\n    }\r\n\r\n    // Layout children\r\n    wrapWidth += letterSpacing;\r\n    var startX = this.padding.left,\r\n        startY = this.padding.top + lineHeight + paddingTop,  // Start(baseline) from 1st lineHeight, not 0\r\n        x = startX,\r\n        y = startY;\r\n    var remainderWidth = wrapWidth,\r\n        childIndex = startIndex,\r\n        lastChildIndex = children.length;\r\n    var resultChildren = result.children;\r\n    var resultLines = result.lines,\r\n        lastLine = [], lastLineWidth = 0, maxLineWidth = 0;\r\n    var wordResult;\r\n    while (childIndex < lastChildIndex) {\r\n        // Append non-typeable child directly\r\n        var child = children[childIndex];\r\n        if (!CanRender(child)) {\r\n            childIndex++;\r\n            child.setActive();\r\n            resultChildren.push(child);\r\n            lastLine.push(child);\r\n            continue;\r\n        }\r\n\r\n        wordResult = GetWord(children, childIndex, charWrap, wordResult);\r\n        var word = wordResult.word;\r\n        var charCnt = word.length;\r\n        var wordWidth = wordResult.width + (charCnt * letterSpacing);\r\n\r\n        childIndex += charCnt;\r\n        // Next line\r\n        var isNewLineChar = IsNewLineChar(word[0]);\r\n        if ((remainderWidth < wordWidth) || isNewLineChar) {\r\n            // Add to result\r\n            if (isNewLineChar) {\r\n                var char = word[0];\r\n                char.setActive().setPosition(x, y);\r\n                resultChildren.push(char);\r\n                lastLine.push(char);\r\n            }\r\n\r\n            // Move cursor\r\n            x = startX;\r\n            y += lineHeight;\r\n            remainderWidth = wrapWidth;\r\n            resultLines.push({ children: lastLine, width: lastLineWidth });\r\n            maxLineWidth = Math.max(maxLineWidth, lastLineWidth);\r\n\r\n            lastLineWidth = 0;\r\n            lastLine = [];\r\n\r\n            if (!showAllLines && (resultLines.length === maxLines)) {  // Exceed maxLines\r\n                break;\r\n            } else if (isNewLineChar) {  // Already add to result\r\n                continue;\r\n            }\r\n        }\r\n        remainderWidth -= wordWidth;\r\n        lastLineWidth += wordWidth;\r\n\r\n        for (var i = 0, cnt = word.length; i < cnt; i++) {\r\n            var char = word[i];\r\n            char.setActive().setPosition(x, y);\r\n            resultChildren.push(char);\r\n            lastLine.push(char);\r\n            x += (char.outerWidth + letterSpacing);\r\n        }\r\n    }\r\n\r\n    if (lastLine.length > 0) {\r\n        resultLines.push({ children: lastLine, width: lastLineWidth });\r\n        maxLineWidth = Math.max(maxLineWidth, lastLineWidth);\r\n    }\r\n\r\n    result.start += resultChildren.length;\r\n    result.isLastPage = (result.start === lastChildIndex);\r\n    result.maxLineWidth = maxLineWidth;\r\n    result.linesHeight = (resultLines.length * lineHeight) + paddingTop + paddingBottom;\r\n\r\n    // Calculate size of game object\r\n    var width = (this.fixedWidth > 0) ? this.fixedWidth : (result.maxLineWidth + this.padding.left + this.padding.right);\r\n    var height = (this.fixedHeight > 0) ? this.fixedHeight : (result.linesHeight + this.padding.top + this.padding.bottom);\r\n\r\n    // Size might be changed after wrapping\r\n    var innerWidth = width - this.padding.left - this.padding.right;\r\n    var innerHeight = height - this.padding.top - this.padding.bottom - paddingTop - paddingBottom;\r\n    AlignLines(result, innerWidth, innerHeight);\r\n\r\n    // Resize\r\n    this.setSize(width, height);\r\n\r\n    return result;\r\n};\r\n\r\nexport default RunWordWrap;","import RunWordWrapBase from './wrap/runwordwrap/RunWordWrap.js';\r\n\r\nconst Merge = Phaser.Utils.Objects.Merge;\r\n\r\nvar RunWordWrap = function (config) {\r\n    if (config === undefined) {\r\n        config = {};\r\n    }\r\n\r\n    return RunWordWrapBase.call(this, Merge(config, this.wrapConfig));\r\n};\r\n\r\nexport default RunWordWrap;","import OffsetChildren from '../OffsetChildren.js';\r\n\r\nvar AlignLines = function (result, width, height) {\r\n    var hAlign = result.hAlign,\r\n        vAlign = result.vAlign;\r\n\r\n    var offsetX, offsetY;\r\n\r\n    var rtl = result.rtl;\r\n    var lines = result.lines,\r\n        lineWidth = result.lineWidth,\r\n        linesWidth = result.linesWidth;\r\n    switch (hAlign) {\r\n        case 1:  // center\r\n        case 'center':\r\n            offsetX = (width - linesWidth) / 2\r\n            break;\r\n\r\n        case 2:  // right\r\n        case 'right':\r\n            offsetX = width - linesWidth;\r\n            break;\r\n\r\n        default:  // left\r\n            offsetX = 0;\r\n            break;\r\n    }\r\n    if (rtl) {\r\n        offsetX += lineWidth;\r\n    }\r\n\r\n    for (var li = 0, lcnt = lines.length; li < lcnt; li++) {\r\n        var line = lines[(rtl) ? (lcnt - li - 1) : li];\r\n        var children = line.children;\r\n        var lineHeight = line.height;\r\n\r\n        var lineVAlign = GetChildrenAlign(children);\r\n        if (lineVAlign === undefined) {\r\n            lineVAlign = vAlign;\r\n        }\r\n\r\n        switch (lineVAlign) {\r\n            case 1: // center\r\n            case 'center':\r\n                offsetY = (height - lineHeight) / 2;\r\n                break;\r\n\r\n            case 2: // bottom\r\n            case 'bottom':\r\n                offsetY = height - lineHeight;\r\n                break;\r\n\r\n            default: // top\r\n                offsetY = 0;\r\n                break;\r\n        }\r\n\r\n        OffsetChildren(children, offsetX, offsetY);\r\n\r\n        offsetX += lineWidth;\r\n    }\r\n}\r\n\r\nexport default AlignLines;","import AlignLines from './AlignLines.js';\r\nimport { CanRender, IsNewLineChar } from '../../../bob/Types.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar RunVerticalWrap = function (config) {\r\n    // Parse parameters\r\n    var startIndex = GetValue(config, 'start', 0);\r\n\r\n    var extraTopPadding = GetValue(config, 'padding.top', 0);\r\n    var extraBottomPadding = GetValue(config, 'padding.bottom', 0);  // Add extra space below last character\r\n    var extraLeftPadding = GetValue(config, 'padding.left', 0);\r\n    var extraRightPadding = GetValue(config, 'padding.right', 0);\r\n\r\n    var lineWidth = GetValue(config, 'lineWidth', undefined);\r\n    var maxLines;\r\n    if (lineWidth === undefined) {\r\n        // Calculate lineWidth via maxLines, in fixedWidth mode\r\n        maxLines = GetValue(config, 'maxLines', 0);\r\n        if (this.fixedWidth > 0) {\r\n            var innerWidth = this.fixedWidth - this.padding.left - this.padding.right - extraLeftPadding - extraRightPadding;\r\n            lineWidth = innerWidth / maxLines;\r\n        } else {\r\n            lineWidth = 0;\r\n        }\r\n    } else {\r\n        if (this.fixedWidth > 0) {\r\n            // Calculate maxLines via lineWidth, in fixedWidth mode\r\n            maxLines = GetValue(config, 'maxLines', undefined);\r\n            if (maxLines === undefined) {\r\n                var innerWidth = this.fixedWidth - this.padding.left - this.padding.right;\r\n                maxLines = Math.floor(innerWidth / lineWidth);\r\n            }\r\n        } else {\r\n            maxLines = GetValue(config, 'maxLines', 0); // Default is show all lines\r\n        }\r\n\r\n    }\r\n    var showAllLines = (maxLines === 0);\r\n\r\n    // Get fixedChildHeight\r\n    var fixedChildHeight = GetValue(config, 'fixedChildHeight', undefined);\r\n    if (fixedChildHeight === undefined) {\r\n        var charPerLine = GetValue(config, 'charPerLine', undefined);\r\n        if (charPerLine !== undefined) {\r\n            var innerHeight = this.fixedHeight - this.padding.top - this.padding.bottom - extraTopPadding - extraBottomPadding;\r\n            fixedChildHeight = Math.floor(innerHeight / charPerLine);\r\n        } else {\r\n            // Use char.heigh as fixedChildHeight\r\n        }\r\n    }\r\n\r\n    // Get wrapHeight\r\n    var wrapHeight = GetValue(config, 'wrapHeight', undefined);\r\n    if (wrapHeight === undefined) {\r\n        if (this.fixedHeight > 0) {\r\n            wrapHeight = this.fixedHeight - this.padding.top - this.padding.bottom;\r\n        } else {\r\n            wrapHeight = Infinity; // No word-wrap\r\n        }\r\n    }\r\n\r\n    var letterSpacing = GetValue(config, 'letterSpacing', 0);\r\n\r\n    var rtl = GetValue(config, 'rtl', true);\r\n    var hAlign = GetValue(config, 'hAlign', rtl ? 2 : 0);\r\n    var vAlign = GetValue(config, 'vAlign', 0);\r\n\r\n    var result = {\r\n        start: startIndex,  // Next start index\r\n        isLastPage: false,  // Is last page\r\n        padding: {\r\n            top: extraTopPadding,\r\n            bottom: extraBottomPadding,\r\n            left: extraLeftPadding,\r\n            right: extraRightPadding\r\n        },\r\n        lineWidth: lineWidth,\r\n        maxLines: maxLines,\r\n        fixedChildHeight: fixedChildHeight,\r\n        wrapHeight: wrapHeight,\r\n        letterSpacing: letterSpacing,\r\n        hAlign: hAlign,\r\n        vAlign: vAlign,\r\n        rtl: rtl,\r\n        children: [],       // Word-wrap result\r\n        lines: [],          // Word-wrap result in lines\r\n        maxLineHeight: 0,\r\n        linesWidth: 0\r\n    }\r\n\r\n    // Set all children to active\r\n    var children = this.children;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        children[i].setActive(false);\r\n    }\r\n\r\n    // Layout children\r\n    wrapHeight += letterSpacing;\r\n    var startX = this.padding.left + extraLeftPadding,  // Reset x of each character in AlignLines method\r\n        startY = this.padding.top + extraTopPadding,\r\n        x = startX,\r\n        y = startY;\r\n    var remainderHeight = wrapHeight,\r\n        childIndex = startIndex,\r\n        lastChildIndex = children.length;\r\n    var resultChildren = result.children;\r\n    var resultLines = result.lines,\r\n        lastLine = [], lastLineHeight = 0, maxLineHeight = 0;\r\n    while (childIndex < lastChildIndex) {\r\n        // Append non-typeable child directly\r\n        var char = children[childIndex];\r\n        childIndex++;\r\n        if (!CanRender(char)) {\r\n            char.setActive();\r\n            resultChildren.push(char);\r\n            lastLine.push(char);\r\n            continue;\r\n        }\r\n\r\n        var childHeight = ((fixedChildHeight !== undefined) ? fixedChildHeight : char.height) + letterSpacing;\r\n        // Next line\r\n        var isNewLineChar = IsNewLineChar(char);\r\n        if ((remainderHeight < childHeight) || isNewLineChar) {\r\n            // Add to result\r\n            if (isNewLineChar) {\r\n                char.setActive().setPosition(x, y).setOrigin(0.5);\r\n                resultChildren.push(char);\r\n                lastLine.push(char);\r\n            }\r\n\r\n            // Move cursor\r\n            x = startX;\r\n            y = startY;\r\n            remainderHeight = wrapHeight;\r\n            resultLines.push({ children: lastLine, height: lastLineHeight });\r\n            maxLineHeight = Math.max(maxLineHeight, lastLineHeight);\r\n\r\n            lastLineHeight = 0;\r\n            lastLine = [];\r\n\r\n            if (!showAllLines && (resultLines.length === maxLines)) {  // Exceed maxLines\r\n                break;\r\n            } else if (isNewLineChar) {  // Already add to result                \r\n                continue;\r\n            }\r\n        }\r\n        remainderHeight -= childHeight;\r\n        lastLineHeight += childHeight;\r\n\r\n        char.setActive().setPosition(x, y).setOrigin(0.5);\r\n        resultChildren.push(char);\r\n        lastLine.push(char);\r\n        y += childHeight;\r\n    }\r\n\r\n    if (lastLine.length > 0) {\r\n        resultLines.push({ children: lastLine, height: lastLineHeight });\r\n        maxLineHeight = Math.max(maxLineHeight, lastLineHeight);\r\n    }\r\n\r\n    result.start += resultChildren.length;\r\n    result.isLastPage = (result.start === lastChildIndex);\r\n    result.maxLineHeight = maxLineHeight;\r\n    result.linesWidth = (resultLines.length * lineWidth) + extraLeftPadding + extraRightPadding;\r\n\r\n    // Calculate size of game object\r\n    var width = (this.fixedWidth > 0) ? this.fixedWidth : (result.linesWidth + this.padding.left + this.padding.right);\r\n    var height = (this.fixedHeight > 0) ? this.fixedHeight : (result.maxLineHeight + this.padding.top + this.padding.bottom);\r\n\r\n    // Size might be changed after wrapping\r\n    var innerWidth = width - this.padding.left - this.padding.right - extraLeftPadding - extraRightPadding;\r\n    var innerHeight = height - this.padding.top - this.padding.bottom - extraTopPadding - extraBottomPadding;\r\n    AlignLines(result, innerWidth, innerHeight);\r\n\r\n    // Resize\r\n    this.setSize(width, height);\r\n\r\n    return result;\r\n}\r\n\r\nexport default RunVerticalWrap;","import RunVerticalWrapBase from './wrap/runverticalwrap/RunVerticalWrap.js';\r\n\r\nconst Merge = Phaser.Utils.Objects.Merge;\r\n\r\nvar RunVerticalWrap = function (config) {\r\n    if (config === undefined) {\r\n        config = {};\r\n    }\r\n\r\n    return RunVerticalWrapBase.call(this, Merge(config, this.wrapConfig));\r\n};\r\n\r\nexport default RunVerticalWrap;","var DrawContent = function () {\r\n    this.clear();\r\n\r\n    var width = (this.fixedWidth > 0) ? this.fixedWidth : this.width;\r\n    var height = (this.fixedHeight > 0) ? this.fixedHeight : this.height;\r\n    this.setSize(width, height);\r\n\r\n    if (this.background.active) {\r\n        this.background.draw();\r\n    }\r\n\r\n    var child;\r\n    for (var i = 0, cnt = this.children.length; i < cnt; i++) {\r\n        child = this.children[i];\r\n        if (child.active && child.visible) {\r\n            child.draw();\r\n        }\r\n    }\r\n\r\n    if (this.innerBounds.active) {\r\n        this.innerBounds.draw();\r\n    }\r\n}\r\n\r\nexport default DrawContent;","var GetChildren = function () {\r\n    return this.children;\r\n}\r\n\r\nexport default GetChildren;","var GetLastAppendedChildren = function () {\r\n    return this.lastAppendedChildren;\r\n}\r\n\r\nexport default GetLastAppendedChildren;","const GetAll = Phaser.Utils.Array.GetAll;\r\n\r\nvar GetActiveChildren = function () {\r\n    return GetAll(this.children, 'active', true);\r\n}\r\n\r\nexport default GetActiveChildren;","import SetFixedSize from './SetFixedSize.js';\r\nimport SetPadding from './SetPadding.js';\r\nimport GetPadding from './GetPadding.js';\r\nimport ModifyTextStyle from './ModifyTextStyle.js';\r\nimport ResetTextStyle from './ResetTextStyle.js';\r\nimport RemoveChild from './RemoveChild.js';\r\nimport RemoveChildren from './RemoveChildren.js';\r\nimport ClearContent from './ClearContent.js';\r\nimport AddChild from './AddChild.js';\r\nimport SetText from './SetText.js';\r\nimport AppendText from './AppendText.js';\r\nimport AppendImage from './AppendImage.js';\r\nimport AppendCommand from './AppendCommand.js';\r\nimport SetWrapConfig from './SetWrapConfig.js';\r\nimport RunWordWrap from './RunWordWrap.js';\r\nimport RunVerticalWrap from './RunVerticalWrap.js';\r\nimport DrawContent from './DrawContent.js';\r\nimport GetChildren from './GetChildren.js';\r\nimport GetLastAppendedChildren from './GetLastAppendedChildren.js';\r\nimport GetActiveChildren from './GetActiveChildren.js';\r\n\r\n\r\nexport default {\r\n    setFixedSize: SetFixedSize,\r\n    setPadding: SetPadding,\r\n    getPadding: GetPadding,\r\n    modifyTextStyle: ModifyTextStyle,\r\n    resetTextStyle: ResetTextStyle,\r\n\r\n    removeChild: RemoveChild,\r\n    removeChildren: RemoveChildren,\r\n    clearContent: ClearContent,\r\n    addChild: AddChild,\r\n    setText: SetText,\r\n    appendText: AppendText,\r\n    appendImage: AppendImage,\r\n    appendCommand: AppendCommand,\r\n\r\n    setWrapConfig: SetWrapConfig,\r\n    runWordWrap: RunWordWrap,\r\n    runVerticalWrap: RunVerticalWrap,\r\n    drawContent: DrawContent,\r\n\r\n    getChildren: GetChildren,\r\n    getLastAppendedChildren: GetLastAppendedChildren,\r\n    getActiveChildren: GetActiveChildren,\r\n}","import Pool from '../../../../pool.js';\r\n\r\nconst GetFastValue = Phaser.Utils.Objects.GetFastValue;\r\n\r\nvar Pools = {};\r\nclass PoolManager {\r\n    constructor(config) {\r\n        this.pools = GetFastValue(config, 'pools', Pools);\r\n    }\r\n\r\n    free(bob) {\r\n        if (!this.pools) {\r\n            return this;\r\n        }\r\n\r\n        var bobType = bob.type;\r\n        if (!this.pools.hasOwnProperty(bobType)) {\r\n            this.pools[bobType] = new Pool();\r\n        }\r\n        this.pools[bobType].push(bob);\r\n        bob.onFree();\r\n        return this;\r\n    }\r\n\r\n    freeMultiple(arr) {\r\n        if (!this.pools) {\r\n            return this;\r\n        }\r\n\r\n        for (var i = 0, cnt = arr.length; i < cnt; i++) {\r\n            this.free(arr[i]);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    allocate(bobType) {\r\n        if (!this.pools || !this.pools.hasOwnProperty(bobType)) {\r\n            return null;\r\n        }\r\n        return this.pools[bobType].pop();\r\n    }\r\n}\r\n\r\nexport default PoolManager;","import Canvas from '../../canvas/canvas/Canvas.js';\r\nimport Background from './bob/Background.js';\r\nimport InnerBounds from './bob/InnerBounds.js';\r\nimport TextStyle from './bob/char/TextStyle.js';\r\nimport Methods from './methods/Methods';\r\nimport PoolManager from './poolmanager/PoolManager.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass DynamicText extends Canvas {\r\n    constructor(scene, x, y, fixedWidth, fixedHeight, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            fixedWidth = GetValue(config, 'width', 0);\r\n            fixedHeight = GetValue(config, 'height', 0);\r\n        } else if (IsPlainObject(fixedWidth)) {\r\n            config = fixedWidth;\r\n            fixedWidth = GetValue(config, 'width', 0);\r\n            fixedHeight = GetValue(config, 'height', 0);\r\n        }\r\n\r\n        var width = (fixedWidth === 0) ? 1 : fixedWidth;\r\n        var height = (fixedHeight === 0) ? 1 : fixedHeight;\r\n        super(scene, x, y, width, height);\r\n        this.type = 'rexDynamicText';\r\n        this.autoRound = true;\r\n        this.padding = {};\r\n\r\n        var textStyleConfig = GetValue(config, 'style', undefined);\r\n        this.defaultTextStyle = new TextStyle(textStyleConfig);\r\n        this.textStyle = this.defaultTextStyle.clone();\r\n\r\n        this.background = new Background(this, GetValue(config, 'background', undefined));\r\n        this.innerBounds = new InnerBounds(this, GetValue(config, 'innerBounds', undefined));\r\n        this.children = [];\r\n        this.lastAppendedChildren = [];\r\n        this.poolManager = new PoolManager(config);\r\n\r\n        this.setFixedSize(fixedWidth, fixedHeight);\r\n        this.setPadding(GetValue(config, 'padding', 0));\r\n        this.setWrapConfig(GetValue(config, 'wrap', undefined));\r\n\r\n        var text = GetValue(config, 'text', undefined);\r\n        if (text) {\r\n            this.setText(text);\r\n        }\r\n    }\r\n\r\n    updateTexture() {\r\n        this.drawContent();\r\n        super.updateTexture();\r\n        return this;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    DynamicText.prototype,\r\n    Methods\r\n);\r\n\r\n\r\nexport default DynamicText;","// https://github.com/sindresorhus/escape-string-regexp/blob/master/index.js\r\n\r\nvar EscapeRegex = function (s) {\r\n    return s\r\n        .replace(re0, '\\\\$&')\r\n        .replace(re1, '\\\\x2d');\r\n}\r\n\r\nvar re0 = /[|\\\\{}()[\\]^$+*?.]/g;\r\nvar re1 = /-/g;\r\n\r\nexport default EscapeRegex;","var FLOAT = /^\\s*-?(\\d*\\.?\\d+|\\d+\\.?\\d*)(e[-+]?\\d+)?\\s*$/i;\r\nvar convert = function (s) {\r\n    if (typeof (s) !== 'string') {\r\n        return s;\r\n    }\r\n\r\n    if (s === '') {\r\n        s = null;\r\n    } else if (FLOAT.test(s)) {\r\n        s = parseFloat(s);\r\n    } else {        \r\n        if (s === 'false') {\r\n            s = false;\r\n        } else if (s === 'true') {\r\n            s = true;\r\n        }\r\n    }\r\n\r\n    return s;\r\n};\r\nexport default convert;","var ParseValue = function (text, valueConverter) {\r\n    if (text == null) {\r\n        return [];\r\n    }\r\n    var values = text.split(',');\r\n    for (var i = 0, cnt = values.length; i < cnt; i++) {\r\n        values[i] = valueConverter(values[i]);\r\n    }\r\n    return values;\r\n}\r\n\r\nexport default ParseValue;","import EventEmitterMethods from '../../utils/eventemitter/EventEmitterMethods.js';\r\nimport GetValue from '../../utils/object/GetValue.js';\r\nimport EscapeRegex from '../../utils/string/EscapeRegex.js';\r\nimport DefaultValueConverter from '../../utils/string/TypeConvert.js';\r\nimport ParseValue from './ParseValue.js';\r\n\r\nconst DefaultTagExpression = `[a-z0-9-_.]+`;\r\nconst DefaultValueExpression = `[ #a-z-_.0-9,|&]+`;\r\nconst BypassValueConverter = function (s) { return s; }\r\n\r\nclass BracketParser {\r\n    constructor(config) {\r\n        // Event emitter\r\n        this.setEventEmitter(GetValue(config, 'eventEmitter', undefined));\r\n\r\n        // Parameters for regex\r\n        this.setTagExpression(GetValue(config, 'regex.tag', DefaultTagExpression));\r\n        this.setValueExpression(GetValue(config, 'regex.value', DefaultValueExpression));\r\n        // Value convert\r\n        this.setValueConverter(GetValue(config, 'valueConvert', true));\r\n        // Brackets and generate regex\r\n        var delimiters = GetValue(config, 'delimiters', '<>');\r\n        this.setDelimiters(delimiters[0], delimiters[1]);\r\n\r\n        this.isRunning = false;\r\n        this.isPaused = false;\r\n        this.skipEventFlag = false;\r\n        this.lastTagStart = null;\r\n        this.lastTagEnd = null;\r\n        this.lastContent = null;\r\n    }\r\n\r\n    shutdown() {\r\n        this.destroyEventEmitter();\r\n    }\r\n\r\n    destroy() {\r\n        this.shutdown();\r\n    }\r\n\r\n    setTagExpression(express) {\r\n        this.tagExpression = express;\r\n        return this;\r\n    }\r\n\r\n    setValueExpression(express) {\r\n        this.valueExpression = express;\r\n        return this;\r\n    }\r\n\r\n    setValueConverter(converter) {\r\n        if (converter === true) {\r\n            converter = DefaultValueConverter;\r\n        } else if (!converter) {\r\n            converter = BypassValueConverter;\r\n        }\r\n        this.valueConverter = converter;\r\n        return this;\r\n    }\r\n\r\n    setDelimiters(delimiterLeft, delimiterRight) {\r\n        if (delimiterRight === undefined) {\r\n            delimiterRight = delimiterLeft[1];\r\n            delimiterLeft = delimiterLeft[0];\r\n        }\r\n        this.delimiterLeft = delimiterLeft;\r\n        this.delimiterRight = delimiterRight;\r\n\r\n        delimiterLeft = EscapeRegex(delimiterLeft);\r\n        delimiterRight = EscapeRegex(delimiterRight);\r\n        var tagOn = `${delimiterLeft}(${this.tagExpression})(=(${this.valueExpression}))?${delimiterRight}`;\r\n        var tagOff = `${delimiterLeft}\\/(${this.tagExpression})${delimiterRight}`;\r\n\r\n        this.reTagOn = RegExp(tagOn, 'i');\r\n        this.reTagOff = RegExp(tagOff, 'i');\r\n        this.reSplit = RegExp(`${tagOn}|${tagOff}`, 'gi');\r\n        return this;\r\n    }\r\n\r\n    setSource(source) {\r\n        this.source = source;\r\n        return this;\r\n    }\r\n\r\n    resetIndex(index) {\r\n        if (index === undefined) {\r\n            index = 0;\r\n        }\r\n        this.progressIndex = index;\r\n        this.reSplit.lastIndex = index;\r\n        this.lastTagStart = null;\r\n        this.lastTagEnd = null;\r\n        this.lastContent = null;\r\n        return this;\r\n    }\r\n\r\n    start(source) {\r\n        this\r\n            .setSource(source)\r\n            .restart();\r\n        return this;\r\n    }\r\n\r\n    restart() {\r\n        this\r\n            .resetIndex()\r\n            .next();\r\n    }\r\n\r\n    next() {\r\n        if (this.isPaused) {\r\n            this.onResume();\r\n        }\r\n\r\n        var text = this.source,\r\n            lastIndex = text.length;\r\n\r\n        if (this.reSplit.lastIndex === 0) {\r\n            this.onStart();\r\n        }\r\n        while (!this.isPaused) {\r\n            var regexResult = this.reSplit.exec(text);\r\n            if (!regexResult) {\r\n                if (this.progressIndex < lastIndex) {\r\n                    this.onContent(text.substring(this.progressIndex, lastIndex));\r\n                }\r\n                this.onComplete();\r\n                return;\r\n            }\r\n\r\n            var match = regexResult[0];\r\n            var matchStart = this.reSplit.lastIndex - match.length;\r\n\r\n            if (this.progressIndex < matchStart) {\r\n                this.onContent(text.substring(this.progressIndex, matchStart));\r\n            }\r\n\r\n            if (this.reTagOff.test(match)) {\r\n                this.onTagEnd(match);\r\n            } else {\r\n                this.onTagStart(match);\r\n            }\r\n\r\n            this.progressIndex = this.reSplit.lastIndex;\r\n        }\r\n\r\n    }\r\n\r\n    skipEvent() {\r\n        this.skipEventFlag = true;\r\n        return this;\r\n    }\r\n\r\n    pause() {\r\n        if (!this.isPaused) {\r\n            this.onPause();\r\n        }\r\n        return this;\r\n    }\r\n\r\n    onContent(content) {\r\n        this.emit('content', content);\r\n        this.lastContent = content;\r\n    }\r\n\r\n    onTagStart(tagContent) {\r\n        var regexResult = tagContent.match(this.reTagOn);\r\n        var tag = regexResult[1];\r\n        var values = ParseValue(regexResult[3], this.valueConverter);\r\n\r\n        this.skipEventFlag = false;\r\n        this.emit(`+${tag}`, ...values);\r\n        if (!this.skipEventFlag) {\r\n            this.emit('+', tag, ...values);\r\n        }\r\n\r\n        this.lastTagStart = tag;\r\n    }\r\n\r\n    onTagEnd(tagContent) {\r\n        var tag = tagContent.match(this.reTagOff)[1];\r\n\r\n        this.skipEventFlag = false;\r\n        this.emit(`-${tag}`);\r\n        if (!this.skipEventFlag) {\r\n            this.emit('-', tag);\r\n        }\r\n\r\n        this.lastTagEnd = tag;\r\n    }\r\n\r\n    onStart() {\r\n        this.isRunning = true;\r\n        this.emit('start', this);\r\n    }\r\n\r\n    onComplete() {\r\n        this.isRunning = false;\r\n        this.emit('complete', this);\r\n        this.resetIndex();\r\n    }\r\n\r\n    onPause() {\r\n        this.isPaused = true;\r\n        this.emit('pause', this);\r\n    }\r\n\r\n    onResume() {\r\n        this.isPaused = false;\r\n        this.emit('resume', this);\r\n    }\r\n}\r\n\r\n\r\nObject.assign(\r\n    BracketParser.prototype,\r\n    EventEmitterMethods\r\n);\r\n\r\nexport default BracketParser;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseColorTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.color', 'color');\r\n    var defaultColor;\r\n    parser\r\n        .on('start', function () {\r\n            defaultColor = textPlayer.textStyle.color;\r\n        })\r\n        .on(`+${tagName}`, function (color) {\r\n            textPlayer.textStyle.setColor(color);\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            textPlayer.textStyle.setColor(defaultColor);\r\n            parser.skipEvent();\r\n        })\r\n        .on('complete', function () {\r\n            textPlayer.textStyle.setColor(defaultColor);\r\n        })\r\n}\r\n\r\nexport default OnParseColorTag;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseStrokeColorTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.stroke', 'stroke');\r\n    var defaultStroke;\r\n    parser\r\n        .on('start', function () {\r\n            defaultStroke = textPlayer.textStyle.stroke;\r\n            textPlayer.textStyle.setStrokeStyle(null);\r\n        })\r\n        .on(`+${tagName}`, function (color) {\r\n            if (color === undefined) {\r\n                color = defaultStroke;\r\n            }\r\n            textPlayer.textStyle.setStrokeStyle(color);\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            textPlayer.textStyle.setStrokeStyle(null);\r\n            parser.skipEvent();\r\n        })\r\n        .on('complete', function () {\r\n            textPlayer.textStyle.setStrokeStyle(defaultStroke);\r\n        })\r\n}\r\n\r\nexport default OnParseStrokeColorTag;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseBoldTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.b', 'b');\r\n    parser\r\n        .on('start', function () {\r\n            textPlayer.textStyle.setBold(false);\r\n        })\r\n        .on(`+${tagName}`, function () {\r\n            textPlayer.textStyle.setBold(true);\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            textPlayer.textStyle.setBold(false);\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nexport default OnParseBoldTag;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseItalicTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.i', 'i');\r\n    parser\r\n        .on('start', function () {\r\n            textPlayer.textStyle.setItalic(false);\r\n        })\r\n        .on(`+${tagName}`, function () {\r\n            textPlayer.textStyle.setItalic(true);\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            textPlayer.textStyle.setItalic(false);\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nexport default OnParseItalicTag;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseFontSizeTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.size', 'size');\r\n    var defaultFontSize;\r\n    parser\r\n        .on('start', function () {\r\n            defaultFontSize = textPlayer.textStyle.fontSize;\r\n        })\r\n        .on(`+${tagName}`, function (fontSize) {\r\n            textPlayer.textStyle.setFontSize(fontSize);\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            textPlayer.textStyle.setFontSize(defaultFontSize);\r\n            parser.skipEvent();\r\n        })\r\n        .on('complete', function () {\r\n            textPlayer.textStyle.setFontSize(defaultFontSize);\r\n        })\r\n}\r\n\r\nexport default OnParseFontSizeTag;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseOffsetYTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.y', 'y');\r\n    var defaultOffsetY;\r\n    parser\r\n        .on('start', function () {\r\n            defaultOffsetY = textPlayer.textStyle.offsetY;\r\n            textPlayer.textStyle.setOffsetY(0);\r\n        })\r\n        .on(`+${tagName}`, function (y) {\r\n            if (y === undefined) {\r\n                y = defaultOffsetY;\r\n            }\r\n            textPlayer.textStyle.setOffsetY(y);\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            textPlayer.textStyle.setOffsetY(0);\r\n            parser.skipEvent();\r\n        })\r\n        .on('complete', function () {\r\n            textPlayer.textStyle.setOffsetY(0);\r\n        })\r\n}\r\n\r\nexport default OnParseOffsetYTag;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseShadowColorTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.shadow', 'shadow');\r\n    var defaultShadowColor;\r\n    parser\r\n        .on('start', function () {\r\n            defaultShadowColor = textPlayer.textStyle.shadowColor;\r\n            textPlayer.textStyle.setShadowColor(null);\r\n        })\r\n        .on(`+${tagName}`, function (color) {\r\n            if (color === undefined) {\r\n                color = defaultShadowColor;\r\n            }\r\n            textPlayer.textStyle.setShadowColor(color);\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            textPlayer.textStyle.setShadowColor(null);\r\n            parser.skipEvent();\r\n        })\r\n        .on('complete', function () {\r\n            textPlayer.textStyle.setShadowColor(defaultShadowColor);\r\n        })\r\n}\r\n\r\nexport default OnParseShadowColorTag;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseAlignTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.align', 'align');\r\n    parser\r\n        .on(`+${tagName}`, function (align) {\r\n            textPlayer.textStyle.setAlign(align);\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            textPlayer.textStyle.setAlign();\r\n            parser.skipEvent();\r\n        })\r\n        .on('complete', function () {\r\n            textPlayer.textStyle.setAlign();\r\n        })\r\n}\r\n\r\nexport default OnParseAlignTag;","import AppendImageBase from '../../../dynamictext/methods/AppendImage.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseImageTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.img', 'img');\r\n    parser\r\n        .on(`+${tagName}`, function (name) {\r\n            var imgData = textPlayer.imageManager.get(name);\r\n            AppendImageBase.call(textPlayer,\r\n                imgData.key, imgData.frame,\r\n                {\r\n                    width: imgData.width,\r\n                    hieght: imgData.height,\r\n                    leftSpace: imgData.left,\r\n                    rightSpace: imgData.right\r\n                }\r\n            )\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nexport default OnParseImageTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseTypingSpeedTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.speed', 'speed');\r\n    parser\r\n        .on(`+${tagName}`, function (speed) {\r\n            AppendCommand(textPlayer, speed);\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            AppendCommand(textPlayer, undefined);\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar SetTypingSpeed = function (speed) {\r\n    this.typeWriter.setTypingSpeed(speed);  // this: textPlayer\r\n}\r\n\r\nvar AppendCommand = function (textPlayer, speed) {\r\n    AppendCommandBase.call(textPlayer,\r\n        'speed',         // name\r\n        SetTypingSpeed,  // callback\r\n        speed,           // params\r\n        textPlayer,      // scope\r\n    );\r\n}\r\n\r\nexport default OnParseTypingSpeedTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParsePlaySoundEffectTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.se', 'se');\r\n    parser\r\n        .on(`+${tagName}`, function (name, fadeInTime) {\r\n            AppendCommandBase.call(textPlayer,\r\n                'se',                 // name\r\n                PlaySoundEffect,      // callback\r\n                [name, fadeInTime],   // params\r\n                textPlayer,           // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar PlaySoundEffect = function (params) {\r\n    if (this.skipSoundEffect) {\r\n        return;\r\n    }\r\n\r\n    var name = params[0];\r\n    var fadeInTime = params[1];\r\n\r\n    this.soundManager.playSoundEffect(name);  // this: textPlayer\r\n    if (fadeInTime) {\r\n        this.soundManager.fadeInSoundEffect(fadeInTime);\r\n    }\r\n}\r\n\r\nexport default OnParsePlaySoundEffectTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseFadeInSoundEffectTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.se.fadein', 'se.fadein');\r\n    parser\r\n        .on(`+${tagName}`, function (time) {\r\n            AppendCommandBase.call(textPlayer,\r\n                'se.fadein',         // name\r\n                FadeInSoundEffect,   // callback\r\n                time,                // params\r\n                textPlayer,          // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar FadeInSoundEffect = function (time) {\r\n    // this: textPlayer\r\n    this.soundManager.fadeInSoundEffect(time);\r\n}\r\n\r\nexport default OnParseFadeInSoundEffectTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseFadeOutSoundEffectTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.se.fadeout', 'se.fadeout');\r\n    parser\r\n        .on(`+${tagName}`, function (time, isStopped) {\r\n            isStopped = (isStopped === 'stop');\r\n            AppendCommandBase.call(textPlayer,\r\n                'se.fadeout',        // name\r\n                FadeOutSoundEffect,  // callback\r\n                [time, isStopped],   // params\r\n                textPlayer,          // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar FadeOutSoundEffect = function (params) {\r\n    // this: textPlayer\r\n    this.soundManager.fadeOutSoundEffect(...params);\r\n}\r\n\r\nexport default OnParseFadeOutSoundEffectTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseSetSoundEffectVolumeTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.se.volume', 'se.volume');\r\n    parser\r\n        .on(`+${tagName}`, function (name) {\r\n            AppendCommandBase.call(textPlayer,\r\n                'se.volume',           // name\r\n                SetSoundEffectVolume,  // callback\r\n                name,                  // params\r\n                textPlayer,            // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar SetSoundEffectVolume = function (name) {\r\n    // this: textPlayer\r\n    this.soundManager.setSoundEffectVolume(name);\r\n}\r\n\r\nexport default OnParseSetSoundEffectVolumeTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParsePlayBackgroundMusicTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.bgm', 'bgm');\r\n    parser\r\n        .on(`+${tagName}`, function (name, fadeInTime) {\r\n            AppendCommandBase.call(textPlayer,\r\n                'bgm',                // name\r\n                PlayBackgroundMusic,  // callback\r\n                [name, fadeInTime],   // params\r\n                textPlayer,           // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            AppendCommandBase.call(textPlayer,\r\n                'bgm.stop',           // name\r\n                StopBackgroundMusic,  // callback\r\n                undefined,            // params\r\n                textPlayer,           // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar PlayBackgroundMusic = function (params) {\r\n    var name = params[0];\r\n    var fadeInTime = params[1];\r\n\r\n    // this: textPlayer\r\n    this.soundManager.playBackgroundMusic(name);\r\n    if (fadeInTime) {\r\n        this.soundManager.fadeInBackgroundMusic(fadeInTime);\r\n    }\r\n}\r\n\r\nvar StopBackgroundMusic = function () {\r\n    // this: textPlayer\r\n    this.soundManager.stopBackgroundMusic();\r\n}\r\n\r\nexport default OnParsePlayBackgroundMusicTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseFadeInBackgroundMusicTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.bgm.fadein', 'bgm.fadein');\r\n    parser\r\n        .on(`+${tagName}`, function (time) {\r\n            AppendCommandBase.call(textPlayer,\r\n                'bgm.fadein',            // name\r\n                FadeInBackgroundMusic,   // callback\r\n                time,                    // params\r\n                textPlayer,              // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar FadeInBackgroundMusic = function (time) {\r\n    // this: textPlayer\r\n    this.soundManager.fadeInBackgroundMusic(time);\r\n}\r\n\r\nexport default OnParseFadeInBackgroundMusicTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseFadeOutBackgroundMusicTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.bgm.fadeout', 'bgm.fadeout');\r\n    parser\r\n        .on(`+${tagName}`, function (time, isStopped) {\r\n            AppendCommandBase.call(textPlayer,\r\n                'bgm.fadeout',           // name\r\n                FadeOutBackgroundMusic,  // callback\r\n                [time, isStopped],       // params\r\n                textPlayer,              // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar FadeOutBackgroundMusic = function (params) {\r\n    // this: textPlayer\r\n    this.soundManager.fadeOutBackgroundMusic(...params);\r\n}\r\n\r\nexport default OnParseFadeOutBackgroundMusicTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseCrossFadeBackgroundMusicTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.bgm.cross', 'bgm.cross');\r\n    parser\r\n        .on(`+${tagName}`, function (name, fadeTime) {\r\n            AppendCommandBase.call(textPlayer,\r\n                'bgm.cross',               // name\r\n                CrossFadeBackgroundMusic,  // callback\r\n                [name, fadeTime],          // params\r\n                textPlayer,                // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar CrossFadeBackgroundMusic = function (params) {\r\n    // this: textPlayer\r\n    this.soundManager.crossFadeBackgroundMusic(...params);\r\n}\r\n\r\nexport default OnParseCrossFadeBackgroundMusicTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParsePauseBackgroundMusicTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.bgm.pause', 'bgm.pause');\r\n    parser\r\n        .on(`+${tagName}`, function () {\r\n            AppendCommandBase.call(textPlayer,\r\n                'bgm.pause',           // name\r\n                PauseBackgroundMusic,  // callback\r\n                undefined,             // params\r\n                textPlayer,            // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {\r\n            AppendCommandBase.call(textPlayer,\r\n                'bgm.resume',           // name\r\n                ResumeBackgroundMusic,  // callback\r\n                undefined,              // params\r\n                textPlayer,             // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar PauseBackgroundMusic = function () {\r\n    // this: textPlayer\r\n    this.soundManager.pauseBackgroundMusic();\r\n}\r\n\r\nvar ResumeBackgroundMusic = function () {\r\n    // this: textPlayer\r\n    this.soundManager.resumeBackgroundMusic();\r\n}\r\n\r\nexport default OnParsePauseBackgroundMusicTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseFadeInCameraTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.camera.fadein', 'camera.fadein');\r\n    parser\r\n        .on(`+${tagName}`, function (duration, red, green, blue) {\r\n            AppendCommandBase.call(textPlayer,\r\n                'camera.fadein',               // name\r\n                PlayFadeInEffect,              // callback\r\n                [duration, red, green, blue],  // params\r\n                textPlayer,                    // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar PlayFadeInEffect = function (params) {\r\n    // this: textPlayer\r\n    this.camera.fadeIn(...params);\r\n}\r\n\r\nexport default OnParseFadeInCameraTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseFadeOutCameraTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.camera.fadeout', 'camera.fadeout');\r\n    parser\r\n        .on(`+${tagName}`, function (duration, red, green, blue) {\r\n            AppendCommandBase.call(textPlayer,\r\n                'camera.fadeout',              // name\r\n                PlayFadeOutEffect,             // callback\r\n                [duration, red, green, blue],  // params\r\n                textPlayer,                    // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar PlayFadeOutEffect = function (params) {\r\n    // this: textPlayer\r\n    this.camera.fadeOut(...params);\r\n}\r\n\r\nexport default OnParseFadeOutCameraTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseShakeCameraTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.camera.shake', 'camera.shake');\r\n    parser\r\n        .on(`+${tagName}`, function (duration, intensity) {\r\n            AppendCommandBase.call(textPlayer,\r\n                'camera.shake',         // name\r\n                PlayShakeEffect,        // callback\r\n                [duration, intensity],  // params\r\n                textPlayer,             // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar PlayShakeEffect = function (params) {\r\n    // this: textPlayer\r\n    this.camera.shake(...params);\r\n}\r\n\r\nexport default OnParseShakeCameraTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseFlashCameraTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.camera.flash', 'camera.flash');\r\n    parser\r\n        .on(`+${tagName}`, function (duration, red, green, blue) {\r\n            AppendCommandBase.call(textPlayer,\r\n                'camera.flash',                // name\r\n                PlayFlashEffect,               // callback\r\n                [duration, red, green, blue],  // params\r\n                textPlayer,                    // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar PlayFlashEffect = function (params) {\r\n    // this: textPlayer\r\n    this.camera.flash(...params);\r\n}\r\n\r\nexport default OnParseFlashCameraTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseZoomCameraTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.camera.zoom', 'camera.zoom');\r\n    parser\r\n        .on(`+${tagName}`, function (value) {\r\n            AppendCommandBase.call(textPlayer,\r\n                'camera.zoom',   // name\r\n                Zoom,            // callback\r\n                value,           // params\r\n                textPlayer,      // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n        .on(`+${tagName}.to`, function (value, duration, ease) {\r\n            AppendCommandBase.call(textPlayer,\r\n                'camera.zoom.to',         // name\r\n                ZoomTo,                   // callback\r\n                [value, duration, ease],  // params\r\n                textPlayer,               // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar Zoom = function (value) {\r\n    // this: textPlayer\r\n    this.camera.setZoom(value);\r\n}\r\n\r\nvar ZoomTo = function (params) {\r\n    // this: textPlayer\r\n    this.camera.zoomTo(...params);\r\n}\r\n\r\nexport default OnParseZoomCameraTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst DegToRad = Phaser.Math.DegToRad;\r\n\r\nvar OnParseRotateCameraTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.camera.rotate', 'camera.rotate');\r\n    parser\r\n        .on(`+${tagName}`, function (value) {\r\n            value = DegToRad(value);\r\n            AppendCommandBase.call(textPlayer,\r\n                'camera.rotate',  // name\r\n                Rotate,           // callback\r\n                value,            // params\r\n                textPlayer,       // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n        .on(`+${tagName}.to`, function (value, duration, ease) {\r\n            value = DegToRad(value);\r\n            AppendCommandBase.call(textPlayer,\r\n                'camera.rotate.to',       // name\r\n                RotateTo,                 // callback\r\n                [value, duration, ease],  // params\r\n                textPlayer,               // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar Rotate = function (value) {\r\n    // this: textPlayer\r\n    this.camera.setRotation(value);\r\n}\r\n\r\nvar RotateTo = function (params) {\r\n    var value = params[0];\r\n    var duration = params[1];\r\n    var ease = params[2];\r\n\r\n    // this: textPlayer\r\n    this.camera.rotateTo(value, false, duration, ease);\r\n}\r\n\r\nexport default OnParseRotateCameraTag;","import AppendCommand from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseScrollCameraTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.camera.scroll', 'camera.scroll');\r\n    parser\r\n        .on(`+${tagName}`, function (x, y) {\r\n            AppendCommand.call(textPlayer,\r\n                'camera.scroll',  // name\r\n                Scroll,           // callback\r\n                [x, y],           // params\r\n                textPlayer,       // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n        .on(`+${tagName}.to`, function (x, y, duration, ease) {\r\n            AppendCommand.call(textPlayer,\r\n                'camera.scroll.to',       // name\r\n                ScrollTo,                 // callback\r\n                [x, y, duration, ease],   // params\r\n                textPlayer,               // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar Scroll = function (params) {\r\n    // this: textPlayer\r\n    this.camera.setScroll(...params);\r\n}\r\n\r\nvar ScrollTo = function (params) {\r\n    var x = params[0];\r\n    var y = params[1];\r\n    var duration = params[2];\r\n    var ease = params[3];\r\n\r\n    // this: textPlayer\r\n    var camera = this.camera;\r\n    var xSave = camera.scrollX;\r\n    var ySave = camera.scrollY;\r\n    camera.setScroll(x, y);\r\n    x += camera.centerX;\r\n    y += camera.centerY;\r\n    camera.setScroll(xSave, ySave);\r\n\r\n    // x,y in pan() is the centerX, centerY\r\n    camera.pan(x, y, duration, ease);\r\n}\r\n\r\nexport default OnParseScrollCameraTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseWaitTag = function (textPlayer, parser, config) {\r\n    var tagWait = GetValue(config, 'tags.wait', 'wait');\r\n    var tagClick = GetValue(config, 'tags.click', 'click');\r\n    parser\r\n        .on(`+${tagWait}`, function (name) {\r\n            AppendCommand(textPlayer, name);\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagWait}`, function () {\r\n            parser.skipEvent();\r\n        })\r\n        .on(`+${tagClick}`, function () {  // Equal to [wait=click]\r\n            AppendCommand(textPlayer, 'click');\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagClick}`, function () {  // Equal to [/wait]\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar Wait = function (name) {\r\n    this.typeWriter.wait(name);  // this: textPlayer\r\n}\r\n\r\nvar AppendCommand = function (textPlayer, name) {\r\n    AppendCommandBase.call(textPlayer,\r\n        'wait',       // name\r\n        Wait,         // callback\r\n        name,         // params\r\n        textPlayer,   // scope\r\n    );\r\n}\r\n\r\nexport default OnParseWaitTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar IsAddSpriteTag = function (tags, prefix) {\r\n    // sprite.name\r\n    return (tags.length === 2) && (tags[0] === prefix)\r\n}\r\n\r\nvar OnParseAddSpriteTag = function (textPlayer, parser, config) {\r\n    var prefix = GetValue(config, 'sprite', 'sprite');\r\n    if (!prefix) {\r\n        return;\r\n    }\r\n    parser\r\n        .on('+', function (tag, ...args) {\r\n            if (parser.skipEventFlag) {  // Has been processed before\r\n                return;\r\n            }\r\n\r\n            // [sprite.name=key,frame], or [sprite.name]\r\n            var tags = tag.split('.');\r\n            if (IsAddSpriteTag(tags, prefix)) {\r\n                var name = tags[1];\r\n                AppendCommandBase.call(textPlayer,\r\n                    'sprite.add',      // name\r\n                    AddSprite,         // callback\r\n                    [name, ...args],   // params\r\n                    textPlayer,        // scope\r\n                );\r\n            } else {\r\n                return;\r\n            }\r\n\r\n            parser.skipEvent();\r\n        })\r\n        .on('-', function (tag) {\r\n            if (parser.skipEventFlag) {  // Has been processed before\r\n                return;\r\n            }\r\n\r\n            // [/sprite.name]\r\n            var tags = tag.split('.');\r\n            if (IsAddSpriteTag(tags, prefix)) {\r\n                var name = tags[1];\r\n                AppendCommandBase.call(textPlayer,\r\n                    'sprite.remove',   // name\r\n                    RemoveSprite,      // callback\r\n                    name,              // params\r\n                    textPlayer,        // scope\r\n                );\r\n            } else {\r\n                return;\r\n            }\r\n\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar AddSprite = function (params) {\r\n    // this: textPlayer\r\n    this.spriteManager.add(...params);\r\n}\r\n\r\nvar RemoveSprite = function (name) {\r\n    // this: textPlayer\r\n    this.spriteManager.remove(name);\r\n}\r\n\r\nexport default OnParseAddSpriteTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseRemoveAllSpritesTag = function (textPlayer, parser, config) {\r\n    var prefix = GetValue(config, 'sprite', 'sprite');\r\n    if (!prefix) {\r\n        return;\r\n    }\r\n    parser\r\n        .on('-', function (tag) {\r\n            if (parser.skipEventFlag) {  // Has been processed before\r\n                return;\r\n            }\r\n\r\n            // [/sprite]\r\n            if (tag === prefix) {\r\n                AppendCommandBase.call(textPlayer,\r\n                    'sprite.removeall',    // name\r\n                    RemoveAllSprites,      // callback\r\n                    undefined,             // params\r\n                    textPlayer,            // scope\r\n                );\r\n            } else {\r\n                return;\r\n            }\r\n\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar RemoveAllSprites = function () {\r\n    // this: textPlayer\r\n    this.spriteManager.removeAll();\r\n}\r\n\r\nexport default OnParseRemoveAllSpritesTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar IsSetTextureTag = function (tags, prefix) {\r\n    // sprite.name.texture\r\n    return (tags.length === 3) && (tags[0] === prefix) && (tags[2] === 'texture')\r\n}\r\n\r\nvar OnParseSetTextureTag = function (textPlayer, parser, config) {\r\n    var prefix = GetValue(config, 'sprite', 'sprite');\r\n    if (!prefix) {\r\n        return;\r\n    }\r\n    parser\r\n        .on('+', function (tag, textureKey, frameKey) {\r\n            if (parser.skipEventFlag) {  // Has been processed before\r\n                return;\r\n            }\r\n\r\n            // [sprite.name.texture=key,frame]\r\n            var tags = tag.split('.');\r\n            if (IsSetTextureTag(tags, prefix)) {\r\n                var name = tags[1];\r\n                AppendCommandBase.call(textPlayer,\r\n                    'sprite.texture',               // name\r\n                    SetTexture,                     // callback\r\n                    [name, textureKey, frameKey],   // params\r\n                    textPlayer,                     // scope\r\n                );\r\n            } else {\r\n                return;\r\n            }\r\n\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar SetTexture = function (params) {\r\n    // this: textPlayer\r\n    this.spriteManager.setTexture(...params);\r\n}\r\n\r\nexport default OnParseSetTextureTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar IsPlayAnimationTag = function (tags, prefix) {\r\n    // sprite.name.play \r\n    return (tags.length === 3) && (tags[0] === prefix) && (tags[2] === 'play');\r\n}\r\n\r\nvar IsStopAnimationTag = function (tags, prefix) {\r\n    // sprite.name.stop \r\n    return (tags.length === 3) && (tags[0] === prefix) && (tags[2] === 'stop');\r\n}\r\n\r\nvar OnParsePlayAnimationTag = function (textPlayer, parser, config) {\r\n    var prefix = GetValue(config, 'sprite', 'sprite');\r\n    if (!prefix) {\r\n        return;\r\n    }\r\n    parser\r\n        .on('+', function (tag) {\r\n            if (parser.skipEventFlag) {  // Has been processed before\r\n                return;\r\n            }\r\n\r\n            // [sprite.name.play=key], or [sprite.name.play=key0,key1,...]\r\n            var tags = tag.split('.');\r\n            var name;\r\n            if (IsPlayAnimationTag(tags, prefix)) {\r\n                name = tags[1];\r\n            } else {\r\n                return;\r\n            }\r\n            var keys = Array.prototype.slice.call(arguments, 1);\r\n            AppendCommandBase.call(textPlayer,\r\n                'sprite.play',   // name\r\n                PlayAnimation,   // callback\r\n                [name, keys],     // params\r\n                textPlayer,      // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n        .on('+', function (tag) {\r\n            if (parser.skipEventFlag) {  // Has been processed before\r\n                return;\r\n            }\r\n\r\n            // [sprite.name.stop]\r\n            var tags = tag.split('.');\r\n            var name;\r\n            if (IsStopAnimationTag(tags, prefix)) {\r\n                name = tags[1];\r\n            } else {\r\n                return;\r\n            }\r\n            AppendCommandBase.call(textPlayer,\r\n                'sprite.stop',   // name\r\n                StopAnimation,   // callback\r\n                name,            // params\r\n                textPlayer,      // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n        .on('-', function (tag) {\r\n            if (parser.skipEventFlag) {  // Has been processed before\r\n                return;\r\n            }\r\n\r\n            // [/sprite.name.play]\r\n            var tags = tag.split('.');\r\n            var name;\r\n            if (IsPlayAnimationTag(tags, prefix)) {\r\n                name = tags[1];\r\n            } else {\r\n                return;\r\n            }\r\n            AppendCommandBase.call(textPlayer,\r\n                'sprite.stop',    // name\r\n                StopAnimation,      // callback\r\n                name,              // params\r\n                textPlayer,        // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar PlayAnimation = function (params) {\r\n    var name = params[0];\r\n    var keys = params[1];\r\n    var key = keys.shift();\r\n\r\n    // this: textPlayer\r\n    this.spriteManager.playAnimation(name, key);\r\n    if (keys.length > 0) {\r\n        this.spriteManager.chainAnimation(name, keys);\r\n    }\r\n}\r\n\r\nvar StopAnimation = function (name) {\r\n    // this: textPlayer\r\n    this.spriteManager.stopAnimation(name);\r\n}\r\n\r\nexport default OnParsePlayAnimationTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar IsChainAnimationTag = function (tags, prefix) {\r\n    // sprite.name.chain \r\n    return (tags.length === 3) && (tags[0] === prefix) && (tags[2] === 'chain');\r\n}\r\n\r\nvar OnParseChainAnimationTag = function (textPlayer, parser, config) {\r\n    var prefix = GetValue(config, 'sprite', 'sprite');\r\n    if (!prefix) {\r\n        return;\r\n    }\r\n    parser\r\n        .on('+', function (tag) {\r\n            if (parser.skipEventFlag) {  // Has been processed before\r\n                return;\r\n            }\r\n\r\n            // [sprite.name.chain=key]\r\n            var tags = tag.split('.');\r\n            var name;\r\n            if (IsChainAnimationTag(tags, prefix)) {\r\n                name = tags[1];\r\n            } else {\r\n                return;\r\n            }\r\n            var keys = Array.prototype.slice.call(arguments, 1);\r\n            AppendCommandBase.call(textPlayer,\r\n                'sprite.chain',   // name\r\n                ChainAnimation,   // callback\r\n                [name, keys],     // params\r\n                textPlayer,       // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar ChainAnimation = function (params) {\r\n    // this: textPlayer\r\n    this.spriteManager.chainAnimation(...params);\r\n}\r\n\r\nexport default OnParseChainAnimationTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar IsPauseAnimationTag = function (tags, prefix) {\r\n    // sprite.name.pause \r\n    return (tags.length === 3) && (tags[0] === prefix) && (tags[2] === 'pause');\r\n}\r\n\r\nvar OnParsePauseAnimationTag = function (textPlayer, parser, config) {\r\n    var prefix = GetValue(config, 'sprite', 'sprite');\r\n    if (!prefix) {\r\n        return;\r\n    }\r\n    parser\r\n        .on('+', function (tag) {\r\n            if (parser.skipEventFlag) {  // Has been processed before\r\n                return;\r\n            }\r\n\r\n            // [sprite.name.chain=key]\r\n            var tags = tag.split('.');\r\n            var name;\r\n            if (IsPauseAnimationTag(tags, prefix)) {\r\n                name = tags[1];\r\n            } else {\r\n                return;\r\n            }\r\n            AppendCommandBase.call(textPlayer,\r\n                'sprite.pause',   // name\r\n                PauseAnimation,   // callback\r\n                name,             // params\r\n                textPlayer,       // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar PauseAnimation = function (name) {\r\n    // this: textPlayer\r\n    this.spriteManager.pauseAnimation(name);\r\n}\r\n\r\nexport default OnParsePauseAnimationTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar IsSetPropertyTag = function (tags, prefix) {\r\n    // sprite.name.prop\r\n    return (tags.length === 3) && (tags[0] === prefix);\r\n}\r\n\r\nvar OnParseSetSpritePropertyTag = function (textPlayer, parser, config) {\r\n    var prefix = GetValue(config, 'sprite', 'sprite');\r\n    if (!prefix) {\r\n        return;\r\n    }\r\n    parser\r\n        .on(`+`, function (tag, value) {\r\n            if (parser.skipEventFlag) {  // Has been processed before\r\n                return;\r\n            }\r\n\r\n            // [sprite.name.prop=value]\r\n            var tags = tag.split('.');\r\n            var name, property;\r\n            if (IsSetPropertyTag(tags, prefix)) {\r\n                name = tags[1];\r\n                property = tags[2];\r\n            } else {\r\n                return;\r\n            }\r\n            AppendCommandBase.call(textPlayer,\r\n                'sprite.set',                   // name\r\n                SetProperty,                    // callback\r\n                [name, property, value],        // params\r\n                textPlayer,                     // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar SetProperty = function (params) {\r\n    // this: textPlayer\r\n    this.spriteManager.setProperty(...params);\r\n}\r\n\r\nexport default OnParseSetSpritePropertyTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar EaseMode = {\r\n    to: true,\r\n    yoyo: true\r\n}\r\n\r\nvar IsEasePropertyTag = function (tags, prefix) {\r\n    // sprite.name.prop.to, or sprite.name.prop.yoyo\r\n    return (tags.length === 4) && (tags[0] === prefix) && EaseMode[tags[3]];\r\n}\r\n\r\nvar OnParseEaseSpritePropertyTag = function (textPlayer, parser, config) {\r\n    var prefix = GetValue(config, 'sprite', 'sprite');\r\n    if (!prefix) {\r\n        return;\r\n    }\r\n    parser\r\n        .on(`+`, function (tag, value, duration, ease, repeat) {\r\n            if (parser.skipEventFlag) {  // Has been processed before\r\n                return;\r\n            }\r\n\r\n            if (typeof (ease) === 'number') {\r\n                repeat = ease;\r\n                ease = undefined;\r\n            }\r\n\r\n            // [sprite.name.prop.to=value,duration]\r\n            // [sprite.name.prop.to=value,duration,ease,repeat]\r\n            // [sprite.name.prop.to=value,duration,repeat]\r\n            var tags = tag.split('.');\r\n            var name, property, isYoyo;\r\n            if (IsEasePropertyTag(tags, prefix)) {\r\n                name = tags[1];\r\n                property = tags[2];\r\n                isYoyo = (tags[3] === 'yoyo');\r\n            } else {\r\n                return;\r\n            }\r\n            AppendCommandBase.call(textPlayer,\r\n                'sprite.ease',               // name\r\n                EaseProperty,                // callback\r\n                [\r\n                    name, property, value,\r\n                    duration, ease, repeat, isYoyo\r\n                ],                            // params\r\n                textPlayer,                   // scope\r\n            );\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nvar EaseProperty = function (params) {\r\n    // this: textPlayer\r\n    this.spriteManager.easeProperty(...params);\r\n}\r\n\r\nexport default OnParseEaseSpritePropertyTag;","import AppendCommandBase from '../../../dynamictext/methods/AppendCommand.js';\r\n\r\nvar OnParseCustomTag = function (textPlayer, parser, config) {\r\n    parser\r\n        .on('start', function () {\r\n            textPlayer.emit('parser.start', parser);\r\n        })\r\n        .on('+', function (tagName, ...value) {\r\n            if (parser.skipEventFlag) {  // Has been processed before\r\n                return;\r\n            }\r\n\r\n            var startTag = `+${tagName}`;\r\n            var param = value;\r\n            textPlayer.emit(`parser.${startTag}`, parser, ...value, param);\r\n            AppendCommand(textPlayer, startTag, param);\r\n        })\r\n        .on('-', function (tagName) {\r\n            if (parser.skipEventFlag) {\r\n                return;\r\n            }\r\n\r\n            var endTag = `-${tagName}`;\r\n            var param = [];\r\n            textPlayer.emit(`parser.${endTag}`, parser, param);\r\n            AppendCommand(textPlayer, endTag, param);\r\n        })\r\n        .on('complete', function () {\r\n            textPlayer.emit('parser.complete', parser);\r\n        })\r\n}\r\n\r\nvar FireEvent = function (param, tagName) {\r\n    var eventName = `tag.${tagName}`;\r\n    // this: textPlayer\r\n    if (param == null) {\r\n        this.emit(eventName);\r\n    } else {\r\n        this.emit(eventName, ...param);\r\n    }\r\n\r\n}\r\n\r\nvar AppendCommand = function (textPlayer, name, param) {\r\n    AppendCommandBase.call(textPlayer,\r\n        name,         // name\r\n        FireEvent,    // callback\r\n        param,        // params\r\n        textPlayer,   // scope\r\n    );\r\n}\r\n\r\nexport default OnParseCustomTag;","import AppendTextBase from '../../../dynamictext/methods/AppendText.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseNewLineTag = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.r', 'r');\r\n    parser\r\n        .on(`+${tagName}`, function () {\r\n            AppendTextBase.call(textPlayer, '\\n');\r\n            parser.skipEvent();\r\n        })\r\n        .on(`-${tagName}`, function () {            \r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nexport default OnParseNewLineTag;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseContentOff = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.content.off', 'content.off');\r\n    parser\r\n        .on(`+${tagName}`, function () {\r\n            parser.setContentOutputEnable(false);\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nexport default OnParseContentOff;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OnParseContentOn = function (textPlayer, parser, config) {\r\n    var tagName = GetValue(config, 'tags.content.on', 'content.on');\r\n    parser\r\n        .on(`+${tagName}`, function () {\r\n            parser.setContentOutputEnable();\r\n            parser.skipEvent();\r\n        })\r\n}\r\n\r\nexport default OnParseContentOn;","import AppendTextBase from '../../../dynamictext/methods/AppendText.js';\r\n\r\nvar OnParseContent = function (textPlayer, parser, config) {\r\n    parser\r\n        .on('content', function (content) {\r\n            if (parser.contentOutputEnable) {\r\n                AppendTextBase.call(textPlayer, content);\r\n            } else {\r\n                var startTag = `+${parser.lastTagStart}`;\r\n                textPlayer.emit(`parser.${startTag}#content`, parser, content);\r\n            }\r\n        })\r\n}\r\n\r\nexport default OnParseContent;","import ParseColorTag from './textstyle/OnParseColorTag.js';\r\nimport ParseStrokeColorTag from './textstyle/OnParseStrokeColorTag.js';\r\nimport ParseBoldTag from './textstyle/OnParseBoldTag.js';\r\nimport ParseItalicTag from './textstyle/OnParseItalicTag.js';\r\nimport ParseFontSizeTag from './textstyle/OnParseFontSizeTag.js';\r\nimport ParseOffsetYTag from './textstyle/OnParseOffsetYTag.js';\r\nimport ParseShadowColorTag from './textstyle/OnParseShadowColorTag.js';\r\nimport ParseAlignTag from './textstyle/OnParseAlignTag.js'\r\nimport ParseImageTag from './image/OnParseImageTag.js';\r\nimport ParseTypingSpeedTag from './typing/OnParseTypingSpeedTag.js';\r\nimport ParsePlaySoundEffectTag from './soundeffect/OnParsePlaySoundEffectTag.js';\r\nimport ParseFadeInSoundEffectTag from './soundeffect/OnParseFadeInSoundEffectTag.js';\r\nimport ParseFadeOutSoundEffectTag from './soundeffect/OnParseFadeOutSoundEffectTag.js';\r\nimport ParseSetSoundEffectVolumeTag from './soundeffect/OnParseSetSoundEffectVolumeTag.js';\r\nimport ParsePlayBackgroundMusicTag from './backgroundmusic/OnParsePlayBackgroundMusicTag.js';\r\nimport ParseFadeInBackgroundMusicTag from './backgroundmusic/OnParseFadeInBackgroundMusicTag.js';\r\nimport ParseFadeOutBackgroundMusicTag from './backgroundmusic/OnParseFadeOutBackgroundMusicTag.js';\r\nimport ParseCrossFadeBackgroundMusicTag from './backgroundmusic/OnParseCrossFadeBackgroundMusicTag.js';\r\nimport ParsePauseBackgroundMusicTag from './backgroundmusic/OnParsePauseBackgroundMusicTag.js';\r\nimport ParseFadeInCameraTag from './camera/OnParseFadeInCameraTag.js';\r\nimport ParseFadeOutCameraTag from './camera/OnParseFadeOutCameraTag.js';\r\nimport ParseShakeCameraTag from './camera/OnParseShakeCameraTag.js';\r\nimport ParseFlashCameraTag from './camera/OnParseFlashCameraTag.js';\r\nimport ParseZoomCameraTag from './camera/OnParseZoomCameraTag.js';\r\nimport ParseRotateCameraTag from './camera/OnParseRotateCameraTag.js';\r\nimport ParseScrollCameraTag from './camera/OnParseScrollCameraTag.js';\r\nimport ParseWaitTag from './wait/OnParseWaitTag.js';\r\nimport ParseAddSpriteTag from './sprites/OnParseAddSpriteTag.js';\r\nimport ParseRemoveAllSpriteTag from './sprites/OnParseRemoveAllSpritesTag.js';\r\nimport ParseSetTextureTag from './sprites/OnParseSetTextureTag.js';\r\nimport ParsePlayAnimationTag from './sprites/OnParsePlayAnimationTag.js';\r\nimport ParseChainAnimationTag from './sprites/OnParseChainAnimationTag.js';\r\nimport ParsePauseAnimationTag from './sprites/OnParsePauseAnimationTag.js';\r\nimport ParseSetSpritePropertyTag from './sprites/OnParseSetSpritePropertyTag.js';\r\nimport ParseEaseSpritePropertyTag from './sprites/OnParseEaseSpritePropertyTag.js';\r\nimport ParseCustomTag from './custom/OnParseCustomTag.js';\r\nimport ParseNewLineTag from './content/OnParseNewLineTag.js';\r\nimport ParseContentOff from './content/OnParseContentOff.js';\r\nimport ParseContentOn from './content/OnParseContentOn.js';\r\nimport ParseContent from './content/OnParseContent.js';\r\n\r\nconst ParseCallbacks = [\r\n    ParseColorTag, ParseStrokeColorTag,\r\n    ParseBoldTag, ParseItalicTag,\r\n    ParseFontSizeTag, ParseOffsetYTag, ParseShadowColorTag, ParseAlignTag,\r\n    ParseImageTag,\r\n\r\n    ParseTypingSpeedTag,\r\n\r\n    ParsePlaySoundEffectTag, ParseFadeInSoundEffectTag, ParseFadeOutSoundEffectTag, ParseSetSoundEffectVolumeTag,\r\n    ParsePlayBackgroundMusicTag, ParseFadeInBackgroundMusicTag, ParseFadeOutBackgroundMusicTag, ParseCrossFadeBackgroundMusicTag, ParsePauseBackgroundMusicTag,\r\n\r\n    ParseFadeInCameraTag, ParseFadeOutCameraTag, ParseShakeCameraTag, ParseFlashCameraTag, ParseZoomCameraTag, ParseRotateCameraTag, ParseScrollCameraTag,\r\n\r\n    ParseWaitTag,\r\n\r\n    ParseAddSpriteTag, ParseRemoveAllSpriteTag,\r\n    ParseSetTextureTag, ParsePlayAnimationTag, ParseChainAnimationTag, ParsePauseAnimationTag,\r\n    ParseSetSpritePropertyTag, ParseEaseSpritePropertyTag, // Add ParseSetSpritePropertyTag later    \r\n\r\n    ParseCustomTag,\r\n\r\n    ParseNewLineTag,\r\n    ParseContentOff, ParseContentOn,\r\n    ParseContent\r\n];\r\n\r\nvar AddParseCallbacks = function (textPlayer, parser, config) {\r\n    for (var i = 0, cnt = ParseCallbacks.length; i < cnt; i++) {\r\n        ParseCallbacks[i](textPlayer, parser, config);\r\n    }\r\n}\r\n\r\nexport default AddParseCallbacks;","/*\r\nSkip line\r\n- An empty line, only has space\r\n- A comment line, start with commentLineStart ('//')\r\n*/\r\n\r\nvar PreProcess = function (parser, source) {\r\n    var comentLineStart = parser.commentLineStart;\r\n    var lines = source.split('\\n');\r\n    for (var i = 0, cnt = lines.length; i < cnt; i++) {\r\n        var line = lines[i];\r\n        if (line === '') {\r\n            // Do nothing\r\n\r\n        } else if (line.trim().length === 0) {\r\n            // An empty line, only has space\r\n            lines[i] = '';\r\n\r\n        } else if (comentLineStart && line.startsWith(comentLineStart)) {\r\n            // A comment line, start with commentLineStart ('//')\r\n            lines[i] = '';\r\n        }\r\n    }\r\n    // Use [r] to put \\n\r\n    return lines.join('');\r\n}\r\n\r\nexport default PreProcess;","import BracketParser from '../../../../bracketparser.js';\r\nimport AddParseCallbacks from './AddParseCallbacks.js';\r\nimport PreProcessSource from './PreProcessSource.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Parser extends BracketParser {\r\n    constructor(textPlayer, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n        if (!config.hasOwnProperty('delimiters')) {\r\n            config.delimiters = '[]';\r\n        }\r\n        super(config);\r\n\r\n        AddParseCallbacks(textPlayer, this, config);\r\n\r\n        this.setCommentLineStartSymbol(GetValue(config, 'comment', '//'));\r\n        this.setContentOutputEnable();\r\n    }\r\n\r\n    setCommentLineStartSymbol(symbol) {\r\n        this.commentLineStart = symbol;\r\n        return this;\r\n    }\r\n\r\n    setContentOutputEnable(enable) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n        this.contentOutputEnable = enable;\r\n        return this;\r\n    }\r\n\r\n    start(source) {\r\n        super.start(PreProcessSource(this, source));\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default Parser;","export default {\r\n    setDefaultTypingSpeed(speed) {\r\n        this.defaultSpeed = speed;\r\n        return this;\r\n    },\r\n\r\n    setTypingSpeed(speed) {\r\n        if (speed === undefined) {\r\n            speed = this.defaultSpeed;\r\n        }\r\n        this.speed = speed;\r\n        return this;\r\n    },\r\n}","var WaitEvent = function (eventEmitter, eventName) {\r\n    return new Promise(function (resolve, reject) {\r\n        eventEmitter.once(eventName, function () {\r\n            resolve();\r\n        });\r\n    });\r\n}\r\n\r\nvar WaitComplete = function (eventEmitter) {\r\n    return WaitEvent(eventEmitter, 'complete');\r\n}\r\n\r\nexport { WaitEvent, WaitComplete };","import { WaitComplete } from '../../../../utils/promise/WaitEvent.js';\r\n\r\nvar Start = function (children) {\r\n    this.children = children;\r\n    this.index = 0;\r\n    this.isPageTyping = true;\r\n\r\n    if (this.onTypeStart) {\r\n        this.onTypeStart(children);\r\n    }\r\n    this.typing();\r\n\r\n    return WaitComplete(this);  // Promise\r\n}\r\n\r\nexport default Start;","const TypingDelayTimerType = 'delay';\r\nconst TypingAnimationTimerType = 'anim';\r\n\r\nexport {\r\n    TypingAnimationTimerType,\r\n    TypingDelayTimerType\r\n}","import { CanRender, IsCommand } from '../../dynamictext/bob/Types.js';\r\nimport { TypingDelayTimerType, TypingAnimationTimerType, } from './TimerTypes.js';\r\n\r\nvar Typing = function (offsetTime) {\r\n    if (offsetTime === undefined) {\r\n        offsetTime = 0;\r\n    }\r\n\r\n    var delay = 0;\r\n    this.inTypingProcessLoop = true;\r\n    while (this.inTypingProcessLoop) {\r\n        var child = this.getNextChild();\r\n        if (!child) {\r\n            if (this.timeline.isRunning) {\r\n                // Wait until last animationConfig is end\r\n                this.timeline.once('complete', function () {\r\n                    this.isPageTyping = false;\r\n                    this.emit('complete');\r\n                }, this);\r\n            } else {\r\n                this.isPageTyping = false;\r\n                this.emit('complete');\r\n            }\r\n            break;  // Leave this typing loop\r\n        }\r\n\r\n        if (CanRender(child)) {\r\n            // Typing this char\r\n            var animationConfig = this.animationConfig;\r\n            if (animationConfig.duration > 0) {\r\n                var animationTimer = this.timeline.addTimer({\r\n                    name: TypingAnimationTimerType,\r\n                    target: child,\r\n                    duration: animationConfig.duration,\r\n                    yoyo: animationConfig.yoyo,\r\n                    onStart: animationConfig.onStart,\r\n                    onProgress: animationConfig.onProgress,\r\n                    onComplete: animationConfig.onComplete,\r\n                })\r\n                if (this.skipTypingAnimation) {\r\n                    animationTimer.seek(1);\r\n                }\r\n            } else {  // No animationConfig, only invoke onStart callback\r\n                if (animationConfig.onStart) {\r\n                    animationConfig.onStart(child, 0);\r\n                }\r\n            }\r\n            this.textPlayer.emit('typing', child);\r\n\r\n            delay += (this.speed + offsetTime);\r\n            offsetTime = 0;\r\n            var isLastChild = (this.index === this.children.length);  // this.index: Point to next child\r\n            if ((delay > 0) && !isLastChild) {\r\n                // Process next character later\r\n                this.typingTimer = this.timeline.addTimer({\r\n                    name: TypingDelayTimerType,\r\n                    target: this,\r\n                    duration: delay,\r\n                    onComplete: function (target, t, timer) {\r\n                        target.typingTimer = undefined;\r\n                        Typing.call(target, timer.remainder);\r\n                    }\r\n                })\r\n                break;  // Leave this typing loop                \r\n            }\r\n            // Process next child\r\n        } else if (IsCommand(child)) {\r\n            child.exec();\r\n            // Process next child\r\n        }\r\n\r\n    }\r\n\r\n    this.inTypingProcessLoop = false;\r\n}\r\n\r\nexport default Typing;","var Pause = function () {\r\n    // Pause typing timer and animation progresses\r\n    this.timeline.pause(); \r\n    return this;\r\n}\r\n\r\nexport default Pause;","var Resume = function () {\r\n    // Resume typing timer and animation progresses\r\n    this.timeline.resume();\r\n    return this;\r\n}\r\n\r\nexport default Resume;","var PauseTyping = function () {\r\n    // Already in typingPaused state\r\n    if (this.isTypingPaused) {\r\n        return this;\r\n    }\r\n\r\n    if (this.typingTimer) {  // Pause when typing timer is counting\r\n        this.typingTimer.pause();\r\n        this.isTypingPaused = true;\r\n    } else if (this.inTypingProcessLoop) {  // Pause in loop of typing(), by tag\r\n        this.inTypingProcessLoop = false;\r\n        this.isTypingPaused = true;\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default PauseTyping;","var ResumeTyping = function (offsetTime) {\r\n    // Already not in typingPaused state\r\n    if (!this.isTypingPaused) {\r\n        return this;\r\n    }\r\n    if (offsetTime === undefined) {\r\n        offsetTime = 0;\r\n    }\r\n\r\n    if (this.typingTimer) {  // Pause when typing timer is paused\r\n        this.isTypingPaused = false;\r\n        this.typingTimer.resume();\r\n        this.typingTimer.remainder += offsetTime;\r\n    } else if (this.isTypingPaused) {  // Resume paused by tag\r\n        this.isTypingPaused = false;\r\n        this.typing(offsetTime);\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default ResumeTyping;","// Internal events\r\n\r\nconst RemoveWaitEvents = '_remove.wait';\r\nconst StopPlayEvent = '_remove.play';\r\n\r\nconst ClearEvents = [\r\n    RemoveWaitEvents,\r\n    StopPlayEvent\r\n]\r\n\r\nexport {\r\n    RemoveWaitEvents,\r\n    StopPlayEvent,\r\n    ClearEvents\r\n}","import { RemoveWaitEvents } from '../Events.js';\r\n\r\nvar GetWrapCallback = function (textPlayer, callback, args, scope, removeFrom) {\r\n    return function () {\r\n        textPlayer.emit(RemoveWaitEvents, removeFrom); // Remove all wait events\r\n        callback.apply(scope, args);\r\n    }\r\n}\r\nexport default GetWrapCallback;","import GetWrapCallback from './GetWrapCallback.js';\r\n\r\nvar WaitCallback = function (textPlayer, postfixName, callback, args, scope) {\r\n    var wrapCallback = GetWrapCallback(textPlayer, callback, args, scope, 'custom');\r\n\r\n    var eventName = (postfixName) ? `wait.${postfixName}` : 'wait';\r\n    textPlayer.emit(eventName, wrapCallback);\r\n}\r\n\r\nexport default WaitCallback;\r\n","var DelayCall = function (textPlayer, delay, callback, args, scope) {\r\n    return textPlayer.typeWriter.timeline.delayCall(delay, callback, args, scope);\r\n}\r\n\r\nexport default DelayCall;","import GetWrapCallback from './GetWrapCallback.js';\r\nimport DelayCall from '../DelayCall.js';\r\nimport { RemoveWaitEvents } from '../Events.js';\r\n\r\nvar WaitTime = function (textPlayer, time, callback, args, scope) {\r\n    var wrapCallback = GetWrapCallback(textPlayer, callback, args, scope, 'time');\r\n\r\n    var timer;\r\n\r\n    // Remove all wait events\r\n    textPlayer.once(RemoveWaitEvents, function () {\r\n        if (timer) {\r\n            timer.remove();\r\n            timer = undefined;\r\n        }\r\n    });\r\n\r\n    timer = DelayCall(textPlayer, time, wrapCallback);\r\n\r\n    textPlayer.emit('wait.time', time);\r\n}\r\n\r\nexport default WaitTime;","import GetWrapCallback from './GetWrapCallback.js';\r\nimport { RemoveWaitEvents } from '../Events.js';\r\n\r\nvar WaitClick = function (textPlayer, callback, args, scope) {\r\n    var clickEE = textPlayer.clickEE;\r\n\r\n    if (!clickEE) {\r\n        return;\r\n    }\r\n\r\n    var wrapCallback = GetWrapCallback(textPlayer, callback, args, scope, 'click');\r\n\r\n    // Remove all wait events\r\n    textPlayer.once(RemoveWaitEvents, function () {\r\n        clickEE.off('pointerdown', wrapCallback, textPlayer);\r\n    });\r\n\r\n    clickEE.once('pointerdown', wrapCallback, textPlayer);\r\n\r\n    textPlayer.emit('wait.click');\r\n}\r\n\r\nexport default WaitClick;","import GetWrapCallback from './GetWrapCallback.js';\r\nimport { RemoveWaitEvents } from '../Events.js';\r\n\r\nvar WaitMusic = function (textPlayer, music, callback, args, scope) {\r\n    var wrapCallback = GetWrapCallback(textPlayer, callback, args, scope, 'music');\r\n\r\n    if (music) {\r\n        // Remove all wait events\r\n        textPlayer.once(RemoveWaitEvents, function () {\r\n            music.off('complete', wrapCallback, textPlayer);\r\n        });\r\n\r\n        music.once('complete', wrapCallback, textPlayer);\r\n    }\r\n\r\n    textPlayer.emit('wait.music', music);\r\n\r\n    if (!music) {\r\n        wrapCallback();\r\n    }\r\n}\r\n\r\nexport default WaitMusic;","import GetWrapCallback from './GetWrapCallback.js';\r\nimport { RemoveWaitEvents } from '../Events.js';\r\n\r\nvar IsWaitCameraEffect = function (name) {\r\n    switch (name) {\r\n        case 'camera.fadein':\r\n        case 'camera.fadeout':\r\n        case 'camera.flash':\r\n        case 'camera.shake':\r\n        case 'camera.zoom':\r\n        case 'camera.rotate':\r\n        case 'camera.scroll':\r\n            return true;\r\n        default:\r\n            return false;\r\n    }\r\n}\r\n\r\nvar WaitCameraEffect = function (textPlayer, effectName, callback, args, scope) {\r\n    var wrapCallback = GetWrapCallback(textPlayer, callback, args, scope, `camera.${effectName}`);\r\n\r\n    var camera = textPlayer.camera;\r\n\r\n    var effect, completeEventName;\r\n    switch (effectName) {\r\n        case 'camera.fadein':\r\n            effect = camera.fadeEffect;\r\n            completeEventName = 'camerafadeincomplete';\r\n            break;\r\n\r\n        case 'camera.fadeout':\r\n            effect = camera.fadeEffect;\r\n            completeEventName = 'camerafadeoutcomplete';\r\n            break;\r\n\r\n        case 'camera.flash':\r\n            effect = camera.flashEffect;\r\n            completeEventName = 'cameraflashcomplete';\r\n            break;\r\n\r\n        case 'camera.shake':\r\n            effect = camera.shakeEffect;\r\n            completeEventName = 'camerashakecomplete';\r\n            break;\r\n\r\n        case 'camera.zoom':\r\n            effect = camera.zoomEffect;\r\n            completeEventName = 'camerazoomcomplete';\r\n            break;\r\n\r\n        case 'camera.rotate':\r\n            effect = camera.rotateToEffect;\r\n            completeEventName = 'camerarotatecomplete';\r\n            break;\r\n\r\n        case 'camera.scroll':\r\n            effect = camera.panEffect;\r\n            completeEventName = 'camerapancomplete';\r\n            break;\r\n    }\r\n\r\n    if (!effect.isRunning) {\r\n        textPlayer.emit('wait.camera', effectName);\r\n        wrapCallback();\r\n\r\n    } else {\r\n        // Remove all wait events\r\n        textPlayer.once(RemoveWaitEvents, function (removeFrom) {\r\n            camera.off(completeEventName, wrapCallback, textPlayer);\r\n        });\r\n        camera.once(completeEventName, wrapCallback, textPlayer);\r\n        textPlayer.emit('wait.camera', effectName);\r\n    }\r\n\r\n}\r\n\r\nexport { IsWaitCameraEffect, WaitCameraEffect };","import GetWrapCallback from './GetWrapCallback.js';\r\nimport { RemoveWaitEvents } from '../Events.js';\r\n\r\nvar WaitKeyDown = function (textPlayer, keyName, callback, args, scope) {\r\n    var wrapCallback = GetWrapCallback(textPlayer, callback, args, scope, 'keydown');\r\n\r\n    var eventName = `keydown-${keyName.toUpperCase()}`;\r\n    var keyboard = textPlayer.scene.input.keyboard;\r\n\r\n    // Remove all wait events\r\n    textPlayer.once(RemoveWaitEvents, function () {\r\n        keyboard.off(eventName, wrapCallback, textPlayer);\r\n    });\r\n\r\n    keyboard.once(eventName, wrapCallback, textPlayer);\r\n\r\n    textPlayer.emit('wait.keydown', keyName);\r\n}\r\n\r\nexport default WaitKeyDown;","import GetWrapCallback from './GetWrapCallback.js';\r\nimport { RemoveWaitEvents } from '../Events.js';\r\n\r\nvar IsWaitSprite = function (name) {\r\n    // sprite, sprite.name, sprite.name.prop\r\n    var names = name.split('.');\r\n    return (names[0] === 'sprite') && (names.length <= 3);\r\n}\r\n\r\nvar WaitSprite = function (textPlayer, tag, callback, args, scope) {\r\n    var wrapCallback = GetWrapCallback(textPlayer, callback, args, scope);\r\n    var tags = tag.split('.');\r\n    var spriteManager = textPlayer.spriteManager;\r\n    switch (tags.length) {\r\n        case 1:  // sprite: wait all sprites has beeen destroyed\r\n            if (spriteManager.isEmpty) {\r\n                textPlayer.emit('wait.sprite');\r\n                wrapCallback();\r\n            } else {\r\n                // Remove all wait events\r\n                textPlayer.once(RemoveWaitEvents, function (removeFrom) {\r\n                    spriteManager.off('empty', wrapCallback, textPlayer);\r\n                });\r\n                spriteManager.once('empty', wrapCallback, textPlayer);\r\n                textPlayer.emit('wait.sprite');\r\n            }\r\n            break;\r\n\r\n        case 2:  // sprite.name: wait sprite.name has been destroyed\r\n            var name = tags[1];\r\n            if (spriteManager.has(name)) {\r\n                var spriteData = textPlayer.spriteManager.get(name);\r\n                var sprite = spriteData.sprite;\r\n                // Remove all wait events\r\n                textPlayer.once(RemoveWaitEvents, function () {\r\n                    sprite.off('destroy', wrapCallback, textPlayer);\r\n                });\r\n\r\n                sprite.once('destroy', wrapCallback, textPlayer);\r\n                textPlayer.emit('wait.sprite', name);\r\n            } else {\r\n                textPlayer.emit('wait.sprite', name);\r\n                wrapCallback();\r\n            }\r\n            break;\r\n\r\n        case 3:  // sprite.name.prop: wait ease sprite.name.prop has been completed\r\n            var name = tags[1];\r\n            var prop = tags[2];\r\n            var task = textPlayer.spriteManager.getTweenTask(name, prop);\r\n            if (task) {\r\n                // Remove all wait events\r\n                textPlayer.once(RemoveWaitEvents, function () {\r\n                    task.off('complete', wrapCallback, textPlayer);\r\n                });\r\n\r\n                task.once('complete', wrapCallback, textPlayer);\r\n                textPlayer.emit('wait.sprite', name, prop);\r\n            } else {\r\n                textPlayer.emit('wait.sprite', name, prop);\r\n                wrapCallback();\r\n            }\r\n            break;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport { IsWaitSprite, WaitSprite };","import WaitCallback from './WaitCallback.js';\r\nimport WaitTime from './WaitTime.js';\r\nimport WaitClick from './WaitClick.js';\r\nimport WaitMusic from './WaitMusic.js';\r\nimport { IsWaitCameraEffect, WaitCameraEffect } from './WaitCameraEffect.js';\r\nimport WaitKeyDown from './WaitKeyDown.js';\r\nimport { IsWaitSprite, WaitSprite } from './WaitSprite.js'\r\n\r\nconst KeyCodes = Phaser.Input.Keyboard.KeyCodes;\r\n\r\nvar WaitMultiple = function (textPlayer, names, callback, args, scope) {\r\n    if ((typeof (names) === 'string') && (names.length > 1) && (names.indexOf('|') !== -1)) {\r\n        names = names.split('|');\r\n    } else {\r\n        names = [names];\r\n    }\r\n\r\n    for (var i = 0, cnt = names.length; i < cnt; i++) {\r\n        var name = names[i];\r\n\r\n        if ((name == null) || (name === 'wait')) {  // Wait event\r\n            WaitCallback(textPlayer, undefined, callback, args, scope);\r\n\r\n        } else if ((typeof (name) === 'number') || !isNaN(name)) { // A number, or a number string\r\n            WaitTime(textPlayer, parseFloat(name), callback, args, scope);\r\n\r\n        } else if (name === 'click') {  // 'click'\r\n            WaitClick(textPlayer, callback, args, scope);\r\n\r\n        } else if (name === 'se') {\r\n            var music = textPlayer.soundManager.getLastSoundEffect();\r\n            WaitMusic(textPlayer, music, callback, args, scope);\r\n\r\n        } else if (name === 'bgm') {\r\n            var music = textPlayer.soundManager.getBackgroundMusic();\r\n            WaitMusic(textPlayer, music, callback, args, scope);\r\n\r\n        } else if (KeyCodes.hasOwnProperty(name.toUpperCase())) {\r\n            WaitKeyDown(textPlayer, name, callback, args, scope);\r\n\r\n        } else if (IsWaitCameraEffect(name)) {\r\n            WaitCameraEffect(textPlayer, name, callback, args, scope);\r\n\r\n        } else if (IsWaitSprite(name)) {\r\n            WaitSprite(textPlayer, name, callback, args, scope);\r\n\r\n        } else {\r\n            WaitCallback(textPlayer, name, callback, args, scope);\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport default WaitMultiple;","import WaitMultiple from '../methods/utils/wait/WaitMultiple.js';\r\n\r\nvar Wait = function (name) {\r\n    // Already in typingPaused state, or ignore any wait\r\n    if (this.ignoreWait) {\r\n        return this;\r\n    }\r\n\r\n    this.pauseTyping();\r\n    WaitMultiple(this.textPlayer, name, this.resumeTyping, [], this);\r\n\r\n    return this;\r\n}\r\n\r\nexport default Wait;","var SetTimeScale = function (value) {\r\n    this.timeScale = value;\r\n    return this;\r\n}\r\n\r\nexport default SetTimeScale;","var SetIgnoreWait = function (value) {\r\n    if (value === undefined) {\r\n        value = true;\r\n    }\r\n    this.ignoreWait = value;\r\n    return this;\r\n}\r\n\r\nexport default SetIgnoreWait;","import { TypingAnimationTimerType, } from './TimerTypes.js';\r\n\r\nvar SetSkipTypingAnimation = function (value) {\r\n    if (value === undefined) {\r\n        value = true;\r\n    }\r\n    this.skipTypingAnimation = value;\r\n\r\n    if (value) {\r\n        // Skip current playing typing-animation\r\n        var timers = this.timeline.getTimers(TypingAnimationTimerType);\r\n        for (var i = 0, cnt = timers.length; i < cnt; i++) {\r\n            timers[i].seek(1);\r\n        }\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default SetSkipTypingAnimation;","var SetSkipSoundEffect = function (value) {\r\n    if (value === undefined) {\r\n        value = true;\r\n    }\r\n    this.skipSoundEffect = value;\r\n\r\n    if (value) {\r\n        var soundManager = this.textPlayer._soundManager;\r\n        if (soundManager) {\r\n            soundManager.fadeOutAllSoundEffects(100, true);\r\n        }\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default SetSkipSoundEffect;","var SkipCurrentTypingDelay = function () {\r\n    if (this.typingTimer) {\r\n        this.typingTimer.seek(1);\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default SkipCurrentTypingDelay;","import TypingSpeedMethods from './TypingSpeedMethods.js';\r\nimport Start from './Start.js';\r\nimport Typing from './Typing.js';\r\nimport Pause from './Pause.js';\r\nimport Resume from './Resume.js';\r\nimport PauseTyping from './PauseTyping.js';\r\nimport ResumeTyping from './ResumeTyping.js';\r\nimport Wait from './Wait.js';\r\nimport SetTimeScale from './SetTimeScale.js';\r\nimport SetIgnoreWait from './SetIgnoreWait.js';\r\nimport SetSkipTypingAnimation from './SetSkipTypingAnimation.js';\r\nimport SetSkipSoundEffect from './SetSkipSoundEffect.js';\r\nimport SkipCurrentTypingDelay from './SkipCurrentTypingDelay.js';\r\n\r\nvar Methods = {\r\n    start: Start,\r\n    typing: Typing,\r\n    pause: Pause,\r\n    resume: Resume,\r\n    pauseTyping: PauseTyping,\r\n    resumeTyping: ResumeTyping,\r\n    wait: Wait,\r\n    setTimeScale: SetTimeScale,\r\n    setIgnoreWait: SetIgnoreWait,\r\n    setSkipTypingAnimation: SetSkipTypingAnimation,\r\n    setSkipSoundEffect: SetSkipSoundEffect,\r\n    skipCurrentTypingDelay: SkipCurrentTypingDelay,\r\n}\r\n\r\nObject.assign(\r\n    Methods,\r\n    TypingSpeedMethods\r\n);\r\n\r\nexport default Methods;","import TickTask from '../../utils/componentbase/TickTask.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass BaseClock extends TickTask {\r\n    constructor(parent, config) {\r\n        super(parent, config);\r\n\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.isRunning = GetValue(o, 'isRunning', false);\r\n        this.timeScale = GetValue(o, 'timeScale', 1);\r\n        this.now = GetValue(o, 'now', 0);\r\n        return this;\r\n    }\r\n\r\n    toJSON() {\r\n        return {\r\n            isRunning: this.isRunning,\r\n            timeScale: this.timeScale,\r\n            now: this.now,\r\n            tickingMode: this.tickingMode\r\n        };\r\n    }\r\n\r\n    // Override\r\n    // startTicking() { }\r\n\r\n    // Override\r\n    // stopTicking() {}\r\n\r\n    start(startAt) {\r\n        if (startAt === undefined) {\r\n            startAt = 0;\r\n        }\r\n        this.delta = 0;\r\n        this.now = startAt;\r\n        super.start();\r\n        return this;\r\n    }\r\n\r\n    seek(time) {\r\n        this.now = time;\r\n        return this;\r\n    }\r\n\r\n    setTimeScale(value) {\r\n        this.timeScale = value;\r\n        return this;\r\n    }\r\n\r\n    tick(delta) {\r\n        delta *= this.timeScale;\r\n        this.now += delta;\r\n        this.delta = delta;\r\n        this.emit('update', this.now, this.delta);\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default BaseClock;","import BaseClock from './BaseClock.js';\r\n\r\nclass Clock extends BaseClock {\r\n    startTicking() {\r\n        super.startTicking();\r\n        this.scene.sys.events.on('update', this.update, this);\r\n    }\r\n\r\n    stopTicking() {\r\n        super.stopTicking();\r\n        if (this.scene) { // Scene might be destoryed\r\n            this.scene.sys.events.off('update', this.update, this);\r\n        }\r\n    }\r\n\r\n    update(time, delta) {\r\n        if ((!this.isRunning) || (this.timeScale === 0)) {\r\n            return this;\r\n        }\r\n        this.tick(delta);\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default Clock;","var Yoyo = function (t, threshold) {\r\n    if (threshold === undefined) {\r\n        threshold = 0.5;\r\n    }\r\n    if (t <= threshold) {\r\n        t = t / threshold;\r\n    } else {\r\n        t = 1 - ((t - threshold) / (1 - threshold));\r\n    }\r\n\r\n    return t;\r\n}\r\n\r\nexport default Yoyo;","import Yoyo from '../../utils/math/Yoyo.js';\r\n\r\nconst Clamp = Phaser.Math.Clamp;\r\n\r\nclass Timer {\r\n    constructor(timeline, config) {\r\n        this\r\n            .setTimeline(timeline)\r\n            .reset(config)\r\n    }\r\n\r\n    setTimeline(timeline) {\r\n        this.timeline = timeline;\r\n        return this;\r\n    }\r\n\r\n    setName(name) {\r\n        this.name = name;\r\n        return this;\r\n    }\r\n\r\n    setCallbacks(target, onStart, onProgress, onComplete) {\r\n        this.target = target;\r\n        this.onStart = onStart;\r\n        this.onProgress = onProgress;\r\n        this.onComplete = onComplete;\r\n        return this;\r\n    }\r\n\r\n    setDuration(duration, yoyo) {\r\n        if (yoyo === undefined) {\r\n            yoyo = false;\r\n        }\r\n        this.duration = duration;\r\n        this.remainder = duration;\r\n        this.t = 0;\r\n        this.yoyo = yoyo;\r\n        return this;\r\n    }\r\n\r\n    setPaused(state) {\r\n        this.isPaused = state;\r\n        return this;\r\n    }\r\n\r\n    pause() {\r\n        this.isPaused = true;\r\n        return this;\r\n    }\r\n\r\n    resume() {\r\n        this.isPaused = false;\r\n        return this;\r\n    }\r\n\r\n    setRemoved(state) {\r\n        this.removed = state;\r\n        return this;\r\n    }\r\n\r\n    remove() {\r\n        this.removed = true;\r\n        return this;\r\n    }\r\n\r\n    seek(t) {\r\n        this.remainder = this.duration * (1 - t);\r\n        return this;\r\n    }\r\n\r\n    reset(o) {\r\n        this\r\n            .setName(o.name)\r\n            .setDuration(o.duration, o.yoyo)\r\n            .setCallbacks(o.target, o.onStart, o.onProgress, o.onComplete)\r\n            .setPaused(false)\r\n            .setRemoved(false)\r\n        return this;\r\n    }\r\n\r\n    onFree() {\r\n        this\r\n            .setTimeline()\r\n            .setCallbacks()\r\n    }\r\n\r\n    getProgress() {\r\n        var value = 1 - (this.remainder / this.duration);\r\n        value = Clamp(value, 0, 1);\r\n        if (this.yoyo) {\r\n            value = Yoyo(value);\r\n        }\r\n        return value;\r\n    }\r\n\r\n    setProgress(value) {\r\n        value = Clamp(value, 0, 1);\r\n        this.remainder = this.duration * (1 - value);\r\n    }\r\n\r\n    runCallback(callback) {\r\n        if (!callback) {\r\n            return;\r\n        }\r\n        callback(this.target, this.t, this);\r\n    }\r\n\r\n    update(time, delta) {\r\n        if (this.removed) {\r\n            return true;\r\n        } else if (this.isPaused) {\r\n            return false;\r\n        }\r\n\r\n        this.remainder -= delta;\r\n        this.t = this.getProgress();\r\n        this.runCallback(this.onProgress);\r\n\r\n        var isCompleted = (this.remainder <= 0);\r\n        if (isCompleted) {\r\n            this.runCallback(this.onComplete);\r\n        }\r\n        return isCompleted;\r\n    }\r\n}\r\n\r\nexport default Timer;","import Pool from '../../pool.js';\r\n\r\nclass TimerPool extends Pool {\r\n    allocate() {\r\n        return this.pop();\r\n    }\r\n\r\n    free(timer) {\r\n        timer.onFree();\r\n        this.push(timer);\r\n    }\r\n\r\n    freeMultiple(arr) {\r\n        for (var i = 0, cnt = arr.length; i < cnt; i++) {\r\n            this.free(arr[i]);\r\n        }\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default TimerPool;","import Clock from '../clock/Clock.js';\r\nimport Timer from './Timer.js';\r\nimport Pool from './TimerPool.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst TimerPool = new Pool();\r\n\r\nclass Timeline extends Clock {\r\n    constructor(parent, config) {\r\n        super(parent, config);\r\n\r\n        this.addedTimers = [];\r\n        this.timers = [];\r\n        this.timerPool = GetValue(config, 'pool', TimerPool);\r\n    }\r\n\r\n    shutdown() {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        this.timerPool\r\n            .freeMultiple(this.addedTimers)\r\n            .freeMultiple(this.timers);\r\n\r\n        this.timerPool = undefined;\r\n        this.addedTimers = undefined;\r\n        this.timers = undefined;\r\n\r\n        super.shutdown();\r\n    }\r\n\r\n    addTimer(config) {\r\n        var timer = this.timerPool.allocate();\r\n        if (!timer) {\r\n            timer = new Timer(this, config)\r\n        } else {\r\n            timer\r\n                .setTimeline(this)\r\n                .reset(config)\r\n        }\r\n        this.addedTimers.push(timer);\r\n        timer.runCallback(timer.onStart);\r\n\r\n        if (!this.isRunning) {\r\n            this.start();\r\n        }\r\n        return timer;\r\n    }\r\n\r\n    delayCall(delay, callback, args, scope) {\r\n        var timer = this.addTimer({\r\n            duration: delay,\r\n            onComplete: function (target, t, timer) {\r\n                if (args === undefined) {\r\n                    args = [];\r\n                }\r\n                args.push(timer);\r\n                callback.apply(scope, args);\r\n            }\r\n        })\r\n        return timer;\r\n    }\r\n\r\n    getTimers(name) {\r\n        var timers = [];\r\n\r\n        var timerQueues = [this.addedTimers, this.timers];\r\n        for (var ti = 0, tcnt = timerQueues.length; ti < tcnt; ti++) {\r\n            var timerQueue = timerQueues[ti];\r\n            for (var i = 0, cnt = timerQueue.length; i < cnt; i++) {\r\n                var timer = timerQueue[i];\r\n                if (timer.name === name) {\r\n                    timers.push(timer);\r\n                }\r\n            }\r\n        }\r\n        return timers;\r\n    }\r\n\r\n    update(time, delta) {\r\n        super.update(time, delta);\r\n\r\n        this.timers.push(...this.addedTimers);\r\n        this.addedTimers.length = 0;\r\n        var pendingTimers = [];\r\n        for (var i = 0, cnt = this.timers.length; i < cnt; i++) {\r\n            var timer = this.timers[i];\r\n            var isStopped = timer.update(this.now, this.delta);\r\n            if (isStopped) {\r\n                this.timerPool.free(timer);  // Free timer\r\n            } else {\r\n                pendingTimers.push(timer);  // Add to timer queue\r\n            }\r\n        }\r\n        this.timers = pendingTimers;\r\n\r\n        if ((this.timers.length === 0) && (this.addedTimers.length === 0)) {\r\n            this.complete(); // Emit 'complete' event\r\n        }\r\n    }\r\n}\r\n\r\nexport default Timeline","import EventEmitterMethods from '../../../../utils/eventemitter/EventEmitterMethods.js';\r\nimport Methods from './Methods.js';\r\nimport Timeline from '../../../../time/progresses/Timeline.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass TypeWriter {\r\n    constructor(textPlayer, config) {\r\n        this.setEventEmitter();\r\n        this.textPlayer = textPlayer;\r\n        this.isPageTyping = false;\r\n        this.timeline = new Timeline(textPlayer);\r\n        this.typingTimer = undefined;  // Typing delay\r\n        this.pauseTypingTimer = undefined;  // Wait time\r\n        this.inTypingProcessLoop = false;  // Used in this.typing()\r\n        this.isTypingPaused = false;  // Used in this.wait(), this.pauseTyping(), this.resumeTyping()\r\n        this.setIgnoreWait(false);\r\n        this.setSkipTypingAnimation(false);\r\n\r\n        this.setTypingStartCallback(GetValue(config, 'onTypingStart', SetChildrenInvisible));\r\n        this.setDefaultTypingSpeed(GetValue(config, 'speed', 250));\r\n        this.setTypingSpeed();\r\n        this.setAnimationConfig(GetValue(config, 'animation', undefined));\r\n    }\r\n\r\n    destroy() {\r\n        this.destroyEventEmitter();\r\n\r\n        this.textPlayer = undefined;\r\n\r\n        this.timeline.destroy();\r\n        this.timeline = undefined;\r\n\r\n        this.typingTimer = undefined;\r\n\r\n        this.pauseTypingTimer = undefined;\r\n\r\n        this.onTypeStart = undefined;\r\n\r\n        this.animationConfig = undefined;\r\n    }\r\n\r\n    set timeScale(value) {\r\n        this.timeline.timeScale = value;\r\n    }\r\n\r\n    get timeScale() {\r\n        return this.timeline.timeScale;\r\n    }\r\n\r\n    setTypingStartCallback(callback) {\r\n        this.onTypeStart = callback;\r\n        return this;\r\n    }\r\n\r\n    setAnimationConfig(config) {\r\n        if (!config) {\r\n            config = {};\r\n        }\r\n\r\n        if (!config.hasOwnProperty('duration')) {\r\n            config.duration = 0;\r\n        }\r\n\r\n        if (!config.hasOwnProperty('onStart')) {\r\n            // Apply default onStart callback\r\n            config.onStart = SetChildVisible;\r\n        }\r\n\r\n        this.animationConfig = config;\r\n        return this;\r\n    }\r\n\r\n    getNextChild() {\r\n        var child = this.children[this.index];\r\n        this.index = Math.min(this.index + 1, this.children.length);  // Point to next child\r\n        return child;\r\n    }\r\n}\r\n\r\nvar SetChildVisible = function (child) {\r\n    if (child.setVisible) {\r\n        child.setVisible();\r\n    }\r\n}\r\n\r\nvar SetChildrenInvisible = function (children) {\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        var child = children[i];\r\n        if (child.setVisible) {\r\n            child.setVisible(false);\r\n        }\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    TypeWriter.prototype,\r\n    EventEmitterMethods,\r\n    Methods,\r\n);\r\n\r\nexport default TypeWriter;","import EaseValueTaskBase from '../../utils/componentbase/tweentask/EaseValueTaskBase.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\r\nconst Linear = Phaser.Math.Linear;\r\n\r\nclass Fade extends EaseValueTaskBase {\r\n    constructor(scene, sound, config) {\r\n        sound.scene = scene;\r\n        sound.active = true;\r\n\r\n        super(sound, config);\r\n        // this.parent = sound\r\n        // this.timer\r\n\r\n        this.volume = {};\r\n        this.resetFromJSON(config);\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        super.resetFromJSON(o);\r\n        this.setMode(GetValue(o, 'mode', 0));\r\n        this.setEnable(GetValue(o, 'enable', true));\r\n        this.setVolumeRange(\r\n            GetAdvancedValue(o, 'volume.start', this.parent.volume),\r\n            GetAdvancedValue(o, 'volume.end', 0)\r\n        );\r\n        return this;\r\n    }\r\n\r\n    setMode(m) {\r\n        if (typeof (m) === 'string') {\r\n            m = MODE[m];\r\n        }\r\n        this.mode = m;\r\n        return this;\r\n    }\r\n\r\n    setVolumeRange(start, end) {\r\n        this.volume.start = start;\r\n        this.volume.end = end;\r\n        return this;\r\n    }\r\n\r\n    start() {\r\n        if (this.timer.isRunning) {\r\n            return this;\r\n        }\r\n\r\n        this.parent.setVolume(this.volume.start);\r\n\r\n        this.timer\r\n            .setDelay(this.delay)\r\n            .setDuration(this.duration);\r\n\r\n        super.start();\r\n        return this;\r\n    }\r\n\r\n    updateGameObject(sound, timer) {\r\n        sound.volume = Linear(this.volume.start, this.volume.end, timer.t);\r\n    }\r\n\r\n    complete() {\r\n        super.complete();\r\n\r\n        switch (this.mode) {\r\n            case 1:\r\n                this.parent.stop();\r\n                break;\r\n            case 2:\r\n                this.parent.destroy();\r\n                break;\r\n        }\r\n\r\n        return this;\r\n    }\r\n}\r\n\r\nconst MODE = {\r\n    stop: 1,\r\n    destroy: 2\r\n}\r\n\r\nexport default Fade;","import Fade from './Fade.js';\r\n\r\nvar FadeIn = function (scene, sound, duration, endVolume, startVolume) {\r\n    if (endVolume === undefined) {\r\n        endVolume = 1;\r\n    }\r\n    if (startVolume === undefined) {\r\n        startVolume = 0;\r\n    }\r\n\r\n    var config = {\r\n        mode: 0,\r\n        volume: {\r\n            start: startVolume,\r\n            end: endVolume\r\n        },\r\n        duration: duration\r\n    }\r\n\r\n    // create sound instance by key\r\n    if (typeof (sound) === 'string') {\r\n        sound = scene.sys.sound.add(sound);\r\n    }\r\n\r\n    var fade;\r\n    if (sound.hasOwnProperty('_fade')) {\r\n        fade = sound._fade;\r\n        fade.stop().resetFromJSON(config);\r\n    } else {\r\n        fade = new Fade(scene, sound, config);\r\n        sound._fade = fade;\r\n    }\r\n\r\n    fade.start();\r\n    if (!sound.isPlaying) {\r\n        sound.setVolume(startVolume).play();\r\n    }\r\n    return sound;\r\n};\r\n\r\nexport default FadeIn;","import Fade from './Fade.js';\r\n\r\nvar FadeOut = function (scene, sound, duration, destroy) {\r\n    if (destroy === undefined) {\r\n        destroy = true;\r\n    }\r\n\r\n    var config = {\r\n        mode: ((destroy) ? 2 : 1), // 1: stop, 2: destroy\r\n        volume: {\r\n            start: sound.volume,\r\n            end: 0\r\n        },\r\n        duration: duration\r\n    }\r\n\r\n    var fade;\r\n    if (sound.hasOwnProperty('_fade')) {\r\n        fade = sound._fade;\r\n        fade.stop().resetFromJSON(config);\r\n    } else {\r\n        fade = new Fade(scene, sound, config);\r\n        sound._fade = fade;\r\n    }\r\n\r\n    fade.start();\r\n    if (!sound.isPlaying) {\r\n        sound.play();\r\n    }\r\n    return sound;\r\n};\r\n\r\nexport default FadeOut;","import FadeIn from '../../../audio/fade/FadeIn.js';\r\nimport FadeOut from '../../../audio/fade/FadeOut.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst RemoveItem = Phaser.Utils.Array.Remove;\r\n\r\nclass SoundManager {\r\n    constructor(scene, config) {\r\n        this.scene = scene;\r\n\r\n        // Sound effect will be destroyed when completed\r\n        this.soundEffects = [];\r\n\r\n        // Background music will be (fade out)destroyed when play next one.\r\n        this.backgroundMusic = undefined;\r\n\r\n        this.setBackgroundMusicLoopValue(GetValue(config, 'bgm.loop', true));\r\n        this.setBackgroundMusicFadeTime(GetValue(config, 'bgm.fade', 500));\r\n\r\n        var initialBackgroundMusic = GetValue(config, 'bgm.initial', undefined);\r\n        if (initialBackgroundMusic) {\r\n            this.setCurrentBackgroundMusic(initialBackgroundMusic);\r\n        }\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        if (this.soundEffects.length && !fromScene) {\r\n            for (var i = this.soundEffects.length - 1; i >= 0; i--) {\r\n                this.soundEffects[i].destroy();\r\n            }\r\n        }\r\n        this.soundEffects.length = 0;\r\n\r\n        if (this.backgroundMusic && !fromScene) {\r\n            this.backgroundMusic.destroy();\r\n        }\r\n        this.backgroundMusic = undefined;\r\n\r\n        this.scene = undefined;\r\n    }\r\n\r\n    setBackgroundMusicLoopValue(value) {\r\n        this.backgroundMusicLoopValue = value;\r\n        return this;\r\n    }\r\n\r\n    setBackgroundMusicFadeTime(time) {\r\n        this.backgroundMusicFadeTime = time;\r\n        return this;\r\n    }\r\n\r\n    getSoundEffects() {\r\n        return this.soundEffects;\r\n    }\r\n\r\n    getLastSoundEffect() {\r\n        return this.soundEffects[this.soundEffects.length - 1];\r\n    }\r\n\r\n    getBackgroundMusic() {\r\n        return this.backgroundMusic;\r\n    }\r\n\r\n    playSoundEffect(key) {\r\n        var soundEffect = this.scene.sys.sound.add(key);\r\n        this.soundEffects.push(soundEffect);\r\n\r\n        soundEffect\r\n            .once('complete', function () {\r\n                soundEffect.destroy();\r\n\r\n                // SoundManager has been destroyed\r\n                if (!this.scene) {\r\n                    return;\r\n                }\r\n                RemoveItem(this.soundEffects, soundEffect);\r\n            }, this)\r\n            .once('destroy', function () {\r\n                // SoundManager has been destroyed\r\n                if (!this.scene) {\r\n                    return;\r\n                }\r\n                RemoveItem(this.soundEffects, soundEffect);\r\n            }, this)\r\n            .play();\r\n\r\n        return this;\r\n    }\r\n\r\n    setSoundEffectVolume(volume) {\r\n        var soundEffect = this.getLastSoundEffect();\r\n        if (soundEffect) {\r\n            soundEffect.setVolume(volume);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    fadeInSoundEffect(time) {\r\n        var soundEffect = this.getLastSoundEffect();\r\n        if (soundEffect) {\r\n            FadeIn(this.scene, soundEffect, time);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    fadeOutSoundEffect(time, isStopped) {\r\n        var soundEffect = this.getLastSoundEffect();\r\n        if (soundEffect) {\r\n            FadeOut(this.scene, soundEffect, time, isStopped);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    fadeOutAllSoundEffects(time, isStopped) {\r\n        for (var i = this.soundEffects.length - 1; i >= 0; i--) {\r\n            FadeOut(this.scene, this.soundEffects[i], time, isStopped);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    setCurrentBackgroundMusic(music) {\r\n        this.backgroundMusic = music;\r\n\r\n        if (music) {\r\n            music.setLoop(this.backgroundMusicLoopValue);\r\n            music\r\n                .once('complete', function () {\r\n                    this.backgroundMusic.destroy();\r\n                    this.backgroundMusic = undefined;\r\n                }, this)\r\n                .once('destroy', function () {\r\n                    this.backgroundMusic = undefined;\r\n                }, this)\r\n\r\n            if (!music.isPlaying) {\r\n                music.play();\r\n            }\r\n        }\r\n    }\r\n\r\n    playBackgroundMusic(key) {\r\n        // Don't re-play the same background music\r\n        if (this.backgroundMusic && (this.backgroundMusic.key === key)) {\r\n            return this;\r\n        }\r\n\r\n        this.stopBackgroundMusic(); // Stop previous background music\r\n\r\n        this.setCurrentBackgroundMusic(this.scene.sys.sound.add(key));\r\n\r\n        if (this.backgroundMusicFadeTime > 0) {\r\n            this.fadeInBackgroundMusic(this.backgroundMusicFadeTime);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    pauseBackgroundMusic() {\r\n        if (this.backgroundMusic) {\r\n            this.backgroundMusic.pause();\r\n        }\r\n        return this;\r\n    }\r\n\r\n    resumeBackgroundMusic() {\r\n        if (this.backgroundMusic) {\r\n            this.backgroundMusic.resume();\r\n        }\r\n        return this;\r\n    }\r\n\r\n    stopBackgroundMusic() {\r\n        if (this.backgroundMusic) {\r\n            if (this.backgroundMusicFadeTime > 0) {\r\n                this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime, true);\r\n\r\n            } else {\r\n                this.backgroundMusic.stop();\r\n                this.backgroundMusic.destroy();\r\n                this.backgroundMusic = undefined;\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    fadeInBackgroundMusic(time) {\r\n        if (this.backgroundMusic) {\r\n            FadeIn(this.scene, this.backgroundMusic, time);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    fadeOutBackgroundMusic(time, isStopped) {\r\n        if (this.backgroundMusic) {\r\n            FadeOut(this.scene, this.backgroundMusic, time, isStopped);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    crossFadeBackgroundMusic(key, time) {\r\n        var backgroundMusicFadeTimeSave = this.backgroundMusicFadeTime;\r\n        this.backgroundMusicFadeTime = 0;\r\n\r\n        this\r\n            .fadeOutBackgroundMusic(time, true)\r\n            .playBackgroundMusic(key)\r\n            .fadeInBackgroundMusic(time);\r\n\r\n        this.backgroundMusicFadeTime = backgroundMusicFadeTimeSave;\r\n\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nexport default SoundManager;","var IsEmpty = function (source) {\r\n    for (var k in source) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\nexport default IsEmpty;","class SpriteData {\r\n    constructor(spriteManager, sprite, name) {\r\n        this.spriteManager = spriteManager;\r\n        this.sprite = sprite.setName(name);\r\n        this.tweens = {};\r\n        this.name = name;\r\n    }\r\n\r\n    get scene() {\r\n        return this.spriteManager.scene;\r\n    }\r\n\r\n    get timeScale() {\r\n        return this.spriteManager.timeScale;\r\n    }\r\n\r\n    destroy() {\r\n        this\r\n            .freeSprite()\r\n            .freeTweens();\r\n\r\n        this.spriteManager = undefined;\r\n    }\r\n\r\n    freeSprite() {\r\n        this.sprite.destroy();\r\n        this.sprite = undefined;\r\n        return this;\r\n    }\r\n\r\n    freeTweens() {\r\n        var tweenTasks = this.tweens;\r\n        for (var propName in tweenTasks) {\r\n            tweenTasks[propName].remove();\r\n            delete tweenTasks[propName];\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setProperty(property, value) {\r\n        this.sprite[property] = value;\r\n        return this;\r\n    }\r\n\r\n    easeProperty(property, value, duration, ease, repeat, isYoyo, onComplete) {\r\n        var tweenTasks = this.tweens;\r\n        if (tweenTasks.hasOwnProperty(property)) {\r\n            tweenTasks[property].remove();\r\n        }\r\n\r\n        var sprite = this.sprite;\r\n        var config = {\r\n            targets: sprite,\r\n            duration: duration,\r\n            ease: ease,\r\n            repeat: repeat,\r\n            yoyo: isYoyo,\r\n            onComplete: function () {\r\n                tweenTasks[property].remove();\r\n                delete tweenTasks[property];\r\n                if (onComplete) {\r\n                    onComplete(sprite, property);\r\n                }\r\n            },\r\n            onCompleteScope: this\r\n        }\r\n        config[property] = value;\r\n\r\n        var tween = this.scene.tweens.add(config);\r\n        tween.timeScale = this.timeScale;\r\n        tweenTasks[property] = tween;\r\n        return this;\r\n    }\r\n\r\n    setTexture(textureKey, frameKey) {\r\n        this.sprite.setTexture(textureKey, frameKey);\r\n        return this;\r\n    }\r\n\r\n    playAnimation(key) {\r\n        this.sprite.anims.timeScale = this.timeScale;\r\n        this.sprite.play(key);\r\n        return this;\r\n    }\r\n\r\n    stopAnimation() {\r\n        this.sprite.stop();\r\n        return this;\r\n    }\r\n\r\n    chainAnimation(keys) {\r\n        this.sprite.chain(keys);\r\n        return this;\r\n    }\r\n\r\n    pauseAnimation() {\r\n        this.sprite.anims.pause();\r\n        return this;\r\n    }\r\n\r\n    setTimeScale(timeScale) {\r\n        if (this.sprite.anims) {\r\n            this.sprite.anims.timeScale = timeScale;\r\n        }\r\n\r\n        var tweenTasks = this.tweens;\r\n        for (var key in tweenTasks) {\r\n            tweenTasks[key].timeScale = timeScale;\r\n        }\r\n\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default SpriteData;","var GetR = function (colorInt) {\r\n    return (colorInt >> 16) & 0xff;\r\n}\r\n\r\nvar GetG = function (colorInt) {\r\n    return (colorInt >> 8) & 0xff;\r\n}\r\n\r\nvar GetB = function (colorInt) {\r\n    return (colorInt) & 0xff;\r\n}\r\n\r\nexport {\r\n    GetR, GetG, GetB\r\n}","const MaskR = (~(0xff << 16) & 0xffffff);\r\nconst MaskG = (~(0xff << 8) & 0xffffff);\r\nconst MaskB = (~(0xff) & 0xffffff);\r\n\r\nvar SetR = function (colorInt, r) {\r\n    return ((r & 0xff) << 16) | (colorInt & MaskR);\r\n}\r\n\r\nvar SetG = function (colorInt, g) {\r\n    return ((g & 0xff) << 8) | (colorInt & MaskG);\r\n}\r\n\r\nvar SetB = function (colorInt, b) {\r\n    return (b & 0xff) | (colorInt & MaskB);\r\n}\r\n\r\nvar SetRGB = function (colorInt, r, g, b) {\r\n    return ((r & 0xff) << 16) | ((g & 0xff) << 8) | ((b & 0xff));\r\n}\r\n\r\nexport {\r\n    SetR, SetG, SetB, SetRGB\r\n}","import { GetR, GetG, GetB } from '../../utils/color/GetRGB.js';\r\nimport { SetR, SetG, SetB, SetRGB } from '../../utils/color/SetColor.js';\r\n\r\nvar AddTintRGBProperties = function (gameObject, tintRGB) {\r\n    // Don't attach properties again\r\n    if (gameObject.hasOwnProperty('tintR')) {\r\n        return gameObject;\r\n    }\r\n\r\n    if (tintRGB === undefined) {\r\n        tintRGB = 0xffffff;\r\n    }\r\n\r\n    var tintR = GetR(tintRGB);\r\n    var tintG = GetG(tintRGB);\r\n    var tintB = GetB(tintRGB);\r\n\r\n    // Override tint property\r\n    Object.defineProperty(gameObject, 'tint', {\r\n        get: function () {\r\n            return tintRGB;\r\n        },\r\n        set: function (value) {\r\n            value = Math.floor(value) & 0xffffff;\r\n            gameObject.setTint(value);\r\n            if (tintRGB !== value) {\r\n                tintRGB = value;\r\n                tintR = GetR(tintRGB);\r\n                tintG = GetG(tintRGB);\r\n                tintB = GetB(tintRGB);\r\n                // gameObject.emit('_tintchange', value, tintR, tintG, tintB);\r\n            }\r\n        }\r\n    });\r\n\r\n    Object.defineProperty(gameObject, 'tintR', {\r\n        get: function () {\r\n            return tintR;\r\n        },\r\n        set: function (value) {\r\n            value = Math.floor(value) & 0xff;\r\n            if (tintR !== value) {\r\n                tintR = value;\r\n                gameObject.tint = SetR(tintRGB, value);\r\n            }\r\n        },\r\n    })\r\n    Object.defineProperty(gameObject, 'tintG', {\r\n        get: function () {\r\n            return tintG;\r\n        },\r\n        set: function (value) {\r\n            value = Math.floor(value) & 0xff;\r\n            if (tintG !== value) {\r\n                tintG = value;\r\n                gameObject.tint = SetG(tintRGB, value);\r\n            }\r\n        },\r\n    })\r\n    Object.defineProperty(gameObject, 'tintB', {\r\n        get: function () {\r\n            return tintB;\r\n        },\r\n        set: function (value) {\r\n            value = Math.floor(value) & 0xff;\r\n            if (tintB !== value) {\r\n                tintB = value;\r\n                gameObject.tint = SetB(tintRGB, value);\r\n            }\r\n        },\r\n    })\r\n    Object.defineProperty(gameObject, 'tintGray', {\r\n        get: function () {\r\n            return Math.floor((tintR + tintG + tintB) / 3);\r\n        },\r\n        set: function (value) {\r\n            value = Math.floor(value) & 0xff;\r\n            if ((tintR !== value) || (tintG !== value) || (tintB !== value)) {\r\n                tintR = value;\r\n                tintG = value;\r\n                tintB = value;\r\n                gameObject.tint = SetRGB(tintRGB, value, value, value);\r\n            }\r\n        },\r\n    })\r\n\r\n    gameObject.tint = tintRGB;\r\n\r\n    return gameObject;\r\n}\r\n\r\nexport default AddTintRGBProperties;","const EventEmitter = Phaser.Events.EventEmitter;\r\n\r\nvar MonitorViewport = function (viewport) {\r\n    if (viewport.events) {\r\n        return viewport;\r\n    }\r\n\r\n    var events = new EventEmitter();\r\n\r\n    var x = viewport.x;\r\n    Object.defineProperty(viewport, 'x', {\r\n        get: function () {\r\n            return x;\r\n        },\r\n\r\n        set: function (value) {\r\n            if (x !== value) {\r\n                x = value;\r\n                events.emit('update', viewport);\r\n            }\r\n        },\r\n    });\r\n\r\n    var y = viewport.y;\r\n    Object.defineProperty(viewport, 'y', {\r\n        get: function () {\r\n            return y;\r\n        },\r\n\r\n        set: function (value) {\r\n            if (y !== value) {\r\n                y = value;\r\n                events.emit('update', viewport);\r\n            }\r\n        },\r\n    });\r\n\r\n    var width = viewport.width;\r\n    Object.defineProperty(viewport, 'width', {\r\n        get: function () {\r\n            return width;\r\n        },\r\n\r\n        set: function (value) {\r\n            if (width !== value) {\r\n                width = value;\r\n                events.emit('update', viewport);\r\n            }\r\n        },\r\n    });\r\n\r\n    var height = viewport.height;\r\n    Object.defineProperty(viewport, 'height', {\r\n        get: function () {\r\n            return height;\r\n        },\r\n\r\n        set: function (value) {\r\n            if (height !== value) {\r\n                height = value;\r\n                events.emit('update', viewport);\r\n            }\r\n        },\r\n    });\r\n\r\n    viewport.events = events;\r\n\r\n    return viewport;\r\n}\r\n\r\nexport default MonitorViewport;","import MonitorViewport from './MonitorViewport.js';\r\n\r\nvar AddViewportCoordinateProperties = function (gameObject, viewport, vpx, vpy, transformCallback) {\r\n    // Don't attach properties again\r\n    if (gameObject.hasOwnProperty('vp')) {\r\n        return gameObject;\r\n    }\r\n\r\n    if (vpx === undefined) {\r\n        vpx = 0.5;\r\n    }\r\n    if (vpy === undefined) {\r\n        vpy = 0.5;\r\n    }\r\n    if (transformCallback === undefined) {\r\n        transformCallback = DefaultTransformCallback;\r\n    }\r\n\r\n    MonitorViewport(viewport);\r\n    var events = viewport.events;\r\n\r\n    gameObject.vp = viewport;\r\n\r\n    // Set position of game object when view-port changed.\r\n    var Transform = function () {\r\n        transformCallback(gameObject, viewport, vpx, vpy);\r\n    }\r\n    events.on('update', Transform);\r\n    gameObject.once('destroy', function () {\r\n        events.off('update', Transform);\r\n        gameObject.vp = undefined;\r\n    })\r\n\r\n    Object.defineProperty(gameObject, 'vpx', {\r\n        get: function () {\r\n            return vpx;\r\n        },\r\n        set: function (value) {\r\n            if (vpx !== value) {\r\n                vpx = value;\r\n                Transform();\r\n            }\r\n        },\r\n    });\r\n\r\n    Object.defineProperty(gameObject, 'vpy', {\r\n        get: function () {\r\n            return vpy;\r\n        },\r\n        set: function (value) {\r\n            if (vpy !== value) {\r\n                vpy = value;\r\n                Transform();\r\n            }\r\n        },\r\n    });\r\n\r\n    Transform();\r\n}\r\n\r\nvar DefaultTransformCallback = function (gameObject, viewport, vpx, vpy) {\r\n    gameObject.x = viewport.x + (viewport.width * vpx);\r\n    gameObject.y = viewport.y + (viewport.height * vpy);\r\n}\r\n\r\nexport default AddViewportCoordinateProperties;","import SpriteData from '../SpriteData.js';\r\nimport AddTintRGBProperties from '../../../../behaviors/tintrgb/AddTintRGBProperties.js';\r\nimport AddViewportCoordinateProperties from '../../../../behaviors/viewportcoordinate/AddViewportCoordinateProperties.js';\r\n\r\nconst RemoveItem = Phaser.Utils.Array.Remove;\r\n\r\nexport default {\r\n    has(name) {\r\n        return this.sprites.hasOwnProperty(name);\r\n    },\r\n\r\n    get(name) {\r\n        return this.sprites[name];\r\n    },\r\n\r\n    getSprite(name) {\r\n        return this.get(name).sprite;\r\n    },\r\n\r\n    add(name, textureKey, frameName) {\r\n        this.remove(name);\r\n\r\n        var sprite;\r\n        if (arguments.length === 3) {\r\n            sprite = this.createCallback(this.scene, textureKey, frameName);\r\n        } else {\r\n            var args = Array.prototype.slice.call(arguments, 1);\r\n            sprite = this.createCallback(this.scene, ...args);\r\n        }\r\n\r\n        if (this.fadeTime > 0) {\r\n            AddTintRGBProperties(sprite);\r\n        }\r\n        if (this.viewportCoordinateEnable) {\r\n            AddViewportCoordinateProperties(sprite);\r\n        }\r\n\r\n        sprite.once('destroy', function () {\r\n            RemoveItem(this.removedSprites, sprite);\r\n            if (this.isEmpty) {\r\n                this.emit('empty');\r\n            }\r\n        }, this);\r\n\r\n        var spriteData = new SpriteData(this, sprite, name);\r\n        this.sprites[name] = spriteData;\r\n\r\n        if (this.fadeTime > 0) {\r\n            spriteData\r\n                .setProperty('tintGray', 0)\r\n                .easeProperty('tintGray', 255, this.fadeTime)\r\n        }\r\n        return this;\r\n    }\r\n}","export default {\r\n    remove(name) {\r\n        if (!this.has(name)) {\r\n            return this;\r\n        }\r\n\r\n        var spriteData = this.get(name);\r\n        delete this.sprites[name];\r\n\r\n        this.removedSprites.push(spriteData.sprite);\r\n        if (this.fadeTime > 0) {\r\n            spriteData.easeProperty(\r\n                'tintGray',                 // property\r\n                0,                          // to value\r\n                this.fadeTime,              // duration\r\n                'Linear',                   // ease\r\n                0,                          // repeat\r\n                false,                      // yoyo\r\n                function () {               // onComplete\r\n                    spriteData.destroy();\r\n                }\r\n            )\r\n\r\n        } else {\r\n            spriteData.destroy();\r\n\r\n        }\r\n        return this;\r\n    },\r\n\r\n    removeAll() {\r\n        var sprites = this.sprites;\r\n        for (var name in sprites) {\r\n            this.remove(name);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    clear(destroyChild) {\r\n        if (destroyChild === undefined) {\r\n            destroyChild = true;\r\n        }\r\n        var sprites = this.sprites;\r\n        for (var name in sprites) {\r\n            if (destroyChild) {\r\n                sprites[name].destroy();\r\n            }\r\n            delete sprites[name];\r\n        }\r\n        this.removedSprites.length = 0;\r\n        return this;\r\n    }\r\n}","export default {\r\n    setProperty(name, property, value) {\r\n        if (!this.has(name)) {\r\n            return this;\r\n        }\r\n        this.get(name).setProperty(property, value);\r\n        return this;\r\n    },\r\n\r\n    easeProperty(name, property, value, duration, ease, repeat, isYoyo, onComplete) {\r\n        if (!this.has(name)) {\r\n            return this;\r\n        }\r\n\r\n        if (duration === undefined) {\r\n            duration = 1000;\r\n        }\r\n        if (ease === undefined) {\r\n            ease = 'Linear';\r\n        }\r\n        if (repeat === undefined) {\r\n            repeat = 0;\r\n        }\r\n        if (isYoyo === undefined) {\r\n            isYoyo = false;\r\n        }\r\n\r\n        this.get(name).easeProperty(property, value, duration, ease, repeat, isYoyo, onComplete);\r\n        return this;\r\n    },\r\n\r\n    getTweenTask(name, property) {\r\n        if (this.has(name)) {\r\n            var tweenTasks = this.get(name).tweens;\r\n            if (tweenTasks.hasOwnProperty(property)) {\r\n                return tweenTasks[property];\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}","export default {\r\n    playAnimation(name, key) {\r\n        if (!this.has(name)) {\r\n            this.add(name);\r\n        }\r\n\r\n        this.get(name).playAnimation(key);\r\n        return this;\r\n    },\r\n\r\n    stopAnimation(name) {\r\n        if (!this.has(name)) {\r\n            return this;\r\n        }\r\n\r\n        this.get(name).stopAnimation();\r\n        return this;\r\n    },\r\n\r\n    chainAnimation(name, keys) {\r\n        if (!this.has(name)) {\r\n            return this;\r\n        }\r\n\r\n        this.get(name).chainAnimation(keys);\r\n        return this;\r\n    },\r\n\r\n    pauseAnimation(name) {\r\n        if (!this.has(name)) {\r\n            return this;\r\n        }\r\n\r\n        this.get(name).pauseAnimation();\r\n        return this;\r\n    },\r\n\r\n    setTexture(name, textureKey, frameKey) {\r\n        if (!this.has(name)) {\r\n            return this;\r\n        }\r\n\r\n        this.get(name).setTexture(textureKey, frameKey);\r\n        return this;\r\n    }\r\n}","import AddMethods from './AddMethods.js';\r\nimport RemoveMethods from './RemoveMethods.js';\r\nimport PropertyMethods from './PropertyMethods.js';\r\nimport AnimationMethods from './AnimationMethods.js';\r\n\r\nvar Methods = {}\r\nObject.assign(\r\n    Methods,\r\n    AddMethods,\r\n    RemoveMethods,\r\n    PropertyMethods,\r\n    AnimationMethods\r\n)\r\n\r\nexport default Methods;","import EventEmitterMethods from '../../eventemitter/EventEmitterMethods.js';\r\nimport IsEmpty from '../../../utils/object/IsEmpty.js';\r\nimport Methods from './methods/Methods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass SpriteManager {\r\n    constructor(scene, config) {\r\n        this.scene = scene;\r\n\r\n        this.setEventEmitter(GetValue(config, 'eventEmitter', undefined));\r\n        this.setCreateCallback(GetValue(config, 'createCallback', 'sprite'));\r\n        this.setSpriteFadeTime(GetValue(config, 'fade', 500));\r\n        this.setViewportCoordinateEnable(GetValue(config, 'viewportCoordinate', false));\r\n\r\n        this.sprites = {};\r\n        this.removedSprites = [];\r\n        this._timeScale = 1;\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        this.clear(!fromScene);\r\n        this.createCallback = undefined;\r\n        this.scene = undefined;\r\n    }\r\n\r\n    set timeScale(timeScale) {\r\n        if (this._timeScale === timeScale) {\r\n            return;\r\n        }\r\n\r\n        this._timeScale = timeScale;\r\n\r\n        var sprites = this.sprites;\r\n        for (var name in sprites) {\r\n            sprites[name].setTimeScale(timeScale);\r\n        }\r\n    }\r\n\r\n    get timeScale() {\r\n        return this._timeScale;\r\n    }\r\n\r\n    setTimeScale(timeScale) {\r\n        this.timeScale = timeScale;\r\n        return this;\r\n    }\r\n\r\n    setCreateCallback(callback) {\r\n        if (callback === 'sprite') {\r\n            this.createCallback = function (scene, textureKey, frameName) {\r\n                return scene.add.sprite(0, 0, textureKey, frameName);\r\n            }\r\n        } else if (callback === 'image') {\r\n            this.createCallback = function (scene, textureKey, frameName) {\r\n                return scene.add.image(0, 0, textureKey, frameName);\r\n            }\r\n        } else {\r\n            this.createCallback = callback;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setSpriteFadeTime(time) {\r\n        this.fadeTime = time;\r\n        return this;\r\n    }\r\n\r\n    setViewportCoordinateEnable(enable) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n\r\n        this.viewportCoordinateEnable = enable;\r\n        return this;\r\n    }\r\n\r\n    get isEmpty() {\r\n        return IsEmpty(this.sprites) && (this.removedSprites.length === 0);\r\n    }\r\n\r\n}\r\n\r\nObject.assign(\r\n    SpriteManager.prototype,\r\n    EventEmitterMethods,\r\n    Methods\r\n);\r\n\r\nexport default SpriteManager;","import IsSceneObject from '../../../../utils/system/IsSceneObject.js';\r\n\r\nvar SetClickTarget = function (target) {\r\n    this.clickTarget = target;\r\n\r\n    if (!target) {\r\n        this.clickEE = null;\r\n    } else if (IsSceneObject(target)) {\r\n        this.clickEE = target.input;\r\n    } else {  // Assume that target is a game object\r\n        this.clickEE = target.setInteractive();\r\n    }\r\n\r\n    return this;\r\n}\r\n\r\nexport default SetClickTarget;","var SetTargetCamera = function (camera) {\r\n    this.camera = camera;\r\n    return this;\r\n}\r\n\r\nexport default SetTargetCamera;","import GetWrapCallback from './utils/wait/GetWrapCallback.js';\r\nimport WaitMultiple from './utils/wait/WaitMultiple.js';\r\n\r\nvar SetNextPageInput = function (input) {\r\n    var textPlayer = this;\r\n    if (!input) {\r\n        this.nextPageInput = null;\r\n\r\n    } else if (typeof (input) === 'function') {\r\n        this.nextPageInput = function (callback, args, scope) {\r\n            var wrapCallback = GetWrapCallback(textPlayer, callback, args, scope);\r\n            input.call(textPlayer, wrapCallback);\r\n        }\r\n\r\n    } else {\r\n        this.nextPageInput = function (callback, args, scope) {\r\n            WaitMultiple(textPlayer, input, callback, args, scope);\r\n        }\r\n    }\r\n}\r\n\r\nexport default SetNextPageInput;","var AddImage = function (key, config) {\r\n    this.imageManager.add(key, config);\r\n    return this;\r\n}\r\n\r\nexport default AddImage;","var Play = function (content) {\r\n    if (this.isPlaying) {\r\n        return this;\r\n    }\r\n\r\n    this.removeChildren();\r\n    this.parser.start(content); // Parse bbcode-content\r\n\r\n    this.isPlaying = true;\r\n    this.once('complete', function () {\r\n        this.isPlaying = false;\r\n    }, this);\r\n\r\n    this.lastWrapResult = undefined;\r\n    this.typingNextPage();\r\n    return this;\r\n}\r\n\r\nexport default Play;","import { WaitComplete } from '../../../../utils/promise/WaitEvent.js';\r\n\r\nvar PlayPromise = function (content) {\r\n    var promise = WaitComplete(this);\r\n    this.play(content);\r\n    return promise;\r\n}\r\n\r\nexport default PlayPromise;","import { StopPlayEvent } from './utils/Events.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar TypingNextPage = function () {\r\n    if (!this.isPlaying || this.isPageTyping) {\r\n        return this;\r\n    }\r\n\r\n    var wrapCallback = GetValue(this.wrapConfig, 'callback', this.runWordWrap);\r\n    if (typeof (wrapCallback) === 'string') {\r\n        wrapCallback = this[wrapCallback];\r\n    }\r\n\r\n    var result = wrapCallback.call(this, this.lastWrapResult);\r\n    this.lastWrapResult = result;\r\n\r\n    this.emit('page.start');\r\n\r\n    var OnTypingPageComplete = function () {\r\n        this.emit(StopPlayEvent);  // Clear registed StopPlayEvent\r\n        if (result.isLastPage) {\r\n            this.emit('complete');\r\n        } else {\r\n            this.emit('page.complete');\r\n\r\n            if (this.ignoreNextPageInput) {\r\n                TypingNextPage.call(this);\r\n            } else if (this.nextPageInput) {\r\n                this.nextPageInput(TypingNextPage, [], this);\r\n            } else {\r\n                // Stop here, don't typing next page.\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    // Remove event when typing pages has been canceled\r\n    this.once(StopPlayEvent, function () {\r\n        this.typeWriter.off('complete', OnTypingPageComplete, this);\r\n    })\r\n\r\n    this.typeWriter\r\n        .once('complete', OnTypingPageComplete, this)\r\n        .start(result.children);\r\n}\r\n\r\nexport default TypingNextPage;","var Pause = function () {\r\n    // Pause typing, typing timer and animation progresses\r\n    this.typeWriter.pauseTyping().pause();\r\n\r\n    return this;\r\n}\r\n\r\nexport default Pause;","var PauseTyping = function () {\r\n    // Pause typing\r\n    this.typeWriter.pauseTyping();\r\n\r\n    return this;\r\n}\r\n\r\nexport default PauseTyping;","var Resume = function () {\r\n    // Resume typing timer, animation progresses and typing\r\n    this.typeWriter.resume().resumeTyping();\r\n\r\n    return this;\r\n}\r\n\r\nexport default Resume;","export default {\r\n    setDefaultTypingSpeed(speed) {\r\n        this.defaultTypingSpeed = speed;\r\n        return this;\r\n    },\r\n\r\n    setTypingSpeed(speed) {\r\n        this.typingSpeed = speed;\r\n        return this;\r\n    }\r\n}","var SetTimeScale = function (timeScale) {\r\n    this.timeScale = timeScale;\r\n    return this;\r\n}\r\n\r\nexport default SetTimeScale;","var SetIgnoreWait = function (value) {\r\n    this.typeWriter.setIgnoreWait(value);\r\n    return this;\r\n}\r\n\r\nexport default SetIgnoreWait;","var SetIgnoreNextPageInput = function (enable) {\r\n    if (enable === undefined) {\r\n        enable = true;\r\n    }\r\n    this.ignoreNextPageInput = enable;\r\n    return this;\r\n}\r\n\r\nexport default SetIgnoreNextPageInput;","var ShowPage = function () {\r\n    // Only can work after playing, and before processing last child\r\n    if (!this.isPlaying || !this.isPageTyping) {\r\n        return this;\r\n    }\r\n\r\n    // Save parameters\r\n    var typingSpeedSave = this.typeWriter.speed;\r\n    var ignoreWaitSave = this.typeWriter.ignoreWait;\r\n    var skipTypingAnimationSave = this.typeWriter.skipTypingAnimation;\r\n    var skipSoundEffectSave = this.typeWriter.skipSoundEffect;\r\n\r\n    this.typeWriter\r\n        .once('complete', function () {\r\n            // Recover parameters\r\n            this.typeWriter\r\n                .setTypingSpeed(typingSpeedSave)\r\n                .setIgnoreWait(ignoreWaitSave)\r\n                .setSkipTypingAnimation(skipTypingAnimationSave)\r\n                .setSkipSoundEffect(skipSoundEffectSave)\r\n\r\n        }, this)\r\n\r\n        .setTypingSpeed(0)\r\n        .skipCurrentTypingDelay()\r\n        .setIgnoreWait(true)\r\n        .setSkipTypingAnimation(true)\r\n        .setSkipSoundEffect(true)\r\n\r\n    return this;\r\n}\r\n\r\nexport default ShowPage;","import SetClickTarget from './SetClickTarget.js';\r\nimport SetTargetCamera from './SetTargetCamera.js';\r\nimport SetNextPageInput from './SetNextPageInput.js';\r\nimport AddImage from './AddImage.js';\r\nimport Play from './Play.js';\r\nimport PlayPromise from './PlayPromise.js';\r\nimport TypingNextPage from './TypingNextPage.js';\r\nimport Pause from './Pause.js';\r\nimport PauseTyping from './PauseTyping.js';\r\nimport Resume from './Resume.js';\r\nimport TypingSpeedMethods from './TypingSpeedMethods.js';\r\nimport SetTimeScale from './SetTimeScale.js';\r\nimport SetIgnoreWait from './SetIgnoreWait.js';\r\nimport SetIgnoreNextPageInput from './SetIgnoreNextPageInput.js';\r\nimport ShowPage from './ShowPage.js';\r\n\r\nvar Methods = {\r\n    setClickTarget: SetClickTarget,\r\n    setTargetCamera: SetTargetCamera,\r\n    setNextPageInput: SetNextPageInput,\r\n    addImage: AddImage,\r\n    play: Play,\r\n    playPromise: PlayPromise,\r\n    typingNextPage: TypingNextPage,\r\n    pause: Pause,\r\n    pauseTyping: PauseTyping,\r\n    resume: Resume,\r\n    setTimeScale: SetTimeScale,\r\n    setIgnoreWait: SetIgnoreWait,\r\n    setIgnoreNextPageInput: SetIgnoreNextPageInput,\r\n    showPage: ShowPage,\r\n}\r\n\r\nObject.assign(\r\n    Methods,\r\n    TypingSpeedMethods\r\n);\r\n\r\nexport default Methods;","import { ClearEvents as Events } from './Events.js';\r\n\r\nvar ClearEvents = function (textPlayer) {\r\n    for (var i = 0, cnt = Events.length; i < cnt; i++) {\r\n        textPlayer.emit(Events[i]);\r\n    }\r\n}\r\n\r\nexport default ClearEvents;","import DynamicText from '../dynamictext/DynamicText.js';\r\nimport Parser from './parser/Parser.js';\r\nimport TypeWriter from './typewriter/TypeWriter.js';\r\nimport ImageManager from '../../../utils/texture/imagemanager/ImageManager.js';\r\nimport SoundManager from '../../../utils/audio/soundmanager/SoundManager.js';\r\nimport SpriteManager from '../../../utils/sprite/spritemanager/SpriteManager.js';\r\nimport Methods from './methods/Methods.js';\r\nimport ClearEvents from './methods/utils/ClearEvents.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass TextPlayer extends DynamicText {\r\n    constructor(scene, x, y, fixedWidth, fixedHeight, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n        } else if (IsPlainObject(fixedWidth)) {\r\n            config = fixedWidth;\r\n        }\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        // Don't set text in DynamicText's constructor\r\n        var content = config.text;\r\n        delete config.text;\r\n\r\n        super(scene, x, y, fixedWidth, fixedHeight, config);\r\n        this.type = 'rexTextPlayer'\r\n\r\n        this.parser = new Parser(this, GetValue(config, 'parser', undefined));\r\n\r\n        this.typeWriter = new TypeWriter(this, GetValue(config, 'typing', undefined));\r\n\r\n        this._imageManager = undefined;\r\n        var imageData = GetValue(config, 'images', undefined);\r\n        if (imageData) {\r\n            this.addImage(imageData);\r\n        }\r\n\r\n        this._soundManager = undefined;\r\n        var soundManagerConfig = GetValue(config, 'sounds', undefined);\r\n        if (soundManagerConfig) {\r\n            this._soundManager = new SoundManager(this.scene, soundManagerConfig);\r\n        }\r\n\r\n        this.setTargetCamera(GetValue(config, 'camera', this.scene.sys.cameras.main));\r\n\r\n        this._spriteManager = undefined;\r\n        var spriteManagerConfig = GetValue(config, 'sprites', undefined);\r\n        if (spriteManagerConfig) {\r\n            this._spriteManager = new SpriteManager(this.scene, spriteManagerConfig);\r\n        }\r\n\r\n        this.setIgnoreNextPageInput(GetValue(config, 'ignoreNextPageInput', false));\r\n        this.setClickTarget(GetValue(config, 'clickTarget', this));  // this.clickEE\r\n        this.setNextPageInput(GetValue(config, 'nextPageInput', null));\r\n\r\n        this.isPlaying = false;\r\n\r\n        if (content) {\r\n            this.play(content);\r\n        }\r\n    }\r\n\r\n    get imageManager() {\r\n        if (this._imageManager === undefined) {\r\n            this._imageManager = new ImageManager(this.scene);\r\n        }\r\n        return this._imageManager;\r\n    }\r\n\r\n    get soundManager() {\r\n        if (this._soundManager === undefined) {\r\n            this._soundManager = new SoundManager(this.scene);\r\n        }\r\n        return this._soundManager;\r\n    }\r\n\r\n    get spriteManager() {\r\n        if (this._spriteManager === undefined) {\r\n            this._spriteManager = new SpriteManager(this.scene);\r\n        }\r\n        return this._spriteManager;\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        ClearEvents(this);\r\n\r\n        this.parser.destroy();\r\n        this.parser = undefined;\r\n\r\n        this.typeWriter.destroy(fromScene);\r\n        this.typeWriter = undefined;\r\n\r\n        if (this._imageManager) {\r\n            this._imageManager.destroy(fromScene);\r\n        }\r\n        this._imageManager = undefined;\r\n\r\n        if (this._soundManager) {\r\n            this._soundManager.destroy(fromScene);\r\n        }\r\n        this._soundManager = undefined;\r\n\r\n        this.camera = undefined;\r\n\r\n        if (this._spriteManager) {\r\n            this._spriteManager.destroy(fromScene);\r\n        }\r\n        this._spriteManager = undefined;\r\n\r\n        this.clickEE = undefined;\r\n\r\n        super.destroy(fromScene);\r\n    }\r\n\r\n    get isPageTyping() {\r\n        return this.typeWriter.isPageTyping;\r\n    }\r\n\r\n    set defaultTypingSpeed(speed) {\r\n        this.typeWriter.setDefaultTypingSpeed(speed);\r\n    }\r\n\r\n    get defaultTypingSpeed() {\r\n        return this.typeWriter.defaultTypingSpeed;\r\n    }\r\n\r\n    set typingSpeed(speed) {\r\n        this.typeWriter.setTypingSpeed(speed);\r\n    }\r\n\r\n    get typingSpeed() {\r\n        return this.typeWriter.speed;\r\n    }\r\n\r\n    set timeScale(timeScale) {\r\n        this.typeWriter.timeScale = timeScale;\r\n\r\n        if (this._spriteManager !== undefined) {\r\n            this._spriteManager.setTimeScale(timeScale);\r\n        }\r\n    }\r\n\r\n    get timeScale() {\r\n        return this.typeWriter.timeScale;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    TextPlayer.prototype,\r\n    Methods\r\n);\r\n\r\nexport default TextPlayer;","const GetCalcMatrix = Phaser.GameObjects.GetCalcMatrix;\r\n\r\nvar WebGLRenderer = function (renderer, src, camera, parentMatrix) {\r\n    src.updateData();\r\n    camera.addToRenderList(src);\r\n\r\n    var pipeline = renderer.pipelines.set(src.pipeline);\r\n\r\n    var result = GetCalcMatrix(src, camera, parentMatrix);\r\n\r\n    var calcMatrix = pipeline.calcMatrix.copyFrom(result.calc);\r\n\r\n    var dx = src._displayOriginX;\r\n    var dy = src._displayOriginY;\r\n\r\n    var alpha = camera.alpha * src.alpha;\r\n\r\n    renderer.pipelines.preBatch(src);\r\n\r\n    var shapes = src.geom;\r\n    for (var i = 0, cnt = shapes.length; i < cnt; i++) {\r\n        shapes[i].webglRender(pipeline, calcMatrix, alpha, dx, dy);\r\n    }\r\n\r\n    renderer.pipelines.postBatch(src);\r\n};\r\n\r\nexport default WebGLRenderer;","const SetTransform = Phaser.Renderer.Canvas.SetTransform;\r\n\r\nvar CanvasRenderer = function (renderer, src, camera, parentMatrix) {\r\n    src.updateData();\r\n    camera.addToRenderList(src);\r\n\r\n    var ctx = renderer.currentContext;\r\n\r\n    if (SetTransform(renderer, ctx, src, camera, parentMatrix)) {\r\n        var dx = src._displayOriginX;\r\n        var dy = src._displayOriginY;\r\n\r\n        var shapes = src.geom;\r\n        for (var i = 0, cnt = shapes.length; i < cnt; i++) {\r\n            shapes[i].canvasRender(ctx, dx, dy);\r\n        }\r\n\r\n        //  Restore the context saved in SetTransform\r\n        ctx.restore();\r\n    }\r\n};\r\n\r\nexport default CanvasRenderer;\r\n","import WebGLRenderer from './WebGLRenderer.js';\r\nimport CanvasRenderer from './CanvasRenderer.js';\r\n\r\nexport default {\r\n    renderWebGL: WebGLRenderer,\r\n    renderCanvas: CanvasRenderer\r\n\r\n};","import Render from './render/Render.js';\r\nimport Clear from '../../../utils/object/Clear.js';\r\n\r\nconst Shape = Phaser.GameObjects.Shape;\r\nconst RemoveItem = Phaser.Utils.Array.Remove;\r\n\r\nclass BaseShapes extends Shape {\r\n    constructor(scene, x, y, width, height) {\r\n        if (x === undefined) {\r\n            x = 0;\r\n        }\r\n        if (y === undefined) {\r\n            y = 0;\r\n        }\r\n        if (width === undefined) {\r\n            width = 0;\r\n        }\r\n        if (height === undefined) {\r\n            height = width;\r\n        }\r\n\r\n        super(scene, 'rexShapes', []);\r\n\r\n        this._width = -1;\r\n        this._height = -1;\r\n        this.dirty = true;\r\n        this.isSizeChanged = true;\r\n        this.shapes = {};\r\n\r\n        this.setPosition(x, y);\r\n        this.setSize(width, height);\r\n\r\n        this.updateDisplayOrigin();\r\n    }\r\n\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    set width(value) {\r\n        this.setSize(value, this._height);\r\n    }\r\n\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    set height(value) {\r\n        this.setSize(this._width, value);\r\n    }\r\n\r\n    setDirty(value) {\r\n        if (value === undefined) {\r\n            value = true;\r\n        }\r\n        this.dirty = value;\r\n        return this;\r\n    }\r\n\r\n    setSize(width, height) {\r\n        this.isSizeChanged = this.isSizeChanged || (this._width !== width) || (this._height !== height);\r\n        this.dirty = this.dirty || this.isSizeChanged;\r\n        this._width = width;\r\n        this._height = height;\r\n        this.updateDisplayOrigin();\r\n        var input = this.input;\r\n        if (input && !input.customHitArea) {\r\n            input.hitArea.width = width;\r\n            input.hitArea.height = height;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    resize(width, height) {\r\n        this.setSize(width, height);\r\n        return this;\r\n    }\r\n\r\n    get fillColor() {\r\n        return this._fillColor;\r\n    }\r\n\r\n    set fillColor(value) {\r\n        this.setFillStyle(value, this._fillAlpha);\r\n    }\r\n\r\n    get fillAlpha() {\r\n        return this._fillAlpha;\r\n    }\r\n\r\n    set fillAlpha(value) {\r\n        this.setFillStyle(this._fillColor, value);\r\n    }\r\n\r\n    setFillStyle(color, alpha) {\r\n        if (alpha === undefined) {\r\n            alpha = 1;\r\n        }\r\n\r\n        this.dirty = this.dirty ||\r\n            (this.fillColor !== color) ||\r\n            (this.fillAlpha !== alpha);\r\n\r\n        this._fillColor = color;\r\n        this._fillAlpha = alpha;\r\n\r\n        return this;\r\n    }\r\n\r\n    get lineWidth() {\r\n        return this._lineWidth;\r\n    }\r\n\r\n    set lineWidth(value) {\r\n        this.setStrokeStyle(value, this._strokeColor, this._strokeAlpha);\r\n    }\r\n\r\n    get strokeColor() {\r\n        return this._strokeColor;\r\n    }\r\n\r\n    set strokeColor(value) {\r\n        this.setStrokeStyle(this._lineWidth, value, this._strokeAlpha);\r\n    }\r\n\r\n    get strokeAlpha() {\r\n        return this._strokeAlpha;\r\n    }\r\n\r\n    set strokeAlpha(value) {\r\n        this.setStrokeStyle(this._lineWidth, this._strokeColor, value);\r\n    }\r\n\r\n    setStrokeStyle(lineWidth, color, alpha) {\r\n        if (alpha === undefined) {\r\n            alpha = 1;\r\n        }\r\n\r\n        this.dirty = this.dirty ||\r\n            (this.lineWidth !== lineWidth) ||\r\n            (this.strokeColor !== color) ||\r\n            (this.strokeAlpha !== alpha);\r\n\r\n        this._lineWidth = lineWidth;\r\n        this._strokeColor = color;\r\n        this._strokeAlpha = alpha;\r\n\r\n        return this;\r\n    }\r\n\r\n    updateShapes() {\r\n\r\n    }\r\n\r\n    updateData() {\r\n        if (!this.dirty) {\r\n            return this;\r\n        }\r\n\r\n        this.updateShapes();\r\n        var shapes = this.geom;\r\n        for (var i = 0, cnt = shapes.length; i < cnt; i++) {\r\n            var shape = shapes[i];\r\n            if (shape.dirty) {\r\n                shape.updateData();\r\n            }\r\n        }\r\n\r\n        this.isSizeChanged = false;\r\n        this.dirty = false;\r\n\r\n\r\n        return this;\r\n    }\r\n\r\n    clear() {\r\n        this.geom.length = 0;\r\n        Clear(this.shapes);\r\n        return this;\r\n    }\r\n\r\n    getShape(name) {\r\n        return this.shapes[name];\r\n    }\r\n\r\n    getShapes() {\r\n        return this.geom;\r\n    }\r\n\r\n    addShape(shape) {\r\n        this.geom.push(shape);\r\n        var name = shape.name;\r\n        if (name) {\r\n            this.shapes[name] = shape;\r\n        }\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    deleteShape(name) {\r\n        var shape = this.getShape(name);\r\n        if (shape) {\r\n            delete this.shapes[name];\r\n            RemoveItem(this.geom, shape);\r\n        }\r\n        return this;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    BaseShapes.prototype,\r\n    Render\r\n);\r\n\r\nexport default BaseShapes;","var FillStyle = function (color, alpha) {\r\n    if (color === undefined) {\r\n        this.isFilled = false;\r\n    } else {\r\n        if (alpha === undefined) {\r\n            alpha = 1;\r\n        }\r\n        this.isFilled = true;\r\n        this.fillColor = color;\r\n        this.fillAlpha = alpha;\r\n    }\r\n    return this;\r\n}\r\n\r\nvar LineStyle = function (lineWidth, color, alpha) {\r\n    if ((lineWidth === undefined) || (color === undefined)) {\r\n        this.isStroked = false;\r\n    } else {\r\n        if (alpha === undefined) {\r\n            alpha = 1;\r\n        }\r\n        this.isStroked = true;\r\n        this.lineWidth = lineWidth;\r\n        this.strokeColor = color;\r\n        this.strokeAlpha = alpha;\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default {\r\n    fillStyle: FillStyle,\r\n    lineStyle: LineStyle\r\n}","import StyleMethods from './StyleMethods.js';\r\nimport DataMethods from '../../../../../utils/data/DataMethods.js';\r\n\r\nclass BaseGeom {\r\n    constructor() {\r\n        this.name = undefined;\r\n        this.dirty = true;\r\n        this.data = undefined;\r\n\r\n        this.isFilled = false;\r\n        this.fillColor = undefined;\r\n        this.fillAlpha = 1;\r\n\r\n        this.isStroked = false;\r\n        this.lineWidth = 1;\r\n        this.strokeColor = undefined;\r\n        this.strokeAlpha = 1;\r\n    }\r\n\r\n    setName(name) {\r\n        this.name = name;\r\n        return this;\r\n    }\r\n\r\n    reset() {\r\n        this\r\n            .fillStyle()\r\n            .lineStyle();\r\n\r\n        return this;\r\n    }\r\n\r\n    webglRender(pipeline, calcMatrix, alpha, dx, dy) {\r\n\r\n    }\r\n\r\n    canvasRender(ctx, dx, dy) {\r\n\r\n    }\r\n\r\n    updateData() {\r\n        this.dirty = false;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    BaseGeom.prototype,\r\n    StyleMethods,\r\n    DataMethods\r\n);\r\n\r\n\r\nexport default BaseGeom;","import BaseGeom from '../base/BaseGeom.js';\r\nimport FillPathWebGL from '../../../utils/render/FillPathWebGL.js';\r\nimport StrokePathWebGL from '../../../utils/render/StrokePathWebGL.js';\r\nimport FillStyleCanvas from '../../../utils/render/FillStyleCanvas.js';\r\nimport LineStyleCanvas from '../../../utils/render/LineStyleCanvas.js';\r\n\r\nconst Earcut = Phaser.Geom.Polygon.Earcut;\r\n\r\nclass PathBase extends BaseGeom {\r\n    constructor() {\r\n        super();\r\n\r\n        this.pathData = [];\r\n        this.pathIndexes = [];\r\n        this.closePath = false;\r\n    }\r\n\r\n    updateData() {\r\n        this.pathIndexes = Earcut(this.pathData);\r\n\r\n        super.updateData();\r\n        return this;\r\n    }\r\n\r\n    webglRender(pipeline, calcMatrix, alpha, dx, dy) {\r\n        if (this.isFilled) {\r\n            FillPathWebGL(pipeline, calcMatrix, this, alpha, dx, dy);\r\n        }\r\n\r\n        if (this.isStroked) {\r\n            StrokePathWebGL(pipeline, this, alpha, dx, dy);\r\n        }\r\n    }\r\n\r\n    canvasRender(ctx, dx, dy) {\r\n        var path = this.pathData;\r\n        var pathLength = path.length - 1;\r\n\r\n        var px1 = path[0] - dx;\r\n        var py1 = path[1] - dy;\r\n\r\n        ctx.beginPath();\r\n\r\n        ctx.moveTo(px1, py1);\r\n\r\n        if (!this.closePath) {\r\n            pathLength -= 2;\r\n        }\r\n\r\n        for (var i = 2; i < pathLength; i += 2) {\r\n            var px2 = path[i] - dx;\r\n            var py2 = path[i + 1] - dy;\r\n            ctx.lineTo(px2, py2);\r\n        }\r\n\r\n        if (this.closePath) {\r\n            ctx.closePath();\r\n        }\r\n\r\n\r\n        if (this.isFilled) {\r\n            FillStyleCanvas(ctx, this);\r\n            ctx.fill();\r\n        }\r\n\r\n        if (this.isStroked) {\r\n            LineStyleCanvas(ctx, this);\r\n            ctx.stroke();\r\n        }\r\n    }\r\n}\r\n\r\nexport default PathBase;","import PathBase from '../PathBase.js';\r\nimport ArcTo from '../../../../../../geom/pathdata/ArcTo.js';\r\nimport FillStyleCanvas from '../../../../utils/render/FillStyleCanvas.js';\r\nimport LineStyleCanvas from '../../../../utils/render/LineStyleCanvas.js';\r\nconst DegToRad = Phaser.Math.DegToRad;\r\n\r\nclass Arc extends PathBase {\r\n    constructor(x, y, radiusX, radiusY, startAngle, endAngle, anticlockwise, pie) {\r\n        if (x === undefined) { x = 0; }\r\n        if (y === undefined) { y = 0; }\r\n        if (radiusX === undefined) { radiusX = 0; }\r\n        if (radiusY === undefined) { radiusY = 0; }\r\n        if (startAngle === undefined) { startAngle = 0; }\r\n        if (endAngle === undefined) { endAngle = 360; }\r\n        if (anticlockwise === undefined) { anticlockwise = false; }\r\n        if (pie === undefined) { pie = false; }\r\n\r\n        super();\r\n\r\n        this.setCenterPosition(x, y);\r\n        this.setRadius(radiusX, radiusY);\r\n        this.setAngle(startAngle, endAngle, anticlockwise);\r\n        this.setPie(pie);\r\n        this.setIterations(32);\r\n    }\r\n\r\n    get x() {\r\n        return this._x;\r\n    }\r\n\r\n    set x(value) {\r\n        this.dirty = this.dirty || (this._x !== value);\r\n        this._x = value;\r\n    }\r\n\r\n    get y() {\r\n        return this._y;\r\n    }\r\n\r\n    set y(value) {\r\n        this.dirty = this.dirty || (this._y !== value);\r\n        this._y = value;\r\n    }\r\n\r\n    setCenterPosition(x, y) {\r\n        if (y === undefined) {\r\n            y = x;\r\n        }\r\n        this.x = x;\r\n        this.y = y;\r\n        return this;\r\n    }\r\n\r\n    get radiusX() {\r\n        return this._radiusX;\r\n    }\r\n\r\n    set radiusX(value) {\r\n        this.dirty = this.dirty || (this._radiusX !== value);\r\n        this._radiusX = value;\r\n    }\r\n\r\n    get radiusY() {\r\n        return this._radiusY;\r\n    }\r\n\r\n    set radiusY(value) {\r\n        this.dirty = this.dirty || (this._radiusY !== value);\r\n        this._radiusY = value;\r\n    }\r\n\r\n    setRadius(radiusX, radiusY) {\r\n        if (radiusY === undefined) {\r\n            radiusY = radiusX;\r\n        }\r\n        this.radiusX = radiusX;\r\n        this.radiusY = radiusY;\r\n        return this;\r\n    }\r\n\r\n    get startAngle() {\r\n        return this._startAngle;\r\n    }\r\n\r\n    set startAngle(value) {\r\n        this.dirty = this.dirty || (this._startAngle !== value);\r\n        this._startAngle = value;\r\n    }\r\n\r\n    get endAngle() {\r\n        return this._endAngle;\r\n    }\r\n\r\n    set endAngle(value) {\r\n        this.dirty = this.dirty || (this._endAngle !== value);\r\n        this._endAngle = value;\r\n    }\r\n\r\n    get anticlockwise() {\r\n        return this._anticlockwise;\r\n    }\r\n\r\n    set anticlockwise(value) {\r\n        this.dirty = this.dirty || (this._anticlockwise !== value);\r\n        this._anticlockwise = value;\r\n    }\r\n\r\n    setAngle(startAngle, endAngle, anticlockwise) {\r\n        // startAngle, endAngle in degrees\r\n        if (anticlockwise === undefined) {\r\n            anticlockwise = false;\r\n        }\r\n\r\n        this.startAngle = startAngle;\r\n        this.endAngle = endAngle;\r\n        this.anticlockwise = anticlockwise;\r\n        return this;\r\n    }\r\n\r\n    get pie() {\r\n        return this._pie;\r\n    }\r\n\r\n    set pie(value) {\r\n        this.dirty = this.dirty || (this._pie !== value);\r\n        this._pie = value;\r\n    }\r\n\r\n    setPie(pie) {\r\n        if (pie === undefined) {\r\n            pie = true;\r\n        }\r\n        this.pie = pie;\r\n        return this;\r\n    }\r\n\r\n    get iterations() {\r\n        return this._iterations;\r\n    }\r\n\r\n    set iterations(value) {\r\n        this.dirty = this.dirty || (this._iterations !== value);\r\n        this._iterations = value;\r\n    }\r\n\r\n    setIterations(iterations) {\r\n        this.iterations = iterations;\r\n        return this;\r\n    }\r\n\r\n    updateData() {\r\n        this.pathData.length = 0;\r\n        if (this.pie) {\r\n            this.pathData.push(this.x, this.y);\r\n        }\r\n        ArcTo(\r\n            this.x, this.y,\r\n            this.radiusX, this.radiusY,\r\n            this.startAngle, this.endAngle, this.anticlockwise,\r\n            this.iterations,\r\n            this.pathData\r\n        );\r\n        if (this.pie) {\r\n            this.pathData.push(this.x, this.y);\r\n        }\r\n        this.pathData.push(this.pathData[0], this.pathData[1]);\r\n\r\n        super.updateData();\r\n        return this;\r\n    }\r\n\r\n    canvasRender(ctx, dx, dy) {\r\n        ctx.beginPath();\r\n        var x = this.x - dx,\r\n            y = this.y - dy,\r\n            startAngle = DegToRad(this.startAngle),\r\n            endAngle = DegToRad(this.endAngle);\r\n        if (this.pie) {\r\n            ctx.moveTo(x, y);\r\n            ctx.lineTo(\r\n                x + Math.cos(startAngle) * this.radiusX,\r\n                y + Math.sin(startAngle) * this.radiusY\r\n            );\r\n        }\r\n        ctx.ellipse(\r\n            x, y,\r\n            this.radiusX, this.radiusY,\r\n            0,\r\n            startAngle, endAngle, this.anticlockwise\r\n        );\r\n        if (this.pie) {\r\n            ctx.lineTo(x, y);\r\n        }\r\n        if (this.isFilled) {\r\n            FillStyleCanvas(ctx, this);\r\n            ctx.fill();\r\n        }\r\n        if (this.isStroked) {\r\n            LineStyleCanvas(ctx, this);\r\n            ctx.stroke();\r\n        }\r\n    }\r\n}\r\n\r\nexport default Arc;","import Arc from './Arc.js';\r\n\r\nclass Circle extends Arc {\r\n    constructor(x, y, radius) {\r\n        super(x, y, radius, radius, 0, 360);\r\n    }\r\n}\r\n\r\nexport default Circle;","import PathBase from './PathBase.js';\r\n\r\nclass Curve extends PathBase {\r\n    constructor(curve) {\r\n        super();\r\n        this.setCurve(curve);\r\n        this.setIterations(32);\r\n    }\r\n\r\n    get curve() {\r\n        return this._curve;\r\n    }\r\n\r\n    set curve(value) {\r\n        this.dirty = this.dirty || (this._curve !== value);\r\n        this._curve = value;\r\n    }\r\n\r\n    setCurve(curve) {\r\n        this.curve = curve;\r\n        return this;\r\n    }\r\n\r\n    get iterations() {\r\n        return this._iterations;\r\n    }\r\n\r\n    set iterations(value) {\r\n        this.dirty = this.dirty || (this._iterations !== value);\r\n        this._iterations = value;\r\n    }\r\n\r\n    setIterations(iterations) {\r\n        this.iterations = iterations;\r\n        return this;\r\n    }\r\n\r\n    updateData() {\r\n        this.pathData.length = 0;\r\n        var points = this.curve.getPoints(this.iterations);\r\n        for (var i = 0, cnt = points.length; i < cnt; i++) {\r\n            this.pathData.push(points[i].x, points[i].y);\r\n        }\r\n        this.pathData.push(points[0].x, points[0].y);\r\n\r\n        super.updateData();\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nexport default Curve;","import Arc from './Arc.js';\r\n\r\nclass Ellipse extends Arc {\r\n    constructor(x, y, radiusX, radiusY) {\r\n        super(x, y, radiusX, radiusY, 0, 360);\r\n    }\r\n}\r\n\r\nexport default Ellipse;","import PathBase from './PathBase.js';\r\n\r\nclass Line extends PathBase {\r\n    constructor(x0, y0, x1, y1) {\r\n        if (x0 === undefined) { x0 = 0; }\r\n        if (y0 === undefined) { y0 = 0; }\r\n        if (x1 === undefined) { x1 = 0; }\r\n        if (y1 === undefined) { y1 = 0; }\r\n\r\n        super();\r\n\r\n        this.setP0(x0, y0);\r\n        this.setP1(x1, y1);\r\n    }\r\n\r\n    get x0() {\r\n        return this._x0;\r\n    }\r\n\r\n    set x0(value) {\r\n        this.dirty = this.dirty || (this._x0 !== value);\r\n        this._x0 = value;\r\n    }\r\n\r\n    get y0() {\r\n        return this._y0;\r\n    }\r\n\r\n    set y0(value) {\r\n        this.dirty = this.dirty || (this._y0 !== value);\r\n        this._y0 = value;\r\n    }\r\n\r\n    setP0(x, y) {\r\n        this.x0 = x;\r\n        this.y0 = y;\r\n        return this;\r\n    }\r\n\r\n    get x1() {\r\n        return this._x1;\r\n    }\r\n\r\n    set x1(value) {\r\n        this.dirty = this.dirty || (this._x1 !== value);\r\n        this._x1 = value;\r\n    }\r\n\r\n    get y1() {\r\n        return this._y1;\r\n    }\r\n\r\n    set y1(value) {\r\n        this.dirty = this.dirty || (this._y1 !== value);\r\n        this._y1 = value;\r\n    }\r\n\r\n    setP1(x, y) {\r\n        this.x1 = x;\r\n        this.y1 = y;\r\n        return this;\r\n    }\r\n\r\n    updateData() {\r\n        this.pathData.length = 0;\r\n        this.pathData.push(this.x0, this.y0);\r\n        this.pathData.push(this.x1, this.y1);\r\n        this.pathData.push(this.x0, this.y0);\r\n\r\n        super.updateData();\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default Line;","var StartAt = function (x, y, pathData) {\r\n    pathData.length = 0;\r\n    pathData.push(x, y);\r\n    return pathData;\r\n}\r\n\r\nexport default StartAt;","const QuadraticBezierInterpolation = Phaser.Math.Interpolation.QuadraticBezier;\r\n\r\nvar QuadraticBezierTo = function (cx, cy, x, y, iterations, pathData) {\r\n    var pathDataCnt = pathData.length;\r\n    var p0x = pathData[pathDataCnt - 2];\r\n    var p0y = pathData[pathDataCnt - 1];\r\n    for (var i = 1, last = iterations - 1; i <= last; i++) {\r\n        var t = i / last;\r\n        pathData.push(\r\n            QuadraticBezierInterpolation(t, p0x, cx, x),\r\n            QuadraticBezierInterpolation(t, p0y, cy, y)\r\n        );\r\n    }\r\n    return pathData;\r\n}\r\n\r\nexport default QuadraticBezierTo;","const PointRotateAround = Phaser.Math.RotateAround;\r\n\r\nvar RotateAround = function (centerX, centerY, angle, pathData) {\r\n    var point = { x: 0, y: 0 };\r\n    for (var i = 0, cnt = pathData.length - 1; i < cnt; i += 2) {\r\n        point.x = pathData[i];\r\n        point.y = pathData[i + 1];\r\n        PointRotateAround(point, centerX, centerY, angle);\r\n        pathData[i] = point.x;\r\n        pathData[i + 1] = point.y;\r\n    }\r\n    return pathData;\r\n}\r\n\r\nexport default RotateAround;","var Offset = function (x, y, pathData) {\r\n    for (var i = 0, cnt = pathData.length - 1; i < cnt; i += 2) {\r\n        pathData[i] += x;\r\n        pathData[i + 1] += y;\r\n    }\r\n    return pathData;\r\n}\r\n\r\nexport default Offset;","var ToPoints = function (pathData, points) {\r\n    if (points === undefined) {\r\n        points = [];\r\n    }\r\n    for (var i = 0, cnt = pathData.length - 1; i < cnt; i += 2) {\r\n        points.push({\r\n            x: pathData[i],\r\n            y: pathData[i + 1]\r\n        })\r\n    }\r\n    return points;\r\n}\r\n\r\nexport default ToPoints;","const Polygon = Phaser.Geom.Polygon;\r\n\r\nvar ToPolygon = function (pathData, polygon) {\r\n    if (polygon === undefined) {\r\n        polygon = new Polygon();\r\n    }\r\n    polygon.setTo(pathData);\r\n    return polygon;\r\n}\r\n\r\nexport default ToPolygon;","import StartAt from './StartAt.js';\r\nimport LineTo from './LineTo.js';\r\nimport ArcTo from './ArcTo.js';\r\nimport QuadraticBezierTo from './QuadraticBezierTo.js';\r\nimport CubicBezierCurveTo from './QuadraticBezierTo.js';\r\nimport RotateAround from './RotateAround.js';\r\nimport Offset from './Offset.js';\r\nimport ToPoints from './ToPoints.js';\r\nimport ToPolygon from './ToPolygon.js';\r\n\r\nconst DegToRad = Phaser.Math.DegToRad;\r\n\r\nclass PathData {\r\n    constructor(pathData) {\r\n        if (pathData === undefined) {\r\n            pathData = [];\r\n        }\r\n\r\n        this.pathData = pathData;\r\n        this.closePath = false;\r\n        this.setIterations(32);\r\n\r\n        this.lastPointX = undefined;\r\n        this.lastPointY = undefined;\r\n    }\r\n\r\n    setIterations(iterations) {\r\n        this.iterations = iterations;\r\n        return this;\r\n    }\r\n\r\n    startAt(x, y) {\r\n        StartAt(x, y, this.pathData);\r\n        this.lastPointX = x;\r\n        this.lastPointY = y;\r\n        return this;\r\n    }\r\n\r\n    lineTo(x, y, relative) {\r\n        if (relative === undefined) {\r\n            relative = false;\r\n        }\r\n        if (relative) {\r\n            x += this.lastPointX;\r\n            y += this.lastPointY;\r\n        }\r\n\r\n        LineTo(x, y, this.pathData);\r\n\r\n        this.lastPointX = x;\r\n        this.lastPointY = y;\r\n        return this;\r\n    }\r\n\r\n    verticalLineTo(x, relative) {\r\n        this.lineTo(x, this.lastPointY, relative);\r\n        return this;\r\n    }\r\n\r\n    horizontalLineTo(y, relative) {\r\n        this.lineTo(this.lastPointX, y, relative);\r\n        return this;\r\n    }\r\n\r\n    ellipticalArc(centerX, centerY, radiusX, radiusY, startAngle, endAngle, anticlockwise) {\r\n        if (anticlockwise === undefined) {\r\n            anticlockwise = false;\r\n        }\r\n\r\n        ArcTo(\r\n            centerX, centerY,\r\n            radiusX, radiusY,\r\n            startAngle, endAngle, anticlockwise,\r\n            this.iterations,\r\n            this.pathData\r\n        );\r\n\r\n        var pathDataCnt = this.pathData.length;\r\n        this.lastPointX = this.pathData[pathDataCnt - 2];\r\n        this.lastPointY = this.pathData[pathDataCnt - 1];\r\n        return this;\r\n    }\r\n\r\n    arc(centerX, centerY, radius, startAngle, endAngle, anticlockwise) {\r\n        this.ellipticalArc(centerX, centerY, radius, radius, startAngle, endAngle, anticlockwise)\r\n        return this;\r\n    }\r\n\r\n    quadraticBezierTo(cx, cy, x, y) {\r\n        QuadraticBezierTo(\r\n            cx, cy, x, y,\r\n            this.iterations,\r\n            this.pathData\r\n        );\r\n\r\n        this.lastPointX = x;\r\n        this.lastPointY = y;\r\n        this.lastCX = cx;\r\n        this.lastCY = cy;\r\n        return this;\r\n    }\r\n\r\n    smoothQuadraticBezierTo(x, y) {\r\n        var cx = this.lastPointX * 2 - this.lastCX;\r\n        var cy = this.lastPointY * 2 - this.lastCY;\r\n        this.quadraticBezierTo(cx, cy, x, y);\r\n        return this;\r\n    }\r\n\r\n    cubicBezierCurveTo(cx0, cy0, cx1, cy1, x, y) {\r\n        CubicBezierCurveTo(\r\n            cx0, cy0, cx1, cy1, x, y,\r\n            this.iterations,\r\n            this.pathData\r\n        );\r\n\r\n        this.lastPointX = x;\r\n        this.lastPointY = y;\r\n        this.lastCX = cx1;\r\n        this.lastCY = cy1;\r\n        return this;\r\n    }\r\n\r\n    smoothCubicBezierCurveTo(cx1, cy1, x, y) {\r\n        var cx0 = this.lastPointX * 2 - this.lastCX;\r\n        var cy0 = this.lastPointY * 2 - this.lastCY;\r\n        this.cubicBezierCurveTo(cx0, cy0, cx1, cy1, x, y);\r\n        return this;\r\n    }\r\n\r\n    close() {\r\n        this.closePath = true;\r\n        return this;\r\n    }\r\n\r\n    end() {\r\n        this.pathData.push(this.lastPointX, this.lastPointY);\r\n        return this;\r\n    }\r\n\r\n    rotateAround(centerX, centerY, angle) {\r\n        if (this.pathData.length === 0) {\r\n            return this;\r\n        }\r\n\r\n        angle = DegToRad(angle);\r\n\r\n        RotateAround(centerX, centerY, angle, this.pathData);\r\n\r\n        var pathDataCnt = this.pathData.length;\r\n        this.lastPointX = this.pathData[pathDataCnt - 2];\r\n        this.lastPointY = this.pathData[pathDataCnt - 1];\r\n        if (this.lastCX !== undefined) {\r\n            var point = {\r\n                x: this.lastCX,\r\n                y: this.lastCY\r\n            }\r\n            PointRotateAround(point, centerX, centerY, angle);\r\n            this.lastCX = point.x;\r\n            this.lastCY = point.y;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    offset(x, y) {\r\n        Offset(x, y, this.pathData);\r\n        return this;\r\n    }\r\n\r\n    toPoints() {\r\n        return ToPoints(this.pathData);\r\n    }\r\n\r\n    toPolygon(polygon) {\r\n        return ToPolygon(this.pathData, polygon);\r\n    }\r\n\r\n    draw(graphics, isFill, isStroke) {\r\n        var points = this.toPoints();\r\n        if (isFill) {\r\n            graphics.fillPoints(points, this.closePath, this.closePath);\r\n        }\r\n        if (isStroke) {\r\n            graphics.strokePoints(points, this.closePath, this.closePath);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nexport default PathData;","import PathBase from './PathBase.js';\r\nimport PathDataBuilder from '../../../../../geom/pathdata/PathData.js';\r\n\r\nclass Lines extends PathBase {\r\n    constructor() {\r\n        super();\r\n        this.builder = new PathDataBuilder(this.pathData);\r\n    }\r\n\r\n    get iterations() {\r\n        return this.builder.iterations;\r\n    }\r\n\r\n    set iterations(value) {\r\n        this.dirty = this.dirty || (this.builder.iterations !== value);\r\n        this.builder.setIterations(value);\r\n    }\r\n\r\n    setIterations(iterations) {\r\n        this.iterations = iterations;\r\n        return this;\r\n    }\r\n\r\n    get lastPointX() {\r\n        return this.builder.lastPointX;\r\n    }\r\n\r\n    get lastPointY() {\r\n        return this.builder.lastPointY;\r\n    }\r\n\r\n    startAt(x, y) {\r\n        this.builder.startAt(x, y);\r\n\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    lineTo(x, y, relative) {\r\n        this.builder.lineTo(x, y, relative);\r\n\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    verticalLineTo(x, relative) {\r\n        this.builder.verticalLineTo(x, relative);\r\n\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    horizontalLineTo(y, relative) {\r\n        this.builder.horizontalLineTo(y, relative);\r\n\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    ellipticalArc(centerX, centerY, radiusX, radiusY, startAngle, endAngle, anticlockwise) {\r\n        this.builder.ellipticalArc(centerX, centerY, radiusX, radiusY, startAngle, endAngle, anticlockwise);\r\n\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    arc(centerX, centerY, radius, startAngle, endAngle, anticlockwise) {\r\n        this.builder.arc(centerX, centerY, radius, startAngle, endAngle, anticlockwise);\r\n\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    quadraticBezierTo(cx, cy, x, y) {\r\n        this.builder.quadraticBezierTo(cx, cy, x, y);\r\n\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    smoothQuadraticBezierTo(x, y) {\r\n        this.builder.smoothQuadraticBezierTo(x, y);\r\n\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    cubicBezierCurveTo(cx0, cy0, cx1, cy1, x, y) {\r\n        this.builder.cubicBezierCurveTo(cx0, cy0, cx1, cy1, x, y);\r\n\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    smoothCubicBezierCurveTo(cx1, cy1, x, y) {\r\n        this.builder.smoothCubicBezierCurveTo(cx1, cy1, x, y);\r\n\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    close() {\r\n        this.builder.close();\r\n\r\n        this.closePath = this.builder.closePath;\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    end() {\r\n        this.builder.end();\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    rotateAround(centerX, centerY, angle) {\r\n        this.builder.rotateAround(centerX, centerY, angle);\r\n\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    offset(x, y) {\r\n        this.builder.offset(x, y);\r\n\r\n        this.dirty = true;\r\n        return this;\r\n    }\r\n\r\n    toPolygon(polygon) {\r\n        return this.builder.toPolygon(polygon);\r\n    }\r\n}\r\n\r\nexport default Lines;","import BaseGeom from '../base/BaseGeom.js';\r\nimport StrokePathWebGL from '../../../utils/render/StrokePathWebGL.js';\r\nimport FillStyleCanvas from '../../../utils/render/FillStyleCanvas.js';\r\nimport LineStyleCanvas from '../../../utils/render/LineStyleCanvas.js';\r\n\r\nconst GetTint = Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;\r\n\r\nclass Rectangle extends BaseGeom {\r\n    constructor(x, y, width, height) {\r\n        if (x === undefined) { x = 0; }\r\n        if (y === undefined) { y = 0; }\r\n        if (width === undefined) { width = 0; }\r\n        if (height === undefined) { height = width; }\r\n\r\n        super();\r\n\r\n        this.pathData = [];\r\n        this.closePath = true;\r\n\r\n        this.setTopLeftPosition(x, y);\r\n        this.setSize(width, height);\r\n    }\r\n\r\n    get x() {\r\n        return this._x;\r\n    }\r\n\r\n    set x(value) {\r\n        this.dirty = this.dirty || (this._x !== value);\r\n        this._x = value;\r\n    }\r\n\r\n    get y() {\r\n        return this._y;\r\n    }\r\n\r\n    set y(value) {\r\n        this.dirty = this.dirty || (this._y !== value);\r\n        this._y = value;\r\n    }\r\n\r\n    setTopLeftPosition(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        return this;\r\n    }\r\n\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    set width(value) {\r\n        this.dirty = this.dirty || (this._width !== value);\r\n        this._width = value;\r\n    }\r\n\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    set height(value) {\r\n        this.dirty = this.dirty || (this._height !== value);\r\n        this._height = value;\r\n    }\r\n\r\n    setSize(width, height) {\r\n        this.width = width;\r\n        this.height = height;\r\n        return this;\r\n    }\r\n\r\n    updateData() {\r\n        this.pathData.length = 0;\r\n        var x0 = this.x,\r\n            x1 = x0 + this.width,\r\n            y0 = this.y,\r\n            y1 = y0 + this.height;\r\n        this.pathData.push(x0, y0);\r\n        this.pathData.push(x1, y0);\r\n        this.pathData.push(x1, y1);\r\n        this.pathData.push(x0, y1);\r\n        this.pathData.push(x0, y0);\r\n\r\n        super.updateData();\r\n        return this;\r\n    }\r\n\r\n    webglRender(pipeline, calcMatrix, alpha, dx, dy) {\r\n        if (this.isFilled) {\r\n            var fillTint = pipeline.fillTint;\r\n            var fillTintColor = GetTint(this.fillColor, this.fillAlpha * alpha);\r\n\r\n            fillTint.TL = fillTintColor;\r\n            fillTint.TR = fillTintColor;\r\n            fillTint.BL = fillTintColor;\r\n            fillTint.BR = fillTintColor;\r\n\r\n            pipeline.batchFillRect(-dx + this.x, -dy + this.y, this.width, this.height);\r\n        }\r\n\r\n        if (this.isStroked) {\r\n            StrokePathWebGL(pipeline, this, alpha, dx, dy);\r\n        }\r\n    }\r\n\r\n    canvasRender(ctx, dx, dy) {\r\n        if (this.isFilled) {\r\n            FillStyleCanvas(ctx, this);\r\n            ctx.fillRect(-dx, -dy, this.width, this.height);\r\n        }\r\n\r\n        if (this.isStroked) {\r\n            LineStyleCanvas(ctx, this);\r\n            ctx.beginPath();\r\n            ctx.rect(-dx, -dy, this.width, this.height);\r\n            ctx.stroke();\r\n        }\r\n    }\r\n}\r\n\r\nexport default Rectangle;","import BaseGeom from '../base/BaseGeom.js';\r\nimport StrokePathWebGL from '../../../utils/render/StrokePathWebGL.js';\r\nimport FillStyleCanvas from '../../../utils/render/FillStyleCanvas.js';\r\nimport LineStyleCanvas from '../../../utils/render/LineStyleCanvas.js';\r\n\r\nconst GetTint = Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;\r\n\r\nclass Triangle extends BaseGeom {\r\n    constructor(x0, y0, x1, y1, x2, y2) {\r\n        if (x0 === undefined) { x0 = 0; }\r\n        if (y0 === undefined) { y0 = 0; }\r\n        if (x1 === undefined) { x1 = 0; }\r\n        if (y1 === undefined) { y1 = 0; }\r\n        if (x2 === undefined) { x2 = 0; }\r\n        if (y2 === undefined) { y2 = 0; }\r\n\r\n        super();\r\n\r\n        this.pathData = [];\r\n        this.closePath = true;\r\n\r\n        this.setP0(x0, y0);\r\n        this.setP1(x1, y1);\r\n        this.setP2(x2, y2);\r\n    }\r\n\r\n    get x0() {\r\n        return this._x0;\r\n    }\r\n\r\n    set x0(value) {\r\n        this.dirty = this.dirty || (this._x0 !== value);\r\n        this._x0 = value;\r\n    }\r\n\r\n    get y0() {\r\n        return this._y0;\r\n    }\r\n\r\n    set y0(value) {\r\n        this.dirty = this.dirty || (this._y0 !== value);\r\n        this._y0 = value;\r\n    }\r\n\r\n    setP0(x, y) {\r\n        this.x0 = x;\r\n        this.y0 = y;\r\n        return this;\r\n    }\r\n\r\n    get x1() {\r\n        return this._x1;\r\n    }\r\n\r\n    set x1(value) {\r\n        this.dirty = this.dirty || (this._x1 !== value);\r\n        this._x1 = value;\r\n    }\r\n\r\n    get y1() {\r\n        return this._y1;\r\n    }\r\n\r\n    set y1(value) {\r\n        this.dirty = this.dirty || (this._y1 !== value);\r\n        this._y1 = value;\r\n    }\r\n\r\n    setP1(x, y) {\r\n        this.x1 = x;\r\n        this.y1 = y;\r\n        return this;\r\n    }\r\n\r\n    get x2() {\r\n        return this._x2;\r\n    }\r\n\r\n    set x2(value) {\r\n        this.dirty = this.dirty || (this._x2 !== value);\r\n        this._x2 = value;\r\n    }\r\n\r\n    get y2() {\r\n        return this._y2;\r\n    }\r\n\r\n    set y2(value) {\r\n        this.dirty = this.dirty || (this._y2 !== value);\r\n        this._y2 = value;\r\n    }\r\n\r\n    setP2(x, y) {\r\n        this.dirty = this.dirty || (this.x2 !== x) || (this.y2 !== y);\r\n        this.x2 = x;\r\n        this.y2 = y;\r\n        return this;\r\n    }\r\n\r\n    updateData() {\r\n        this.pathData.length = 0;\r\n        this.pathData.push(this.x0, this.y0);\r\n        this.pathData.push(this.x1, this.y1);\r\n        this.pathData.push(this.x2, this.y2);\r\n        this.pathData.push(this.x0, this.y0);\r\n\r\n        super.updateData();\r\n        return this;\r\n    }\r\n\r\n    webglRender(pipeline, calcMatrix, alpha, dx, dy) {\r\n        if (this.isFilled) {\r\n            var fillTintColor = GetTint(this.fillColor, this.fillAlpha * alpha);\r\n\r\n            var x0 = this.x0 - dx;\r\n            var y0 = this.y0 - dy;\r\n            var x1 = this.x1 - dx;\r\n            var y1 = this.y1 - dy;\r\n            var x2 = this.x2 - dx;\r\n            var y2 = this.y2 - dy;\r\n\r\n            var tx0 = calcMatrix.getX(x0, y0);\r\n            var ty0 = calcMatrix.getY(x0, y0);\r\n            var tx1 = calcMatrix.getX(x1, y1);\r\n            var ty1 = calcMatrix.getY(x1, y1);\r\n            var tx2 = calcMatrix.getX(x2, y2);\r\n            var ty2 = calcMatrix.getY(x2, y2);\r\n\r\n            pipeline.batchTri(tx0, ty0, tx1, ty1, tx2, ty2, fillTintColor, fillTintColor, fillTintColor);\r\n        }\r\n\r\n        if (this.isStroked) {\r\n            StrokePathWebGL(pipeline, this, alpha, dx, dy);\r\n        }\r\n    }\r\n\r\n    canvasRender(ctx, dx, dy) {\r\n        var x1 = this.x1 - dx;\r\n        var y1 = this.y1 - dy;\r\n        var x2 = this.x2 - dx;\r\n        var y2 = this.y2 - dy;\r\n        var x3 = this.x3 - dx;\r\n        var y3 = this.y3 - dy;\r\n\r\n        ctx.beginPath();\r\n\r\n        ctx.moveTo(x1, y1);\r\n        ctx.lineTo(x2, y2);\r\n        ctx.lineTo(x3, y3);\r\n\r\n        ctx.closePath();\r\n\r\n        if (this.isFilled) {\r\n            FillStyleCanvas(ctx, this);\r\n            ctx.fill();\r\n        }\r\n\r\n        if (this.isStroked) {\r\n            LineStyleCanvas(ctx, this);\r\n            ctx.stroke();\r\n        }\r\n    }\r\n}\r\n\r\nexport default Triangle;","import BaseShapes from '../shapes/BaseShapes.js';\r\nimport { Arc, Circle } from '../shapes/geoms';\r\nimport EaseValueMethods from '../../../utils/ease/EaseValueMethods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst Clamp = Phaser.Math.Clamp;\r\nconst Linear = Phaser.Math.Linear;\r\nconst Percent = Phaser.Math.Percent;\r\n\r\nconst DefaultStartAngle = Phaser.Math.DegToRad(270);\r\nconst RadToDeg = Phaser.Math.RadToDeg;\r\n\r\nclass CircularProgress extends BaseShapes {\r\n    constructor(scene, x, y, radius, barColor, value, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            radius = GetValue(config, 'radius', 1);\r\n            barColor = GetValue(config, 'barColor', undefined);\r\n            value = GetValue(config, 'value', 0);\r\n        }\r\n        var width = radius * 2;\r\n        super(scene, x, y, width, width);\r\n        this.type = 'rexCircularProgress';\r\n        this.eventEmitter = GetValue(config, 'eventEmitter', this);\r\n\r\n        this\r\n            .addShape((new Circle()).setName('track'))\r\n            .addShape((new Arc()).setName('bar'))\r\n            .addShape((new Circle()).setName('center'))\r\n\r\n        this.setRadius(radius);\r\n        this.setTrackColor(GetValue(config, 'trackColor', undefined));\r\n        this.setBarColor(barColor);\r\n        this.setCenterColor(GetValue(config, 'centerColor', undefined));\r\n\r\n        this.setThickness(GetValue(config, 'thickness', 0.2));\r\n        this.setStartAngle(GetValue(config, 'startAngle', DefaultStartAngle));\r\n        this.setAnticlockwise(GetValue(config, 'anticlockwise', false));\r\n\r\n        var callback = GetValue(config, 'valuechangeCallback', null);\r\n        if (callback !== null) {\r\n            var scope = GetValue(config, 'valuechangeCallbackScope', undefined);\r\n            this.eventEmitter.on('valuechange', callback, scope);\r\n        }\r\n\r\n        this\r\n            .setEaseValuePropName('value')\r\n            .setEaseValueDuration(GetValue(config, 'easeValue.duration', 0))\r\n            .setEaseValueFunction(GetValue(config, 'easeValue.ease', 'Linear'))\r\n\r\n        this.setValue(value);\r\n    }\r\n\r\n    resize(width, height) {\r\n        width = Math.floor(Math.min(width, height));\r\n        if (width === this.width) {\r\n            return this;\r\n        }\r\n\r\n        super.resize(width, width);\r\n        this.setRadius(width / 2);\r\n        return this;\r\n    }\r\n\r\n    get value() {\r\n        return this._value;\r\n    }\r\n\r\n    set value(value) {\r\n        value = Clamp(value, 0, 1);\r\n\r\n        var oldValue = this._value;\r\n        var valueChanged = (oldValue != value);\r\n        this.dirty = this.dirty || valueChanged;\r\n        this._value = value;\r\n\r\n        if (valueChanged) {\r\n            this.eventEmitter.emit('valuechange', this._value, oldValue, this.eventEmitter);\r\n        }\r\n    }\r\n\r\n    setValue(value, min, max) {\r\n        if ((value === undefined) || (value === null)) {\r\n            return this;\r\n        }\r\n\r\n        if (min !== undefined) {\r\n            value = Percent(value, min, max);\r\n        }\r\n        this.value = value;\r\n        return this;\r\n    }\r\n\r\n    addValue(inc, min, max) {\r\n        if (min !== undefined) {\r\n            inc = Percent(inc, min, max);\r\n        }\r\n        this.value += inc;\r\n        return this;\r\n    }\r\n\r\n    getValue(min, max) {\r\n        var value = this.value;\r\n        if (min !== undefined) {\r\n            value = Linear(min, max, value);\r\n        }\r\n        return value;\r\n    }\r\n\r\n    get radius() {\r\n        return this._radius;\r\n    }\r\n\r\n    set radius(value) {\r\n        this.dirty = this.dirty || (this._radius != value);\r\n        this._radius = value;\r\n        var width = value * 2;\r\n        this.resize(width, width);\r\n    }\r\n\r\n    setRadius(radius) {\r\n        this.radius = radius;\r\n        return this;\r\n    }\r\n\r\n    get trackColor() {\r\n        return this._trackColor;\r\n    }\r\n\r\n    set trackColor(value) {\r\n        this.dirty = this.dirty || (this._trackColor != value);\r\n        this._trackColor = value;\r\n    }\r\n\r\n    setTrackColor(color) {\r\n        this.trackColor = color;\r\n        return this;\r\n    }\r\n\r\n    get barColor() {\r\n        return this._barColor;\r\n    }\r\n\r\n    set barColor(value) {\r\n        this.dirty = this.dirty || (this._barColor != value);\r\n        this._barColor = value;\r\n    }\r\n\r\n    setBarColor(color) {\r\n        this.barColor = color;\r\n        return this;\r\n    }\r\n\r\n    get startAngle() {\r\n        return this._startAngle;\r\n    }\r\n\r\n    set startAngle(value) {\r\n        this.dirty = this.dirty || (this._startAngle != value);\r\n        this._startAngle = value;\r\n    }\r\n\r\n    setStartAngle(angle) {\r\n        this.startAngle = angle;\r\n        return this;\r\n    }\r\n\r\n    get anticlockwise() {\r\n        return this._anticlockwise;\r\n    }\r\n\r\n    set anticlockwise(value) {\r\n        this.dirty = this.dirty || (this._anticlockwise != value);\r\n        this._anticlockwise = value;\r\n    }\r\n\r\n    setAnticlockwise(anticlockwise) {\r\n        if (anticlockwise === undefined) {\r\n            anticlockwise = true;\r\n        }\r\n        this.anticlockwise = anticlockwise;\r\n        return this;\r\n    }\r\n\r\n    get thickness() {\r\n        return this._thickness;\r\n    }\r\n\r\n    set thickness(value) {\r\n        value = Clamp(value, 0, 1);\r\n        this.dirty = this.dirty || (this._thickness != value);\r\n        this._thickness = value;\r\n    }\r\n\r\n    setThickness(thickness) {\r\n        this.thickness = thickness;\r\n        return this;\r\n    }\r\n\r\n    get centerColor() {\r\n        return this._centerColor;\r\n    }\r\n\r\n    set centerColor(value) {\r\n        this.dirty = this.dirty || (this._centerColor != value);\r\n        this._centerColor = value;\r\n    }\r\n\r\n    setCenterColor(color) {\r\n        this.centerColor = color;\r\n        return this;\r\n    }\r\n\r\n    updateShapes() {\r\n        var x = this.radius;\r\n        var lineWidth = this.thickness * this.radius;\r\n        var barRadius = this.radius - (lineWidth / 2);\r\n        var centerRadius = this.radius - lineWidth;\r\n\r\n        // Track shape\r\n        var trackShape = this.getShape('track');\r\n        if ((this.trackColor != null) && (lineWidth > 0)) {\r\n            trackShape\r\n                .setCenterPosition(x, x)\r\n                .setRadius(barRadius)\r\n                .lineStyle(lineWidth, this.trackColor);\r\n        } else {\r\n            trackShape.reset();\r\n        }\r\n\r\n        // Bar shape\r\n        var barShape = this.getShape('bar');\r\n        if ((this.barColor != null) && (barRadius > 0)) {\r\n            var anticlockwise, startAngle, endAngle;\r\n            if (this.value === 1) {\r\n                anticlockwise = false;\r\n                startAngle = 0;\r\n                endAngle = 361;  // overshoot 1\r\n            } else {\r\n                anticlockwise = this.anticlockwise;\r\n                startAngle = RadToDeg(this.startAngle);\r\n                var deltaAngle = 360 * ((anticlockwise) ? (1 - this.value) : this.value);\r\n                endAngle = deltaAngle + startAngle;\r\n            }\r\n            barShape\r\n                .setCenterPosition(x, x)\r\n                .setRadius(barRadius)\r\n                .setAngle(startAngle, endAngle, anticlockwise)\r\n                .lineStyle(lineWidth, this.barColor);\r\n        } else {\r\n            barShape.reset();\r\n        }\r\n\r\n        // Center shape\r\n        var centerShape = this.getShape('center');\r\n        if (this.centerColor && (centerRadius > 0)) {\r\n            centerShape\r\n                .setCenterPosition(x, x)\r\n                .setRadius(centerRadius)\r\n                .fillStyle(this.centerColor);\r\n        } else {\r\n            centerShape.reset();\r\n        }\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    CircularProgress.prototype,\r\n    EaseValueMethods\r\n);\r\n\r\nexport default CircularProgress;","var GetSizerConfig = function (gameObject) {\r\n    if (!gameObject.hasOwnProperty('rexSizer')) {\r\n        gameObject.rexSizer = {};\r\n    }\r\n    return gameObject.rexSizer;\r\n}\r\nexport default GetSizerConfig;","import GetSizerConfig from './GetSizerConfig.js';\r\n\r\nvar GetChildPrevState = function (child) {\r\n    var childConfig = GetSizerConfig(child);\r\n    if (!childConfig.hasOwnProperty('prevState')) {\r\n        childConfig.prevState = {};\r\n    }\r\n    return childConfig.prevState;\r\n}\r\n\r\nexport default GetChildPrevState;\r\n","const Rectangle = Phaser.Geom.Rectangle;\r\nconst Center = Phaser.Scale.Center;\r\n\r\nvar GetViewport = function (scene, out) {\r\n    if (out === undefined) {\r\n        out = new Rectangle();\r\n    } else if (out === true) {\r\n        out = globRect;\r\n    }\r\n\r\n    var scaleManager = scene.sys.scale;\r\n    var baseSize = scaleManager.baseSize;\r\n    var parentSize = scaleManager.parentSize;\r\n    var canvasBounds = scaleManager.canvasBounds;\r\n    var displayScale = scaleManager.displayScale;\r\n\r\n    var x = (canvasBounds.x >= 0) ? 0 : -(canvasBounds.x * displayScale.x);\r\n\r\n    var y = (canvasBounds.y >= 0) ? 0 : -(canvasBounds.y * displayScale.y);\r\n\r\n    var width;\r\n    if (parentSize.width >= canvasBounds.width) {\r\n        width = baseSize.width;\r\n    } else {\r\n        width = baseSize.width - (canvasBounds.width - parentSize.width) * displayScale.x;\r\n    }\r\n\r\n    var height;\r\n    if (parentSize.height >= canvasBounds.height) {\r\n        height = baseSize.height;\r\n    } else {\r\n        height = baseSize.height - (canvasBounds.height - parentSize.height) * displayScale.y;\r\n    }\r\n\r\n    out.setTo(x, y, width, height);\r\n\r\n    return out;\r\n}\r\n\r\nvar globRect = new Rectangle();\r\n\r\nexport default GetViewport;","import GetViewPort from '../../../plugins/utils/system/GetViewport.js';\r\n\r\nvar PushIntoBounds = function (bounds) {\r\n    if (bounds === undefined) {\r\n        bounds = GetViewPort(this.scene);\r\n    }\r\n\r\n    this.left = Math.max(this.left, bounds.left);\r\n    this.right = Math.min(this.right, bounds.right);\r\n    this.top = Math.max(this.top, bounds.top);\r\n    this.bottom = Math.min(this.bottom, bounds.bottom);\r\n    return this;\r\n}\r\n\r\nexport default PushIntoBounds;","const ALIGN = Phaser.Display.Align;\r\nexport default {\r\n    center: ALIGN.CENTER,\r\n    left: ALIGN.LEFT_CENTER,\r\n    right: ALIGN.RIGHT_CENTER,\r\n    top: ALIGN.TOP_CENTER,\r\n    bottom: ALIGN.BOTTOM_CENTER,\r\n\r\n    'left-top': ALIGN.TOP_LEFT,\r\n    'left-center': ALIGN.LEFT_CENTER,\r\n    'left-bottom': ALIGN.BOTTOM_LEFT,\r\n    'center-top': ALIGN.TOP_CENTER,\r\n    'center-center': ALIGN.CENTER,\r\n    'center-bottom': ALIGN.BOTTOM_CENTER,\r\n    'right-top': ALIGN.TOP_RIGHT,\r\n    'right-center': ALIGN.RIGHT_CENTER,\r\n    'right-bottom': ALIGN.BOTTOM_RIGHT\r\n};","import NOOP from '../object/NOOP.js';\r\nvar globZone = new Phaser.GameObjects.Zone({\r\n    sys: {\r\n        queueDepthSort: NOOP,\r\n        events: {\r\n            once: NOOP\r\n        }\r\n    }\r\n}, 0, 0, 1, 1);\r\nglobZone.setOrigin(0);\r\n\r\nexport default globZone;","var ALIGN_CONST = {\r\n\r\n    /**\r\n    * A constant representing a top-left alignment or position.\r\n    * @constant\r\n    * @name Phaser.Display.Align.TOP_LEFT\r\n    * @since 3.0.0\r\n    * @type {integer}\r\n    */\r\n    TOP_LEFT: 0,\r\n\r\n    /**\r\n    * A constant representing a top-center alignment or position.\r\n    * @constant\r\n    * @name Phaser.Display.Align.TOP_CENTER\r\n    * @since 3.0.0\r\n    * @type {integer}\r\n    */\r\n    TOP_CENTER: 1,\r\n\r\n    /**\r\n    * A constant representing a top-right alignment or position.\r\n    * @constant\r\n    * @name Phaser.Display.Align.TOP_RIGHT\r\n    * @since 3.0.0\r\n    * @type {integer}\r\n    */\r\n    TOP_RIGHT: 2,\r\n\r\n    /**\r\n    * A constant representing a left-top alignment or position.\r\n    * @constant\r\n    * @name Phaser.Display.Align.LEFT_TOP\r\n    * @since 3.0.0\r\n    * @type {integer}\r\n    */\r\n    LEFT_TOP: 3,\r\n\r\n    /**\r\n    * A constant representing a left-center alignment or position.\r\n    * @constant\r\n    * @name Phaser.Display.Align.LEFT_CENTER\r\n    * @since 3.0.0\r\n    * @type {integer}\r\n    */\r\n    LEFT_CENTER: 4,\r\n\r\n    /**\r\n    * A constant representing a left-bottom alignment or position.\r\n    * @constant\r\n    * @name Phaser.Display.Align.LEFT_BOTTOM\r\n    * @since 3.0.0\r\n    * @type {integer}\r\n    */\r\n    LEFT_BOTTOM: 5,\r\n\r\n    /**\r\n    * A constant representing a center alignment or position.\r\n    * @constant\r\n    * @name Phaser.Display.Align.CENTER\r\n    * @since 3.0.0\r\n    * @type {integer}\r\n    */\r\n    CENTER: 6,\r\n\r\n    /**\r\n    * A constant representing a right-top alignment or position.\r\n    * @constant\r\n    * @name Phaser.Display.Align.RIGHT_TOP\r\n    * @since 3.0.0\r\n    * @type {integer}\r\n    */\r\n    RIGHT_TOP: 7,\r\n\r\n    /**\r\n    * A constant representing a right-center alignment or position.\r\n    * @constant\r\n    * @name Phaser.Display.Align.RIGHT_CENTER\r\n    * @since 3.0.0\r\n    * @type {integer}\r\n    */\r\n    RIGHT_CENTER: 8,\r\n\r\n    /**\r\n    * A constant representing a right-bottom alignment or position.\r\n    * @constant\r\n    * @name Phaser.Display.Align.RIGHT_BOTTOM\r\n    * @since 3.0.0\r\n    * @type {integer}\r\n    */\r\n    RIGHT_BOTTOM: 9,\r\n\r\n    /**\r\n    * A constant representing a bottom-left alignment or position.\r\n    * @constant\r\n    * @name Phaser.Display.Align.BOTTOM_LEFT\r\n    * @since 3.0.0\r\n    * @type {integer}\r\n    */\r\n    BOTTOM_LEFT: 10,\r\n\r\n    /**\r\n    * A constant representing a bottom-center alignment or position.\r\n    * @constant\r\n    * @name Phaser.Display.Align.BOTTOM_CENTER\r\n    * @since 3.0.0\r\n    * @type {integer}\r\n    */\r\n    BOTTOM_CENTER: 11,\r\n\r\n    /**\r\n    * A constant representing a bottom-right alignment or position.\r\n    * @constant\r\n    * @name Phaser.Display.Align.BOTTOM_RIGHT\r\n    * @since 3.0.0\r\n    * @type {integer}\r\n    */\r\n    BOTTOM_RIGHT: 12\r\n\r\n};\r\n\r\nexport default ALIGN_CONST;\r\n","var GetDisplayWidth = function (gameObject) {\r\n    if (gameObject.displayWidth !== undefined) {\r\n        return gameObject.displayWidth;\r\n    } else {\r\n        return gameObject.width;\r\n    }\r\n}\r\n\r\nvar GetDisplayHeight = function (gameObject) {\r\n    if (gameObject.displayHeight !== undefined) {\r\n        return gameObject.displayHeight;\r\n    } else {\r\n        return gameObject.height;\r\n    }\r\n}\r\n\r\nexport {\r\n    GetDisplayWidth,\r\n    GetDisplayHeight\r\n}","import { GetDisplayHeight } from '../../size/GetDisplaySize.js';\r\n\r\nvar GetBottom = function (gameObject) {\r\n    var height = GetDisplayHeight(gameObject);\r\n    return (gameObject.y + height) - (height * gameObject.originY);\r\n};\r\n\r\nexport default GetBottom;\r\n","import { GetDisplayWidth } from '../../size/GetDisplaySize.js';\r\n\r\nvar GetCenterX = function (gameObject) {\r\n    var width = GetDisplayWidth(gameObject);\r\n    return gameObject.x - (width * gameObject.originX) + (width * 0.5);\r\n};\r\n\r\nexport default GetCenterX;\r\n","import { GetDisplayHeight } from '../../size/GetDisplaySize.js';\r\n\r\nvar SetBottom = function (gameObject, value) {\r\n    var height = GetDisplayHeight(gameObject);\r\n    gameObject.y = (value - height) + (height * gameObject.originY);\r\n    return gameObject;\r\n};\r\n\r\nexport default SetBottom;\r\n","import { GetDisplayWidth } from '../../size/GetDisplaySize.js';\r\n\r\nvar SetCenterX = function (gameObject, x) {\r\n    var width = GetDisplayWidth(gameObject);\r\n    var offsetX = width * gameObject.originX;\r\n    gameObject.x = (x + offsetX) - (width * 0.5);\r\n\r\n    return gameObject;\r\n};\r\n\r\nexport default SetCenterX;\r\n","import GetBottom from '../../bounds/GetBottom.js';\r\nimport GetCenterX from '../../bounds/GetCenterX.js';\r\nimport SetBottom from '../../bounds/SetBottom.js';\r\nimport SetCenterX from '../../bounds/SetCenterX.js';\r\n\r\nvar BottomCenter = function (gameObject, alignIn, offsetX, offsetY) {\r\n    if (offsetX === undefined) { offsetX = 0; }\r\n    if (offsetY === undefined) { offsetY = 0; }\r\n\r\n    SetCenterX(gameObject, GetCenterX(alignIn) + offsetX);\r\n    SetBottom(gameObject, GetBottom(alignIn) + offsetY);\r\n\r\n    return gameObject;\r\n};\r\n\r\nexport default BottomCenter;\r\n","import { GetDisplayWidth } from '../../size/GetDisplaySize.js';\r\n\r\nvar GetLeft = function (gameObject) {\r\n    var width = GetDisplayWidth(gameObject);\r\n    return gameObject.x - (width * gameObject.originX);\r\n};\r\n\r\nexport default GetLeft;\r\n","import { GetDisplayWidth } from '../../size/GetDisplaySize.js';\r\n\r\nvar SetLeft = function (gameObject, value) {\r\n    var width = GetDisplayWidth(gameObject);\r\n    gameObject.x = value + (width * gameObject.originX);\r\n    return gameObject;\r\n};\r\n\r\nexport default SetLeft;\r\n","import GetBottom from '../../bounds/GetBottom.js';\r\nimport GetLeft from '../../bounds/GetLeft.js';\r\nimport SetBottom from '../../bounds/SetBottom.js';\r\nimport SetLeft from '../../bounds/SetLeft.js';\r\n\r\nvar BottomLeft = function (gameObject, alignIn, offsetX, offsetY) {\r\n    if (offsetX === undefined) { offsetX = 0; }\r\n    if (offsetY === undefined) { offsetY = 0; }\r\n\r\n    SetLeft(gameObject, GetLeft(alignIn) - offsetX);\r\n    SetBottom(gameObject, GetBottom(alignIn) + offsetY);\r\n\r\n    return gameObject;\r\n};\r\n\r\nexport default BottomLeft;\r\n","import { GetDisplayWidth } from '../../size/GetDisplaySize.js';\r\n\r\nvar GetRight = function (gameObject) {\r\n    var width = GetDisplayWidth(gameObject);\r\n    return (gameObject.x + width) - (width * gameObject.originX);\r\n};\r\n\r\nexport default GetRight;\r\n","import { GetDisplayWidth } from '../../size/GetDisplaySize.js';\r\n\r\nvar SetRight = function (gameObject, value) {\r\n    var width = GetDisplayWidth(gameObject);\r\n    gameObject.x = (value - width) + (width * gameObject.originX);\r\n\r\n    return gameObject;\r\n};\r\n\r\nexport default SetRight;\r\n","import GetBottom from '../../bounds/GetBottom.js';\r\nimport GetRight from '../../bounds/GetRight.js';\r\nimport SetBottom from '../../bounds/SetBottom.js';\r\nimport SetRight from '../../bounds/SetRight.js';\r\n\r\nvar BottomRight = function (gameObject, alignIn, offsetX, offsetY) {\r\n    if (offsetX === undefined) { offsetX = 0; }\r\n    if (offsetY === undefined) { offsetY = 0; }\r\n\r\n    SetRight(gameObject, GetRight(alignIn) + offsetX);\r\n    SetBottom(gameObject, GetBottom(alignIn) + offsetY);\r\n\r\n    return gameObject;\r\n};\r\n\r\nexport default BottomRight;\r\n","import { GetDisplayHeight } from '../../size/GetDisplaySize.js';\r\n\r\nvar SetCenterY = function (gameObject, y) {\r\n    var height = GetDisplayHeight(gameObject);\r\n    var offsetY = height * gameObject.originY;\r\n    gameObject.y = (y + offsetY) - (height * 0.5);\r\n\r\n    return gameObject;\r\n};\r\n\r\nexport default SetCenterY;\r\n","import SetCenterX from './SetCenterX.js';\r\nimport SetCenterY from './SetCenterY.js';\r\n\r\nvar CenterOn = function (gameObject, x, y) {\r\n    SetCenterX(gameObject, x);\r\n    return SetCenterY(gameObject, y);\r\n};\r\n\r\nexport default CenterOn;\r\n","import { GetDisplayHeight } from '../../size/GetDisplaySize.js';\r\n\r\nvar GetCenterY = function (gameObject) {\r\n    var height = GetDisplayHeight(gameObject);\r\n    return gameObject.y - (height * gameObject.originY) + (height * 0.5);\r\n};\r\n\r\nexport default GetCenterY;\r\n","import CenterOn from '../../bounds/CenterOn.js';\r\nimport GetCenterX from '../../bounds/GetCenterX.js';\r\nimport GetCenterY from '../../bounds/GetCenterY.js';\r\n\r\nvar Center = function (gameObject, alignIn, offsetX, offsetY) {\r\n    if (offsetX === undefined) { offsetX = 0; }\r\n    if (offsetY === undefined) { offsetY = 0; }\r\n\r\n    CenterOn(gameObject, GetCenterX(alignIn) + offsetX, GetCenterY(alignIn) + offsetY);\r\n\r\n    return gameObject;\r\n};\r\n\r\nexport default Center;\r\n","import GetCenterY from '../../bounds/GetCenterY.js';\r\nimport GetLeft from '../../bounds/GetLeft.js';\r\nimport SetCenterY from '../../bounds/SetCenterY.js';\r\nimport SetLeft from '../../bounds/SetLeft.js';\r\n\r\nvar LeftCenter = function (gameObject, alignIn, offsetX, offsetY) {\r\n    if (offsetX === undefined) { offsetX = 0; }\r\n    if (offsetY === undefined) { offsetY = 0; }\r\n\r\n    SetLeft(gameObject, GetLeft(alignIn) - offsetX);\r\n    SetCenterY(gameObject, GetCenterY(alignIn) + offsetY);\r\n\r\n    return gameObject;\r\n};\r\n\r\nexport default LeftCenter;\r\n","import GetCenterY from '../../bounds/GetCenterY.js';\r\nimport GetRight from '../../bounds/GetRight.js';\r\nimport SetCenterY from '../../bounds/SetCenterY.js';\r\nimport SetRight from '../../bounds/SetRight.js';\r\n\r\nvar RightCenter = function (gameObject, alignIn, offsetX, offsetY) {\r\n    if (offsetX === undefined) { offsetX = 0; }\r\n    if (offsetY === undefined) { offsetY = 0; }\r\n\r\n    SetRight(gameObject, GetRight(alignIn) + offsetX);\r\n    SetCenterY(gameObject, GetCenterY(alignIn) + offsetY);\r\n\r\n    return gameObject;\r\n};\r\n\r\nexport default RightCenter;\r\n","import { GetDisplayHeight } from '../../size/GetDisplaySize.js';\r\n\r\nvar GetTop = function (gameObject) {\r\n    var height = GetDisplayHeight(gameObject);\r\n    return gameObject.y - (height * gameObject.originY);\r\n};\r\n\r\nexport default GetTop;\r\n","import { GetDisplayHeight } from '../../size/GetDisplaySize.js';\r\n\r\nvar SetTop = function (gameObject, value) {\r\n    var height = GetDisplayHeight(gameObject);\r\n    gameObject.y = value + (height * gameObject.originY);\r\n    return gameObject;\r\n};\r\n\r\nexport default SetTop;\r\n","import GetCenterX from '../../bounds/GetCenterX.js';\r\nimport GetTop from '../../bounds/GetTop.js';\r\nimport SetCenterX from '../../bounds/SetCenterX.js';\r\nimport SetTop from '../../bounds/SetTop.js';\r\n\r\nvar TopCenter = function (gameObject, alignIn, offsetX, offsetY) {\r\n    if (offsetX === undefined) { offsetX = 0; }\r\n    if (offsetY === undefined) { offsetY = 0; }\r\n\r\n    SetCenterX(gameObject, GetCenterX(alignIn) + offsetX);\r\n    SetTop(gameObject, GetTop(alignIn) - offsetY);\r\n\r\n    return gameObject;\r\n};\r\n\r\nexport default TopCenter;\r\n","import GetLeft from '../../bounds/GetLeft.js';\r\nimport GetTop from '../../bounds/GetTop.js';\r\nimport SetLeft from '../../bounds/SetLeft.js';\r\nimport SetTop from '../../bounds/SetTop.js';\r\n\r\nvar TopLeft = function (gameObject, alignIn, offsetX, offsetY) {\r\n    if (offsetX === undefined) { offsetX = 0; }\r\n    if (offsetY === undefined) { offsetY = 0; }\r\n\r\n    SetLeft(gameObject, GetLeft(alignIn) - offsetX);\r\n    SetTop(gameObject, GetTop(alignIn) - offsetY);\r\n\r\n    return gameObject;\r\n};\r\n\r\nexport default TopLeft;\r\n","import GetRight from '../../bounds/GetRight.js';\r\nimport GetTop from '../../bounds/GetTop.js';\r\nimport SetRight from '../../bounds/SetRight.js';\r\nimport SetTop from '../../bounds/SetTop.js';\r\n\r\nvar TopRight = function (gameObject, alignIn, offsetX, offsetY) {\r\n    if (offsetX === undefined) { offsetX = 0; }\r\n    if (offsetY === undefined) { offsetY = 0; }\r\n\r\n    SetRight(gameObject, GetRight(alignIn) + offsetX);\r\n    SetTop(gameObject, GetTop(alignIn) - offsetY);\r\n\r\n    return gameObject;\r\n};\r\n\r\nexport default TopRight;\r\n","import ALIGN_CONST from '../const.js';\r\nimport BottomCenter from './BottomCenter.js';\r\nimport BottomLeft from './BottomLeft.js';\r\nimport BottomRight from './BottomRight.js';\r\nimport Center from './Center.js';\r\nimport LeftCenter from './LeftCenter.js';\r\nimport RightCenter from './RightCenter.js';\r\nimport TopCenter from './TopCenter.js';\r\nimport TopLeft from './TopLeft.js';\r\nimport TopRight from './TopRight.js';\r\n\r\nvar AlignInMap = [];\r\n\r\nAlignInMap[ALIGN_CONST.BOTTOM_CENTER] = BottomCenter;\r\nAlignInMap[ALIGN_CONST.BOTTOM_LEFT] = BottomLeft;\r\nAlignInMap[ALIGN_CONST.BOTTOM_RIGHT] = BottomRight;\r\nAlignInMap[ALIGN_CONST.CENTER] = Center;\r\nAlignInMap[ALIGN_CONST.LEFT_CENTER] = LeftCenter;\r\nAlignInMap[ALIGN_CONST.RIGHT_CENTER] = RightCenter;\r\nAlignInMap[ALIGN_CONST.TOP_CENTER] = TopCenter;\r\nAlignInMap[ALIGN_CONST.TOP_LEFT] = TopLeft;\r\nAlignInMap[ALIGN_CONST.TOP_RIGHT] = TopRight;\r\n\r\nvar QuickSet = function (child, alignIn, position, offsetX, offsetY) {\r\n    return AlignInMap[position](child, alignIn, offsetX, offsetY);\r\n};\r\n\r\nexport default QuickSet;\r\n","import GlobZone from './GlobZone.js';\r\nimport QuickSet from '../align/align/in/QuickSet.js';\r\n\r\nvar AlignIn = function (child, x, y, width, height, align) {\r\n    GlobZone.setPosition(x, y).setSize(width, height);\r\n    QuickSet(child, GlobZone, align);\r\n}\r\n\r\nexport default AlignIn;","import {\r\n    GetDisplayWidth,\r\n    GetDisplayHeight\r\n} from '../size/GetDisplaySize.js';\r\n\r\nconst Rectangle = Phaser.Geom.Rectangle;\r\nconst Vector2 = Phaser.Math.Vector2;\r\nconst RotateAround = Phaser.Math.RotateAround;\r\n\r\nvar GetBounds = function (gameObject, output) {\r\n    if (output === undefined) {\r\n        output = new Rectangle();\r\n    } else if (output === true) {\r\n        if (GlobRect === undefined) {\r\n            GlobRect = new Rectangle();\r\n        }\r\n        output = GlobRect;\r\n    }\r\n\r\n    if (gameObject.getBounds) {\r\n        return gameObject.getBounds(output);\r\n    }\r\n\r\n    //  We can use the output object to temporarily store the x/y coords in:\r\n\r\n    var TLx, TLy, TRx, TRy, BLx, BLy, BRx, BRy;\r\n\r\n    // Instead of doing a check if parent container is\r\n    // defined per corner we only do it once.\r\n    if (gameObject.parentContainer) {\r\n        var parentMatrix = gameObject.parentContainer.getBoundsTransformMatrix();\r\n\r\n        GetTopLeft(gameObject, output);\r\n        parentMatrix.transformPoint(output.x, output.y, output);\r\n\r\n        TLx = output.x;\r\n        TLy = output.y;\r\n\r\n        GetTopRight(gameObject, output);\r\n        parentMatrix.transformPoint(output.x, output.y, output);\r\n\r\n        TRx = output.x;\r\n        TRy = output.y;\r\n\r\n        GetBottomLeft(gameObject, output);;\r\n        parentMatrix.transformPoint(output.x, output.y, output);\r\n\r\n        BLx = output.x;\r\n        BLy = output.y;\r\n\r\n        GetBottomRight(gameObject, output);\r\n        parentMatrix.transformPoint(output.x, output.y, output);\r\n\r\n        BRx = output.x;\r\n        BRy = output.y;\r\n    }\r\n    else {\r\n        GetTopLeft(gameObject, output);\r\n\r\n        TLx = output.x;\r\n        TLy = output.y;\r\n\r\n        GetTopRight(gameObject, output);;\r\n\r\n        TRx = output.x;\r\n        TRy = output.y;\r\n\r\n        GetBottomLeft(gameObject, output);;\r\n\r\n        BLx = output.x;\r\n        BLy = output.y;\r\n\r\n        GetBottomRight(gameObject, output);\r\n\r\n        BRx = output.x;\r\n        BRy = output.y;\r\n    }\r\n\r\n    output.x = Math.min(TLx, TRx, BLx, BRx);\r\n    output.y = Math.min(TLy, TRy, BLy, BRy);\r\n    output.width = Math.max(TLx, TRx, BLx, BRx) - output.x;\r\n    output.height = Math.max(TLy, TRy, BLy, BRy) - output.y;\r\n\r\n    return output;\r\n}\r\n\r\nvar GlobRect = undefined;\r\n\r\nvar GetTopLeft = function (gameObject, output, includeParent) {\r\n    if (output === undefined) {\r\n        output = new Vector2();\r\n    } else if (output === true) {\r\n        if (GlobVector === undefined) {\r\n            GlobVector = new Vector2();\r\n        }\r\n        output = GlobVector;\r\n    }\r\n\r\n    if (gameObject.getTopLeft) {\r\n        return gameObject.getTopLeft(output);\r\n    }\r\n\r\n    output.x = gameObject.x - (GetDisplayWidth(gameObject) * gameObject.originX);\r\n    output.y = gameObject.y - (GetDisplayHeight(gameObject) * gameObject.originY);\r\n\r\n    return PrepareBoundsOutput(gameObject, output, includeParent);\r\n};\r\n\r\nvar GetTopRight = function (gameObject, output, includeParent) {\r\n    if (output === undefined) {\r\n        output = new Vector2();\r\n    } else if (output === true) {\r\n        if (GlobVector === undefined) {\r\n            GlobVector = new Vector2();\r\n        }\r\n        output = GlobVector;\r\n    }\r\n\r\n    if (gameObject.getTopRight) {\r\n        return gameObject.getTopRight(output);\r\n    }\r\n\r\n    output.x = (gameObject.x - (GetDisplayWidth(gameObject) * gameObject.originX)) + GetDisplayWidth(gameObject);\r\n    output.y = gameObject.y - (GetDisplayHeight(gameObject) * gameObject.originY);\r\n\r\n    return PrepareBoundsOutput(gameObject, output, includeParent);\r\n};\r\n\r\nvar GetBottomLeft = function (gameObject, output, includeParent) {\r\n    if (output === undefined) {\r\n        output = new Vector2();\r\n    } else if (output === true) {\r\n        if (GlobVector === undefined) {\r\n            GlobVector = new Vector2();\r\n        }\r\n        output = GlobVector;\r\n    }\r\n\r\n    if (gameObject.getBottomLeft) {\r\n        return gameObject.getBottomLeft(output);\r\n    }\r\n\r\n    output.x = gameObject.x - (GetDisplayWidth(gameObject) * gameObject.originX);\r\n    output.y = (gameObject.y - (GetDisplayHeight(gameObject) * gameObject.originY)) + GetDisplayHeight(gameObject);\r\n\r\n    return PrepareBoundsOutput(gameObject, output, includeParent);\r\n};\r\n\r\nvar GetBottomRight = function (gameObject, output, includeParent) {\r\n    if (output === undefined) {\r\n        output = new Vector2();\r\n    } else if (output === true) {\r\n        if (GlobVector === undefined) {\r\n            GlobVector = new Vector2();\r\n        }\r\n        output = GlobVector;\r\n    }\r\n\r\n    if (gameObject.getBottomRight) {\r\n        return gameObject.getBottomRight(output);\r\n    }\r\n\r\n    output.x = (gameObject.x - (GetDisplayWidth(gameObject) * gameObject.originX)) + GetDisplayWidth(gameObject);\r\n    output.y = (gameObject.y - (GetDisplayHeight(gameObject) * gameObject.originY)) + GetDisplayHeight(gameObject);\r\n\r\n    return PrepareBoundsOutput(gameObject, output, includeParent);\r\n};\r\n\r\nvar GlobVector = undefined;\r\n\r\nvar PrepareBoundsOutput = function (gameObject, output, includeParent) {\r\n    if (includeParent === undefined) { includeParent = false; }\r\n\r\n    if (gameObject.rotation !== 0) {\r\n        RotateAround(output, gameObject.x, gameObject.y, gameObject.rotation);\r\n    }\r\n\r\n    if (includeParent && gameObject.parentContainer) {\r\n        var parentMatrix = gameObject.parentContainer.getBoundsTransformMatrix();\r\n\r\n        parentMatrix.transformPoint(output.x, output.y, output);\r\n    }\r\n\r\n    return output;\r\n};\r\n\r\nexport {\r\n    GetBounds,\r\n    GetTopLeft,\r\n    GetTopRight,\r\n    GetBottomLeft,\r\n    GetBottomRight,\r\n}","import ALIGNMODE from '../utils/AlignConst.js';\r\nimport AlignIn from '../../../plugins/utils/actions/AlignIn.js';\r\nimport { GetBounds } from '../../../plugins/utils/bounds/GetBounds.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst Group = Phaser.GameObjects.Group;\r\n\r\nvar DrawBounds = function (graphics, config) {\r\n    var scene = graphics.scene;\r\n\r\n    var color;\r\n    var createTextCallback, createTextCallbackScope, textAlign;\r\n    if (typeof (config) === 'number') {\r\n        color = config;\r\n    } else {\r\n        color = GetValue(config, 'color', 0xffffff);\r\n        var nameTextConfig = GetValue(config, 'name', false);\r\n        if (nameTextConfig) {\r\n            createTextCallback = GetValue(nameTextConfig, 'createTextCallback', DefaultCreateTextCallback);\r\n            createTextCallbackScope = GetValue(nameTextConfig, 'createTextCallbackScope', undefined);\r\n            textAlign = GetValue(nameTextConfig, 'align', 'left-top');\r\n            if (typeof (textAlign) === 'string') {\r\n                textAlign = ALIGNMODE[textAlign];\r\n            }\r\n        }\r\n    }\r\n\r\n    if (createTextCallback && !graphics.children) {\r\n        graphics.children = new Group(scene);\r\n        graphics.once('destroy', function (graphics, fromScene) {\r\n            graphics.children.destroy(!fromScene);\r\n            graphics.children = undefined;\r\n        })\r\n        var graphicsClear = graphics.clear.bind(graphics);\r\n        graphics.clear = function () {\r\n            graphicsClear();\r\n            graphics.children.clear(false, true);\r\n        }\r\n    }\r\n\r\n    var children = this.getAllShownChildren([this]), child;\r\n    var nameText;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        child = children[i];\r\n        if (child.getBounds ||\r\n            ((child.width !== undefined) && (child.height !== undefined))\r\n        ) {\r\n            GlobRect = GetBounds(child, GlobRect);\r\n        } else {\r\n            continue;\r\n        }\r\n\r\n        if (color != null) {\r\n            graphics\r\n                .lineStyle(1, color)\r\n                .strokeRectShape(GlobRect);\r\n        }\r\n\r\n        if (child.name && createTextCallback) {\r\n            if (createTextCallbackScope) {\r\n                nameText = createTextCallback.call(createTextCallbackScope, scene);\r\n            } else {\r\n                nameText = createTextCallback(scene);\r\n            }\r\n            if (nameText) {\r\n                nameText.setText(child.name);\r\n                graphics.children.add(nameText);\r\n\r\n                AlignIn(nameText, GlobRect.x, GlobRect.y, GlobRect.width, GlobRect.height, textAlign);\r\n            }\r\n        }\r\n    }\r\n    return this;\r\n}\r\n\r\nvar DefaultCreateTextCallback = function (scene, child, childBoundsRect) {\r\n    return scene.add.text(0, 0, '');\r\n}\r\n\r\nvar GlobRect = undefined;\r\n\r\nexport default DrawBounds;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar GetBoundsConfig = function (config, out) {\r\n    if (out === undefined) {\r\n        out = {};\r\n    }\r\n    if (typeof (config) === 'number') {\r\n        out.left = config;\r\n        out.right = config;\r\n        out.top = config;\r\n        out.bottom = config;\r\n    } else {\r\n        out.left = GetValue(config, 'left', 0);\r\n        out.right = GetValue(config, 'right', 0);\r\n        out.top = GetValue(config, 'top', 0);\r\n        out.bottom = GetValue(config, 'bottom', 0);\r\n    }\r\n    return out;\r\n}\r\n\r\nexport default GetBoundsConfig;","import Container from '../../container/Container.js';\r\n\r\nconst ContainerAdd = Container.prototype.add;\r\n\r\nvar AddChild = function (gameObject) {\r\n    ContainerAdd.call(this, gameObject);\r\n\r\n    if (this.sizerEventsEnable) {\r\n        gameObject.emit('sizer.add', gameObject, this);\r\n        this.emit('add', gameObject, this);\r\n    }\r\n\r\n    return this;\r\n}\r\n\r\nexport default AddChild;","import Container from '../container/Container.js';\r\nimport GetBoundsConfig from '../utils/GetBoundsConfig.js';\r\nimport AddChild from './utils/AddChild.js';\r\n\r\nexport default {\r\n    addBackground(gameObject, paddingConfig, childKey) {\r\n        if (this.backgroundChildren === undefined) {\r\n            this.backgroundChildren = [];\r\n        }\r\n\r\n        if (typeof (paddingConfig) === 'string') {\r\n            childKey = paddingConfig;\r\n            paddingConfig = undefined;\r\n        }\r\n\r\n        if (paddingConfig === undefined) {\r\n            paddingConfig = 0;\r\n        }\r\n\r\n        AddChild.call(this, gameObject);\r\n        this.backgroundChildren.push(gameObject);\r\n\r\n        var config = this.getSizerConfig(gameObject);\r\n        config.padding = GetBoundsConfig(paddingConfig);\r\n\r\n        if (childKey !== undefined) {\r\n            this.addChildrenMap(childKey, gameObject)\r\n        }\r\n        return this;\r\n    },\r\n\r\n    isBackground(gameObject) {\r\n        if (this.backgroundChildren === undefined) {\r\n            return false;\r\n        }\r\n        return (this.backgroundChildren.indexOf(gameObject) !== -1);\r\n    }\r\n}","export default {\r\n    removeFromParentSizer() {\r\n        var parent = this.getParentSizer();\r\n        if (parent) {\r\n            parent.remove(this);\r\n        }\r\n        return this;\r\n    }\r\n}","var AddChildrenMap = function (key, gameObject) {\r\n    if (this.childrenMap === undefined) {\r\n        this.childrenMap = {};\r\n    }\r\n    this.childrenMap[key] = gameObject;\r\n    return this;\r\n}\r\n\r\nexport default AddChildrenMap;","\r\nvar RemoveChildrenMap = function (key) {\r\n    if (typeof (key) === 'object') {\r\n        var gameObject = key;\r\n        for (var key in this.childrenMap) {\r\n            if (this.childrenMap[key] === gameObject) {\r\n                delete this.childrenMap[key];\r\n                return this;\r\n            }\r\n        }\r\n    }\r\n\r\n    delete this.childrenMap[key];\r\n    return this;\r\n}\r\n\r\nexport default RemoveChildrenMap;","var GetElement = function (mapNameList, recursive) {\r\n    if (typeof (mapNameList) === 'string') {\r\n        mapNameList = mapNameList.split('.');\r\n    }\r\n    if (mapNameList.length === 0) {\r\n        return undefined;\r\n    }\r\n\r\n    var name = mapNameList.shift(),\r\n        element = null;\r\n    if (name.charAt(0) === '#') { // Get element by name\r\n        name = name.substring(1);\r\n        element = this.getByName(name, recursive);\r\n    } else if (name.indexOf('[') === (-1)) { // Get element by key\r\n        if (this.childrenMap) {\r\n            element = this.childrenMap[name];\r\n        }\r\n    } else { // Get element by key[]\r\n        var innerMatch = name.match(RE_OBJ);\r\n        if (innerMatch != null) {\r\n            if (this.childrenMap) {\r\n                var elements = this.childrenMap[innerMatch[1]];\r\n                if (elements) {\r\n                    element = elements[innerMatch[2]];\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (mapNameList.length === 0) {\r\n        return element;\r\n    } else if (element && element.childrenMap) {\r\n        return element.getElement(mapNameList);\r\n    } else {\r\n        return null;\r\n    }\r\n};\r\n\r\nconst RE_OBJ = /(\\S+)\\[(\\d+)\\]/i;\r\n\r\nexport default GetElement;","import { GetPadding, SetPadding } from '../../../plugins/utils/padding/PaddingMethods.js';\r\n\r\nexport default {\r\n    getInnerPadding(key) {\r\n        return GetPadding(this.space, key);\r\n    },\r\n\r\n    setInnerPadding(key, value) {\r\n        SetPadding(this.space, key, value);\r\n        return this;\r\n    },\r\n\r\n    getOuterPadding(key) {\r\n        return GetPadding(this.getSizerConfig(this).padding, key);\r\n    },\r\n\r\n    setOuterPadding(key, value) {\r\n        SetPadding(this.getSizerConfig(this).padding, key, value);\r\n        return this;\r\n    },\r\n\r\n    getChildOuterPadding(child, key) {\r\n        if (typeof (child) === 'string') {\r\n            child = this.getElement(child);\r\n        }\r\n        return GetPadding(this.getSizerConfig(child).padding, key);\r\n    },\r\n\r\n    setChildOuterPadding(child, key, value) {\r\n        if (typeof (child) === 'string') {\r\n            child = this.getElement(child);\r\n        }\r\n        SetPadding(this.getSizerConfig(child).padding, key, value);\r\n        return this;\r\n    },\r\n}","var ResolveWidth = function (width) {\r\n    if (width === undefined) {\r\n        width = Math.max(this.childrenWidth, this.minWidth);\r\n    } else {\r\n        /*\r\n        var minWidth = Math.max(this.childrenWidth, this.minWidth);\r\n        if (minWidth > width) {\r\n            // Warning\r\n        }\r\n        */\r\n    }\r\n\r\n    return width;\r\n}\r\n\r\nexport default ResolveWidth;","var ResolveChildrenWidth = function (parentWidth) {\r\n    // Resolve width of sizer children\r\n    var child, childWidth;\r\n    for (var i in this.sizerChildren) {\r\n        child = this.sizerChildren[i];\r\n        if (child && child.isRexSizer && !child.ignoreLayout) {\r\n            childWidth = this.getExpandedChildWidth(child, parentWidth);\r\n            childWidth = child.resolveWidth(childWidth);\r\n            child.resolveChildrenWidth(childWidth);\r\n        }\r\n    }\r\n}\r\n\r\nexport default ResolveChildrenWidth;","var ResolveHeight = function (height) {\r\n    var minHeight = Math.max(this.childrenHeight, this.minHeight);\r\n    if (height === undefined) {\r\n        height = minHeight;\r\n    } else {\r\n        if (minHeight > height) {\r\n            // Warning\r\n        }\r\n    }\r\n\r\n    return height;\r\n}\r\n\r\nexport default ResolveHeight;","import { GetDisplayWidth } from '../../../plugins/utils/size/GetDisplaySize.js';\r\n\r\nvar GetChildWidth = function (child) {\r\n    var childWidth;\r\n    if (child.isRexSizer) { // Sizer game object\r\n        childWidth = Math.max(child.minWidth, child.childrenWidth);\r\n    } else {  // Normal game object\r\n        if (child.minWidth !== undefined) {  // Force minWidth\r\n            childWidth = child.minWidth;\r\n        } else {\r\n            childWidth = GetDisplayWidth(child);\r\n        }\r\n    }\r\n\r\n    return childWidth;\r\n}\r\n\r\nexport default GetChildWidth;","import { GetDisplayHeight } from '../../../plugins/utils/size/GetDisplaySize.js';\r\n\r\nvar GetChildHeight = function (child) {\r\n    var childHeight;\r\n    if (child.isRexSizer) {  // Sizer game object\r\n        childHeight = Math.max(child.minHeight, child.childrenHeight);\r\n    } else {  // Normal game object\r\n        if (child.minHeight !== undefined) {  // Force minHeight\r\n            childHeight = child.minHeight;\r\n        } else {\r\n            childHeight = GetDisplayHeight(child);\r\n        }\r\n    }\r\n    return childHeight;\r\n}\r\n\r\nexport default GetChildHeight;","// Override\r\nvar GetExpandedChildWidth = function (child, parentWidth) {\r\n    return parentWidth;\r\n}\r\n\r\nexport default GetExpandedChildWidth;","// Override\r\nvar GetExpandedChildHeight = function (child, parentHeight) {\r\n    return parentHeight;\r\n}\r\n\r\nexport default GetExpandedChildHeight;","// Override\r\nvar GetChildrenWidth = function () {\r\n    return 0;\r\n}\r\n\r\nexport default GetChildrenWidth;","// Override\r\nvar GetChildrenHeight = function () {\r\n    return 0;\r\n}\r\n\r\nexport default GetChildrenHeight;","var GetAllChildrenSizers = function (out) {\r\n    if (out === undefined) {\r\n        out = [];\r\n    }\r\n    var startIdx = out.length;\r\n    var children = this.getChildrenSizers(out);\r\n    var endIdx = out.length;\r\n    for (var i = startIdx; i < endIdx; i++) {\r\n        children[i].getAllChildrenSizers(out);\r\n    }\r\n\r\n    return out;\r\n}\r\nexport default GetAllChildrenSizers;","// Default method\r\nvar GetChildrenSizers = function(out) {\r\n    if (out === undefined) {\r\n        out = [];\r\n    }\r\n    return out;\r\n}\r\nexport default GetChildrenSizers;","export default {\r\n    getShownChildren(out) {\r\n        if (out === undefined) {\r\n            out = [];\r\n        }\r\n        var children = this.children,\r\n            child;\r\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n            child = children[i];\r\n            if (child.rexSizer && child.rexSizer.hidden) { // Don't add hidden child\r\n                continue;\r\n            }\r\n\r\n            out.push(child);\r\n        }\r\n\r\n        return out;\r\n    },\r\n\r\n    getAllShownChildren(out) {\r\n        if (out === undefined) {\r\n            out = [];\r\n        }\r\n\r\n        var children = this.children,\r\n            child;\r\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n            child = children[i];\r\n            if (child.rexSizer && child.rexSizer.hidden) { // Don't add hidden child\r\n                continue;\r\n            }\r\n\r\n            out.push(child);\r\n\r\n            if (child.hasOwnProperty('isRexContainerLite')) {\r\n                out.push(...child.getAllShownChildren());\r\n            }\r\n        }\r\n\r\n        return out;\r\n    }\r\n}","var PreLayout = function () {\r\n    this._childrenWidth = undefined;\r\n    this._childrenHeight = undefined;\r\n\r\n    var children = this.getChildrenSizers(),\r\n        child;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        child = children[i];\r\n        if (child.ignoreLayout) {\r\n            continue;\r\n        }\r\n        child.preLayout();\r\n    }\r\n}\r\nexport default PreLayout;","var Layout = function () {\r\n    this.runLayout();\r\n    return this;\r\n}\r\nexport default Layout;","// Override\r\nvar RunLayout = function (parent, newWidth, newHeight) {\r\n    // Skip hidden or !dirty sizer\r\n    if (this.ignoreLayout) {\r\n        return this;\r\n    }\r\n\r\n    var isTopmostParent = !parent;\r\n    // Preprocessor, top parent only\r\n    if (isTopmostParent) {\r\n        this.preLayout();\r\n    }\r\n\r\n    // Calculate parent width\r\n    newWidth = this.resolveWidth(newWidth);\r\n    // Calculate all children width, run width wrap\r\n    if (isTopmostParent) {\r\n        this.resolveChildrenWidth(newWidth);\r\n        this.runWidthWrap(newWidth);\r\n    }\r\n    // Calculate parent height\r\n    newHeight = this.resolveHeight(newHeight);\r\n    // Resize parent\r\n    this.resize(newWidth, newHeight);\r\n\r\n    if (this.sizerEventsEnable) {\r\n        if (this.layoutedChildren === undefined) {\r\n            this.layoutedChildren = [];\r\n        }\r\n    }\r\n\r\n    // Layout children    \r\n    this.layoutChildren();\r\n\r\n    // Layout background children\r\n    this.layoutBackgrounds();\r\n\r\n    if (this.sizerEventsEnable) {\r\n        this.emit('postlayout', this.layoutedChildren, this);\r\n        this.layoutedChildren.length = 0;\r\n    }\r\n\r\n    return this.postLayout();\r\n}\r\nexport default RunLayout;","// Override\r\nvar LayoutChildren = function () {\r\n\r\n}\r\n\r\nexport default LayoutChildren;","var PostLayout = function (parent, newWidth, newHeight) {\r\n    if (this._anchor) {\r\n        this._anchor.updatePosition();\r\n    }\r\n    return this;\r\n}\r\nexport default PostLayout;","// Default method\r\nvar RunWidthWrap = function (parentWidth) {\r\n    var child, childWidth;\r\n    for (var i in this.sizerChildren) {\r\n        child = this.sizerChildren[i];\r\n        if (\r\n            (!child) ||\r\n            (child.isRexSizer && child.ignoreLayout) ||\r\n            (!child.runWidthWrap)\r\n        ) {\r\n            continue;\r\n        }\r\n\r\n        childWidth = this.getExpandedChildWidth(child, parentWidth);\r\n        if (child.isRexSizer) {\r\n            childWidth = child.resolveWidth(childWidth);\r\n        }\r\n        child.runWidthWrap(childWidth);\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default RunWidthWrap;","import ComponentBase from '../../utils/componentbase/ComponentBase.js';\r\nimport GetViewport from '../../utils/system/GetViewport.js';\r\n\r\nclass Anchor extends ComponentBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, { eventEmitter: false });\r\n        // No event emitter\r\n        // this.parent = gameObject;\r\n\r\n        this.viewport = undefined;\r\n        this.resetFromJSON(config);\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        if (o === undefined) {\r\n            o = {};\r\n        }\r\n\r\n        // Position\r\n        var alignX, configX;\r\n        if (o.x !== undefined) {\r\n            alignX = null;\r\n            configX = o.x;\r\n        } else if (o.left !== undefined) {\r\n            alignX = 0;\r\n            configX = o.left;\r\n        } else if (o.right !== undefined) {\r\n            alignX = 1;\r\n            configX = o.right;\r\n        } else if (o.centerX !== undefined) {\r\n            alignX = 0.5;\r\n            configX = o.centerX;\r\n        }\r\n\r\n        var alignY, configY;\r\n        if (o.y !== undefined) {\r\n            alignY = null;\r\n            configY = o.y;\r\n        } else if (o.top !== undefined) {\r\n            alignY = 0;\r\n            configY = o.top;\r\n        } else if (o.bottom !== undefined) {\r\n            alignY = 1;\r\n            configY = o.bottom;\r\n        } else if (o.centerY !== undefined) {\r\n            alignY = 0.5;\r\n            configY = o.centerY;\r\n        }\r\n\r\n        var percentageX, offsetX;\r\n        if (configX !== undefined) {\r\n            configX = configX.replace('left', '0%').replace('right', '100%').replace('center', '50%').split('%');\r\n            percentageX = parseFloat(configX[0]) / 100;\r\n            offsetX = (configX[1] === '') ? 0 : parseFloat(configX[1]);\r\n        }\r\n        var percentageY, offsetY;\r\n        if (configY !== undefined) {\r\n            configY = configY.replace('top', '0%').replace('bottom', '100%').replace('center', '50%').split('%');\r\n            percentageY = parseFloat(configY[0]) / 100;\r\n            offsetY = (configY[1] === '') ? 0 : parseFloat(configY[1]);\r\n        }\r\n\r\n        // Size\r\n        var configWidth = o.width;\r\n        var percentageWidth, paddingWidth;\r\n        if (configWidth !== undefined) {\r\n            configWidth = configWidth.split('%');\r\n            percentageWidth = parseFloat(configWidth[0]) / 100;\r\n            paddingWidth = (configWidth[1] === '') ? 0 : parseFloat(configWidth[1]);\r\n        }\r\n\r\n        var configHeight = o.height;\r\n        var percentageHeight, paddingHeight;\r\n        if (configHeight !== undefined) {\r\n            configHeight = configHeight.split('%');\r\n            percentageHeight = parseFloat(configHeight[0]) / 100;\r\n            paddingHeight = (configHeight[1] === '') ? 0 : parseFloat(configHeight[1]);\r\n        }\r\n\r\n        // Position\r\n        this.setAlign(alignX, alignY);\r\n        this.setPercentage(percentageX, percentageY);\r\n        this.setOffset(offsetX, offsetY);\r\n        // Size\r\n        this.setSizePercentage(percentageWidth, percentageHeight);\r\n        this.setSizePadding(paddingWidth, paddingHeight);\r\n\r\n        var onResizeCallback = o.onResizeCallback;\r\n        var onResizeCallbackScope = o.onResizeCallbackScope;\r\n        if (onResizeCallback !== undefined) {\r\n            this.setResizeCallback(onResizeCallback, onResizeCallbackScope);\r\n        }\r\n\r\n        var onUpdateViewportCallback = o.onUpdateViewportCallback;\r\n        var onUpdateViewportCallbackScope = o.onUpdateViewportCallbackScope;\r\n        if (onUpdateViewportCallback !== undefined) {\r\n            this.setUpdateViewportCallback(onUpdateViewportCallback, onUpdateViewportCallbackScope);\r\n        }\r\n\r\n        this.autoAnchor(o.enable);\r\n\r\n        return this;\r\n    }\r\n\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        this.autoAnchor(false);\r\n\r\n        this.viewport = undefined;\r\n        this.onUpdateViewportCallback = undefined;\r\n        this.onUpdateViewportCallbackScope = undefined;\r\n        this.onResizeCallback = undefined;\r\n        this.onResizeCallbackScope = undefined;\r\n\r\n        super.shutdown(fromScene);\r\n    }\r\n\r\n    autoAnchor(enable) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n\r\n        enable = !!enable;\r\n        if (this.autoAnchorEnable === enable) {\r\n            return this;\r\n        }\r\n\r\n        if (enable) {\r\n            this.scene.sys.scale.on('resize', this.anchor, this);\r\n            this.anchor();\r\n        } else {\r\n            this.scene.sys.scale.off('resize', this.anchor, this);\r\n        }\r\n\r\n        this.autoAnchorEnable = enable;\r\n\r\n        return this;\r\n    }\r\n\r\n    // Position\r\n    setAlign(x, y) {\r\n        this.alignX = x;\r\n        this.alignY = y;\r\n        return this;\r\n    }\r\n\r\n    setPercentage(x, y) {\r\n        this.percentageX = x;\r\n        this.percentageY = y;\r\n        return this;\r\n    }\r\n\r\n    setOffset(x, y) {\r\n        this.offsetX = x;\r\n        this.offsetY = y;\r\n        return this;\r\n    }\r\n\r\n    // Size\r\n    setSizePercentage(width, height) {\r\n        this.percentageWidth = width;\r\n        this.percentageHeight = height;\r\n        return this;\r\n    }\r\n\r\n    setSizePadding(width, height) {\r\n        this.paddingWidth = width;\r\n        this.paddingHeight = height;\r\n        return this;\r\n    }\r\n\r\n    setResizeCallback(callback, scope) {\r\n        this.onResizeCallback = callback;\r\n        this.onResizeCallbackScope = scope;\r\n        return this;\r\n    }\r\n\r\n    setUpdateViewportCallback(callback, scope) {\r\n        this.onUpdateViewportCallback = callback;\r\n        this.onUpdateViewportCallbackScope = scope;\r\n        return this;\r\n    }\r\n\r\n    anchor() {\r\n        this.updateViewport();\r\n        this.updateSize();\r\n        this.updatePosition();\r\n        return this;\r\n    }\r\n\r\n    updateSize() {\r\n        var callback = this.onResizeCallback,\r\n            scope = this.onResizeCallbackScope;\r\n        var newWidth = this.anchorWidth,\r\n            newHeight = this.anchorHeight;\r\n        if (((newWidth === undefined) && (newHeight === undefined)) || !callback) {\r\n            return;\r\n        }\r\n\r\n        var gameObject = this.parent;\r\n        if (newWidth === undefined) {\r\n            newWidth = gameObject.width;\r\n        }\r\n        if (newHeight === undefined) {\r\n            newHeight = gameObject.height;\r\n        }\r\n\r\n        if (scope) {\r\n            callback.call(scope, newWidth, newHeight, gameObject, this);\r\n        } else {\r\n            callback(newWidth, newHeight, gameObject, this);\r\n        }\r\n    }\r\n\r\n    updatePosition() {\r\n        var gameObject = this.parent;\r\n\r\n        if (this.alignX === null) {\r\n            gameObject.x = this.anchorX;\r\n        } else if (this.alignX !== undefined) {\r\n            gameObject.x = this.anchorX + (gameObject.displayWidth * (gameObject.originX - this.alignX));\r\n        }\r\n\r\n        if (this.alignY === null) {\r\n            gameObject.y = this.anchorY;\r\n        } else if (this.alignY !== undefined) {\r\n            gameObject.y = this.anchorY + (gameObject.displayHeight * (gameObject.originY - this.alignY));\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    get anchorX() {\r\n        return this.viewport.x + (this.viewport.width * this.percentageX) + this.offsetX;\r\n    }\r\n\r\n    get anchorY() {\r\n        return this.viewport.y + (this.viewport.height * this.percentageY) + this.offsetY;\r\n    }\r\n\r\n    get anchorWidth() {\r\n        if (this.percentageWidth === undefined) {\r\n            return undefined;\r\n        }\r\n        return (this.viewport.width * this.percentageWidth) + this.paddingWidth;\r\n    }\r\n\r\n    get anchorHeight() {\r\n        if (this.percentageHeight === undefined) {\r\n            return undefined;\r\n        }\r\n        return (this.viewport.height * this.percentageHeight) + this.paddingHeight;\r\n    }\r\n\r\n    updateViewport() {\r\n        this.viewport = GetViewport(\r\n            this.scene,\r\n            (this.viewport) ? this.viewport : true\r\n        );\r\n\r\n        var callback = this.onUpdateViewportCallback,\r\n            scope = this.onUpdateViewportCallbackScope;\r\n        if (callback) {\r\n            if (scope) {\r\n                callback.call(scope, this.viewport, this.parent, this);\r\n            } else {\r\n                callback(this.viewport, this.parent, this);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default Anchor;","import Anchor from '../anchor/Anchor.js';\r\n\r\nvar SetAnchor = function (config) {\r\n    if (config === undefined) {\r\n        config = {};\r\n    }\r\n\r\n    // Assign default onResizeCallback if not given    \r\n    var hasMinWidth = config.hasOwnProperty('width');\r\n    var hasMinHeight = config.hasOwnProperty('height');\r\n    var hasOnResizeCallback = config.hasOwnProperty('onResizeCallback');\r\n    if ((hasMinWidth || hasMinHeight) && !hasOnResizeCallback) {\r\n        config.onResizeCallback = function (width, height, sizer) {\r\n            if (hasMinWidth) {\r\n                sizer.setMinWidth(width);\r\n            }\r\n\r\n            if (hasMinHeight) {\r\n                sizer.setMinHeight(height);\r\n            }\r\n\r\n            sizer.layout();\r\n        }\r\n    }\r\n\r\n    if (this._anchor === undefined) {\r\n        this._anchor = new Anchor(this, config);\r\n    } else {\r\n        this._anchor.resetFromJSON(config)\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default SetAnchor;","import EaseValueTaskBase from '../../utils/componentbase/tweentask/EaseValueTaskBase.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\r\nconst Linear = Phaser.Math.Linear;\r\n\r\nclass Scale extends EaseValueTaskBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n        // this.timer\r\n\r\n        this.scaleStart = {};\r\n        this.scaleEnd = {};\r\n\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        super.resetFromJSON(o);\r\n\r\n        this.setMode(GetValue(o, 'mode', 0));\r\n        this.setScaleRange(\r\n            GetAdvancedValue(o, 'start', undefined),\r\n            GetAdvancedValue(o, 'end', 0)\r\n        );\r\n\r\n        return this;\r\n    }\r\n\r\n    setMode(m) {\r\n        if (typeof (m) === 'string') {\r\n            m = MODE[m];\r\n        }\r\n        this.mode = m;\r\n        return this;\r\n    }\r\n\r\n    setScaleRange(start, end) {\r\n        if (typeof (start) === 'number') {\r\n            this.startX = start;\r\n            this.startY = start;\r\n        } else {\r\n            this.startX = GetAdvancedValue(start, 'x', this.parent.scaleX);\r\n            this.startY = GetAdvancedValue(start, 'y', this.parent.scaleY);\r\n        }\r\n        if (typeof (end) === 'number') {\r\n            this.endX = end;\r\n            this.endY = end;\r\n        } else {\r\n            this.endX = GetAdvancedValue(end, 'x', undefined);\r\n            this.endY = GetAdvancedValue(end, 'y', undefined);\r\n        }\r\n\r\n        this.hasScaleX = (this.startX !== undefined) && (this.endX !== undefined);\r\n        this.hasScaleY = (this.startY !== undefined) && (this.endY !== undefined);\r\n        return this;\r\n    }\r\n\r\n    start() {\r\n        if (this.timer.isRunning) {\r\n            return this;\r\n        }\r\n\r\n        var gameObject = this.parent;\r\n        if (this.hasScaleX) {\r\n            gameObject.scaleX = this.startX;\r\n        }\r\n        if (this.hasScaleY) {\r\n            gameObject.scaleY = this.startY;\r\n        }\r\n\r\n        var repeat = this.repeat;\r\n        if (this.mode === 2) {  // Yoyo\r\n            if (repeat !== -1) {\r\n                repeat = ((repeat + 1) * 2) - 1;\r\n            }\r\n        }\r\n\r\n        this.timer\r\n            .setDelay(this.delay)\r\n            .setDuration(this.duration)\r\n            .setRepeat(repeat);\r\n\r\n        super.start();\r\n        return this;\r\n    }\r\n\r\n    updateGameObject(gameObject, timer) {\r\n        var t = timer.t;\r\n        if (timer.isOddIteration) {  // Yoyo\r\n            t = 1 - t;\r\n        }\r\n        t = this.easeFn(t);\r\n\r\n        if (this.hasScaleX) {\r\n            gameObject.scaleX = Linear(this.startX, this.endX, t);\r\n        }\r\n        if (this.hasScaleY) {\r\n            gameObject.scaleY = Linear(this.startY, this.endY, t);\r\n        }\r\n    }\r\n\r\n    complete() {\r\n        super.complete();\r\n\r\n        if (this.mode === 1) {\r\n            this.parent.destroy();\r\n            // Will also destroy this behavior\r\n        }\r\n        return this;\r\n    }\r\n}\r\n\r\nconst MODE = {\r\n    stop: 0,\r\n    destroy: 1,\r\n    yoyo: 2\r\n}\r\n\r\nexport default Scale;","import Scale from './Scale.js';\r\n\r\nvar PopUp = function (gameObject, duration, orientation, ease, scale) {\r\n    if (ease === undefined) {\r\n        ease = 'Cubic';\r\n    }\r\n\r\n    // Ease scale from 0 to current scale\r\n    var start, end;\r\n    switch (orientation) {\r\n        case 0:\r\n        case 'x':\r\n            start = { x: 0 };\r\n            end = { x: gameObject.scaleX };\r\n            break;\r\n        case 1:\r\n        case 'y':\r\n            start = { y: 0 };\r\n            end = { y: gameObject.scaleY };\r\n            break;\r\n        default:\r\n            start = 0;\r\n            end = gameObject.scale;\r\n            break;\r\n    }\r\n\r\n    var config = {\r\n        mode: 0,\r\n        start: start,\r\n        end: end,\r\n        duration: duration,\r\n        ease: ease\r\n    }\r\n\r\n    if (scale === undefined) {\r\n        scale = new Scale(gameObject, config);\r\n    } else {\r\n        scale.resetFromJSON(config);\r\n    }\r\n    scale.restart();\r\n\r\n    return scale;\r\n};\r\n\r\nexport default PopUp;","import Scale from './Scale.js';\r\n\r\nvar ScaleDownDestroy = function (gameObject, duration, orientation, ease, destroyMode, scale) {\r\n    if (ease === undefined) {\r\n        ease = 'Linear';\r\n    }\r\n\r\n    // Ease from current scale to 0\r\n    if (destroyMode instanceof Scale) {\r\n        scale = destroyMode;\r\n        destroyMode = undefined;\r\n    }\r\n\r\n    if (destroyMode === undefined) {\r\n        destroyMode = true;\r\n    }\r\n\r\n    var config = {};\r\n    config.mode = (destroyMode) ? 1 : 0;\r\n    switch (orientation) {\r\n        case 0:\r\n        case 'x':\r\n            config.end = {\r\n                x: 0\r\n            };\r\n            break;\r\n        case 1:\r\n        case 'y':\r\n            config.end = {\r\n                y: 0\r\n            };\r\n            break;\r\n        default:\r\n            config.end = 0;\r\n            break;\r\n    }\r\n    config.duration = duration;\r\n    config.ease = ease;\r\n\r\n    if (scale === undefined) {\r\n        scale = new Scale(gameObject, config);\r\n    } else {\r\n        scale.resetFromJSON(config);\r\n    }\r\n    scale.restart();\r\n\r\n    return scale;\r\n};\r\n\r\nexport default ScaleDownDestroy;","import Scale from './Scale.js';\r\n\r\nvar Yoyo = function (gameObject, duration, peakValue, repeat, orientation, ease, scale) {\r\n    if (peakValue === undefined) {\r\n        peakValue = 1.2;\r\n    }\r\n    if (repeat === undefined) {\r\n        repeat = 0;\r\n    }\r\n    if (ease === undefined) {\r\n        ease = 'Cubic';\r\n    }\r\n\r\n    // Ease scale from 0 to current scale\r\n    var start, end;\r\n    switch (orientation) {\r\n        case 0:\r\n        case 'x':\r\n            start = { x: gameObject.scaleX };\r\n            end = { x: peakValue };\r\n            break;\r\n        case 1:\r\n        case 'y':\r\n            start = { y: gameObject.scaleX };\r\n            end = { y: peakValue };\r\n            break;\r\n        default:\r\n            start = gameObject.scaleX;\r\n            end = peakValue;\r\n            break;\r\n    }\r\n\r\n    var config = {\r\n        mode: 2,\r\n        start: start,\r\n        end: end,\r\n        duration: (duration / 2),\r\n        ease: ease,\r\n        repeat: repeat,\r\n    }\r\n\r\n    if (scale === undefined) {\r\n        scale = new Scale(gameObject, config);\r\n    } else {\r\n        scale.resetFromJSON(config);\r\n    }\r\n    scale.restart();\r\n\r\n    return scale;\r\n};\r\n\r\nexport default Yoyo;","import PopUp from '../../../plugins/popup.js';\r\nimport ScaleDownDestroy from '../../../plugins/scale-down-destroy.js';\r\nimport Yoyo from '../../../plugins/behaviors/scale/Yoyo.js';\r\nimport { WaitComplete } from '../utils/WaitEvent.js'\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\n\r\nvar OnInitScale = function (gameObject, scale) {\r\n    // Route 'complete' of scale to gameObject\r\n    scale.completeEventName = undefined;\r\n    scale.on('complete', function () {\r\n        if (scale.completeEventName) {\r\n            gameObject.emit(scale.completeEventName, gameObject);\r\n            scale.completeEventName = undefined;\r\n        }\r\n    })\r\n\r\n    // Update local state\r\n    scale.on('update', function () {\r\n        var parent = gameObject.getParentSizer();\r\n        if (parent) {\r\n            parent.resetChildPositionState(gameObject);\r\n        }\r\n    })\r\n}\r\n\r\nexport default {\r\n    popUp(duration, orientation, ease) {\r\n        if (IsPlainObject(duration)) {\r\n            var config = duration;\r\n            duration = config.duration;\r\n            orientation = config.orientation;\r\n            ease = config.ease;\r\n        }\r\n\r\n        var isInit = (this._scale === undefined);\r\n\r\n        this._scale = PopUp(this, duration, orientation, ease, this._scale);\r\n\r\n        if (isInit) {\r\n            OnInitScale(this, this._scale);\r\n        }\r\n\r\n        this._scale.completeEventName = 'popup.complete';\r\n\r\n        return this;\r\n    },\r\n\r\n    popUpPromise(duration, orientation, ease) {\r\n        this.popUp(duration, orientation, ease);\r\n        return WaitComplete(this._scale);\r\n    },\r\n\r\n    scaleDownDestroy(duration, orientation, ease, destroyMode) {\r\n        if (IsPlainObject(duration)) {\r\n            var config = duration;\r\n            duration = config.duration;\r\n            orientation = config.orientation;\r\n            ease = config.ease;\r\n            destroyMode = config.destroy;\r\n        }\r\n\r\n        var isInit = (this._scale === undefined);\r\n\r\n        this._scale = ScaleDownDestroy(this, duration, orientation, ease, destroyMode, this._scale);\r\n\r\n        if (isInit) {\r\n            OnInitScale(this, this._scale);\r\n        }\r\n\r\n        this._scale.completeEventName = 'scaledown.complete';\r\n\r\n        return this;\r\n    },\r\n\r\n    scaleDownDestroyPromise(duration, orientation, ease, destroyMode) {\r\n        this.scaleDownDestroy(duration, orientation, ease, destroyMode);\r\n        return WaitComplete(this._scale);\r\n    },\r\n\r\n    scaleDown(duration, orientation, ease) {\r\n        this.scaleDownDestroy(duration, orientation, ease, false);\r\n        return this;\r\n    },\r\n\r\n    scaleDownPromise(duration, orientation, ease) {\r\n        this.scaleDown(duration, orientation, ease);\r\n        return WaitComplete(this._scale);\r\n    },\r\n\r\n    scaleYoyo(duration, peakValue, repeat, orientation, ease) {\r\n        if (IsPlainObject(duration)) {\r\n            var config = duration;\r\n            duration = config.duration;\r\n            peakValue = config.peakValue;\r\n            repeat = config.repeat;\r\n            orientation = config.orientation;\r\n            ease = config.ease;\r\n        }\r\n\r\n        var isInit = (this._scale === undefined);\r\n\r\n        this._scale = Yoyo(this, duration, peakValue, repeat, orientation, ease, this._scale);\r\n\r\n        if (isInit) {\r\n            OnInitScale(this, this._scale);\r\n        }\r\n\r\n        this._scale.completeEventName = 'scaleyoyo.complete';\r\n\r\n        return this;\r\n    },\r\n\r\n    scaleYoyoPromise(duration, peakValue, repeat, orientation, ease) {\r\n        this.scaleYoyo(duration, peakValue, repeat, orientation, ease);\r\n        return WaitComplete(this._scale);\r\n    },\r\n\r\n\r\n}","import EaseValueTaskBase from '../../utils/componentbase/tweentask/EaseValueTaskBase.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\r\nconst Linear = Phaser.Math.Linear;\r\n\r\nclass Fade extends EaseValueTaskBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n        // this.timer\r\n\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        super.resetFromJSON(o);\r\n\r\n        this.setMode(GetValue(o, 'mode', 0));\r\n        this.setAlphaRange(\r\n            GetAdvancedValue(o, 'start', this.parent.alpha),\r\n            GetAdvancedValue(o, 'end', 0)\r\n        );\r\n        return this;\r\n    }\r\n\r\n    setMode(m) {\r\n        if (typeof (m) === 'string') {\r\n            m = MODE[m];\r\n        }\r\n        this.mode = m;\r\n        return this;\r\n    }\r\n\r\n    setAlphaRange(start, end) {\r\n        this.alphaStart = start;\r\n        this.alphaEnd = end;\r\n        return this;\r\n    }\r\n\r\n    start() {\r\n        if (this.timer.isRunning) {\r\n            return this;\r\n        }\r\n\r\n        var gameObject = this.parent;\r\n        gameObject.setAlpha(this.alphaStart);\r\n\r\n        this.timer\r\n            .setDelay(this.delay)\r\n            .setDuration(this.duration)\r\n            .setRepeat((this.mode === 2) ? -1 : 0);\r\n\r\n        super.start();\r\n        return this;\r\n    }\r\n\r\n    updateGameObject(gameObject, timer) {\r\n        var t = timer.t;\r\n        if (timer.isOddIteration) {  // Yoyo\r\n            t = 1 - t;\r\n        }\r\n\r\n        gameObject.alpha = Linear(this.alphaStart, this.alphaEnd, t);\r\n    }\r\n\r\n    complete() {\r\n        super.complete();\r\n        if (this.mode === 1) {\r\n            this.parent.destroy();\r\n            // Will also destroy this behavior\r\n        }\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nconst MODE = {\r\n    stop: 0,\r\n    destroy: 1,\r\n    yoyo: 2\r\n}\r\n\r\nexport default Fade;","import Fade from './fade.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\n\r\nvar FadeIn = function (gameObject, duration, alpha, fade) {\r\n    var startAlpha, endAlpha;\r\n    if (IsPlainObject(alpha)) {\r\n        startAlpha = alpha.start;\r\n        endAlpha = alpha.end;\r\n    } else {\r\n        endAlpha = alpha;\r\n    }\r\n    if (startAlpha === undefined) {\r\n        startAlpha = 0\r\n    }\r\n    if (endAlpha === undefined) {\r\n        endAlpha = 1;\r\n    }\r\n\r\n    var config = {\r\n        mode: 0,\r\n        start: startAlpha,\r\n        end: endAlpha,\r\n        duration: duration,\r\n    }\r\n\r\n    if (fade === undefined) {\r\n        fade = new Fade(gameObject, config);\r\n    } else {\r\n        fade.resetFromJSON(config);\r\n    }\r\n    fade.restart();\r\n\r\n    return fade;\r\n};\r\n\r\nexport default FadeIn;","import Fade from './fade.js';\r\n\r\nvar FadeOutDestroy = function (gameObject, duration, destroyMode, fade) {\r\n    if (destroyMode instanceof Fade) {\r\n        fade = destroyMode;\r\n        destroyMode = undefined;\r\n    }\r\n\r\n    if (destroyMode === undefined) {\r\n        destroyMode = true;\r\n    }\r\n\r\n    var config = {\r\n        mode: (destroyMode) ? 1 : 0,\r\n        end: 0,\r\n        duration: duration,\r\n    }\r\n\r\n    if (fade === undefined) {\r\n        fade = new Fade(gameObject, config);\r\n    } else {\r\n        fade.resetFromJSON(config);\r\n    }\r\n    fade.restart();\r\n\r\n    return fade;\r\n};\r\n\r\nexport default FadeOutDestroy;","import { FadeIn, FadeOutDestroy } from '../fade/Fade.js';\r\nimport { WaitComplete } from '../utils/WaitEvent.js'\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\n\r\nvar OnInitFade = function (gameObject, fade) {\r\n    // Route 'complete' of fade to gameObject\r\n    fade.completeEventName = undefined;\r\n    fade.on('complete', function () {\r\n        if (fade.completeEventName) {\r\n            gameObject.emit(fade.completeEventName, gameObject);\r\n            fade.completeEventName = undefined;\r\n        }\r\n    })\r\n\r\n    // Update local state\r\n    fade.on('update', function () {\r\n        var parent = gameObject.getParentSizer();\r\n        if (parent) {\r\n            parent.resetChildAlphaState(gameObject);\r\n        }\r\n    })\r\n}\r\n\r\nexport default {\r\n    fadeIn(duration, alpha) {\r\n        if (IsPlainObject(duration)) {\r\n            var config = duration;\r\n            duration = config.duration;\r\n            alpha = config.alpha;\r\n        }\r\n\r\n        var isInit = (this._fade === undefined);\r\n\r\n        this._fade = FadeIn(this, duration, alpha, this._fade);\r\n\r\n        if (isInit) {\r\n            OnInitFade(this, this._fade);\r\n        }\r\n\r\n        this._fade.completeEventName = 'fadein.complete';\r\n\r\n        return this;\r\n    },\r\n\r\n    fadeInPromise(duration, alpha) {\r\n        this.fadeIn(duration, alpha);\r\n        return WaitComplete(this._fade);\r\n    },\r\n\r\n    fadeOutDestroy(duration, destroyMode) {\r\n        if (IsPlainObject(duration)) {\r\n            var config = duration;\r\n            duration = config.duration;\r\n            destroyMode = config.destroy;\r\n        }\r\n\r\n        var isInit = (this._fade === undefined);\r\n\r\n        this._fade = FadeOutDestroy(this, duration, destroyMode, this._fade);\r\n\r\n        if (isInit) {\r\n            OnInitFade(this, this._fade);\r\n        }\r\n\r\n        this._fade.completeEventName = 'fadeout.complete';\r\n\r\n        return this;\r\n    },\r\n\r\n    fadeOutDestroyPromise(duration, destroyMode) {\r\n        this.fadeOutDestroy(duration, destroyMode);\r\n        return WaitComplete(this._fade);\r\n    },\r\n\r\n    fadeOut(duration) {\r\n        this.fadeOutDestroy(duration, false);\r\n        return this;\r\n    },\r\n\r\n    fadeOutPromise(duration) {\r\n        this.fadeOut(duration);\r\n        return WaitComplete(this._fade);\r\n    }\r\n}","import EaseValueTaskBase from '../../utils/componentbase/tweentask/EaseValueTaskBase.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\r\nconst Linear = Phaser.Math.Linear;\r\n\r\nclass EaseMove extends EaseValueTaskBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n        // this.timer\r\n\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        super.resetFromJSON(o);\r\n\r\n        this.setMode(GetValue(o, 'mode', 0));\r\n\r\n        if (o && (o.hasOwnProperty('x') || o.hasOwnProperty('y'))) {\r\n            var endX = GetAdvancedValue(o, 'x', undefined);\r\n            var endY = GetAdvancedValue(o, 'y', undefined);\r\n            this.setTargetPosition(endX, endY);\r\n        } else {\r\n            this.setTargetPosition(o);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    setMode(m) {\r\n        if (typeof (m) === 'string') {\r\n            m = MODE[m];\r\n        }\r\n        this.mode = m;\r\n        return this;\r\n    }\r\n\r\n    setTargetPosition(x, y) {\r\n        if ((typeof (x) === 'number') || (typeof (y) === 'number')) {\r\n            // endX, endY\r\n            // x,y : a number, or undefined\r\n            this.startX = this.parent.x;\r\n            this.startY = this.parent.y;\r\n            this.endX = x;\r\n            this.endY = y;\r\n        } else {\r\n            var config = x;\r\n            this.startX = GetAdvancedValue(config, 'startX', undefined);\r\n            this.startY = GetAdvancedValue(config, 'startY', undefined);\r\n            this.endX = GetAdvancedValue(config, 'endX', undefined);\r\n            this.endY = GetAdvancedValue(config, 'endY', undefined);\r\n        }\r\n\r\n        this.hasMoveX = (this.startX !== undefined) && (this.endX !== undefined);\r\n        this.hasMoveY = (this.startY !== undefined) && (this.endY !== undefined);\r\n        return this;\r\n    }\r\n\r\n    start() {\r\n        if (this.timer.isRunning) {\r\n            return this;\r\n        }\r\n\r\n        var gameObject = this.parent;\r\n        if (this.hasMoveX) {\r\n            gameObject.x = this.startX;\r\n        }\r\n        if (this.hasMoveY) {\r\n            gameObject.y = this.startY;\r\n        }\r\n\r\n        this.timer\r\n            .setDelay(this.delay)\r\n            .setDuration(this.duration)\r\n            .setRepeat((this.mode === 2) ? -1 : 0);\r\n\r\n        super.start();\r\n        return this;\r\n    }\r\n\r\n    updateGameObject(gameObject, timer) {\r\n        var t = timer.t;\r\n        if (timer.isOddIteration) {   // Yoyo\r\n            t = 1 - t;\r\n        }\r\n        t = this.easeFn(t);\r\n\r\n        if (this.hasMoveX) {\r\n            gameObject.x = Linear(this.startX, this.endX, t);\r\n        }\r\n        if (this.hasMoveY) {\r\n            gameObject.y = Linear(this.startY, this.endY, t);\r\n        }\r\n    }\r\n\r\n    complete() {\r\n        super.complete();\r\n\r\n        if (this.mode === 1) {\r\n            this.parent.destroy();\r\n            // Will also destroy this behavior\r\n        }\r\n        return this;\r\n    }\r\n}\r\n\r\nconst MODE = {\r\n    stop: 0,\r\n    destroy: 1,\r\n    yoyo: 2\r\n}\r\n\r\nexport default EaseMove;","var ParseValue = function (propertyValue, startValue) {\r\n    // propertyValue : number or string\r\n    if (typeof (propertyValue) === 'number') {\r\n        return propertyValue;\r\n    } else {\r\n        var op = propertyValue[0];\r\n        var num = parseFloat(propertyValue.substr(2));\r\n        switch (op) {\r\n            case '+': return startValue + num;\r\n            case '-': return startValue - num;\r\n            case '*': return startValue * num;\r\n            case '/': return startValue / num;\r\n        }\r\n    }\r\n}\r\n\r\nexport default ParseValue;","import EaseMove from './EaseMove.js';\r\nimport ParseValue from './ParseValue.js';\r\n\r\nvar EaseMoveTo = function (gameObject, duration, endX, endY, ease, destroyMode, easeMove) {\r\n    if (destroyMode instanceof EaseMove) {\r\n        easeMove = destroyMode;\r\n        destroyMode = undefined;\r\n    }\r\n\r\n    if (destroyMode === undefined) {\r\n        destroyMode = false;\r\n    }\r\n\r\n    var config = {};\r\n    config.mode = (destroyMode) ? 1 : 0;\r\n    if (endX !== undefined) {\r\n        config.startX = gameObject.x;\r\n        config.endX = ParseValue(endX, gameObject.x);\r\n    }\r\n    if (endY !== undefined) {\r\n        config.startY = gameObject.y;\r\n        config.endY = ParseValue(endY, gameObject.y);\r\n    }\r\n    config.duration = duration;\r\n    config.ease = (ease === undefined) ? 'Linear' : ease;\r\n\r\n    if (easeMove === undefined) {\r\n        easeMove = new EaseMove(gameObject, config);\r\n    } else {\r\n        easeMove.resetFromJSON(config);\r\n    }\r\n    easeMove.restart();\r\n\r\n    return easeMove;\r\n};\r\n\r\nexport default EaseMoveTo;","import EaseMove from './EaseMove.js';\r\nimport ParseValue from './ParseValue.js';\r\n\r\nvar EaseMoveFrom = function (gameObject, duration, startX, startY, ease, destroyMode, easeMove) {\r\n    if (destroyMode instanceof EaseMove) {\r\n        easeMove = destroyMode;\r\n        destroyMode = undefined;\r\n    }\r\n\r\n    if (destroyMode === undefined) {\r\n        destroyMode = false;\r\n    }\r\n\r\n    var config = {};\r\n    config.mode = (destroyMode) ? 1 : 0;\r\n    if (startX !== undefined) {\r\n        config.startX = ParseValue(startX, gameObject.x);\r\n        config.endX = gameObject.x;\r\n    }\r\n    if (startY !== undefined) {\r\n        config.startY = ParseValue(startY, gameObject.y);\r\n        config.endY = gameObject.y;\r\n    }\r\n    config.duration = duration;\r\n    config.ease = (ease === undefined) ? 'Linear' : ease;\r\n\r\n    if (easeMove === undefined) {\r\n        easeMove = new EaseMove(gameObject, config);\r\n    } else {\r\n        easeMove.resetFromJSON(config);\r\n    }\r\n    easeMove.restart();\r\n\r\n    return easeMove;\r\n}\r\n\r\nexport default EaseMoveFrom;","import { EaseMoveTo, EaseMoveFrom } from '../easemove/EaseMove.js';\r\nimport { WaitComplete } from '../utils/WaitEvent.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst DistanceBetween = Phaser.Math.Distance.Between;\r\n\r\nvar OnInitEaseMove = function (gameObject, easeMove) {\r\n    // Route 'complete' of easeMove to gameObject\r\n    easeMove.completeEventName = undefined;\r\n    easeMove.on('complete', function () {\r\n        if (easeMove.completeEventName) {\r\n            gameObject.emit(easeMove.completeEventName, gameObject);\r\n            easeMove.completeEventName = undefined;\r\n        }\r\n    })\r\n\r\n    // Update local state\r\n    easeMove.on('update', function () {\r\n        var parent = gameObject.getParentSizer();\r\n        if (parent) {\r\n            parent.resetChildPositionState(gameObject);\r\n        }\r\n    })\r\n}\r\n\r\nexport default {\r\n    moveFrom(duration, x, y, ease, destroyMode) {\r\n        if (IsPlainObject(duration)) {\r\n            var config = duration;\r\n            x = config.x;\r\n            y = config.y;\r\n            if (config.hasOwnProperty('speed')) {\r\n                duration = (DistanceBetween(x, y, this.x, this.y) * 1000) / config.speed;\r\n            } else {\r\n                duration = config.duration;\r\n            }\r\n\r\n            ease = config.ease;\r\n        }\r\n\r\n        var isInit = (this._easeMove === undefined);\r\n\r\n        this._easeMove = EaseMoveFrom(this, duration, x, y, ease, destroyMode, this._easeMove);\r\n\r\n        if (isInit) {\r\n            OnInitEaseMove(this, this._easeMove);\r\n        }\r\n\r\n        this._easeMove.completeEventName = 'movefrom.complete';\r\n\r\n        return this;\r\n    },\r\n\r\n    moveFromPromise(duration, x, y, ease, destroyMode) {\r\n        this.moveFrom(duration, x, y, ease, destroyMode);\r\n        return WaitComplete(this._easeMove);\r\n    },\r\n\r\n    moveFromDestroy(duration, x, y, ease) {\r\n        this.moveFrom(duration, x, y, ease, true);\r\n        return this;\r\n    },\r\n\r\n    moveFromDestroyPromise(duration, x, y, ease) {\r\n        this.moveFromDestroy(duration, x, y, ease);\r\n        return WaitComplete(this._easeMove);\r\n    },\r\n\r\n    moveTo(duration, x, y, ease, destroyMode) {\r\n        if (IsPlainObject(duration)) {\r\n            var config = duration;\r\n            x = config.x;\r\n            y = config.y;\r\n            if (config.hasOwnProperty('speed')) {\r\n                duration = (DistanceBetween(x, y, this.x, this.y) * 1000) / config.speed;\r\n            } else {\r\n                duration = config.duration;\r\n            }\r\n\r\n            ease = config.ease;\r\n        }\r\n\r\n        var isInit = (this._easeMove === undefined);\r\n\r\n        this._easeMove = EaseMoveTo(this, duration, x, y, ease, destroyMode, this._easeMove);\r\n\r\n        if (isInit) {\r\n            OnInitEaseMove(this, this._easeMove);\r\n        }\r\n\r\n        this._easeMove.completeEventName = 'moveto.complete';\r\n\r\n        return this;\r\n    },\r\n\r\n    moveToPromise(duration, x, y, ease, destroyMode) {\r\n        this.moveTo(duration, x, y, ease, destroyMode);\r\n        return WaitComplete(this._easeMove);\r\n    },\r\n\r\n    moveToDestroy(duration, x, y, ease) {\r\n        this.moveTo(duration, x, y, ease, true)\r\n        return this;\r\n    },\r\n\r\n    moveToDestroyPromise(duration, x, y, ease) {\r\n        this.moveToDestroy(duration, x, y, ease, true);\r\n        return WaitComplete(this._easeMove);\r\n    }\r\n}","import TickTask from '../../utils/componentbase/TickTask';\r\nimport Timer from '../../utils/componentbase/timerticktask/Timer.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass ShakePosition extends TickTask {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n\r\n        this.timer = new Timer();\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.timer.resetFromJSON(GetValue(o, 'timer'));\r\n        this.setEnable(GetValue(o, 'enable', true));\r\n        this.setMode(GetValue(o, 'mode', 1));\r\n        this.isRunning = GetValue(o, 'isRunning', false);\r\n        this.setMagnitudeMode(GetValue(o, 'magnitudeMode', 1));\r\n        this.setDuration(GetValue(o, 'duration', 500));\r\n        this.setMagnitude(GetValue(o, 'magnitude', 10));\r\n        this.ox = GetValue(o, 'ox', undefined);\r\n        this.oy = GetValue(o, 'oy', undefined);\r\n        return this;\r\n    }\r\n\r\n    toJSON() {\r\n        return {\r\n            timer: this.timer.toJSON(),\r\n            enable: this.enable,\r\n            mode: this.mode,\r\n            isRunning: this.isRunning,\r\n            magnitudeMode: magnitudeMode,\r\n            duration: this.duration,\r\n            magnitude: this.magnitude,\r\n            ox: this.ox,\r\n            oy: this.oy,\r\n        };\r\n    }\r\n\r\n    // override\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        super.shutdown(fromScene);\r\n        this.timer.destroy();\r\n        this.timer = undefined;\r\n    }\r\n\r\n    startTicking() {\r\n        super.startTicking();\r\n\r\n        if (this.mode === 0) { // Effect mode\r\n            this.scene.game.events.on('poststep', this.update, this);\r\n            this.scene.game.events.on('prestep', this.backToOrigin, this);\r\n        } else { // Behavior Mode\r\n            this.scene.sys.events.on('preupdate', this.update, this);\r\n        }\r\n    }\r\n\r\n    stopTicking() {\r\n        super.stopTicking();\r\n\r\n        if (this.scene) { // Scene might be destoryed\r\n            if (this.mode === 0) { // Effect mode\r\n                this.scene.game.events.off('poststep', this.update, this);\r\n                this.scene.game.events.off('prestep', this.backToOrigin, this);\r\n            } else { // Behavior Mode\r\n                this.scene.sys.events.off('preupdate', this.update, this);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    setEnable(e) {\r\n        if (e == undefined) {\r\n            e = true;\r\n        }\r\n        this.enable = e;\r\n        return this;\r\n    }\r\n\r\n    setMode(mode) {\r\n        if (typeof (mode) === 'string') {\r\n            mode = MODE[mode];\r\n        }\r\n        this.mode = mode;\r\n        return this;\r\n    }\r\n\r\n    setMagnitudeMode(magnitudeMode) {\r\n        if (typeof (magnitudeMode) === 'string') {\r\n            magnitudeMode = MANITUDEMODE[magnitudeMode];\r\n        }\r\n\r\n        this.magnitudeMode = magnitudeMode;\r\n        return this;\r\n    }\r\n\r\n    setDuration(duration) {\r\n        this.duration = duration;\r\n        return this;\r\n    }\r\n\r\n    setMagnitude(magnitude) {\r\n        this.magnitude = magnitude;\r\n        return this;\r\n    }\r\n\r\n    start(duration, magnitude) {\r\n        if (typeof (duration) !== 'number') {\r\n            var config = duration;\r\n            magnitude = GetValue(config, 'magnitude', undefined);\r\n            duration = GetValue(config, 'duration', undefined);\r\n        }\r\n        if (magnitude !== undefined) {\r\n            this.setMagnitude(magnitude);\r\n        }\r\n        if (duration !== undefined) {\r\n            this.setDuration(duration);\r\n        }\r\n\r\n        this.timer\r\n            .setDuration(this.duration)\r\n            .start()\r\n\r\n        super.start();\r\n        return this;\r\n    }\r\n\r\n    shake(duration, magnitude) {\r\n        this.start(duration, magnitude);\r\n        return this;\r\n    }\r\n\r\n    update(time, delta) {\r\n        if ((!this.isRunning) || (!this.enable)) {\r\n            return this;\r\n        }\r\n\r\n        var gameObject = this.parent;\r\n        if (!gameObject.active) {\r\n            return this;\r\n        }\r\n\r\n        this.timer.update(time, delta);\r\n        if (this.timer.isDone) {\r\n            this.backToOrigin();\r\n            this.complete();\r\n        } else {\r\n            if (this.ox === undefined) {\r\n                this.ox = gameObject.x;\r\n                this.oy = gameObject.y;\r\n            }\r\n\r\n            var magnitude = this.magnitude;\r\n            if (this.magnitudeMode === 1) // decay\r\n            {\r\n                magnitude *= (1 - this.timer.t);\r\n            }\r\n            var a = Math.random() * Math.PI * 2;\r\n            var offsetX = Math.cos(a) * magnitude;\r\n            var offsetY = Math.sin(a) * magnitude;\r\n            gameObject.setPosition(this.ox + offsetX, this.oy + offsetY);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    backToOrigin() {\r\n        if ((!this.isRunning) || (!this.enable)) {\r\n            return this;\r\n        }\r\n\r\n        if (this.ox === undefined) {\r\n            return this;\r\n        }\r\n\r\n        var gameObject = this.parent;\r\n        if ((this.ox === gameObject.x) && (this.oy === gameObject.y)) {\r\n            return this;\r\n        }\r\n\r\n        gameObject.setPosition(this.ox, this.oy);\r\n        this.ox = undefined;\r\n        this.oy = undefined;\r\n        return this;\r\n    }\r\n}\r\n\r\nconst MODE = {\r\n    effect: 0,\r\n    behavior: 1,\r\n}\r\n\r\nconst MANITUDEMODE = {\r\n    constant: 0,\r\n    decay: 1,\r\n}\r\n\r\nexport default ShakePosition;","import Shake from '../shake/Shake.js';\r\nimport { WaitComplete } from '../utils/WaitEvent.js'\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\n\r\nvar OnInitShake = function (gameObject, shake) {\r\n    // Route 'complete' of shake to gameObject\r\n    shake.on('complete', function () {\r\n        gameObject.emit('shake.complete', gameObject);\r\n    })\r\n\r\n    // Shake effect won't change position\r\n}\r\n\r\nexport default {\r\n    shake(duration, magnitude, magnitudeMode) {\r\n        if (IsPlainObject(duration)) {\r\n            var config = duration;\r\n            duration = config.duration;\r\n            magnitude = config.magnitude;\r\n            magnitudeMode = config.magnitudeMode;\r\n        }\r\n\r\n        if (this._shake === undefined) {\r\n            this._shake = new Shake(this, {\r\n                mode: 0,\r\n                magnitudeMode: 1\r\n            });\r\n            OnInitShake(this, this._shake);\r\n        }\r\n\r\n        if (duration !== undefined) {\r\n            this._shake.setDuration(duration);\r\n        }\r\n\r\n        if (magnitude !== undefined) {\r\n            this._shake.setMagnitude(magnitude);\r\n        }\r\n\r\n        if (magnitudeMode !== undefined) {\r\n            this._shake.setMagnitudeMode(magnitudeMode);\r\n        }\r\n\r\n        this._shake.shake();\r\n\r\n        return this;\r\n    },\r\n\r\n    shakePromise(duration, alpha) {\r\n        this.shake(duration, alpha);\r\n        return WaitComplete(this._shake);\r\n    },\r\n}","import ComponentBase from '../../utils/componentbase/ComponentBase.js';\r\nimport EaseValueTask from '../../utils/ease/EaseValueTask.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\n\r\nclass EaseData extends ComponentBase {\r\n    constructor(parent, config) {\r\n        super(parent, config);\r\n\r\n        this.parent.setDataEnabled();\r\n        this.easeTasks = {};\r\n    }\r\n\r\n    complete(key) {\r\n        this.emit(`complete-${key}`, this.parent, this);\r\n        this.emit('complete', key, this.parent, this);\r\n    }\r\n\r\n    getEaseTask(key) {\r\n        var easeTask = this.easeTasks[key];\r\n        if (easeTask === undefined) {\r\n            easeTask = new EaseValueTask(this.parent);\r\n            this.easeTasks[key] = easeTask;\r\n\r\n            easeTask\r\n                .setTarget(this.parent.data.values)\r\n                .on('complete', function () {\r\n                    this.complete(key);\r\n                }, this);\r\n        }\r\n        return easeTask;\r\n    }\r\n\r\n    easeTo(key, value, duration, ease) {\r\n        if (IsPlainObject(key)) {\r\n            var config = key;\r\n            key = config.key;\r\n            value = config.value;\r\n            duration = config.duration;\r\n            ease = config.ease;\r\n\r\n            var speed = config.speed;\r\n            if ((duration === undefined) && (speed !== undefined)) {\r\n                duration = (Math.abs(value - this.parent.data.values[key]) / speed) * 1000;\r\n            }\r\n        }\r\n\r\n        if (duration === undefined) {\r\n            duration = 1000;\r\n        }\r\n        if (ease === undefined) {\r\n            ease = 'Linear';\r\n        }\r\n\r\n        var easeTask = this.getEaseTask(key);\r\n        easeTask.restart({\r\n            key: key,\r\n            to: value,\r\n            duration: duration,\r\n            ease: ease\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    easeFrom(key, value, duration, ease) {\r\n        if (IsPlainObject(key)) {\r\n            var config = key;\r\n            key = config.key;\r\n            value = config.value;\r\n            duration = config.duration;\r\n            ease = config.ease;\r\n\r\n            var speed = config.speed;\r\n            if ((duration === undefined) && (speed !== undefined)) {\r\n                duration = (Math.abs(value - this.parent.data.values[key]) / speed) * 1000;\r\n            }\r\n        }\r\n\r\n        if (duration === undefined) {\r\n            duration = 1000;\r\n        }\r\n        if (ease === undefined) {\r\n            ease = 'Linear';\r\n        }\r\n\r\n        var easeTask = this.getEaseTask(key);\r\n        easeTask.restart({\r\n            key: key,\r\n            from: value,\r\n            duration: duration,\r\n            ease: ease\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    stopEase(key, toEnd) {\r\n        if (toEnd === undefined) {\r\n            toEnd = true;\r\n        }\r\n\r\n        var easeTask = this.easeTasks[key];\r\n        if (easeTask) {\r\n            easeTask.stop(toEnd);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    stopAll(toEnd) {\r\n        if (toEnd === undefined) {\r\n            toEnd = true;\r\n        }\r\n\r\n        for (var key in this.easeTasks) {\r\n            this.stopEase(key, toEnd);\r\n        }\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default EaseData;","import { EaseData } from '../../../plugins/easedata.js';\r\nimport { WaitEvent } from '../utils/WaitEvent.js';\r\n\r\nvar OnInitEaseData = function (gameObject, easeData) {\r\n    // Route 'complete' of easeData to gameObject\r\n    easeData.on('complete', function (key) {\r\n        gameObject.emit(`easedata.${key}.complete`, gameObject);\r\n        gameObject.emit('easedata.complete', key, gameObject);\r\n    })\r\n}\r\n\r\nexport default {\r\n    easeDataTo(key, value, duration, ease) {\r\n        if (!this._easeData) {\r\n            this._easeData = new EaseData(this);\r\n            OnInitEaseData(this, this._easeData);\r\n        }\r\n        this._easeData.easeTo(key, value, duration, ease);\r\n        return this;\r\n    },\r\n\r\n    easeDataToPromise(key, value, duration, ease) {\r\n        this.easeDataTo(key, value, duration, ease);\r\n        return WaitEvent(this._easeData, `complete-${key}`);\r\n    },\r\n\r\n    stopEaseData(key, toEnd) {\r\n        if (!this._easeData) {\r\n            return this;\r\n        }\r\n\r\n        this._easeData.stopEase(key, toEnd);\r\n        return this;\r\n    },\r\n\r\n    stopAllEaseData(toEnd) {\r\n        if (!this._easeData) {\r\n            return this;\r\n        }\r\n\r\n        this._easeData.stopAll(toEnd);\r\n        return this;\r\n    }\r\n}","import GetSizerConfig from './GetSizerConfig.js';\r\nimport { GetParent } from '../../../plugins/gameobjects/containerlite/GetParent.js';\r\n\r\nvar Show = function (gameObject) {\r\n    _hide(gameObject, false);\r\n};\r\n\r\nvar Hide = function (gameObject) {\r\n    _hide(gameObject, true);\r\n};\r\n\r\nvar IsShown = function (gameObject) {\r\n    if (!gameObject) {\r\n        return false;\r\n    }\r\n    var config = GetSizerConfig(gameObject);\r\n    return !config.hidden;\r\n}\r\n\r\nvar _hide = function (gameObject, hidden) {\r\n    if (!gameObject) {\r\n        return;\r\n    }\r\n    var config = GetSizerConfig(gameObject);\r\n    config.hidden = hidden;\r\n\r\n    var parent = GetParent(gameObject);\r\n    if (parent) {\r\n        parent.setChildVisible(gameObject, !hidden);\r\n    } else {\r\n        gameObject.setVisible(!hidden)\r\n    }\r\n};\r\n\r\nexport {\r\n    Show,\r\n    Hide,\r\n    IsShown,\r\n};","import {\r\n    Show,\r\n    Hide,\r\n    IsShown,\r\n} from '../utils/Hide.js';\r\n\r\nexport default {\r\n    show(gameObject) {\r\n        if (gameObject === undefined) {\r\n            gameObject = this;\r\n        }\r\n        Show(gameObject, false);\r\n        return this;\r\n    },\r\n\r\n    hide(gameObject) {\r\n        if (gameObject === undefined) {\r\n            gameObject = this;\r\n        }\r\n        Hide(gameObject, true);\r\n        return this;\r\n    },\r\n\r\n    isShow(gameObject) {\r\n        if (gameObject === undefined) {\r\n            gameObject = this;\r\n        }\r\n        return IsShown(gameObject);\r\n    }\r\n}","import { GetBounds } from './GetBounds.js';\r\n\r\nvar IsPointInBounds = function (gameObject, x, y, preTest, postTest) {\r\n    // Can't get bounds\r\n    if (!gameObject || !gameObject.getBounds) {\r\n        return false;\r\n    }\r\n\r\n    if (preTest && !preTest(gameObject, x, y)) {\r\n        return false;\r\n    }\r\n\r\n    var boundsRect = GetBounds(gameObject, true);\r\n\r\n    if (!boundsRect.contains(x, y)) {\r\n        return false;\r\n    }\r\n\r\n    if (postTest && !postTest(gameObject, x, y)) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nexport default IsPointInBounds;","import IsPointInBounds from '../bounds/IsPointInBounds.js';\r\n\r\nvar IsPointerInBounds = function (gameObject, pointer, preTest, postTest) {\r\n    if (pointer) {\r\n        return IsPointInBounds(gameObject, pointer.x, pointer.y, preTest, postTest);\r\n\r\n    } else {\r\n        var inputManager = gameObject.scene.input.manager;\r\n        var pointersTotal = inputManager.pointersTotal;\r\n        var pointers = inputManager.pointers;\r\n        for (var i = 0; i < pointersTotal; i++) {\r\n            pointer = pointers[i];\r\n            if (IsPointInBounds(gameObject, pointer.x, pointer.y, preTest, postTest)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default IsPointerInBounds;","import IsPointerInBounds from '../../../plugins/utils/input/IsPointerInBounds.js';\r\n\r\nvar IsInTouching = function (pointer, gameObject) {\r\n    if (gameObject === undefined) {\r\n        gameObject = this;\r\n    }\r\n    return IsPointerInBounds(gameObject, pointer);\r\n}\r\n\r\nexport default IsInTouching;","var IsFunction = function (obj) {    \r\n    return obj && (typeof(obj) === 'function');\r\n};\r\n\r\nexport default IsFunction;","var IsArray = function(obj) {\r\n    return Object.prototype.toString.call(obj) === '[object Array]';\r\n}\r\nexport default IsArray;","import IsPointInBounds from '../../../plugins/utils/bounds/IsPointInBounds.js';\r\n\r\nvar ContainsPoint = function (gameObject, x, y, preTest, postTest) {\r\n    return IsPointInBounds(\r\n        gameObject,\r\n        x, y,\r\n        GetPreTestCallback(preTest),\r\n        GetPostTestCallback(postTest)\r\n    );\r\n}\r\n\r\nvar IsNotHiddenSizer = function (gameObject) {\r\n    var isHiddenSizer = gameObject.rexSizer && gameObject.rexSizer.hidden;\r\n    return !isHiddenSizer;\r\n}\r\n\r\nvar GetPreTestCallback = function (preTest) {\r\n    if (!preTest) {\r\n        return IsNotHiddenSizer;\r\n    }\r\n\r\n    return function (gameObject, x, y) {\r\n        if (!IsNotHiddenSizer(gameObject)) {\r\n            return false;\r\n        }\r\n        preTest(gameObject, x, y);\r\n        return true;\r\n    }\r\n}\r\n\r\nvar GetPostTestCallback = function (postTest) {\r\n    return postTest;\r\n}\r\n\r\nexport default ContainsPoint;","import IsFunction from '../../../plugins/utils/object/IsFunction.js';\r\nimport IsArray from '../../../plugins/utils/object/IsArray.js';\r\nimport ContainsPoint from '../utils/ContainsPoint.js';\r\n\r\nvar PointToChild = function (x, y, preTest, postTest, children) {\r\n    if (!IsFunction(preTest)) {\r\n        children = preTest;\r\n        preTest = undefined;\r\n        postTest = undefined;\r\n    }\r\n\r\n    if (children === undefined) {\r\n        if (this.sizerChildren) {\r\n            children = this.sizerChildren;\r\n        } else {\r\n            children = this.children;\r\n        }\r\n    }\r\n\r\n    if (IsArray(children)) {\r\n        var child;\r\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n            child = children[i];\r\n            if (ContainsPoint(child, x, y, preTest, postTest)) {\r\n                return child;\r\n            }\r\n        }\r\n    } else {\r\n        var child;\r\n        for (var key in children) {\r\n            child = children[key];\r\n            if (ContainsPoint(child, x, y, preTest, postTest)) {\r\n                return child;\r\n            }\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport default PointToChild;","export default {\r\n    getParentSizer(gameObject, name) {\r\n        return this.getParent(gameObject, name);\r\n    },\r\n\r\n    getTopmostSizer(gameObject) {\r\n        return this.getTopmostParent(gameObject);\r\n    }\r\n}","var ResizeGameObject = function (gameObject, newWidth, newHeight) {\r\n    if (!gameObject || ((newWidth === undefined) && (newHeight === undefined))) {\r\n        return;\r\n    }\r\n    if (gameObject.resize) { // Has `resize` method\r\n        if (newWidth === undefined) {\r\n            newWidth = gameObject.width;\r\n        }\r\n        if (newHeight === undefined) {\r\n            newHeight = gameObject.height;\r\n        }\r\n        gameObject.resize(newWidth, newHeight);\r\n    } else { // Set display width/height\r\n        if (newWidth !== undefined) {\r\n            gameObject.displayWidth = newWidth;\r\n        }\r\n        if (newHeight !== undefined) {\r\n            gameObject.displayHeight = newHeight;\r\n        }\r\n    }\r\n}\r\n\r\nexport default ResizeGameObject;","var CopyState = function (gamObject, out) {\r\n    if (out === undefined) {\r\n        out = {}\r\n    } else if (out === true) {\r\n        out = GlobState;\r\n    }\r\n\r\n    out.x = gamObject.x;\r\n    out.y = gamObject.y;\r\n    out.scaleX = gamObject.scaleX;\r\n    out.scaleY = gamObject.scaleY;\r\n    out.width = gamObject.width;\r\n    out.height = gamObject.height;\r\n    out.displayWidth = gamObject.displayWidth;\r\n    out.displayHeight = gamObject.displayHeight;\r\n\r\n    return out;\r\n}\r\n\r\nvar GlobState = {};\r\n\r\nexport default CopyState;","import CopyState from '../../utils/CopyState';\r\n\r\nvar PreLayoutChild = function (child) {\r\n    if (this.sizerEventsEnable) {\r\n        CopyState(child, this.getChildPrevState(child));\r\n        this.layoutedChildren.push(child);\r\n    }\r\n}\r\n\r\nexport default PreLayoutChild;","import AlignIn from '../../../../plugins/utils/actions/AlignIn.js';\r\n\r\nvar LayoutChild = function (child, x, y, width, height, align, offsetX, offsetY) {\r\n    AlignIn(child, x, y, width, height, align);\r\n\r\n    if (offsetX !== undefined) {\r\n        child.x += offsetX;\r\n    }\r\n    if (offsetY !== undefined) {\r\n        child.y += offsetY;\r\n    }\r\n\r\n    this.resetChildPositionState(child);\r\n\r\n    if (this.sizerEventsEnable) {\r\n        child.emit('sizer.postlayout', child, this);\r\n    }\r\n}\r\n\r\nexport default LayoutChild;","import ResizeGameObject from '../../../plugins/utils/size/ResizeGameObject.js';\r\nimport PreLayoutChild from './utils/PreLayoutChild.js';\r\nimport LayoutChild from './utils/LayoutChild.js';\r\n\r\nconst ALIGN_CENTER = Phaser.Display.Align.CENTER;\r\n\r\nvar LayoutBackgrounds = function () {\r\n    if (this.backgroundChildren === undefined) {\r\n        return;\r\n    }\r\n    var backgrounds = this.backgroundChildren;\r\n\r\n    var startX = this.left,\r\n        startY = this.top;\r\n    var parentWidth = this.width,\r\n        parentHeight = this.height;\r\n    var child, childConfig, padding,\r\n        x, y, width, height;\r\n    for (var i = 0, cnt = backgrounds.length; i < cnt; i++) {\r\n        child = backgrounds[i];\r\n        childConfig = child.rexSizer;\r\n        if (childConfig.hidden) {\r\n            continue;\r\n        }\r\n\r\n        padding = childConfig.padding;\r\n\r\n        PreLayoutChild.call(this, child);\r\n\r\n        x = startX + padding.left;\r\n        y = startY + padding.top;\r\n        width = parentWidth - padding.left - padding.right;\r\n        height = parentHeight - padding.top - padding.bottom;\r\n\r\n        ResizeGameObject(child, width, height);\r\n\r\n        LayoutChild.call(this, child, x, y, width, height, ALIGN_CENTER);\r\n    }\r\n}\r\n\r\nexport default LayoutBackgrounds;","var SetDraggable = function (senser, draggable) {\r\n    var senserType = typeof (senser);\r\n    if (senserType === 'string') {\r\n        senser = this.getElement(senser);\r\n    } else if ((senser === undefined) || (senserType != 'object')) {\r\n        draggable = senser;\r\n        senser = this;\r\n    }\r\n    if (draggable === undefined) {\r\n        draggable = true;\r\n    }\r\n\r\n    if (senser.input && senser.input.hasOwnProperty('draggable')) {\r\n        // Draggable is already registered\r\n        senser.input.draggable = draggable;\r\n    } else if (draggable) {\r\n        // Register draggable\r\n        senser.setInteractive();\r\n        senser.scene.input.setDraggable(senser);\r\n        senser\r\n            .on('drag', function (pointer, dragX, dragY) {\r\n                var topmostParent = this.getTopmostSizer();\r\n                topmostParent.x += (dragX - senser.x);\r\n                topmostParent.y += (dragY - senser.y);\r\n                topmostParent.emit('sizer.drag', pointer, dragX, dragY);\r\n            }, this)\r\n            .on('dragstart', function (pointer, dragX, dragY) {\r\n                var topmostParent = this.getTopmostSizer();\r\n                topmostParent.emit('sizer.dragstart', pointer, dragX, dragY);\r\n            }, this)\r\n            .on('dragend', function (pointer, dragX, dragY, dropped) {\r\n                var topmostParent = this.getTopmostSizer();\r\n                topmostParent.emit('sizer.dragend', pointer, dragX, dragY, dropped);\r\n            }, this)\r\n    } else {\r\n        // Not draggable and draggable is not registered yet, do nothing\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default SetDraggable;","import ComponentBase from '../../utils/componentbase/ComponentBase.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Button extends ComponentBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n\r\n        this._enable = undefined;\r\n        gameObject.setInteractive(GetValue(config, \"inputConfig\", undefined));\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.pointer = undefined;\r\n        this.lastClickTime = undefined;\r\n        this.setEnable(GetValue(o, \"enable\", true));\r\n        this.setMode(GetValue(o, \"mode\", 1));\r\n        this.setClickInterval(GetValue(o, \"clickInterval\", 100));\r\n        this.setDragThreshold(GetValue(o, 'threshold', undefined));\r\n        return this;\r\n    }\r\n\r\n    boot() {\r\n        var gameObject = this.parent;\r\n        gameObject.on('pointerdown', this.onPress, this);\r\n        gameObject.on('pointerup', this.onRelease, this);\r\n        gameObject.on('pointerout', this.onPointOut, this);\r\n        gameObject.on('pointermove', this.onMove, this);\r\n\r\n        gameObject.on('pointerover', this.onOver, this);\r\n        gameObject.on('pointeroutr', this.onOut, this);\r\n    }\r\n\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        // GameObject events will be removed when this gameObject destroyed \r\n        // this.parent.on('pointerdown', this.onPress, this);\r\n        // this.parent.on('pointerup', this.onRelease, this);\r\n        // this.parent.on('pointerout', this.onPointOut, this);\r\n        // this.parent.on('pointermove', this.onMove, this);\r\n        this.pointer = null;\r\n\r\n        super.shutdown(fromScene);\r\n    }\r\n\r\n    get enable() {\r\n        return this._enable;\r\n    }\r\n\r\n    set enable(e) {\r\n        if (this._enable === e) {\r\n            return;\r\n        }\r\n\r\n        if (!e) {\r\n            this.cancel();\r\n        }\r\n        this._enable = e;\r\n\r\n        var eventName = (e) ? 'enable' : 'disable';\r\n        this.emit(eventName, this, this.parent);\r\n    }\r\n\r\n    setEnable(e) {\r\n        if (e === undefined) {\r\n            e = true;\r\n        }\r\n\r\n        this.enable = e;\r\n        return this;\r\n    }\r\n\r\n    toggleEnable() {\r\n        this.setEnable(!this.enable);\r\n        return this;\r\n    }\r\n\r\n    setMode(m) {\r\n        if (typeof (m) === 'string') {\r\n            m = CLICKMODE[m];\r\n        }\r\n        this.mode = m;\r\n        return this;\r\n    }\r\n\r\n    setClickInterval(interval) {\r\n        this.clickInterval = interval; // ms\r\n        return this;\r\n    }\r\n\r\n    setDragThreshold(distance) {\r\n        this.dragThreshold = distance;\r\n        return this;\r\n    }\r\n\r\n    // internal\r\n    onPress(pointer, localX, localY, event) {\r\n        if (this.pointer !== undefined) {\r\n            return;\r\n        }\r\n        this.pointer = pointer;\r\n        if (this.mode === 0) {\r\n            this.click(pointer.downTime, pointer, event);\r\n        }\r\n    }\r\n\r\n    onRelease(pointer, localX, localY, event) {\r\n        if (this.pointer !== pointer) {\r\n            return;\r\n        }\r\n        if (this.mode === 1) {\r\n            this.click(pointer.upTime, pointer, event);\r\n        }\r\n        this.pointer = undefined;\r\n    }\r\n\r\n    onPointOut(pointer, event) {\r\n        if (this.pointer !== pointer) {\r\n            return;\r\n        }\r\n        this.cancel();\r\n    }\r\n\r\n    onMove(pointer, localX, localY, event) {\r\n        if (this.pointer !== pointer) {\r\n            return;\r\n        }\r\n\r\n        if (this.dragThreshold === undefined) {\r\n            return;\r\n        }\r\n\r\n        if (pointer.getDistance() >= this.dragThreshold) {\r\n            this.cancel();\r\n        }\r\n    }\r\n\r\n    click(nowTime, pointer, event) {\r\n        if (!this.enable) {\r\n            return this;\r\n        }\r\n\r\n        if (nowTime === undefined) {\r\n            // fires 'click' event manually\r\n            this.emit('click', this, this.parent, pointer, event);\r\n            return this;\r\n        }\r\n\r\n        this.pointer = undefined;\r\n        var lastClickTime = this.lastClickTime;\r\n        if ((lastClickTime !== undefined) &&\r\n            ((nowTime - lastClickTime) <= this.clickInterval)) {\r\n            return this;\r\n        }\r\n        this.lastClickTime = nowTime;\r\n        this.emit('click', this, this.parent, pointer, event);\r\n        return this;\r\n    }\r\n\r\n    cancel() {\r\n        this.pointer = undefined;\r\n        return this;\r\n    }\r\n\r\n    onOver(pointer, localX, localY, event) {\r\n        if (!this.enable) {\r\n            return this;\r\n        }\r\n\r\n        this.emit('over', this, this.parent, pointer, event);\r\n        return this;\r\n    }\r\n\r\n    onOut(pointer, event) {\r\n        if (!this.enable) {\r\n            return this;\r\n        }\r\n\r\n        this.emit('out', this, this.parent, pointer, event);\r\n        return this;\r\n    }\r\n}\r\n\r\nconst CLICKMODE = {\r\n    press: 0,\r\n    pointerdown: 0,\r\n    release: 1,\r\n    pointerup: 1,\r\n};\r\n\r\nexport default Button;","import Click from '../click/Click.js';\r\n\r\nexport default {\r\n    onClick(callback, scope, config) {\r\n        if (!callback) {\r\n            return this;\r\n        }\r\n        if (this._click === undefined) {\r\n            this._click = new Click(this, config);\r\n        }\r\n        this._click.on('click', callback, scope);\r\n        return this;\r\n    },\r\n\r\n    offClick(callback, scope) {\r\n        if (this._click === undefined) {\r\n            return this;\r\n        }\r\n\r\n        this._click.off('click', callback, scope);\r\n        return this;\r\n    },\r\n\r\n    enableClick(enabled) {\r\n        if (this._click === undefined) {\r\n            return this;\r\n        }\r\n\r\n        this._click.setEnable(enabled);\r\n        return this;\r\n    },\r\n\r\n    disableClick() {\r\n        if (this._click === undefined) {\r\n            return this;\r\n        }\r\n\r\n        this._click.setEnable(false);\r\n        return this;\r\n    }\r\n}","import ComponentBase from '../../utils/componentbase/ComponentBase.js';\r\nimport IsPointerInHitArea from '../../utils/input/IsPointerInHitArea.js';\r\nimport IsPointerInBounds from '../../utils/input/IsPointerInBounds.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass ClickOutside extends ComponentBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n\r\n        this._enable = undefined;\r\n\r\n        var inputConfig = GetValue(config, \"inputConfig\", undefined);\r\n        if (inputConfig) {\r\n            gameObject.setInteractive(inputConfig);\r\n        }\r\n\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.setEnable(GetValue(o, \"enable\", true));\r\n        this.setMode(GetValue(o, \"mode\", 1));\r\n        this.setClickInterval(GetValue(o, \"clickInterval\", 100));\r\n        return this;\r\n    }\r\n\r\n    boot() {\r\n        var scene = this.parent.scene;\r\n        scene.input.on('pointerdown', this.onPress, this);\r\n        scene.input.on('pointerup', this.onRelease, this);\r\n    }\r\n\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        var scene = this.parent.scene;\r\n        scene.input.off('pointerdown', this.onPress, this);\r\n        scene.input.off('pointerup', this.onRelease, this);\r\n\r\n        super.shutdown(fromScene);\r\n    }\r\n\r\n    get enable() {\r\n        return this._enable;\r\n    }\r\n\r\n    set enable(e) {\r\n        if (this._enable === e) {\r\n            return;\r\n        }\r\n\r\n        this._enable = e;\r\n        var eventName = (e) ? 'enable' : 'disable';\r\n        this.emit(eventName, this, this.parent);\r\n    }\r\n\r\n    setEnable(e) {\r\n        if (e === undefined) {\r\n            e = true;\r\n        }\r\n\r\n        this.enable = e;\r\n        return this;\r\n    }\r\n\r\n    toggleEnable() {\r\n        this.setEnable(!this.enable);\r\n        return this;\r\n    }\r\n\r\n    setMode(m) {\r\n        if (typeof (m) === 'string') {\r\n            m = CLICKMODE[m];\r\n        }\r\n        this.mode = m;\r\n        return this;\r\n    }\r\n\r\n    setClickInterval(interval) {\r\n        this.clickInterval = interval; // ms\r\n        return this;\r\n    }\r\n\r\n    isPointerInside(pointer) {\r\n        var gameObject = this.parent;\r\n        var isInsideCallback = (gameObject.input) ? IsPointerInHitArea : IsPointerInBounds;\r\n        return isInsideCallback(gameObject, pointer);\r\n    }\r\n\r\n    // internal\r\n    onPress(pointer) {\r\n        if (this.mode === 0) {\r\n            // Do nothing if game object is not visible\r\n            if (!this.parent.willRender(pointer.camera)) {\r\n                return;\r\n            }\r\n\r\n            if (!this.isPointerInside(pointer)) {\r\n                this.click(pointer.downTime, pointer);\r\n            }\r\n        }\r\n    }\r\n\r\n    onRelease(pointer) {\r\n        if (this.mode === 1) {\r\n            // Do nothing if game object is not visible\r\n            if (!this.parent.willRender(pointer.camera)) {\r\n                return;\r\n            }\r\n\r\n            if (!this.isPointerInside(pointer)) {\r\n                this.click(pointer.upTime, pointer);\r\n            }\r\n        }\r\n    }\r\n\r\n    click(nowTime, pointer) {\r\n        if (!this.enable) {\r\n            return this;\r\n        }\r\n\r\n        if (nowTime === undefined) {\r\n            // fires 'clickoutside' event manually\r\n            this.emit('clickoutside', this, this.parent, pointer);\r\n            return this;\r\n        }\r\n\r\n        var lastClickTime = this.lastClickTime;\r\n        if ((lastClickTime !== undefined) &&\r\n            ((nowTime - lastClickTime) <= this.clickInterval)) {\r\n            return this;\r\n        }\r\n        this.lastClickTime = nowTime;\r\n        this.emit('clickoutside', this, this.parent, pointer);\r\n\r\n        return this;\r\n    }\r\n}\r\n\r\nconst CLICKMODE = {\r\n    press: 0,\r\n    pointerdown: 0,\r\n    release: 1,\r\n    pointerup: 1,\r\n};\r\n\r\nexport default ClickOutside;","import ClickOutside from '../clickoutside/ClickOutside.js';\r\n\r\nexport default {\r\n    onClickOutside(callback, scope, config) {\r\n        if (!callback) {\r\n            return this;\r\n        }\r\n        if (this._clickOutside === undefined) {\r\n            this._clickOutside = new ClickOutside(this, config);\r\n        }\r\n        this._clickOutside.on('clickoutside', callback, scope);\r\n        return this;\r\n    },\r\n\r\n    offClickOutside(callback, scope) {\r\n        if (this._clickOutside === undefined) {\r\n            return this;\r\n        }\r\n\r\n        this._clickOutside.off('clickoutside', callback, scope);\r\n        return this;\r\n    },\r\n\r\n    enableClickOutside(enabled) {\r\n        if (this._clickOutside === undefined) {\r\n            return this;\r\n        }\r\n\r\n        this._clickOutside.setEnable(enabled);\r\n        return this;\r\n    },\r\n\r\n    disableClickOutside() {\r\n        if (this._clickOutside === undefined) {\r\n            return this;\r\n        }\r\n\r\n        this._clickOutside.setEnable(false);\r\n        return this;\r\n    }\r\n}","import EventEmitterMethods from '../../utils/eventemitter/EventEmitterMethods.js';\r\nimport GetValue from '../../utils/object/GetValue.js';\r\n\r\nclass FSM {\r\n    /*\r\n    var config = {\r\n        start: 'A',   // default: undefined\r\n        states: {\r\n            A: {\r\n                next: 'B',  // function() { return 'B'; }\r\n                enter: function() {},\r\n                exit: function() {}\r\n            },\r\n            // ...\r\n        },        \r\n        extend: {\r\n            i: 0,\r\n            name: 'abc'\r\n            // ...\r\n        },\r\n        init: function() {},\r\n        enable: true,\r\n        eventEmitter: true,\r\n    };\r\n    */\r\n    constructor(config) {\r\n        // Attach get-next-state function\r\n        var states = GetValue(config, 'states', undefined);\r\n        if (states) {\r\n            this.addStates(states);\r\n        }\r\n\r\n        // Attach extend members\r\n        var extend = GetValue(config, 'extend', undefined);\r\n        if (extend) {\r\n            for (var name in extend) {\r\n                if (!this.hasOwnProperty(name) || this[name] === undefined) {\r\n                    this[name] = extend[name];\r\n                }\r\n            }\r\n        }\r\n\r\n        // Event emitter\r\n        var eventEmitter = GetValue(config, 'eventEmitter', undefined);\r\n        var EventEmitterClass = GetValue(config, 'EventEmitterClass', undefined);\r\n        this.setEventEmitter(eventEmitter, EventEmitterClass);\r\n\r\n        this._stateLock = false;\r\n        this.resetFromJSON(config);\r\n    }\r\n\r\n    shutdown() {\r\n        this.destroyEventEmitter();\r\n    }\r\n\r\n    destroy() {\r\n        this.shutdown();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.setEnable(GetValue(o, 'enable', true));\r\n        this.start(GetValue(o, 'start', undefined));\r\n        var init = GetValue(o, 'init', undefined);\r\n        if (init) {\r\n            init.call(this);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    toJSON() {\r\n        return {\r\n            curState: this.state,\r\n            prevState: this.prevState,\r\n\r\n            enable: this.enable,\r\n            start: this._start\r\n        };\r\n    }\r\n\r\n    setEnable(e) {\r\n        if (e === undefined) {\r\n            e = true;\r\n        }\r\n        this.enable = e;\r\n        return this;\r\n    }\r\n\r\n    toggleEnable() {\r\n        this.setEnable(!this.enable);\r\n        return this;\r\n    }\r\n\r\n    set state(newState) {\r\n        if (!this.enable || this._stateLock) {\r\n            return;\r\n        }\r\n        if (this._state === newState) {\r\n            return;\r\n        }\r\n        this._prevState = this._state;\r\n        this._state = newState;\r\n\r\n        this._stateLock = true; // lock state\r\n\r\n        this.emit('statechange', this);\r\n\r\n        if (this._prevState != null) {\r\n            var exitEventName = 'exit_' + this._prevState;\r\n            var exitCallback = this[exitEventName];\r\n            if (exitCallback) {\r\n                exitCallback.call(this);\r\n            }\r\n            this.emit(exitEventName, this);\r\n        }\r\n\r\n        this._stateLock = false;\r\n\r\n        if (this._state != null) {\r\n            var enterEventName = 'enter_' + this._state;\r\n            var enterCallback = this[enterEventName];\r\n            if (enterCallback) {\r\n                enterCallback.call(this);\r\n            }\r\n            this.emit(enterEventName, this);\r\n        }\r\n    }\r\n\r\n    get state() {\r\n        return this._state;\r\n    }\r\n\r\n    get prevState() {\r\n        return this._prevState;\r\n    }\r\n\r\n    start(state) {\r\n        this._start = state;\r\n        this._prevState = undefined;\r\n        this._state = state; // Won't fire statechange events\r\n        return this;\r\n    }\r\n\r\n    goto(nextState) {\r\n        if (nextState != null) {\r\n            this.state = nextState;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    next() {\r\n        var nextState;\r\n        var getNextState = this['next_' + this.state];\r\n        if (getNextState) {\r\n            if (typeof (getNextState) === 'string') {\r\n                nextState = getNextState;\r\n            } else {\r\n                nextState = getNextState.call(this);\r\n            }\r\n        }\r\n\r\n        this.goto(nextState);\r\n        return this;\r\n    }\r\n\r\n    addState(name, state) {\r\n        if (typeof (name) !== 'string') {\r\n            state = name;\r\n            name = state.name;\r\n        }\r\n\r\n        var getNextStateCallback = state.next;;\r\n        if (getNextStateCallback) {\r\n            this['next_' + name] = getNextStateCallback;\r\n        }\r\n\r\n        var exitCallback = state.exit;\r\n        if (exitCallback) {\r\n            this['exit_' + name] = exitCallback;\r\n        }\r\n\r\n        var enterCallback = state.enter;\r\n        if (enterCallback) {\r\n            this['enter_' + name] = enterCallback;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    addStates(states) {\r\n        if (Array.isArray(states)) {\r\n            for (var i = 0, cnt = states.length; i < cnt; i++) {\r\n                this.addState(states[i]);\r\n            }\r\n        } else {\r\n            for (var name in states) {\r\n                this.addState(name, states[name]);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    runMethod(methodName, a1, a2, a3, a4, a5) {\r\n        var fn = this[methodName + '_' + this.state];\r\n        if (!fn) {\r\n            return undefined;\r\n        }\r\n\r\n        // Copy from eventemitter3\r\n        var len = arguments.length;\r\n        switch (len) {\r\n            case 1: return fn.call(this);\r\n            case 2: return fn.call(this, a1);\r\n            case 3: return fn.call(this, a1, a2);\r\n            case 4: return fn.call(this, a1, a2, a3);\r\n            case 5: return fn.call(this, a1, a2, a3, a4);\r\n            case 6: return fn.call(this, a1, a2, a3, a4, a5);\r\n        }\r\n        var args = new Array(len - 1);\r\n        for (var i = 1; i < len; i++) {\r\n            args[i - 1] = arguments[i];\r\n        }\r\n        return fn.apply(this, args);\r\n    }\r\n\r\n    update(time, delta) {\r\n        this.runMethod('update', time, delta);\r\n    }\r\n\r\n    preupdate(time, delta) {\r\n        this.runMethod('preupdate', time, delta);\r\n    }\r\n\r\n    postupdate(time, delta) {\r\n        this.runMethod('postupdate', time, delta);\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    FSM.prototype,\r\n    EventEmitterMethods\r\n);\r\n\r\nexport default FSM;","import FSM from '../../../logic/fsm/FSM.js';\r\nclass Cooldown extends FSM {\r\n    constructor() {\r\n        super({\r\n            eventEmitter: false\r\n        })\r\n\r\n        this.goto('IDLE');\r\n    }\r\n\r\n    setCooldownTime(time) {\r\n        this.cooldownTime = time;\r\n        this.cooldownMode = (time !== undefined);\r\n        return this;\r\n    }\r\n\r\n    request() {\r\n        return this.runMethod('request');\r\n    }\r\n\r\n    // IDLE state\r\n    update_IDLE() {\r\n        this.compensationTime = 0;\r\n    }\r\n    request_IDLE() {\r\n        this.next();\r\n        return true;\r\n    }\r\n    next_IDLE() {\r\n        if (this.cooldownMode) {\r\n            return 'COOLDOWN';\r\n        }\r\n    }\r\n\r\n    // COOLDOWN state\r\n    enter_COOLDOWN() {\r\n        this.remainderTime = this.cooldownTime + this.compensationTime;\r\n    }\r\n    update_COOLDOWN(time, delta) {\r\n        this.remainderTime -= delta;\r\n        if (this.remainderTime < 0) {\r\n            this.compensationTime = (this.cooldownTime > delta) ? (-this.remainderTime) : 0;\r\n            this.goto('IDLE');\r\n        }\r\n    }\r\n    request_COOLDOWN() {\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\nexport default Cooldown;","import ComponentBase from '../../utils/componentbase/ComponentBase.js';\r\nimport Cooldown from '../../utils/time/cooldown/Cooldown.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass InTouching extends ComponentBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n\r\n        this._enable = undefined;\r\n        this.cooldown = new Cooldown();\r\n        this.parent.setInteractive(GetValue(config, 'inputConfig', undefined));\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.pointer = undefined;\r\n        this.isInTouched = false;\r\n        this.setEnable(GetValue(o, 'enable', true));\r\n        this.setCooldown(GetValue(o, 'cooldown', undefined));\r\n        return this;\r\n    }\r\n\r\n    boot() {\r\n        var gameObject = this.parent;\r\n        gameObject.on('pointerdown', this.onPointIn, this);\r\n        gameObject.on('pointerover', this.onPointIn, this);\r\n        gameObject.on('pointerup', this.onPointOut, this);\r\n        gameObject.on('pointerout', this.onPointOut, this);\r\n        this.scene.sys.events.on('preupdate', this.preupdate, this);\r\n    }\r\n\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        // GameObject events will be removed when this gameObject destroyed \r\n        // this.parent.off('pointerdown', this.onPointIn, this);\r\n        // this.parent.off('pointerover', this.onPointIn, this);\r\n        // this.parent.off('pointerup', this.onPointOut, this);\r\n        // this.parent.off('pointerout', this.onPointOut, this);\r\n        this.scene.sys.events.off('preupdate', this.preupdate, this);\r\n\r\n        this.pointer = undefined;\r\n        super.shutdown(fromScene);\r\n    }\r\n\r\n    get enable() {\r\n        return this._enable;\r\n    }\r\n\r\n    set enable(e) {\r\n        if (this._enable === e) {\r\n            return;\r\n        }\r\n\r\n        if (!e) {\r\n            this.isInTouched = false;\r\n            this.pointer = undefined;\r\n        }\r\n        this._enable = e;\r\n        return this;\r\n    }\r\n\r\n    setEnable(e) {\r\n        if (e === undefined) {\r\n            e = true;\r\n        }\r\n\r\n        this.enable = e;\r\n        return this;\r\n    }\r\n\r\n    get cooldownTime() {\r\n        return this.cooldown.cooldownTime;\r\n    }\r\n\r\n    set cooldownTime(time) {\r\n        this.cooldown.setCooldownTime(time);\r\n    }\r\n\r\n    setCooldown(time) {\r\n        this.cooldownTime = time;\r\n        return this;\r\n    }\r\n\r\n    toggleEnable() {\r\n        this.setEnable(!this.enable);\r\n        return this;\r\n    }\r\n\r\n    // internal\r\n    onPointIn(pointer, localX, localY) {\r\n        if ((!this.enable) ||\r\n            (!pointer.isDown) ||\r\n            (this.pointer !== undefined)) {\r\n            return;\r\n        }\r\n        this.pointer = pointer;\r\n        this.isInTouched = true;\r\n    }\r\n\r\n    onPointOut(pointer) {\r\n        if ((!this.enable) ||\r\n            (this.pointer !== pointer)) {\r\n            return;\r\n        }\r\n        this.pointer = undefined;\r\n        this.isInTouched = false;\r\n    }\r\n\r\n    preupdate(time, delta) {\r\n        this.cooldown.update(time, delta);\r\n        if (this.isInTouched && this.cooldown.request()) {\r\n            this.emit('intouch', this, this.parent, this.pointer);\r\n        }\r\n    }\r\n}\r\n\r\nexport default InTouching;","import InTouching from '../intouching/InTouching.js';\r\n\r\nexport default {\r\n    onTouching(callback, scope, config) {\r\n        if (!callback) {\r\n            return this;\r\n        }\r\n        if (this._inTouching === undefined) {\r\n            this._inTouching = new InTouching(this, config);\r\n        }\r\n        this._inTouching.on('intouch', callback, scope);\r\n        return this;\r\n    },\r\n\r\n    offTouching(callback, scope) {\r\n        if (this._click === undefined) {\r\n            return this;\r\n        }\r\n\r\n        this._inTouching.off('intouch', callback, scope);\r\n        return this;\r\n    },\r\n}","import ContainsPoint from '../ContainsPoint.js';\r\n\r\nvar PointToChild = function (parents, x, y) {\r\n    var parent;\r\n    for (var i = 0, cnt = parents.length; i < cnt; i++) {\r\n        parent = parents[i];\r\n        if (!ContainsPoint(parent, x, y)) {\r\n            continue;\r\n        }\r\n\r\n        return parent.pointToChild(x, y);\r\n    }\r\n    return null;\r\n}\r\nexport default PointToChild;","import PointToChild from './PointToChild.js';\r\n\r\nvar EmitChildEvent = function (eventEmitter, eventName, parents, x, y, pointer, event) {\r\n    var child;\r\n    if (y === undefined) {\r\n        child = x;\r\n    } else {\r\n        child = PointToChild(parents, x, y);\r\n    }\r\n\r\n    if (!child) {\r\n        return;\r\n    }\r\n\r\n    eventEmitter.emit(eventName, child, pointer, event);\r\n}\r\n\r\nexport default EmitChildEvent;","import Button from '../../../../plugins/input/button/Button.js';\r\nimport EmitChildEvent from './EmitChildEvent.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar ClickChild = function (config) {\r\n    var clickConfig = GetValue(config, 'click', undefined);\r\n    if (clickConfig === false) {\r\n        return;\r\n    }\r\n\r\n    if (clickConfig === undefined) {\r\n        clickConfig = {};\r\n    }\r\n    if (!clickConfig.hasOwnProperty('threshold')) {\r\n        clickConfig.threshold = 10;\r\n    }\r\n\r\n    var childrenInteractive = this._childrenInteractive;\r\n    this._click = new Button(this, clickConfig);\r\n    this._click.on('click', function (button, gameObject, pointer, event) {\r\n        EmitChildEvent(\r\n            childrenInteractive.eventEmitter,\r\n            `${childrenInteractive.eventNamePrefix}click`,\r\n            childrenInteractive.targetSizers,\r\n            pointer.worldX, pointer.worldY,\r\n            pointer, event\r\n        );\r\n    }, this);\r\n};\r\n\r\nexport default ClickChild;","import PointToChild from './PointToChild.js';\r\nimport EmitChildEvent from './EmitChildEvent.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar OverChild = function (config) {\r\n    var overConfig = GetValue(config, 'over', undefined);\r\n    if (overConfig === false) {\r\n        return;\r\n    }\r\n\r\n    this\r\n        .on('pointermove', OnMove, this)\r\n        .on('pointerover', OnMove, this)\r\n        .on('pointerout', OnOut, this)  // pointer-up is included too\r\n}\r\n\r\nvar OnMove = function (pointer, localX, localY, event) {\r\n    var childrenInteractive = this._childrenInteractive;\r\n    var child = PointToChild(childrenInteractive.targetSizers, pointer.worldX, pointer.worldY);\r\n    var preChild = childrenInteractive.lastOverChild;\r\n    if (child && preChild &&\r\n        (child === preChild)) {\r\n        return;\r\n    }\r\n\r\n    childrenInteractive.lastOverChild = child;\r\n    EmitChildEvent(\r\n        childrenInteractive.eventEmitter,\r\n        `${childrenInteractive.eventNamePrefix}out`,\r\n        childrenInteractive.targetSizers,\r\n        preChild, undefined,\r\n        pointer, event\r\n    );\r\n    EmitChildEvent(\r\n        childrenInteractive.eventEmitter,\r\n        `${childrenInteractive.eventNamePrefix}over`,\r\n        childrenInteractive.targetSizers,\r\n        child, undefined,\r\n        pointer, event\r\n    );\r\n}\r\n\r\nvar OnOut = function (pointer, event) {\r\n    var childrenInteractive = this._childrenInteractive;\r\n    var child = childrenInteractive.lastOverChild;\r\n    childrenInteractive.lastOverChild = null;\r\n    EmitChildEvent(\r\n        childrenInteractive.eventEmitter,\r\n        `${childrenInteractive.eventNamePrefix}out`,\r\n        childrenInteractive.targetSizers,\r\n        child, undefined,\r\n        pointer, event\r\n    );\r\n}\r\n\r\nexport default OverChild;","import TickTask from '../../../utils/componentbase/TickTask.js';\r\nimport GetSceneObject from '../../../utils/system/GetSceneObject.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass OnePointerTracer extends TickTask {\r\n    constructor(gameObject, config) {\r\n        var scene = GetSceneObject(gameObject);\r\n        if (scene === gameObject) {\r\n            gameObject = undefined;\r\n        }\r\n        super(scene, config);\r\n\r\n        this.gameObject = gameObject;\r\n        if (gameObject) {\r\n            gameObject.setInteractive(GetValue(config, \"inputConfig\", undefined));\r\n        }\r\n        this._enable = undefined;\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.setEnable(GetValue(o, 'enable', true));\r\n\r\n        this.setDetectBounds()\r\n        if (this.gameObject === undefined) {\r\n            this.setDetectBounds(GetValue(o, 'bounds', undefined));\r\n        } else {\r\n            this.setDetectBounds();\r\n        }\r\n\r\n        this.tracerState = TOUCH0;\r\n        // this.recongizedState = new stateClass(this);\r\n        this.pointer = undefined;\r\n        this.lastPointer = undefined; // Last catched pointer\r\n        this.movedState = false;\r\n        this.isTouchingAnyObject = false;\r\n        return this;\r\n    }\r\n\r\n    boot() {\r\n        super.boot();\r\n        if (this.gameObject) {\r\n            this.gameObject.on('pointerdown', this.onPointerDown, this);\r\n        } else {\r\n            this.scene.input.on('pointerdown', this.onPointerDown, this);\r\n        }\r\n        this.scene.input.on('pointerup', this.onPointerUp, this);\r\n        this.scene.input.on('gameout', this.dragCancel, this);\r\n\r\n        this.scene.input.on('pointermove', this.onPointerMove, this);\r\n        this.scene.sys.events.once('shutdown', this.destroy, this);\r\n    }\r\n\r\n    shutdown(fromScene) {\r\n        if (!this.scene) {\r\n            return\r\n        }\r\n\r\n        if (this.gameObject) {\r\n            // GameObject events will be removed when this gameObject destroyed \r\n            // this.gameObject.off('pointerdown', this.onPointerDown, this);\r\n        } else {\r\n            this.scene.input.off('pointerdown', this.onPointerDown, this);\r\n        }\r\n        this.scene.input.off('pointerup', this.onPointerUp, this);\r\n        this.scene.input.off('gameout', this.dragCancel, this);\r\n\r\n        this.scene.input.off('pointermove', this.onPointerMove, this);\r\n        this.scene.sys.events.off('shutdown', this.destroy, this);\r\n\r\n        this.gameObject = undefined;\r\n        this.bounds = undefined;\r\n        this.pointer = undefined;\r\n        this.lastPointer = undefined; // Last catched pointer\r\n        this.movedState = false;\r\n\r\n        super.shutdown(fromScene);\r\n    }\r\n\r\n    get enable() {\r\n        return this._enable;\r\n    }\r\n\r\n    set enable(e) {\r\n        if (this._enable === e) {\r\n            return;\r\n        }\r\n\r\n        if (!e) {\r\n            this.dragCancel();\r\n        }\r\n        this._enable = e;\r\n        return this;\r\n    }\r\n\r\n    setEnable(e) {\r\n        if (e === undefined) {\r\n            e = true;\r\n        }\r\n\r\n        this.enable = e;\r\n        return this;\r\n    }\r\n\r\n    setDetectBounds(bounds) {\r\n        this.bounds = bounds;\r\n        return this;\r\n    }\r\n\r\n    toggleEnable() {\r\n        this.setEnable(!this.enable);\r\n        return this;\r\n    }\r\n\r\n    onPointerDown(pointer, gameObjects) {\r\n        if (!this.enable) {\r\n            return;\r\n        }\r\n\r\n        if (this.pointer !== undefined) {\r\n            return;\r\n        }\r\n\r\n        var isInsideBounds = (this.bounds) ? this.bounds.contains(pointer.x, pointer.y) : true;\r\n        if (!isInsideBounds) {\r\n            return;\r\n        }\r\n\r\n        if (this.pointer === pointer) {\r\n            return;\r\n        }\r\n\r\n        this.pointer = pointer;\r\n        this.lastPointer = pointer;\r\n        this.movedState = false;\r\n        this.tracerState = TOUCH1;\r\n\r\n        if (this.gameObject === undefined) {\r\n            this.isTouchingAnyObject = (gameObjects.length > 0);\r\n        }\r\n        this.onDragStart();\r\n    }\r\n\r\n    onPointerUp(pointer) {\r\n        if (!this.enable) {\r\n            return;\r\n        }\r\n\r\n        var isInsideBounds = (this.bounds) ? this.bounds.contains(pointer.x, pointer.y) : true;\r\n        if (!isInsideBounds) {\r\n            return;\r\n        }\r\n\r\n        if (this.pointer !== pointer) {\r\n            return;\r\n        }\r\n\r\n        this.pointer = undefined;\r\n        this.movedState = false;\r\n        this.tracerState = TOUCH0;\r\n        this.onDragEnd();\r\n    }\r\n\r\n    onPointerMove(pointer) {\r\n        if (!this.enable) {\r\n            return;\r\n        }\r\n\r\n        if (pointer.isDown) {\r\n            var isInsideBounds = (this.bounds) ? this.bounds.contains(pointer.x, pointer.y) : true;\r\n            var isCatchedPointer = (this.pointer === pointer);\r\n            if (!isCatchedPointer && isInsideBounds) { // Pointer moves into bounds\r\n                // this.onPointerDown(pointer);\r\n            } else if (isCatchedPointer && !isInsideBounds) { // Pointer moves out of bounds\r\n                this.onPointerUp(pointer);\r\n            } else { // Pointer drags in bounds\r\n                if (!this.movedState) {\r\n                    this.movedState = (pointer.x !== pointer.downX) || (pointer.y !== pointer.downY);\r\n                }\r\n                if (this.movedState) {\r\n                    this.onDrag();\r\n                }\r\n            }\r\n        } else {\r\n            // var isInsideBounds = (this.bounds) ? this.bounds.contains(pointer.x, pointer.y) : true;\r\n            // var isLastCatchedPointer = (this.lastPointer === pointer);\r\n            // if (isLastCatchedPointer && isInsideBounds) {\r\n            //     this.onLastPointerMove();\r\n            // }\r\n        }\r\n    }\r\n\r\n    dragCancel() {\r\n        if (this.tracerState === TOUCH1) {\r\n            this.onDragEnd();\r\n        }\r\n        this.pointer = undefined;\r\n        this.tracerState = TOUCH0;\r\n        return this;\r\n    }\r\n\r\n    onDragStart() {\r\n        this.emit('dragstart', this);\r\n    }\r\n\r\n    onDragEnd() {\r\n        this.emit('dragend', this);\r\n    }\r\n\r\n    onDrag() {\r\n        this.emit('drag', this);\r\n    }\r\n\r\n    // onLastPointerMove() { }\r\n\r\n    preUpdate(time, delta) { }\r\n\r\n    postUpdate(time, delta) { }\r\n\r\n    startTicking() {\r\n        super.startTicking();\r\n        this.scene.sys.events.on('preupdate', this.preUpdate, this);\r\n        this.scene.sys.events.on('postupdate', this.postUpdate, this);\r\n    }\r\n\r\n    stopTicking() {\r\n        super.stopTicking();\r\n        if (this.scene) { // Scene might be destoryed\r\n            this.scene.sys.events.off('preupdate', this.preUpdate, this);\r\n            this.scene.sys.events.off('postupdate', this.postUpdate, this);\r\n        }\r\n    }\r\n\r\n    setRecongizedStateObject(stateObject) {\r\n        this.recongizedState = stateObject;\r\n        return this;\r\n    }\r\n\r\n    get state() {\r\n        return this.recongizedState.state;\r\n    }\r\n\r\n    set state(newState) {\r\n        this.recongizedState.state = newState;\r\n    }\r\n\r\n    cancel() {\r\n        this.state = IDLE;\r\n        return this;\r\n    }\r\n}\r\n\r\nconst TOUCH0 = 0;\r\nconst TOUCH1 = 1;\r\n\r\nconst IDLE = 'IDLE';\r\n\r\nexport default OnePointerTracer;","import OnePointerTracer from \"../onepointertracer/OnePointerTracer.js\";\r\nimport FSM from '../../../fsm.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst DistanceBetween = Phaser.Math.Distance.Between;\r\n\r\nclass Tap extends OnePointerTracer {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n\r\n        var self = this;\r\n        var stateConfig = {\r\n            states: {\r\n                IDLE: {\r\n                    enter: function () {\r\n                        self.stop();\r\n                        self.tapsCount = 0;\r\n                        self.x = 0;\r\n                        self.y = 0;\r\n                        self.worldX = 0;\r\n                        self.worldY = 0;\r\n                    },\r\n                    exit: function () {\r\n                        var pointer = self.lastPointer;\r\n                        self.x = pointer.x;\r\n                        self.y = pointer.y;\r\n                        self.worldX = pointer.worldX;\r\n                        self.worldY = pointer.worldY;\r\n                    }\r\n                },\r\n                BEGIN: {\r\n                    enter: function () {\r\n                        self.start();\r\n                        self.tapsCount = 0;\r\n                        self.emit('tappingstart', self, self.gameObject, self.lastPointer);\r\n                    },\r\n                },\r\n                RECOGNIZED: {\r\n                    enter: function () {\r\n                        self.start();\r\n                        self.emit('tap', self, self.gameObject, self.lastPointer);\r\n                        self.emit(`${self.tapsCount}tap`, self, self.gameObject, self.lastPointer);\r\n                    },\r\n                }\r\n            },\r\n            init: function () {\r\n                this.state = IDLE;\r\n            },\r\n            eventEmitter: false,\r\n        }\r\n        this.setRecongizedStateObject(new FSM(stateConfig));\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        super.resetFromJSON(o);\r\n        this.setHoldTime(GetValue(o, 'time', 250)); // min-hold-time of Press is 251\r\n        this.setTapInterval(GetValue(o, 'tapInterval', 200));\r\n        this.setDragThreshold(GetValue(o, 'threshold', 9));\r\n        this.setTapOffset(GetValue(o, 'tapOffset', 10));\r\n\r\n        var taps = GetValue(o, 'taps', undefined);\r\n        if (taps !== undefined) {\r\n            this.setTaps(taps);\r\n        } else {\r\n            this.setMaxTaps(GetValue(o, 'maxTaps', undefined));\r\n            this.setMinTaps(GetValue(o, 'minTaps', undefined));\r\n        }\r\n        return this;\r\n    }\r\n\r\n    onDragStart() {\r\n        switch (this.state) {\r\n            case IDLE:\r\n                this.state = BEGIN;\r\n                break;\r\n\r\n            case BEGIN:\r\n                var pointer = this.lastPointer;\r\n                var tapsOffset = DistanceBetween(\r\n                    pointer.upX,\r\n                    pointer.upY,\r\n                    pointer.x,\r\n                    pointer.y);\r\n                if (tapsOffset > this.tapOffset) { // Can't recognize next level, restart here\r\n                    this.state = RECOGNIZED;\r\n                    this.state = BEGIN;\r\n                }\r\n                break;\r\n\r\n            case RECOGNIZED:\r\n                this.state = BEGIN;\r\n                break;\r\n        }\r\n    }\r\n\r\n    onDragEnd() {\r\n        if (this.state === BEGIN) {\r\n            this.tapsCount++; // Try recognize next level\r\n            this.emit('tapping', this, this.gameObject, this.lastPointer);\r\n\r\n            if ((this.maxTaps !== undefined) && (this.tapsCount === this.maxTaps)) { // Reach to maxTaps, stop here                \r\n                this.state = RECOGNIZED;\r\n            }\r\n        }\r\n    }\r\n\r\n    onDrag() {\r\n        if (this.state === IDLE) {\r\n            return;\r\n        }\r\n\r\n        if (this.pointer.getDistance() > this.dragThreshold) { // Cancel\r\n            this.state = IDLE;\r\n        }\r\n    }\r\n\r\n    preUpdate(time, delta) {\r\n        if ((!this.isRunning) || (!this.enable)) {\r\n            return;\r\n        }\r\n        if (this.state === BEGIN) {\r\n            var pointer = this.lastPointer;\r\n            if (pointer.isDown) {\r\n                var holdTime = time - pointer.downTime;\r\n                if (holdTime > this.holdTime) {\r\n                    this.state = IDLE;\r\n                }\r\n            } else { // isUp\r\n                var releasedTime = time - pointer.upTime;\r\n                if (releasedTime > this.tapInterval) {\r\n                    if ((this.minTaps === undefined) || (this.tapsCount >= this.minTaps)) {\r\n                        this.state = RECOGNIZED;\r\n                    } else {\r\n                        this.state = IDLE;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    postUpdate(time, delta) {\r\n        if ((!this.isRunning) || (!this.enable)) {\r\n            return;\r\n        }\r\n        // Clear RECOGNIZED after update()\r\n        if (this.state === RECOGNIZED) {\r\n            this.state = IDLE;\r\n        }\r\n    }\r\n\r\n    get isTapped() {\r\n        return (this.state === RECOGNIZED);\r\n    }\r\n\r\n    setHoldTime(time) {\r\n        this.holdTime = time; // ms\r\n        return this;\r\n    }\r\n\r\n    setTapInterval(time) {\r\n        this.tapInterval = time; // ms\r\n        return this;\r\n    }\r\n\r\n    setDragThreshold(distance) {\r\n        this.dragThreshold = distance;\r\n        return this;\r\n    }\r\n\r\n    setTapOffset(distance) {\r\n        this.tapOffset = distance;\r\n        return this;\r\n    }\r\n\r\n    setMaxTaps(taps) {\r\n        this.maxTaps = taps;\r\n        return this;\r\n    }\r\n\r\n    setMinTaps(taps) {\r\n        this.minTaps = taps;\r\n        return this;\r\n    }\r\n\r\n    setTaps(minTaps, maxTaps) {\r\n        if (maxTaps === undefined) {\r\n            maxTaps = minTaps;\r\n        }\r\n        this.setMinTaps(minTaps).setMaxTaps(maxTaps);\r\n        return this;\r\n    }\r\n}\r\n\r\nconst IDLE = 'IDLE';\r\nconst BEGIN = 'BEGIN';\r\nconst RECOGNIZED = 'RECOGNIZED';\r\n\r\nexport default Tap;","import OnePointerTracer from \"../onepointertracer/OnePointerTracer.js\";\r\nimport FSM from '../../../fsm.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Press extends OnePointerTracer {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n\r\n        var self = this;\r\n        var stateConfig = {\r\n            states: {\r\n                IDLE: {\r\n                    enter: function () {\r\n                        self.x = 0;\r\n                        self.y = 0;\r\n                        self.worldX = 0;\r\n                        self.worldY = 0;\r\n                    },\r\n                    exit: function () {\r\n                        var pointer = self.lastPointer;\r\n                        self.x = pointer.x;\r\n                        self.y = pointer.y;\r\n                        self.worldX = pointer.worldX;\r\n                        self.worldY = pointer.worldY;\r\n                    }\r\n                },\r\n                BEGIN: {\r\n                    enter: function () {\r\n                        self.start();\r\n                    },\r\n                    exit: function () {\r\n                        self.stop();\r\n                    }\r\n                },\r\n                RECOGNIZED: {\r\n                    enter: function () {\r\n                        self.emit('pressstart', self, self.gameObject, self.lastPointer);\r\n                    },\r\n                    exit: function () {\r\n                        self.emit('pressend', self, self.gameObject, self.lastPointer);\r\n                    }\r\n                }\r\n            },\r\n            init: function () {\r\n                this.state = IDLE;\r\n            },\r\n            eventEmitter: false,\r\n        }\r\n        this.setRecongizedStateObject(new FSM(stateConfig));\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        super.resetFromJSON(o);\r\n        this.setDragThreshold(GetValue(o, 'threshold', 9));\r\n        this.setHoldTime(GetValue(o, 'time', 251));\r\n        return this;\r\n    }\r\n\r\n    onDragStart() {\r\n        this.state = BEGIN;\r\n        if (this.holdTime === 0) {\r\n            this.state = RECOGNIZED;\r\n        }\r\n    }\r\n\r\n    onDragEnd() {\r\n        this.state = IDLE;\r\n    }\r\n\r\n    onDrag() {\r\n        if (this.state === IDLE) {\r\n            return;\r\n        }\r\n\r\n        if (this.pointer.getDistance() > this.dragThreshold) {\r\n            this.state = IDLE;\r\n        }\r\n    }\r\n\r\n    preUpdate(time, delta) {\r\n        if ((!this.isRunning) || (!this.enable)) {\r\n            return;\r\n        }\r\n        if (this.state === BEGIN) {\r\n            var holdTime = time - this.pointer.downTime;\r\n            if (holdTime >= this.holdTime) {\r\n                this.state = RECOGNIZED;\r\n            }\r\n        }\r\n    }\r\n\r\n    get isPressed() {\r\n        return (this.state === RECOGNIZED);\r\n    }\r\n\r\n    setHoldTime(time) {\r\n        this.holdTime = time; // ms\r\n        return this;\r\n    }\r\n\r\n    setDragThreshold(distance) {\r\n        this.dragThreshold = distance;\r\n        return this;\r\n    }\r\n}\r\n\r\nconst IDLE = 'IDLE';\r\nconst BEGIN = 'BEGIN';\r\nconst RECOGNIZED = 'RECOGNIZED';\r\n\r\nexport default Press;","import OnePointerTracer from \"../onepointertracer/OnePointerTracer.js\";\r\nimport FSM from '../../../fsm.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Pan extends OnePointerTracer {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n\r\n        var self = this;\r\n        var stateConfig = {\r\n            states: {\r\n                IDLE: {\r\n                },\r\n                BEGIN: {\r\n                    enter: function () {\r\n                        var pointer = self.pointer;\r\n                        self.startX = pointer.x;\r\n                        self.startY = pointer.y;\r\n                        self.startWorldX = pointer.worldX;\r\n                        self.startWorldY = pointer.worldY;\r\n                    }\r\n                },\r\n                RECOGNIZED: {\r\n                    enter: function () {\r\n                        self.emit('panstart', self, self.gameObject, self.lastPointer);\r\n                    },\r\n                    exit: function () {\r\n                        var pointer = self.lastPointer;\r\n                        self.endX = pointer.x;\r\n                        self.endY = pointer.y;\r\n                        self.endWorldX = pointer.worldX;\r\n                        self.endWorldY = pointer.worldY;\r\n                        self.emit('panend', self, self.gameObject, self.lastPointer);\r\n                    }\r\n                }\r\n            },\r\n            init: function () {\r\n                this.state = IDLE;\r\n            },\r\n            eventEmitter: false,\r\n        }\r\n        this.setRecongizedStateObject(new FSM(stateConfig));\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        super.resetFromJSON(o);\r\n        this.setDragThreshold(GetValue(o, 'threshold', 10));\r\n        return this;\r\n    }\r\n\r\n    onDragStart() {\r\n        this.state = BEGIN;\r\n        if (this.dragThreshold === 0) {\r\n            this.state = RECOGNIZED;\r\n        }\r\n    }\r\n\r\n    onDragEnd() {\r\n        this.state = IDLE;\r\n    }\r\n\r\n    onDrag() {\r\n        switch (this.state) {\r\n            case BEGIN:\r\n                if (this.pointer.getDistance() >= this.dragThreshold) {\r\n                    this.state = RECOGNIZED;\r\n                }\r\n                break;\r\n\r\n            case RECOGNIZED:\r\n                var p1 = this.pointer.position;\r\n                var p0 = this.pointer.prevPosition;\r\n                this.dx = p1.x - p0.x;\r\n                this.dy = p1.y - p0.y;\r\n                var pointer = this.pointer;\r\n                this.x = pointer.x;\r\n                this.y = pointer.y;\r\n                this.worldX = pointer.worldX;\r\n                this.worldY = pointer.worldY;\r\n                this.emit('pan', this, this.gameObject, this.lastPointer);\r\n                break;\r\n        }\r\n    }\r\n\r\n    get isPanned() {\r\n        return (this.state === RECOGNIZED);\r\n    }\r\n\r\n    setDragThreshold(distance) {\r\n        this.dragThreshold = distance;\r\n        return this;\r\n    }\r\n}\r\n\r\nconst IDLE = 'IDLE';\r\nconst BEGIN = 'BEGIN';\r\nconst RECOGNIZED = 'RECOGNIZED';\r\n\r\nexport default Pan;","const DistanceBetween = Phaser.Math.Distance.Between;\r\nconst AngleBetween = Phaser.Math.Angle.Between;\r\n\r\nexport default {\r\n    getDt: function () {\r\n        var game = this.scene.sys.game;\r\n        var dt = game.loop.delta;\r\n        return dt;\r\n    },\r\n\r\n    getVelocity: function () {\r\n        var p1 = this.pointer.position;\r\n        var p0 = this.pointer.prevPosition;\r\n        var d = DistanceBetween(p0.x, p0.y, p1.x, p1.y);\r\n        var velocity = d / (this.getDt() * 0.001);\r\n        return velocity;\r\n    },\r\n\r\n    getVelocityX: function () {\r\n        var p1 = this.pointer.position;\r\n        var p0 = this.pointer.prevPosition;\r\n        var d = Math.abs(p1.x - p0.x);\r\n        var velocity = d / (this.getDt() * 0.001);\r\n        return velocity;\r\n    },\r\n\r\n    getVelocityY: function () {\r\n        var p1 = this.pointer.position;\r\n        var p0 = this.pointer.prevPosition;\r\n        var d = Math.abs(p1.y - p0.y);\r\n        var velocity = d / (this.getDt() * 0.001);\r\n        return velocity;\r\n    },\r\n\r\n    getVelocityAngle: function () {\r\n        var p1 = this.pointer.position;\r\n        var p0 = this.pointer.prevPosition;\r\n        var angle = AngleBetween(p0.x, p0.y, p1.x, p1.y);\r\n        return angle;\r\n    }\r\n};","export default {\r\n    'up&down': 0,\r\n    'left&right': 1,\r\n    '4dir': 2,\r\n    '8dir': 3\r\n};","var AngleToDirections = function (angle, dirMode, out) {\r\n    if (out === undefined) {\r\n        out = {}\r\n    } else if (out === true) {\r\n        out = globOut;\r\n    }\r\n\r\n    out.left = false;\r\n    out.right = false;\r\n    out.up = false;\r\n    out.down = false;\r\n\r\n    angle = (angle + 360) % 360;\r\n    switch (dirMode) {\r\n        case 0: // up & down\r\n            if (angle < 180) {\r\n                out.down = true;\r\n            } else {\r\n                out.up = true;\r\n            }\r\n            break;\r\n\r\n        case 1: // left & right\r\n            if ((angle > 90) && (angle <= 270)) {\r\n                out.left = true;\r\n            } else {\r\n                out.right = true;\r\n            }\r\n            break;\r\n\r\n        case 2: // 4 dir\r\n            if ((angle > 45) && (angle <= 135)) {\r\n                out.down = true;\r\n            } else if ((angle > 135) && (angle <= 225)) {\r\n                out.left = true;\r\n            } else if ((angle > 225) && (angle <= 315)) {\r\n                out.up = true;\r\n            } else {\r\n                out.right = true;\r\n            }\r\n            break;\r\n\r\n        case 3: // 8 dir\r\n            if ((angle > 22.5) && (angle <= 67.5)) {\r\n                out.down = true;\r\n                out.right = true;\r\n            } else if ((angle > 67.5) && (angle <= 112.5)) {\r\n                out.down = true;\r\n            } else if ((angle > 112.5) && (angle <= 157.5)) {\r\n                out.down = true;\r\n                out.left = true;\r\n            } else if ((angle > 157.5) && (angle <= 202.5)) {\r\n                out.left = true;\r\n            } else if ((angle > 202.5) && (angle <= 247.5)) {\r\n                out.left = true;\r\n                out.up = true;\r\n            } else if ((angle > 247.5) && (angle <= 292.5)) {\r\n                out.up = true;\r\n            } else if ((angle > 292.5) && (angle <= 337.5)) {\r\n                out.up = true;\r\n                out.right = true;\r\n            } else {\r\n                out.right = true;\r\n            }\r\n            break;\r\n    }\r\n\r\n    return out;\r\n};\r\n\r\nvar globOut = {};\r\n\r\nexport default AngleToDirections;","import OnePointerTracer from \"../onepointertracer/OnePointerTracer.js\";\r\nimport FSM from '../../../fsm.js';\r\nimport VelocityMethods from './VelocityMethods.js';\r\nimport DIRMODE from '../../../utils/math/angle/angletodirections/Const.js';\r\nimport AngleToDirections from '../../../utils/math/angle/angletodirections/AngleToDirections.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst RadToDeg = Phaser.Math.RadToDeg;\r\n\r\nclass Swipe extends OnePointerTracer {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n\r\n        var self = this;\r\n        var stateConfig = {\r\n            states: {\r\n                IDLE: {\r\n                    enter: function () {\r\n                        self.x = 0;\r\n                        self.y = 0;\r\n                        self.worldX = 0;\r\n                        self.worldY = 0;\r\n                    },\r\n                    exit: function () {\r\n                        var pointer = self.lastPointer;\r\n                        self.x = pointer.x;\r\n                        self.y = pointer.y;\r\n                        self.worldX = pointer.worldX;\r\n                        self.worldY = pointer.worldY;\r\n                    }\r\n                },\r\n                BEGIN: {\r\n                    enter: function () {\r\n                        self.validDrag = false;\r\n                    }\r\n                },\r\n                RECOGNIZED: {\r\n                    enter: function () {\r\n                        self.start();\r\n                        self.updateDirectionStates();\r\n                        self.emit('swipe', self, self.gameObject, self.lastPointer);\r\n                    },\r\n\r\n                    exit: function () {\r\n                        self.stop();\r\n                        self.clearDirectionStates();\r\n                    }\r\n                }\r\n            },\r\n            init: function () {\r\n                this.state = IDLE;\r\n            },\r\n            eventEmitter: false,\r\n        }\r\n        this.setRecongizedStateObject(new FSM(stateConfig));\r\n        this.clearDirectionStates();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        super.resetFromJSON(o);\r\n        this.setDragThreshold(GetValue(o, 'threshold', 10));\r\n        this.setVelocityThreshold(GetValue(o, 'velocityThreshold', 1000));\r\n        this.setDirectionMode(GetValue(o, 'dir', '8dir'));\r\n        return this;\r\n    }\r\n\r\n    onDragStart() {\r\n        this.state = BEGIN;\r\n    }\r\n\r\n    onDragEnd() {\r\n        this.state = IDLE;\r\n    }\r\n\r\n    onDrag() {\r\n        if (this.state === BEGIN) {\r\n            if (!this.validDrag) {\r\n                this.validDrag = (this.dragThreshold === 0) || (this.pointer.getDistance() >= this.dragThreshold);\r\n            }\r\n            if (this.validDrag && (this.dragVelocity > this.velocityThreshold)) {\r\n                this.state = RECOGNIZED;\r\n            }\r\n        }\r\n    }\r\n\r\n    postUpdate(time, delta) {\r\n        if ((!this.isRunning) || (!this.enable)) {\r\n            return;\r\n        }\r\n        // Clear RECOGNIZED after update()\r\n        if (this.state === RECOGNIZED) {\r\n            this.state = IDLE;\r\n        }\r\n    }\r\n\r\n    get isSwiped() {\r\n        return (this.state === RECOGNIZED);\r\n    }\r\n\r\n    get dragVelocity() {\r\n        var velocity;\r\n        switch (this.dirMode) {\r\n            case 0: velocity = this.getVelocityY(); break; // up & down\r\n            case 1: velocity = this.getVelocityX(); break; // left & right\r\n            default: velocity = this.getVelocity(); break; // 4 dir, 8 dir\r\n        }\r\n        return velocity;\r\n    }\r\n\r\n    setDragThreshold(distance) {\r\n        this.dragThreshold = distance;\r\n        return this;\r\n    }\r\n\r\n    setVelocityThreshold(velocity) {\r\n        this.velocityThreshold = velocity;\r\n        return this;\r\n    }\r\n\r\n    setDirectionMode(m) {\r\n        if (typeof (m) === 'string') {\r\n            m = DIRMODE[m];\r\n        }\r\n        this.dirMode = m;\r\n        return this;\r\n    }\r\n\r\n    updateDirectionStates() {\r\n        var angle = RadToDeg(this.getVelocityAngle());\r\n        AngleToDirections(angle, this.dirMode, this);\r\n        return this;\r\n    }\r\n\r\n    clearDirectionStates() {\r\n        this.left = false;\r\n        this.right = false;\r\n        this.up = false;\r\n        this.down = false;\r\n        return this;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    Swipe.prototype,\r\n    VelocityMethods\r\n);\r\n\r\nconst IDLE = 'IDLE';\r\nconst BEGIN = 'BEGIN';\r\nconst RECOGNIZED = 'RECOGNIZED';\r\n\r\nexport default Swipe;","import EventEmitterMethods from '../../../utils/eventemitter/EventEmitterMethods.js';\r\nimport Clear from '../../../utils/object/Clear.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst SpliceOne = Phaser.Utils.Array.SpliceOne;\r\nconst DistanceBetween = Phaser.Math.Distance.Between;\r\nconst AngleBetween = Phaser.Math.Angle.Between;\r\n\r\nclass TwoPointersTracer {\r\n    constructor(scene, config) {\r\n        var amount = scene.input.manager.pointersTotal - 1;\r\n        if (amount < 2) {\r\n            scene.input.addPointer(2 - amount);\r\n        }\r\n\r\n        this.scene = scene;\r\n        // Event emitter\r\n        this.setEventEmitter(GetValue(config, 'eventEmitter', undefined));\r\n\r\n        this._enable = undefined;\r\n        this.pointers = [];\r\n        this.movedState = {};\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.setEnable(GetValue(o, \"enable\", true));\r\n        this.bounds = GetValue(o, 'bounds', undefined);\r\n\r\n        this.tracerState = TOUCH0;\r\n        this.pointers.length = 0;\r\n        Clear(this.movedState);\r\n        return this;\r\n    }\r\n\r\n    boot() {\r\n        this.scene.input.on('pointerdown', this.onPointerDown, this);\r\n\r\n        this.scene.input.on('pointerup', this.onPointerUp, this);\r\n        this.scene.input.on('gameout', this.dragCancel, this);\r\n\r\n        this.scene.input.on('pointermove', this.onPointerMove, this);\r\n        this.scene.sys.events.once('shutdown', this.destroy, this);\r\n    }\r\n\r\n    shutdown() {\r\n        if (!this.scene) {\r\n            return\r\n        }\r\n\r\n        this.destroyEventEmitter();\r\n        this.pointers.length = 0;\r\n        Clear(this.movedState);\r\n        this.scene.input.off('pointerdown', this.onPointerDown, this);\r\n\r\n        this.scene.input.off('pointerup', this.onPointerUp, this);\r\n        this.scene.input.off('gameout', this.dragCancel, this);\r\n\r\n        this.scene.input.off('pointermove', this.onPointerMove, this);\r\n        this.scene.sys.events.off('shutdown', this.destroy, this);\r\n        this.scene = undefined;\r\n    }\r\n\r\n    destroy() {\r\n        this.shutdown();\r\n    }\r\n\r\n    get enable() {\r\n        return this._enable;\r\n    }\r\n\r\n    set enable(e) {\r\n        if (this._enable === e) {\r\n            return;\r\n        }\r\n\r\n        if (!e) {\r\n            this.dragCancel();\r\n        }\r\n        this._enable = e;\r\n        return this;\r\n    }\r\n\r\n    setEnable(e) {\r\n        if (e === undefined) {\r\n            e = true;\r\n        }\r\n\r\n        this.enable = e;\r\n        return this;\r\n    }\r\n\r\n    toggleEnable() {\r\n        this.setEnable(!this.enable);\r\n        return this;\r\n    }\r\n\r\n    onPointerDown(pointer) {\r\n        if (!this.enable) {\r\n            return;\r\n        }\r\n\r\n        if (this.pointers.length === 2) {\r\n            return;\r\n        }\r\n\r\n        var isInsideBounds = (this.bounds) ? this.bounds.contains(pointer.x, pointer.y) : true;\r\n        if (!isInsideBounds) {\r\n            return;\r\n        }\r\n\r\n        var index = this.pointers.indexOf(pointer);\r\n        if (index !== -1) { // Already in catched pointers\r\n            return;\r\n        }\r\n\r\n        this.movedState[pointer.id] = false;\r\n        this.pointers.push(pointer);\r\n\r\n        switch (this.tracerState) {\r\n            case TOUCH0:\r\n                this.tracerState = TOUCH1;\r\n                this.onDrag1Start();\r\n                break;\r\n            case TOUCH1:\r\n                this.tracerState = TOUCH2;\r\n                this.onDrag2Start();\r\n                break;\r\n        }\r\n    }\r\n\r\n    onPointerUp(pointer) {\r\n        if (!this.enable) {\r\n            return;\r\n        }\r\n\r\n        var isInsideBounds = (this.bounds) ? this.bounds.contains(pointer.x, pointer.y) : true;\r\n        if (!isInsideBounds) {\r\n            return;\r\n        }\r\n\r\n        var index = this.pointers.indexOf(pointer);\r\n        if (index === -1) { // Not in catched pointers\r\n            return;\r\n        } else {\r\n            delete this.movedState[pointer.id];\r\n            SpliceOne(this.pointers, index);\r\n        }\r\n\r\n        switch (this.tracerState) {\r\n            case TOUCH1:\r\n                this.tracerState = TOUCH0;\r\n                this.onDrag1End();\r\n                break;\r\n            case TOUCH2:\r\n                this.tracerState = TOUCH1;\r\n                this.onDrag2End();\r\n                this.onDrag1Start();\r\n                break;\r\n        }\r\n    }\r\n\r\n    onPointerMove(pointer) {\r\n        if (!this.enable) {\r\n            return;\r\n        }\r\n\r\n        if (pointer.isDown) {\r\n            var isInsideBounds = (this.bounds) ? this.bounds.contains(pointer.x, pointer.y) : true;\r\n            var isCatchedPointer = (this.pointers.indexOf(pointer) !== -1);\r\n            if (!isCatchedPointer && isInsideBounds) { // Pointer moves into bounds\r\n                // this.onPointerDown(pointer);\r\n            } else if (isCatchedPointer && !isInsideBounds) { // Pointer moves out of bounds, lose pointer\r\n                this.onPointerUp(pointer);\r\n            } else {  // Pointer drags in bounds\r\n                if (!this.movedState[pointer.id]) {\r\n                    this.movedState[pointer.id] = (pointer.x !== pointer.downX) || (pointer.y !== pointer.downY);\r\n                }\r\n                if (this.movedState[pointer.id]) {\r\n                    switch (this.tracerState) {\r\n                        case TOUCH1:\r\n                            this.onDrag1();\r\n                            break;\r\n                        case TOUCH2:\r\n                            this.onDrag2();\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    dragCancel() {\r\n        if (this.tracerState === TOUCH2) {\r\n            this.onDrag2End();\r\n        }\r\n        this.pointers.length = 0;\r\n        Clear(this.movedState);\r\n        this.tracerState = TOUCH0;\r\n        return this;\r\n    }\r\n\r\n    onDrag1Start() {\r\n        this.emit('drag1start', this);\r\n    }\r\n\r\n    onDrag1End() {\r\n        this.emit('drag1end', this);\r\n    }\r\n\r\n    onDrag1() {\r\n        this.emit('drag1', this);\r\n    }\r\n\r\n    onDrag2Start() {\r\n        this.emit('drag2start', this);\r\n    }\r\n\r\n    onDrag2End() {\r\n        this.emit('drag2end', this);\r\n    }\r\n\r\n    onDrag2() {\r\n        this.emit('drag2', this);\r\n    }\r\n\r\n    get distanceBetween() {\r\n        if (this.tracerState !== TOUCH2) {\r\n            return 0;\r\n        }\r\n        var p0 = this.pointers[0],\r\n            p1 = this.pointers[1];\r\n        return DistanceBetween(p0.x, p0.y, p1.x, p1.y);\r\n    }\r\n\r\n    get angleBetween() {\r\n        if (this.tracerState !== TOUCH2) {\r\n            return 0;\r\n        }\r\n        var p0 = this.pointers[0],\r\n            p1 = this.pointers[1];\r\n        return AngleBetween(p0.x, p0.y, p1.x, p1.y);\r\n    }\r\n\r\n    get drag1Vector() {\r\n        var pointer = this.pointers[0];\r\n        if (pointer && this.movedState[pointer.id]) {\r\n            var p1 = pointer.position;\r\n            var p0 = pointer.prevPosition;\r\n            tmpDragVector.x = p1.x - p0.x;\r\n            tmpDragVector.y = p1.y - p0.y;\r\n        } else {\r\n            tmpDragVector.x = 0;\r\n            tmpDragVector.y = 0;\r\n        }\r\n        return tmpDragVector;\r\n    }\r\n\r\n    get centerX() {\r\n        if (this.tracerState !== TOUCH2) {\r\n            return 0;\r\n        }\r\n        var p0 = this.pointers[0].position;\r\n        var p1 = this.pointers[1].position;\r\n        return (p0.x + p1.x) / 2;\r\n    }\r\n\r\n    get centerY() {\r\n        if (this.tracerState !== TOUCH2) {\r\n            return 0;\r\n        }\r\n        var p0 = this.pointers[0].position;\r\n        var p1 = this.pointers[1].position;\r\n        return (p0.y + p1.y) / 2;\r\n    }\r\n\r\n    get prevCenterX() {\r\n        if (this.tracerState !== TOUCH2) {\r\n            return 0;\r\n        }\r\n        var preP0 = (this.movedState[this.pointers[0].id]) ? this.pointers[0].prevPosition : this.pointers[0].position;\r\n        var preP1 = (this.movedState[this.pointers[1].id]) ? this.pointers[1].prevPosition : this.pointers[1].position;\r\n        return (preP0.x + preP1.x) / 2;\r\n    }\r\n\r\n    get prevCenterY() {\r\n        if (this.tracerState !== TOUCH2) {\r\n            return 0;\r\n        }\r\n        var preP0 = (this.movedState[this.pointers[0].id]) ? this.pointers[0].prevPosition : this.pointers[0].position;\r\n        var preP1 = (this.movedState[this.pointers[1].id]) ? this.pointers[1].prevPosition : this.pointers[1].position;\r\n        return (preP0.y + preP1.y) / 2;\r\n    }\r\n\r\n    get movementCenterX() {\r\n        return this.centerX - this.prevCenterX;\r\n    }\r\n\r\n    get movementCenterY() {\r\n        return this.centerY - this.prevCenterY;\r\n    }\r\n\r\n    setRecongizedStateObject(stateObject) {\r\n        this.recongizedState = stateObject;\r\n        return this;\r\n    }\r\n\r\n    get state() {\r\n        return this.recongizedState.state;\r\n    }\r\n\r\n    set state(newState) {\r\n        this.recongizedState.state = newState;\r\n    }\r\n\r\n    cancel() {\r\n        this.state = IDLE;\r\n        return this;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    TwoPointersTracer.prototype,\r\n    EventEmitterMethods\r\n);\r\n\r\nvar tmpDragVector = {};\r\n\r\nconst TOUCH0 = 0;\r\nconst TOUCH1 = 1;\r\nconst TOUCH2 = 2;\r\n\r\nconst IDLE = 'IDLE';\r\n\r\nexport default TwoPointersTracer;","import TwoPointersTracer from '../twopointerstracer/TwoPointersTracer.js';\r\nimport FSM from '../../../fsm.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Pinch extends TwoPointersTracer {\r\n    constructor(scene, config) {\r\n        super(scene, config);\r\n\r\n        var self = this;\r\n        var stateConfig = {\r\n            states: {\r\n                IDLE: {\r\n                    enter: function () {\r\n                        self.prevDistance = undefined;\r\n                        self.scaleFactor = 1;\r\n                    },\r\n                },\r\n                BEGIN: {\r\n                },\r\n                RECOGNIZED: {\r\n                    enter: function () {\r\n                        self.emit('pinchstart', self);\r\n                    },\r\n                    exit: function () {\r\n                        self.emit('pinchend', self);\r\n                    }\r\n                }\r\n            },\r\n            init: function () {\r\n                this.state = IDLE;\r\n            },\r\n            eventEmitter: false,\r\n        }\r\n        this.setRecongizedStateObject(new FSM(stateConfig));\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        super.resetFromJSON(o);\r\n        this.setDragThreshold(GetValue(o, 'threshold', 0));\r\n        return this;\r\n    }\r\n\r\n    onDrag2Start() {\r\n        this.scaleFactor = 1;\r\n        this.prevDistance = this.distanceBetween;\r\n        this.state = BEGIN;\r\n        if (this.dragThreshold === 0) {\r\n            this.state = RECOGNIZED;\r\n        }\r\n    }\r\n\r\n    onDrag2End() {\r\n        this.state = IDLE;\r\n    }\r\n\r\n    onDrag2() {\r\n        switch (this.state) {\r\n            case BEGIN:\r\n                if ((this.pointers[0].getDistance() >= this.dragThreshold) &&\r\n                    (this.pointers[1].getDistance() >= this.dragThreshold)) {\r\n                    var curDistance = this.distanceBetween;\r\n                    this.scaleFactor = curDistance / this.prevDistance;\r\n                    this.prevDistance = curDistance;\r\n                    this.state = RECOGNIZED;\r\n                }\r\n                break;\r\n            case RECOGNIZED:\r\n                var curDistance = this.distanceBetween;\r\n                this.scaleFactor = curDistance / this.prevDistance;\r\n                this.emit('pinch', this);\r\n                this.prevDistance = curDistance;\r\n                break;\r\n        }\r\n    }\r\n\r\n    get isPinched() {\r\n        return (this.state === RECOGNIZED);\r\n    }\r\n\r\n    setDragThreshold(distance) {\r\n        this.dragThreshold = distance;\r\n        return this;\r\n    }\r\n}\r\n\r\nconst IDLE = 'IDLE';\r\nconst BEGIN = 'BEGIN';\r\nconst RECOGNIZED = 'RECOGNIZED';\r\n\r\nexport default Pinch;","const RotateAround = Phaser.Math.RotateAround;\r\n\r\nvar RotateObjectAround = function (gameObject, x, y, angle) {\r\n    RotateAround(gameObject, x, y, angle);\r\n    gameObject.rotation += angle;\r\n    return gameObject;\r\n}\r\n\r\nexport default RotateObjectAround;","var ScreenXYToWorldXY = function (screenX, screenY, camera, out) {\r\n    if (out === undefined) {\r\n        out = {};\r\n    } else if (out === true) {\r\n        out = globalOut;\r\n    }\r\n\r\n    camera.getWorldPoint(screenX, screenY, out);\r\n    return out;\r\n}\r\n\r\nvar globalOut = {};\r\n\r\nexport default ScreenXYToWorldXY;","import RotateObjectAround from '../../../utils/actions/RotateObjectAround.js';\r\nimport ScreenXYToWorldXY from '../../../utils/position/ScreenXYToWorldXY.js';\r\n\r\nvar SpinObject = function (gameObject, camera) {\r\n    if (!this.isRotation) {\r\n        return this;\r\n    }\r\n\r\n    if (camera === undefined) {\r\n        camera = this.pointers[0].camera;\r\n    }\r\n\r\n    var movementX = this.movementCenterX,\r\n        movementY = this.movementCenterY;\r\n\r\n    var worldXY = ScreenXYToWorldXY(this.centerX, this.centerY, camera, true);\r\n    var centerWorldX = worldXY.x;\r\n    var centerWorldY = worldXY.y;\r\n\r\n    var angle = this.rotation;\r\n    if (Array.isArray(gameObject)) {\r\n        var gameObjects = gameObject;\r\n        for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n            gameObject = gameObjects[i];\r\n            gameObject.x += movementX;\r\n            gameObject.y += movementY;\r\n            RotateObjectAround(gameObject, centerWorldX, centerWorldY, angle);\r\n        }\r\n    } else {\r\n        gameObject.x += movementX;\r\n        gameObject.y += movementY;\r\n        RotateObjectAround(gameObject, centerWorldX, centerWorldY, angle);\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default SpinObject;","import TwoPointersTracer from '../twopointerstracer/TwoPointersTracer.js';\r\nimport FSM from '../../../fsm.js';\r\nimport SpinObject from './SpinObject.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst WrapDegrees = Phaser.Math.Angle.WrapDegrees; // Wrap degrees: -180 to 180 \r\nconst ShortestBetween = Phaser.Math.Angle.ShortestBetween;\r\nconst RadToDeg = Phaser.Math.RadToDeg;\r\nconst DegToRad = Phaser.Math.DegToRad;\r\n\r\nclass Rotate extends TwoPointersTracer {\r\n    constructor(scene, config) {\r\n        super(scene, config);\r\n\r\n        var self = this;\r\n        var stateConfig = {\r\n            states: {\r\n                IDLE: {\r\n                    enter: function () {\r\n                        self.prevAngle = undefined;\r\n                        self.angle = 0;\r\n                    },\r\n                },\r\n                BEGIN: {\r\n                },\r\n                RECOGNIZED: {\r\n                    enter: function () {\r\n                        self.emit('rotatestart', self);\r\n                    },\r\n                    exit: function () {\r\n                        self.emit('rotateend', self);\r\n                    }\r\n                }\r\n            },\r\n            init: function () {\r\n                this.state = IDLE;\r\n            },\r\n            eventEmitter: false,\r\n        }\r\n        this.setRecongizedStateObject(new FSM(stateConfig));\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        super.resetFromJSON(o);\r\n        this.setDragThreshold(GetValue(o, 'threshold', 0));\r\n        return this;\r\n    }\r\n\r\n    onDrag2Start() {\r\n        this.prevAngle = WrapDegrees(RadToDeg(this.angleBetween)); // Degrees\r\n        this.state = BEGIN;\r\n        if (this.dragThreshold === 0) {\r\n            this.state = RECOGNIZED;\r\n        }\r\n    }\r\n\r\n    onDrag2End() {\r\n        this.state = IDLE;\r\n    }\r\n\r\n    onDrag2() {\r\n        switch (this.state) {\r\n            case BEGIN:\r\n                if ((this.pointers[0].getDistance() >= this.dragThreshold) &&\r\n                    (this.pointers[1].getDistance() >= this.dragThreshold)) {\r\n                    var curAngle = WrapDegrees(RadToDeg(this.angleBetween));\r\n                    this.angle = ShortestBetween(this.prevAngle, curAngle);\r\n                    this.prevAngle = curAngle;\r\n                    this.state = RECOGNIZED;\r\n                }\r\n                break;\r\n            case RECOGNIZED:\r\n                var curAngle = WrapDegrees(RadToDeg(this.angleBetween));\r\n                this.angle = ShortestBetween(this.prevAngle, curAngle);\r\n                this.prevAngle = curAngle;\r\n                this.emit('rotate', this);\r\n                break;\r\n        }\r\n    }\r\n\r\n    get isRotated() {\r\n        return (this.state === RECOGNIZED);\r\n    }\r\n\r\n    get rotation() {\r\n        return DegToRad(this.angle);\r\n    }\r\n\r\n    setDragThreshold(distance) {\r\n        this.dragThreshold = distance;\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nvar methods = {\r\n    spinObject: SpinObject,\r\n};\r\nObject.assign(\r\n    Rotate.prototype,\r\n    methods\r\n);\r\n\r\n\r\nconst IDLE = 'IDLE';\r\nconst BEGIN = 'BEGIN';\r\nconst RECOGNIZED = 'RECOGNIZED';\r\n\r\nexport default Rotate;","import Tap from '../../tap/Tap.js';\r\nimport EmitChildEvent from './EmitChildEvent.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar TapChild = function (config) {\r\n    var tapConfig = GetValue(config, 'tap', undefined);\r\n    if (tapConfig === false) {\r\n        return;\r\n    }\r\n\r\n    var childrenInteractive = this._childrenInteractive;\r\n    this._tap = new Tap(this, tapConfig);\r\n    this._tap\r\n        .on('tap', function (tap, gameObject, lastPointer) {\r\n            EmitChildEvent(\r\n                childrenInteractive.eventEmitter,\r\n                `${childrenInteractive.eventNamePrefix}${tap.tapsCount}tap`,\r\n                childrenInteractive.targetSizers,\r\n                tap.worldX, tap.worldY,\r\n                lastPointer\r\n            );\r\n        }, this)\r\n};\r\n\r\nexport default TapChild;","import Press from '../../press/Press.js';\r\nimport EmitChildEvent from './EmitChildEvent.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar PressChild = function (config) {\r\n    var pressConfig = GetValue(config, 'press', undefined);\r\n    if (pressConfig === false) {\r\n        return;\r\n    }\r\n\r\n    var childrenInteractive = this._childrenInteractive;\r\n    this._press = new Press(this, pressConfig);\r\n    this._press\r\n        .on('pressstart', function (press, gameObject, lastPointer) {\r\n            EmitChildEvent(\r\n                childrenInteractive.eventEmitter,\r\n                `${childrenInteractive.eventNamePrefix}pressstart`,\r\n                childrenInteractive.targetSizers,\r\n                press.worldX, press.worldY,\r\n                lastPointer\r\n            );\r\n        }, this)\r\n        .on('pressend', function (press, gameObject, lastPointer) {\r\n            EmitChildEvent(\r\n                childrenInteractive.eventEmitter,\r\n                `${childrenInteractive.eventNamePrefix}pressend`,\r\n                childrenInteractive.targetSizers,\r\n                press.worldX, press.worldY,\r\n                lastPointer\r\n            );\r\n        }, this)\r\n};\r\n\r\nexport default PressChild;","import Swipe from '../../swipe/Swipe.js';\r\nimport EmitChildEvent from './EmitChildEvent.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar SwipeChild = function (config) {\r\n    var swipeConfig = GetValue(config, 'swipe', undefined);\r\n    if (swipeConfig === false) {\r\n        return;\r\n    }\r\n\r\n    if (swipeConfig === undefined) {\r\n        swipeConfig = {};\r\n    }\r\n    if (!swipeConfig.hasOwnProperty('dir')) {\r\n        swipeConfig.dir = '4dir';\r\n    }\r\n\r\n    var childrenInteractive = this._childrenInteractive;\r\n    this._swipe = new Swipe(this, swipeConfig);\r\n    this._swipe\r\n        .on('swipe', function (swipe, gameObject, lastPointer) {\r\n            var dirName =\r\n                (swipe.left) ? 'left' :\r\n                    (swipe.right) ? 'right' :\r\n                        (swipe.up) ? 'up' :\r\n                            'down';\r\n            EmitChildEvent(\r\n                childrenInteractive.eventEmitter,\r\n                `${childrenInteractive.eventNamePrefix}swipe${dirName}`,\r\n                childrenInteractive.targetSizers,\r\n                swipe.worldX, swipe.worldY,\r\n                lastPointer\r\n            );\r\n        }, this)\r\n};\r\n\r\nexport default SwipeChild;","import ClickChild from './ClickChild.js';\r\nimport OverChild from './OverChild.js';\r\nimport TapChild from './TapChild.js';\r\nimport PressChild from './PressChild.js';\r\nimport SwipeChild from './SwipeChild.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar SetChildrenInteractive = function (gameObject, config) {\r\n    gameObject.setInteractive();\r\n\r\n    gameObject._childrenInteractive = {\r\n        targetSizers: GetValue(config, 'targets', [gameObject]),\r\n        eventEmitter: GetValue(config, 'eventEmitter', gameObject),\r\n        eventNamePrefix: GetValue(config, 'inputEventPrefix', 'child.')\r\n    }\r\n\r\n    ClickChild.call(gameObject, config);\r\n    OverChild.call(gameObject, config);\r\n    TapChild.call(gameObject, config);\r\n    PressChild.call(gameObject, config);\r\n    SwipeChild.call(gameObject, config);\r\n\r\n    return gameObject;\r\n}\r\n\r\nexport default SetChildrenInteractive;","import SetChildrenInteractive from '../utils/setchildreninteractive/SetChildrenInteractive.js';\r\n\r\nvar SetChildrenInteractiveWrap = function (config) {    \r\n    SetChildrenInteractive(this, config);\r\n    return this;\r\n}\r\n\r\nexport default SetChildrenInteractiveWrap;","var BroadcastEvent = function () {\r\n    var gameObjects = this.getAllChildren([this]);\r\n    for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n        var gameObject = gameObjects[i];\r\n        gameObject.emit.apply(gameObject, arguments);\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default BroadcastEvent;","import GetSizerConfig from '../utils/GetSizerConfig.js';\r\nimport GetChildPrevState from '../utils/GetChildPrevState.js';\r\nimport PushIntoBounds from './PushIntoBounds.js';\r\nimport DrawBounds from './DrawBounds.js';\r\nimport AddChildMethods from './AddChildMethods.js';\r\nimport RemoveChildMethods from './RemoveChildMethods.js';\r\nimport AddChildrenMap from './AddChildrenMap.js';\r\nimport RemoveChildrenMap from './RemoveChildrenMap.js';\r\nimport GetElement from './GetElement.js';\r\nimport PaddingMethods from './PaddingMethods.js';\r\nimport ResolveWidth from './ResolveWidth.js';\r\nimport ResolveChildrenWidth from './ResolveChildrenWidth.js';\r\nimport ResolveHeight from './ResolveHeight.js';\r\nimport GetChildWidth from './GetChildWidth.js';\r\nimport GetChildHeight from './GetChildHeight.js';\r\nimport GetExpandedChildWidth from './GetExpandedChildWidth.js';\r\nimport GetExpandedChildHeight from './GetExpandedChildHeight.js';\r\nimport GetChildrenWidth from './GetChildrenWidth.js';\r\nimport GetChildrenHeight from './GetChildrenHeight.js';\r\nimport GetAllChildrenSizers from './GetAllChildrenSizers.js';\r\nimport GetChildrenSizers from './GetChildrenSizers.js';\r\nimport GetShownChildrenMethods from './GetShownChildrenMethods.js';\r\nimport PreLayout from './PreLayout.js';\r\nimport Layout from './Layout.js';\r\nimport RunLayout from './RunLayout.js';\r\nimport LayoutChildren from './LayoutChildren.js';\r\nimport PostLayout from './PostLayout.js';\r\nimport RunWidthWrap from './RunWidthWrap.js';\r\n\r\nimport SetAnchor from './SetAnchor.js';\r\nimport ScaleMethods from './ScaleMethods.js';\r\nimport FadeMethods from './FadeMethods.js';\r\nimport EaseMoveMethods from './EaseMoveMethods.js';\r\nimport ShakeMethods from './ShakeMethods.js';\r\nimport EaseDataMethods from './EaseDataMethods.js';\r\nimport HideMethods from './HideMethods.js';\r\nimport IsInTouching from './IsInTouching.js';\r\nimport PointToChild from './PointToChild.js';\r\nimport GetParentSizerMethods from './GetParentSizerMethods.js';\r\nimport LayoutBackgrounds from './LayoutBackgrounds.js';\r\nimport SetDraggable from './SetDraggable.js';\r\nimport ClickMethods from './ClickMethods.js';\r\nimport ClickOutsideMethods from './ClickOutsideMethods.js';\r\nimport TouchingMethods from './TouchingMethods.js';\r\nimport SetChildrenInteractive from './SetChildrenInteractive.js';\r\nimport BroadcastEvent from './BroadcastEvent.js';\r\n\r\nvar methods = {\r\n    getSizerConfig: GetSizerConfig,\r\n    getChildPrevState: GetChildPrevState,\r\n    pushIntoBounds: PushIntoBounds,\r\n    drawBounds: DrawBounds,\r\n    resolveWidth: ResolveWidth,\r\n    resolveChildrenWidth: ResolveChildrenWidth,\r\n    resolveHeight: ResolveHeight,\r\n    getChildWidth: GetChildWidth,\r\n    getChildHeight: GetChildHeight,\r\n    getExpandedChildWidth: GetExpandedChildWidth,\r\n    getExpandedChildHeight: GetExpandedChildHeight,\r\n\r\n    getChildrenWidth: GetChildrenWidth,\r\n    getChildrenHeight: GetChildrenHeight,\r\n    addChildrenMap: AddChildrenMap,\r\n    addElement: AddChildrenMap,\r\n    removeChildrenMap: RemoveChildrenMap,\r\n    getElement: GetElement,\r\n    getAllChildrenSizers: GetAllChildrenSizers,\r\n    getChildrenSizers: GetChildrenSizers,\r\n    preLayout: PreLayout,\r\n    layout: Layout,\r\n    runLayout: RunLayout,\r\n    layoutChildren: LayoutChildren,\r\n    runWidthWrap: RunWidthWrap,\r\n    layoutBackgrounds: LayoutBackgrounds,\r\n    postLayout: PostLayout,\r\n\r\n    setAnchor: SetAnchor,\r\n    isInTouching: IsInTouching,\r\n    pointToChild: PointToChild,\r\n    setDraggable: SetDraggable,\r\n    setChildrenInteractive: SetChildrenInteractive,\r\n    broadcastEvent: BroadcastEvent,\r\n\r\n};\r\n\r\nObject.assign(\r\n    methods,\r\n    PaddingMethods,\r\n    AddChildMethods,\r\n    RemoveChildMethods,\r\n    GetParentSizerMethods,\r\n    ScaleMethods,\r\n    FadeMethods,\r\n    EaseMoveMethods,\r\n    ShakeMethods,\r\n    EaseDataMethods,\r\n    ClickMethods,\r\n    ClickOutsideMethods,\r\n    TouchingMethods,\r\n    HideMethods,\r\n    GetShownChildrenMethods,\r\n);\r\n\r\nexport default methods;","import Container from '../container/Container.js';\r\nimport Methods from './Methods.js';\r\nimport { GetDisplayWidth, GetDisplayHeight } from '../../../plugins/utils/size/GetDisplaySize.js';\r\nimport Clear from '../../../plugins/utils/object/Clear.js'\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Base extends Container {\r\n    constructor(scene, x, y, minWidth, minHeight, config) {\r\n        super(scene, x, y, 2, 2);\r\n\r\n        this.isRexSizer = true;\r\n        this.setMinSize(minWidth, minHeight);\r\n        this.setName(GetValue(config, 'name', ''));\r\n        this.rexSizer = {};\r\n        this.space = {};\r\n        this.backgroundChildren = undefined;\r\n        this.sizerChildren = undefined; // [] or {}\r\n        this.layoutedChildren = undefined;\r\n\r\n        var anchorConfig = GetValue(config, 'anchor', undefined);\r\n        if (anchorConfig) {\r\n            this.setAnchor(anchorConfig);\r\n        }\r\n\r\n        this.setInnerPadding(GetValue(config, 'space', 0));\r\n        this.setDraggable(GetValue(config, 'draggable', false));\r\n        this.setSizerEventsEnable(GetValue(config, 'sizerEvents', false));\r\n        this.setDirty(true);\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        if (fromScene) {\r\n            // In this case, children will be cleared and destroy in scene level\r\n            var sizers = this.getAllChildrenSizers([this]);\r\n            for (var i = 0, cnt = sizers.length; i < cnt; i++) {\r\n                sizers[i].sizerEventsEnable = false;\r\n            }\r\n        }\r\n\r\n        super.destroy(fromScene);\r\n\r\n        Clear(this.backgroundChildren);\r\n        Clear(this.sizerChildren);\r\n        this.childrenMap = undefined;\r\n        this.space = undefined;\r\n        this.rexSizer = undefined;\r\n        this.layoutedChildren = undefined;\r\n    }\r\n\r\n    setMinSize(minWidth, minHeight) {\r\n        this.setMinWidth(minWidth).setMinHeight(minHeight);\r\n        return this;\r\n    }\r\n\r\n    setMinWidth(minWidth) {\r\n        if (minWidth == null) {\r\n            minWidth = 0;\r\n        }\r\n        this.minWidth = minWidth;\r\n        return this;\r\n    }\r\n\r\n    setMinHeight(minHeight) {\r\n        if (minHeight == null) {\r\n            minHeight = 0;\r\n        }\r\n        this.minHeight = minHeight;\r\n        return this;\r\n    }\r\n\r\n    setDirty(dirty) {\r\n        if (dirty === undefined) {\r\n            dirty = true;\r\n        }\r\n        this.dirty = dirty;\r\n        return this;\r\n    }\r\n\r\n    setSizerEventsEnable(enable) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n\r\n        this.sizerEventsEnable = enable;\r\n        return this;\r\n    }\r\n\r\n    get ignoreLayout() {\r\n        // Skip hidden or !dirty sizer\r\n        return this.rexSizer.hidden || (!this.dirty);\r\n    }\r\n\r\n    get childrenWidth() {\r\n        if (this._childrenWidth === undefined) {\r\n            this._childrenWidth = this.getChildrenWidth();\r\n        }\r\n        return this._childrenWidth;\r\n    }\r\n\r\n    get childrenHeight() {\r\n        if (this._childrenHeight === undefined) {\r\n            this._childrenHeight = this.getChildrenHeight();\r\n        }\r\n        return this._childrenHeight;\r\n    }\r\n\r\n    get left() {\r\n        return this.x - (GetDisplayWidth(this) * this.originX);\r\n    }\r\n\r\n    set left(value) {\r\n        this.x += (value - this.left);\r\n    }\r\n\r\n    alignLeft(value) {\r\n        this.left = value;\r\n        return this;\r\n    }\r\n\r\n    get right() {\r\n        return this.left + GetDisplayWidth(this);\r\n    }\r\n\r\n    set right(value) {\r\n        this.x += (value - this.right);\r\n    }\r\n\r\n    alignRight(value) {\r\n        this.right = value;\r\n        return this;\r\n    }\r\n\r\n    get centerX() {\r\n        return this.left + (GetDisplayWidth(this) / 2);\r\n    }\r\n\r\n    set centerX(value) {\r\n        this.x += (value - this.centerX);\r\n    }\r\n\r\n    alignCenterX(value) {\r\n        this.centerX = value;\r\n        return this;\r\n    }\r\n\r\n    get top() {\r\n        return this.y - (GetDisplayHeight(this) * this.originY);\r\n    }\r\n\r\n    set top(value) {\r\n        this.y += (value - this.top);\r\n    }\r\n\r\n    alignTop(value) {\r\n        this.top = value;\r\n        return this;\r\n    }\r\n\r\n    get bottom() {\r\n        return this.top + GetDisplayHeight(this);\r\n    }\r\n\r\n    set bottom(value) {\r\n        this.y += (value - this.bottom);\r\n    }\r\n\r\n    alignBottom(value) {\r\n        this.bottom = value;\r\n        return this;\r\n    }\r\n\r\n    get centerY() {\r\n        return this.top + (GetDisplayHeight(this) / 2);\r\n    }\r\n\r\n    set centerY(value) {\r\n        this.y += (value - this.centerY);\r\n    }\r\n\r\n    alignCenterY(value) {\r\n        this.centerY = value;\r\n        return this;\r\n    }\r\n\r\n    get innerLeft() {\r\n        return this.left + this.space.left;\r\n    }\r\n\r\n    get innerRight() {\r\n        return this.right - this.space.right;\r\n    }\r\n\r\n    get innerTop() {\r\n        return this.top + this.space.top;\r\n    }\r\n\r\n    get innerBottom() {\r\n        return this.bottom - this.space.bottom;\r\n    }\r\n\r\n    get innerWidth() {\r\n        return this.width - this.space.left - this.space.right;\r\n    }\r\n\r\n    get innerHeight() {\r\n        return this.height - this.space.top - this.space.bottom;\r\n    }\r\n\r\n    get minInnerWidth() {\r\n        var result = this.minWidth - this.space.left - this.space.right;\r\n        return Math.max(result, 0);\r\n    }\r\n\r\n    get minInnerHeight() {\r\n        var result = this.minHeight - this.space.top - this.space.bottom;\r\n        return Math.max(result, 0);\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    Base.prototype,\r\n    Methods\r\n);\r\n\r\nexport default Base;","var GetChildrenWidth = function () {\r\n    if (this.rexSizer.hidden) {\r\n        return 0;\r\n    }\r\n\r\n    var result = 0;\r\n    var children = this.sizerChildren;\r\n    var child, padding, childWidth;\r\n    for (var key in children) {\r\n        child = children[key];\r\n\r\n        padding = child.rexSizer.padding;\r\n        childWidth = this.getChildWidth(child) + padding.left + padding.right;\r\n        result = Math.max(childWidth, result);\r\n    }\r\n    return result + this.space.left + this.space.right;\r\n}\r\n\r\nexport default GetChildrenWidth;","import { GetDisplayHeight } from '../../../plugins/utils/size/GetDisplaySize.js';\r\n\r\nvar GetChildrenHeight = function () {\r\n    if (this.rexSizer.hidden) {\r\n        return 0;\r\n    }\r\n\r\n    var result = 0;\r\n    var children = this.sizerChildren;\r\n    var child, padding, childHeight;\r\n    for (var key in children) {\r\n        child = children[key];\r\n        childHeight = (child.isRexSizer) ?\r\n            Math.max(child.minHeight, child.childrenHeight) :\r\n            (child.minHeight !== undefined) ? child.minHeight : GetDisplayHeight(child);\r\n\r\n        padding = child.rexSizer.padding;\r\n        childHeight += (padding.top + padding.bottom);\r\n        result = Math.max(childHeight, result);\r\n    }\r\n    return result + this.space.top + this.space.bottom;\r\n}\r\n\r\nexport default GetChildrenHeight;","var GetExpandedChildWidth = function (child, parentWidth) {\r\n    if (parentWidth === undefined) {\r\n        parentWidth = this.width;\r\n    }\r\n\r\n    var childWidth;\r\n    var childConfig = child.rexSizer;    \r\n    if (childConfig.expandWidth) {        \r\n        var innerWidth = parentWidth - this.space.left - this.space.right;\r\n        var padding = childConfig.padding;\r\n        childWidth = innerWidth - padding.left - padding.right;\r\n    }\r\n    return childWidth;\r\n}\r\n\r\nexport default GetExpandedChildWidth;","var GetExpandedChildHeight = function (child, parentHeight) {\r\n    if (parentHeight === undefined) {\r\n        parentHeight = this.height;\r\n    }\r\n\r\n    var childHeight;\r\n    var childConfig = child.rexSizer;\r\n    if (childConfig.expandHeight) {\r\n        var innerHeight = parentHeight - this.space.top - this.space.bottom;\r\n        var padding = childConfig.padding;\r\n        childHeight = innerHeight - padding.top - padding.bottom;\r\n    }\r\n    return childHeight;\r\n}\r\n\r\nexport default GetExpandedChildHeight;","var GetChildrenSizers = function (out) {\r\n    if (out === undefined) {\r\n        out = [];\r\n    }\r\n    var children = this.sizerChildren,\r\n        child;\r\n    for (var key in children) {\r\n        child = children[key];\r\n        if (child.isRexSizer) {\r\n            out.push(child);\r\n        }\r\n    }\r\n    return out;\r\n}\r\nexport default GetChildrenSizers;","var CheckSize = function (child, parent) {\r\n    if (child.width < child.childrenWidth) {\r\n        // Warning\r\n        console.warn(`Layout width error: Parent=${parent.constructor.name}, Child=${child.constructor.name}`);\r\n    }\r\n    if (child.height < child.childrenHeight) {\r\n        // Warning\r\n        console.warn(`Layout height error: Parent=${parent.constructor.name}, Child=${child.constructor.name}`);\r\n    }\r\n}\r\n\r\nexport default CheckSize;","import ResizeGameObject from '../../../plugins/utils/size/ResizeGameObject.js';\r\nimport PreLayoutChild from '../basesizer/utils/PreLayoutChild.js';\r\nimport LayoutChild from '../basesizer/utils/LayoutChild.js';\r\nimport CheckSize from '../basesizer/utils/CheckSize.js';\r\n\r\nvar LayoutChildren = function () {\r\n    var child, childConfig, padding;\r\n    var startX = this.innerLeft,\r\n        startY = this.innerTop;\r\n    var innerWidth = this.innerWidth,\r\n        innerHeight = this.innerHeight;\r\n    var x, y, width, height; // Align zone\r\n    var childWidth, childHeight;\r\n    // Layout current page\r\n    var children = this.sizerChildren;\r\n    for (var key in children) {\r\n        child = children[key];\r\n        if (child.rexSizer.hidden) {\r\n            continue;\r\n        }\r\n\r\n        childConfig = child.rexSizer;\r\n        padding = childConfig.padding;\r\n\r\n        PreLayoutChild.call(this, child);\r\n\r\n        // Set size\r\n        if (child.isRexSizer) {\r\n            child.runLayout(\r\n                this,\r\n                this.getExpandedChildWidth(child),\r\n                this.getExpandedChildHeight(child)\r\n            );\r\n            CheckSize(child, this);\r\n        } else {\r\n            childWidth = undefined;\r\n            childHeight = undefined;\r\n            if (childConfig.expandWidth) { // Expand width\r\n                childWidth = innerWidth - padding.left - padding.right;\r\n            }\r\n            if (childConfig.expandHeight) { // Expand height\r\n                childHeight = innerHeight - padding.top - padding.bottom;\r\n            }\r\n            ResizeGameObject(child, childWidth, childHeight);\r\n        }\r\n\r\n        // Set position\r\n        x = (startX + padding.left);\r\n        width = innerWidth - padding.left - padding.right;\r\n        y = (startY + padding.top);\r\n        height = innerHeight - padding.top - padding.bottom;\r\n\r\n        LayoutChild.call(this,\r\n            child, x, y, width, height, childConfig.align,\r\n            childConfig.alignOffsetX, childConfig.alignOffsetY\r\n        );\r\n    }\r\n}\r\n\r\nexport default LayoutChildren;","import AddChild from '../basesizer/utils/AddChild.js';\r\nimport ALIGNMODE from '../utils/AlignConst.js';\r\nimport GetBoundsConfig from '../utils/GetBoundsConfig.js';\r\nimport { GetDisplayWidth, GetDisplayHeight } from '../../../plugins/utils/size/GetDisplaySize.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst ALIGN_CENTER = Phaser.Display.Align.CENTER;\r\nconst UUID = Phaser.Utils.String.UUID;\r\n\r\nvar Add = function (gameObject, childKey, align, padding, expand, minWidth, minHeight, offsetX, offsetY) {\r\n    AddChild.call(this, gameObject);\r\n\r\n    if (IsPlainObject(childKey)) {\r\n        var config = childKey;\r\n        childKey = GetValue(config, 'key', undefined);\r\n        align = GetValue(config, 'align', ALIGN_CENTER);\r\n        offsetX = GetValue(config, 'offsetX', 0);\r\n        offsetY = GetValue(config, 'offsetY', 0);\r\n        padding = GetValue(config, 'padding', 0);\r\n        expand = GetValue(config, 'expand', true);\r\n\r\n        if (!gameObject.isRexSizer) {\r\n            // Get minWidth,minHeight from config\r\n            minWidth = GetValue(config, 'minWidth', gameObject._minWidth);\r\n            minHeight = GetValue(config, 'minHeight', gameObject._minHeighted);\r\n        }\r\n    }\r\n\r\n    var hasValidKey = (childKey !== undefined);\r\n    if (!hasValidKey) {\r\n        childKey = UUID();\r\n    }\r\n\r\n    if (typeof (align) === 'string') {\r\n        align = ALIGNMODE[align];\r\n    }\r\n\r\n    if (align === undefined) {\r\n        align = ALIGN_CENTER;\r\n    }\r\n    if (offsetX === undefined) {\r\n        offsetX = 0;\r\n    }\r\n    if (offsetY === undefined) {\r\n        offsetY = 0;\r\n    }\r\n    if (padding === undefined) {\r\n        padding = 0;\r\n    }\r\n    if (expand === undefined) {\r\n        expand = true;\r\n    }\r\n    if (!gameObject.isRexSizer) {\r\n        // Get minWidth,minHeight from game object\r\n        if (minWidth === undefined) {\r\n            minWidth = gameObject._minWidth;\r\n        }\r\n        if (minHeight === undefined) {\r\n            minHeight = gameObject._minHeight;\r\n        }\r\n    }\r\n\r\n    var config = this.getSizerConfig(gameObject);\r\n    config.align = align;\r\n    config.alignOffsetX = offsetX;\r\n    config.alignOffsetY = offsetY;\r\n    config.padding = GetBoundsConfig(padding);\r\n\r\n    if (IsPlainObject(expand)) {\r\n        config.expandWidth = GetValue(expand, 'width', false);\r\n        config.expandHeight = GetValue(expand, 'height', false);\r\n    } else {\r\n        config.expandWidth = expand;\r\n        config.expandHeight = expand;\r\n    }\r\n\r\n    if (!gameObject.isRexSizer) {  // Expand normal game object\r\n        if (config.expandWidth) {\r\n            // minWidth is still undefined, uses current display width\r\n            gameObject.minWidth = (minWidth === undefined) ? GetDisplayWidth(gameObject) : minWidth;\r\n        }\r\n        if (config.expandHeight) {\r\n            // minHeight is still undefined, uses current display height\r\n            gameObject.minHeight = (minHeight === undefined) ? GetDisplayHeight(gameObject) : minHeight;\r\n        }\r\n    }\r\n\r\n    if (this.sizerChildren.hasOwnProperty(childKey)) {\r\n        this.sizerChildren[childKey].destroy();\r\n    }\r\n    this.sizerChildren[childKey] = gameObject;\r\n\r\n    if (hasValidKey) {\r\n        this.addChildrenMap(childKey, gameObject)\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default {\r\n    add: Add\r\n}","import Container from '../../container/Container.js';\r\n\r\nconst RemoveItem = Phaser.Utils.Array.Remove;\r\nconst ContainerRemove = Container.prototype.remove;\r\n\r\nvar RemoveChild = function (gameObject, destroyChild) {\r\n    if (this.isBackground(gameObject)) {\r\n        RemoveItem(this.backgroundChildren, gameObject);\r\n    }\r\n    ContainerRemove.call(this, gameObject, destroyChild);\r\n\r\n    if (!destroyChild && this.sizerEventsEnable) {\r\n        gameObject.emit('sizer.remove', gameObject, this);\r\n        this.emit('remove', gameObject, this);\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default RemoveChild;","import Container from '../../container/Container.js';\r\n\r\nconst ContainerClear = Container.prototype.clear;\r\n\r\nvar ClearChildren = function (destroyChild) {\r\n    if (this.backgroundChildren) {\r\n        this.backgroundChildren.length = 0;\r\n    }\r\n\r\n    var fireRemoveEvent = !destroyChild && this.sizerEventsEnable;\r\n    var children;\r\n    if (fireRemoveEvent) {\r\n        children = this.getChildren([]);\r\n    }\r\n\r\n    ContainerClear.call(this, destroyChild);\r\n\r\n    if (fireRemoveEvent) {\r\n        var gameObject;\r\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n            gameObject = children[i];\r\n            gameObject.emit('sizer.remove', gameObject, this);\r\n            this.emit('remove', gameObject, this);\r\n        }\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default ClearChildren;","import RemoveChild from '../basesizer/utils/RemoveChild.js';\r\nimport ClearChildren from '../basesizer/utils/ClearChildren.js';\r\n\r\nexport default {\r\n    remove(gameObject, destroyChild) {\r\n        var key;\r\n        if (typeof (gameObject) === 'string') {\r\n            key = gameObject;\r\n            gameObject = this.sizerChildren[key];\r\n            if (!gameObject) {\r\n                return this;\r\n            }\r\n        } else if (this.getParentSizer(gameObject) !== this) {\r\n            return this;\r\n        } else {\r\n            key = this.childToKey(gameObject);\r\n        }\r\n\r\n        if (key) {\r\n            delete this.sizerChildren[key];\r\n            if (this.childrenMap.hasOwnProperty(key)) {\r\n                delete this.childrenMap[key];\r\n            }\r\n        }\r\n        RemoveChild.call(this, gameObject, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    removeAll(destroyChild) {\r\n        for (var key in this.sizerChildren) {\r\n            this.remove(key, destroyChild);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    clear(destroyChild) {\r\n        for (var key in this.sizerChildren) {\r\n            delete this.sizerChildren[key];\r\n            if (this.childrenMap.hasOwnProperty(key)) {\r\n                delete this.childrenMap[key];\r\n            }\r\n        }\r\n        ClearChildren.call(this, destroyChild);\r\n        return this;\r\n    }\r\n}","import GetChildrenWidth from './GetChildrenWidth.js';\r\nimport GetChildrenHeight from './GetChildrenHeight.js';\r\nimport GetExpandedChildWidth from './GetExpandedChildWidth.js';\r\nimport GetExpandedChildHeight from './GetExpandedChildHeight.js';\r\nimport GetChildrenSizers from './GetChildrenSizers.js';\r\nimport LayoutChildren from './LayoutChildren.js';\r\nimport AddChildMethods from './AddChildMethods.js';\r\nimport RemoveChildMethods from './RemoveChildMethods.js';\r\n\r\nvar methods = {\r\n    getChildrenWidth: GetChildrenWidth,\r\n    getChildrenHeight: GetChildrenHeight,\r\n    getExpandedChildWidth: GetExpandedChildWidth,\r\n    getExpandedChildHeight: GetExpandedChildHeight,\r\n    getChildrenSizers: GetChildrenSizers,\r\n    layoutChildren: LayoutChildren,\r\n};\r\n\r\nObject.assign(\r\n    methods,\r\n    AddChildMethods,\r\n    RemoveChildMethods\r\n);\r\n\r\nexport default methods;","var IndexOf = function (obj, child) {\r\n    if (Array.isArray(obj)) {\r\n        return obj.indexOf(child);\r\n    } else {\r\n        for (var key in obj) {\r\n            if (obj[key] === child) {\r\n                return key;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default IndexOf;","import BaseSizer from '../basesizer/BaseSizer.js';\r\nimport Methods from './Methods.js';\r\nimport Clear from '../../../plugins/utils/object/Clear.js';\r\nimport IndexOf from '../../../plugins/utils/object/IndexOf.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass OverlapSizer extends BaseSizer {\r\n    constructor(scene, x, y, minWidth, minHeight, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            minWidth = GetValue(config, 'width', undefined);\r\n            minHeight = GetValue(config, 'height', undefined);\r\n        } else if (IsPlainObject(minWidth)) {\r\n            config = minWidth;\r\n            minWidth = GetValue(config, 'width', undefined);\r\n            minHeight = GetValue(config, 'height', undefined);\r\n        }\r\n\r\n        super(scene, x, y, minWidth, minHeight, config);\r\n\r\n        this.type = 'rexOverlapSizer';\r\n        this.sizerChildren = {};\r\n\r\n        this.addChildrenMap('items', this.sizerChildren);\r\n    }\r\n\r\n    childToKey(gameObject) {\r\n        if (typeof (gameObject) === 'string') {\r\n            var key = gameObject;\r\n            if (this.sizerChildren.hasOwnPropery(key)) {\r\n                return key;\r\n            }\r\n        } else {\r\n            return IndexOf(this.sizerChildren, gameObject);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    OverlapSizer.prototype,\r\n    Methods\r\n);\r\n\r\nexport default OverlapSizer;","var GetDistance = Phaser.Math.Distance.Between;\r\n\r\nvar IsLocalPointInKnob = function (knob, localX, localY) {\r\n    var centerX = knob.width / 2;\r\n    return GetDistance(centerX, centerX, localX, localY) <= centerX;\r\n}\r\n\r\nexport default IsLocalPointInKnob;","import IsLocalPointInKnob from './IsLocalPointInKnob.js';\r\n\r\nconst GetAngle = Phaser.Math.Angle.Between;\r\nconst NormalizeAngle = Phaser.Math.Angle.Normalize;\r\n\r\nvar OnTouchPad = function (pointer, localX, localY) {\r\n    if (!this.enable) {\r\n        return;\r\n    }\r\n    if (!pointer.isDown) {\r\n        return;\r\n    }\r\n    var knob = this.sizerChildren.knob;\r\n    if (!IsLocalPointInKnob(knob, localX, localY)) {\r\n        return;\r\n    }\r\n\r\n    var centerX = knob.width / 2;\r\n    var startAngle = knob.startAngle;\r\n    var endAngle = GetAngle(centerX, centerX, localX, localY);\r\n    var deltaAngle = (knob.anticlockwise) ? (startAngle - endAngle) : (endAngle - startAngle);\r\n    var value = NormalizeAngle(deltaAngle) / (2 * Math.PI);\r\n\r\n    this.stopEaseValue();\r\n    if ((this.easeValueDuration === 0) || (Math.abs(this.value - value) < 0.1)) {\r\n        this.value = value;\r\n    } else {\r\n        this.easeValueTo(value);\r\n    }\r\n}\r\n\r\nvar InstallEvents = function () {\r\n    var knob = this.sizerChildren.knob;\r\n    knob.setInteractive()\r\n        .on('pointerdown', OnTouchPad, this)\r\n        .on('pointermove', OnTouchPad, this);\r\n}\r\n\r\nexport default InstallEvents;","import IsLocalPointInKnob from './IsLocalPointInKnob.js';\r\n\r\nconst GetAngle = Phaser.Math.Angle.Between;\r\nconst WrapAngle = Phaser.Math.Angle.Wrap;\r\n\r\nvar OnPointerDown = function (pointer, localX, localY) {\r\n    if ((!this.enable) || (this.panPointer)) {\r\n        return;\r\n    }\r\n    var knob = this.sizerChildren.knob;\r\n    if (!IsLocalPointInKnob(knob, localX, localY)) {\r\n        return;\r\n    }\r\n\r\n    OnPanStart.call(this, pointer);\r\n}\r\n\r\nvar OnPointerMove = function (pointer, localX, localY) {\r\n    if (!this.enable) {\r\n        return;\r\n    }\r\n    if (!pointer.isDown) {\r\n        return;\r\n    }\r\n\r\n    var knob = this.sizerChildren.knob;\r\n    switch (this.panState) {\r\n        case TOUCH0:\r\n            if (IsLocalPointInKnob(knob, localX, localY)) {\r\n                OnPanStart.call(this, pointer);\r\n            }\r\n            break;\r\n\r\n        case TOUCH1:\r\n            if (IsLocalPointInKnob(knob, localX, localY)) {\r\n                OnPan.call(this);\r\n            } else {\r\n                OnPanEnd.call(this);\r\n            }\r\n            break;\r\n    }\r\n}\r\n\r\nvar OnPointerUp = function (pointer, localX, localY) {\r\n    if ((!this.enable) || (this.panPointer !== pointer)) {\r\n        return;\r\n    }\r\n\r\n    OnPanEnd.call(this);\r\n}\r\n\r\nvar OnPanStart = function (pointer) {\r\n    this.panPointer = pointer;\r\n    this.panState = TOUCH1;\r\n}\r\n\r\nvar OnPanEnd = function () {\r\n    this.panPointer = undefined;\r\n    this.panState = TOUCH0;\r\n}\r\n\r\nvar OnPan = function () {\r\n    var p0 = this.panPointer.prevPosition,\r\n        p1 = this.panPointer.position;\r\n    var knob = this.sizerChildren.knob;\r\n    var startAngle = GetAngle(knob.x, knob.y, p0.x, p0.y),\r\n        endAngle = GetAngle(knob.x, knob.y, p1.x, p1.y);\r\n    var deltaAngle = (knob.anticlockwise) ? (startAngle - endAngle) : (endAngle - startAngle);\r\n    var deltaValue = WrapAngle(deltaAngle) / (Math.PI * 2);\r\n\r\n    this.stopEaseValue();\r\n    this.value += deltaValue;\r\n}\r\n\r\nconst TOUCH0 = 0;\r\nconst TOUCH1 = 1;\r\n\r\nvar InstallEvents = function () {\r\n    var knob = this.sizerChildren.knob;\r\n    knob.setInteractive()\r\n        .on('pointerdown', OnPointerDown, this)\r\n        .on('pointermove', OnPointerMove, this)\r\n        .on('pointerup', OnPointerUp, this);\r\n\r\n    this.panPointer = undefined;\r\n    this.panState = TOUCH0;\r\n}\r\n\r\nexport default InstallEvents;","var SetTextFormatCallback = function (callback, scope) {\r\n    this.textFormatCallback = callback;\r\n    this.textFormatCallbackScope = scope;\r\n    return this;\r\n}\r\n\r\nvar GetFormatText = function (value) {\r\n    if (value === undefined) {\r\n        value = this.value;\r\n    }\r\n\r\n    var text;\r\n    if (this.textFormatCallbackScope) {\r\n        text = this.textFormatCallback(value);\r\n    } else {\r\n        text = this.textFormatCallback.call(this.textFormatCallbackScope, value);\r\n    }\r\n    return text;\r\n}\r\n\r\nvar UpdateText = function () {\r\n    var textObject = this.sizerChildren.text;\r\n    if (textObject && this.textFormatCallback) {\r\n        textObject.setText(GetFormatText.call(this));\r\n        if (textObject.layout) {\r\n            textObject.layout();\r\n        }\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default {\r\n    setTextFormatCallback: SetTextFormatCallback,\r\n    getFormatText: GetFormatText,\r\n    updateText: UpdateText\r\n}","import OverlapSizer from '../overlapsizer/OverlapSizer.js';\r\nimport CircularProgress from '../circularprogress/CircularProgress.js';\r\nimport InstallTouchPadEvents from './input/OnTouchPad.js';\r\nimport InstallPanPadEvents from './input/OnPanPad.js';\r\nimport TextObjectMethods from './TextObjectMethods.js';\r\nimport EaseValueMethods from '../../../plugins/utils/ease/EaseValueMethods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst Linear = Phaser.Math.Linear;\r\nconst Percent = Phaser.Math.Percent;\r\nconst SnapTo = Phaser.Math.Snap.To;\r\n\r\nclass Knob extends OverlapSizer {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        // Create sizer\r\n        super(scene, config);\r\n        this.type = 'rexKnob';\r\n        this.eventEmitter = GetValue(config, 'eventEmitter', this);\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        var textObject = GetValue(config, 'text', undefined);\r\n\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n        // Get text object\r\n        if (textObject) {\r\n            // Don't draw text on knob directly\r\n            config.textColor = undefined;\r\n            config.textStrokeColor = undefined;\r\n            this.setTextFormatCallback(\r\n                GetValue(config, 'textFormatCallback', undefined),\r\n                GetValue(config, 'textFormatCallbackScope', undefined)\r\n            );\r\n        }\r\n        // Create circular progress object\r\n        var knob = new CircularProgress(scene, config);\r\n        knob.setDepth(GetValue(config, 'knobDepth', 0));\r\n        knob._value = -1; // To trigger text updating\r\n        scene.add.existing(knob);\r\n\r\n        this.add(knob, 'knob');\r\n        if (textObject) {\r\n            this.add(textObject, 'text', 'center', 0, false);\r\n            scene.children.moveBelow(knob, textObject); // Move knob below textObject\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('knob', knob);\r\n        this.addChildrenMap('text', textObject);\r\n\r\n        var callback = GetValue(config, 'valuechangeCallback', null);\r\n        if (callback !== null) {\r\n            var scope = GetValue(config, 'valuechangeCallbackScope', undefined);\r\n            this.eventEmitter.on('valuechange', callback, scope);\r\n        }\r\n        this.setEnable(GetValue(config, 'enable', undefined));\r\n\r\n        this\r\n            .setEaseValuePropName('value')\r\n            .setEaseValueDuration(GetValue(config, 'easeValue.duration', 0))\r\n            .setEaseValueFunction(GetValue(config, 'easeValue.ease', 'Linear'))\r\n\r\n        this.setGap(GetValue(config, 'gap', undefined));\r\n        this.setValue(GetValue(config, 'value', 0), GetValue(config, 'min', undefined), GetValue(config, 'max', undefined));\r\n\r\n        // Input\r\n        var inputMode = GetValue(config, 'input', 0);\r\n        if (typeof (inputMode) === 'string') {\r\n            inputMode = INPUTMODE[inputMode];\r\n        }\r\n        switch (inputMode) {\r\n            case 0: // 'pan'\r\n                InstallPanPadEvents.call(this);\r\n                break;\r\n            case 1: // 'click'\r\n                InstallTouchPadEvents.call(this);\r\n                break;\r\n        }\r\n    }\r\n\r\n    setEnable(enable) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n        this.enable = enable;\r\n        return this;\r\n    }\r\n\r\n    setGap(gap) {\r\n        this.gap = gap;\r\n        return this;\r\n    }\r\n\r\n    get value() {\r\n        return this.sizerChildren.knob.value;\r\n    }\r\n\r\n    set value(value) {\r\n        if (this.gap !== undefined) {\r\n            value = SnapTo(value, this.gap);\r\n        }\r\n        var oldValue = this.value;\r\n        this.sizerChildren.knob.value = value;\r\n\r\n        var newValue = this.value;\r\n        if (oldValue !== newValue) {\r\n            this.updateText();\r\n            this.eventEmitter.emit('valuechange', newValue, oldValue, this.eventEmitter);\r\n        }\r\n    }\r\n\r\n    setValue(value, min, max) {\r\n        if ((value === undefined) || (value === null)) {\r\n            return this;\r\n        }\r\n\r\n        if (min !== undefined) {\r\n            value = Percent(value, min, max);\r\n        }\r\n        this.value = value;\r\n        return this;\r\n    }\r\n\r\n    addValue(inc, min, max) {\r\n        if (min !== undefined) {\r\n            inc = Percent(inc, min, max);\r\n        }\r\n        this.value += inc;\r\n        return this;\r\n    }\r\n\r\n    getValue(min, max) {\r\n        var value = this.value;\r\n        if (min !== undefined) {\r\n            value = Linear(min, max, value);\r\n        }\r\n        return value;\r\n    }\r\n}\r\n\r\nconst INPUTMODE = {\r\n    pan: 0,\r\n    drag: 0,\r\n    click: 1,\r\n    none: -1,\r\n}\r\n\r\nObject.assign(\r\n    Knob.prototype,\r\n    TextObjectMethods,\r\n    EaseValueMethods\r\n);\r\n\r\nexport default Knob;","import {\r\n    Arc,\r\n    Circle,\r\n    Curve,\r\n    Ellipse,\r\n    Line,\r\n    Lines,\r\n    Rectangle,\r\n    Triangle\r\n} from '../shapes/geoms';\r\n\r\nconst ShapeClasses = {\r\n    arc: Arc,\r\n    circle: Circle,\r\n    curve: Curve,\r\n    ellipse: Ellipse,\r\n    line: Line,\r\n    lines: Lines,\r\n    rectangle: Rectangle,\r\n    triangle: Triangle\r\n}\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\n\r\nconst ClearAll = function () {\r\n    var shapes = this.getShapes();\r\n    for (var i = 0, cnt = shapes.length; i < cnt; i++) {\r\n        shapes[i].lineStyle().fillStyle();\r\n    }\r\n};\r\n\r\nexport default {\r\n    createShape(shapeType, name) {\r\n        var ShapeClass = ShapeClasses[shapeType];\r\n        var shape = new ShapeClass();\r\n        if (name) {\r\n            shape.setName(name);\r\n        }\r\n        return shape;\r\n    },\r\n\r\n    buildShapes(config) {\r\n        var createCallback = GetValue(config, 'create', undefined);\r\n\r\n        if (IsPlainObject(createCallback)) {\r\n            var shapes = createCallback;\r\n            for (var shapeType in shapes) {\r\n                var name = shapes[shapeType];\r\n                switch (typeof (name)) {\r\n                    case 'number':\r\n                        for (var i = 0; i < name; i++) {\r\n                            this.addShape(this.createShape(shapeType));\r\n                        }\r\n                        break;\r\n\r\n                    case 'string':\r\n                        this.addShape(this.createShape(shapeType, name));\r\n                        break;\r\n\r\n                    default: //Array\r\n                        var names = name;\r\n                        for (var i = 0, cnt = names.length; i < cnt; i++) {\r\n                            this.addShape(this.createShape(shapeType, names[i]));\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        } else if (Array.isArray(createCallback)) {\r\n            var shapes = createCallback;\r\n            for (var i = 0, cnt = shapes.length; i < cnt; i++) {\r\n                var shape = shapes[i];\r\n                this.addShape(this.createShape(shape.type, shape.name));\r\n            }\r\n\r\n        } else if (typeof (createCallback) === 'function') {\r\n            createCallback.call(this);\r\n\r\n        }\r\n\r\n        this.setUpdateShapesCallback(GetValue(config, 'update'));\r\n    },\r\n\r\n    setUpdateShapesCallback(callback) {\r\n        if (callback === undefined) {\r\n            callback = ClearAll;\r\n        }\r\n        this.dirty = this.dirty || (this.updateCallback !== callback);\r\n        this.updateCallback = callback;\r\n        return this;\r\n    },\r\n\r\n    updateShapes() {\r\n        this.updateCallback.call(this);\r\n    }\r\n}","import BaseShapes from '../shapes/BaseShapes.js';\r\nimport ShapesUpdateMethods from './ShapesUpdateMethods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\n\r\nclass CustomShapes extends BaseShapes {\r\n    constructor(scene, x, y, width, height, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            width = GetValue(config, 'width', 2);\r\n            height = GetValue(config, 'height', 2);\r\n        }\r\n        super(scene, x, y, width, height);\r\n        this.type = GetValue(config, 'type', 'rexCustomShapes');\r\n        this.buildShapes(config);\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    CustomShapes.prototype,\r\n    ShapesUpdateMethods\r\n);\r\n\r\nexport default CustomShapes;","import CustomShapes from '../customshapes/CustomShapes.js';\r\nimport EaseValueMethods from '../../../utils/ease/EaseValueMethods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst Clamp = Phaser.Math.Clamp;\r\nconst Linear = Phaser.Math.Linear;\r\nconst Percent = Phaser.Math.Percent;\r\n\r\nclass CustomProgress extends CustomShapes {\r\n    constructor(scene, x, y, width, height, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            width = GetValue(config, 'width', 2);\r\n            height = GetValue(config, 'height', 2);\r\n        }\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n        if (!config.type) {\r\n            config.type = 'rexCustomProgress';\r\n        }\r\n        super(scene, x, y, width, height, config);\r\n        this.eventEmitter = GetValue(config, 'eventEmitter', this);\r\n\r\n        var callback = GetValue(config, 'valuechangeCallback', null);\r\n        if (callback !== null) {\r\n            var scope = GetValue(config, 'valuechangeCallbackScope', undefined);\r\n            this.eventEmitter.on('valuechange', callback, scope);\r\n        }\r\n\r\n        this\r\n            .setEaseValuePropName('value')\r\n            .setEaseValueDuration(GetValue(config, 'easeValue.duration', 0))\r\n            .setEaseValueFunction(GetValue(config, 'easeValue.ease', 'Linear'))\r\n\r\n        this.setValue(GetValue(config, 'value', 0));\r\n    }\r\n\r\n    get centerX() {\r\n        return this.width / 2;;\r\n    }\r\n\r\n    get centerY() {\r\n        return this.height / 2;\r\n    }\r\n\r\n    get radius() {\r\n        return Math.min(this.centerX, this.centerY);\r\n    }\r\n\r\n    get value() {\r\n        return this._value;\r\n    }\r\n\r\n    set value(value) {\r\n        value = Clamp(value, 0, 1);\r\n\r\n        var oldValue = this._value;\r\n        var valueChanged = (oldValue != value);\r\n        this.dirty = this.dirty || valueChanged;\r\n        this._value = value;\r\n\r\n        if (valueChanged) {\r\n            this.eventEmitter.emit('valuechange', this._value, oldValue, this.eventEmitter);\r\n        }\r\n    }\r\n\r\n    setValue(value, min, max) {\r\n        if ((value === undefined) || (value === null)) {\r\n            return this;\r\n        }\r\n\r\n        if (min !== undefined) {\r\n            value = Percent(value, min, max);\r\n        }\r\n        this.value = value;\r\n        return this;\r\n    }\r\n\r\n    addValue(inc, min, max) {\r\n        if (min !== undefined) {\r\n            inc = Percent(inc, min, max);\r\n        }\r\n        this.value += inc;\r\n        return this;\r\n    }\r\n\r\n    getValue(min, max) {\r\n        var value = this.value;\r\n        if (min !== undefined) {\r\n            value = Linear(min, max, value);\r\n        }\r\n        return value;\r\n    }\r\n\r\n}\r\n\r\nObject.assign(\r\n    CustomProgress.prototype,\r\n    EaseValueMethods\r\n);\r\n\r\nexport default CustomProgress;","export default {\r\n    setTransitionStartCallback(callback, scope) {\r\n        this.onStartCallback = callback;\r\n        this.onStartCallbackScope = scope;\r\n        return this;\r\n    },\r\n\r\n    setTransitionProgressCallback(callback, scope) {\r\n        this.onProgressCallback = callback;\r\n        this.onProgressCallbackScope = scope;\r\n        return this;\r\n    },\r\n\r\n    setTransitionCompleteCallback(callback, scope) {\r\n        this.onCompleteCallback = callback;\r\n        this.onCompleteCallbackScope = scope;\r\n        return this;\r\n    },\r\n}","import EaseValueTask from '../../../utils/ease/EaseValueTask.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar DirMode = {\r\n    out: 0,\r\n    in: 1\r\n}\r\n\r\nexport default {\r\n    setTransitionDirection(dir) {\r\n        if (typeof (dir) === 'string') {\r\n            dir = DirMode[dir];\r\n        }\r\n        this.dir = dir;\r\n        return this;\r\n    },\r\n\r\n    setDuration(duration) {\r\n        this.duration = duration;\r\n        return this;\r\n    },\r\n\r\n    setEaseFunction(ease) {\r\n        this.easeFunction = ease;\r\n        return this;\r\n    },\r\n\r\n    setNextTexture(texture, frame) {\r\n        this.nextImage.setTexture(texture, frame);\r\n        return this;\r\n    },\r\n\r\n    transit(texture, frame) {        \r\n        if (this.isRunning) {\r\n            this.ignoreCompleteEvent = true;\r\n            this.stop();\r\n            this.ignoreCompleteEvent = false;\r\n        }\r\n\r\n        if (IsPlainObject(texture)) {\r\n            var config = texture;\r\n            texture = GetValue(config, 'key', undefined);\r\n            frame = GetValue(config, 'frame', undefined);\r\n\r\n            this\r\n                .setDuration(GetValue(config, 'duration', this.duration))\r\n                .setEaseFunction(GetValue(config, 'ease', this.easeFunction))\r\n                .setTransitionDirection(GetValue(config, 'dir', this.dir))\r\n\r\n            var maskGameObject = GetValue(config, 'mask', undefined);\r\n            if (maskGameObject) {\r\n                this.setMaskGameObject(maskGameObject);\r\n            }\r\n            this.setMaskEnable(maskGameObject === true);\r\n\r\n            var onStart = GetValue(config, 'onStart', undefined);\r\n            var onProgress = GetValue(config, 'onProgress', undefined);\r\n            var onComplete = GetValue(config, 'onComplete', undefined);\r\n            if ((onStart !== undefined) || (onProgress !== undefined) || (onComplete !== undefined)) {\r\n                this\r\n                    .setTransitionStartCallback(\r\n                        onStart,\r\n                        GetValue(config, 'onStartScope', undefined)\r\n                    )\r\n                    .setTransitionProgressCallback(\r\n                        onProgress,\r\n                        GetValue(config, 'onProgressScope', undefined)\r\n                    )\r\n                    .setTransitionCompleteCallback(\r\n                        onComplete,\r\n                        GetValue(config, 'onCompleteScope', undefined)\r\n                    )\r\n            }\r\n        }\r\n\r\n        this.setNextTexture(texture, frame);\r\n\r\n        this.start();\r\n        return this;\r\n    },\r\n\r\n    start() {\r\n        if (this.easeValueTask === undefined) {\r\n            this.easeValueTask = new EaseValueTask(this, { eventEmitter: null })\r\n        }\r\n        this.easeValueTask.restart({\r\n            key: 't', from: 0, to: 1,\r\n            duration: this.duration,\r\n            ease: this.easeFunction\r\n        });\r\n        return this;\r\n    },\r\n\r\n    pause() {\r\n        if (this.easeValueTask) {\r\n            this.easeValueTask.pause();\r\n        }\r\n        return this;\r\n    },\r\n\r\n    resume() {\r\n        if (this.easeValueTask) {\r\n            this.easeValueTask.resume();\r\n        }\r\n        return this;\r\n    },\r\n\r\n    stop() {\r\n        if (this.easeValueTask) {\r\n            this.easeValueTask.stop();\r\n        }\r\n        this.setT(1);\r\n        return this;\r\n    },\r\n}","var DrawShape = function (width, height, padding, originX, originY) {\r\n    this.clear().fillStyle(0xffffff);\r\n    switch (this.shape) {\r\n        case 1: // circle\r\n            var radius = Math.min(width, height) / 2;\r\n            this.fillCircle(\r\n                -width * (originX - 0.5),\r\n                -height * (originY - 0.5),\r\n                radius + padding\r\n            );\r\n            break;\r\n        default: // 0|'rectangle'\r\n            this.fillRect(\r\n                -(width * originX) - padding,\r\n                -(height * originY) - padding,\r\n                width + (2 * padding),\r\n                height + (2 * padding)\r\n            );\r\n            break;\r\n    }\r\n}\r\n\r\nexport default DrawShape;","import DrawShape from './DrawShape.js';\r\n\r\nconst Graphics = Phaser.GameObjects.Graphics;\r\n\r\nclass DefaultMaskGraphics extends Graphics {\r\n    constructor(parent, shape, padding) {\r\n        if (shape === undefined) {\r\n            shape = 0;\r\n        }\r\n        if (typeof (shape) === 'string') {\r\n            shape = SHAPEMODE[shape];\r\n        }\r\n        if (padding === undefined) {\r\n            padding = 0;\r\n        }\r\n\r\n        super(parent.scene);\r\n        this.parent = parent;\r\n        this.shape = shape;\r\n        this.padding = padding;\r\n        this.setPosition().resize().setVisible(false);\r\n        // Don't add it to display list\r\n    }\r\n\r\n    destroy() {\r\n        this.parent = undefined;\r\n        super.destroy();\r\n        return this;\r\n    }\r\n\r\n    setPosition(x, y) {\r\n        var parent = this.parent;\r\n        if (x === undefined) {\r\n            x = parent.x;\r\n        }\r\n        if (y === undefined) {\r\n            y = parent.y;\r\n        }\r\n        super.setPosition(x, y);\r\n        return this;\r\n    }\r\n\r\n    resize(width, height, padding) {\r\n        var parent = this.parent;\r\n        if (width === undefined) {\r\n            width = parent.width;\r\n        }\r\n        if (height === undefined) {\r\n            height = parent.height;\r\n        }\r\n        if (padding === undefined) {\r\n            padding = this.padding;\r\n        }\r\n        if ((this.widthSave === width) && (this.heightSave === height) && (this.paddingSave === padding)) {\r\n            return this;\r\n        }\r\n\r\n        this.widthSave = width;\r\n        this.heightSave = height;\r\n        this.paddingSave = padding;\r\n        this.originXSave = parent.originX;\r\n        this.originYSave = parent.originY;\r\n\r\n        DrawShape.call(this,\r\n            width, height, padding,\r\n            parent.originX, parent.originY\r\n        );\r\n\r\n        return this;\r\n    }\r\n\r\n    setOrigin(originX, originY) {\r\n        if (originY === undefined) {\r\n            originY = originX;\r\n        }\r\n\r\n        var parent = this.parent;\r\n        if (originX === undefined) {\r\n            originX = parent.originX;\r\n        }\r\n        if (originY === undefined) {\r\n            originY = parent.originY;\r\n        }\r\n        if ((this.originXSave === originX) && (this.originYSave === originY)) {\r\n            return this;\r\n        }\r\n\r\n        this.originXSave = originX;\r\n        this.originYSave = originY;\r\n\r\n        DrawShape.call(this,\r\n            this.widthSave, this.heightSave, this.paddingSave,\r\n            originX, originY,\r\n        );\r\n        return this;\r\n    }\r\n}\r\n\r\nconst SHAPEMODE = {\r\n    rectangle: 0,\r\n    circle: 1,\r\n}\r\nexport default DefaultMaskGraphics;\r\n","import DefaultMaskGraphics from '../../../utils/mask/defaultmaskgraphics/DefaultMaskGraphics.js';\r\n\r\nexport default {\r\n    setMaskGameObject(gameObject) {\r\n        if (!gameObject) {\r\n            this.removeMaskGameObject();\r\n            return this;\r\n        }\r\n\r\n        if (this.maskGameObject) {\r\n            if ((gameObject === true) && (this.maskGameObject instanceof DefaultMaskGraphics)) {\r\n                return this;\r\n            }\r\n            if (this.maskGameObject === gameObject) {\r\n                return this;\r\n            }\r\n\r\n            // Remove previous Mask Game Object\r\n            this.removeMaskGameObject();\r\n        }\r\n\r\n        // Add new Mask Game Object\r\n        if (gameObject === true) {\r\n            gameObject = new DefaultMaskGraphics(this);\r\n        }\r\n\r\n        this.maskGameObject = gameObject;\r\n        this.maskGameObject\r\n            .resize(this.width, this.height)\r\n            .setOrigin(this.originX, this.originY)\r\n            .setPosition(0, 0)\r\n            .setScale(1)\r\n            .setVisible(false)\r\n        this.addLocal(this.maskGameObject);\r\n\r\n        this.childrenMask = this.maskGameObject.createGeometryMask();\r\n        return this;\r\n    },\r\n\r\n    removeMaskGameObject() {\r\n        this.backImage.clearMask();\r\n        this.frontImage.clearMask();\r\n        this.childrenMask = undefined;\r\n        this.remove(this.maskGameObject, true);\r\n        this.maskGameObject = undefined;\r\n        return this;\r\n    },\r\n\r\n    setImageMaskEnable(gameObject, enable, invertAlpha) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n\r\n        // Use DefaultMaskGraphics if not given\r\n        if (!this.childrenMask) {\r\n            this.setMaskGameObject(true);\r\n        }\r\n\r\n        if (enable) {\r\n            gameObject.setMask(this.childrenMask);\r\n            if (invertAlpha) {\r\n                this.childrenMask.setInvertAlpha();\r\n            }\r\n        } else {\r\n            gameObject.clearMask();\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    setCurrentImageMaskEnable(enable, invertAlpha) {\r\n        this.setImageMaskEnable(this.currentImage, enable, invertAlpha);\r\n        return this;\r\n    },\r\n\r\n    setNextImageMaskEnable(enable, invertAlpha) {\r\n        this.setImageMaskEnable(this.nextImage, enable, invertAlpha);\r\n        return this;\r\n    },\r\n\r\n    setCellImagesMaskEnable(enable, invertAlpha) {\r\n        var cellImages = this.getCellImages();\r\n        for (var i = 0, cnt = cellImages.length; i < cnt; i++) {\r\n            this.setImageMaskEnable(cellImages[i], enable, invertAlpha);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    setMaskEnable(enable, invertAlpha) {\r\n        this.setImageMaskEnable(this.backImage, enable, invertAlpha);\r\n        this.setImageMaskEnable(this.frontImage, enable, invertAlpha);\r\n        this.setCellImagesMaskEnable(enable, invertAlpha);\r\n        return this;\r\n    }\r\n}","var GetFrameNameCallback = function (baseFrameName, delimiter) {\r\n    if (delimiter === undefined) {\r\n        delimiter = ',';\r\n    }\r\n\r\n    var callback;\r\n    if (baseFrameName === '__BASE') {\r\n        callback = function (colIndex, rowIndex) {\r\n            return `${colIndex}${delimiter}${rowIndex}`;\r\n        }\r\n    } else {\r\n        callback = function (colIndex, rowIndex) {\r\n            return `${baseFrameName}_${colIndex}${delimiter}${rowIndex}`;\r\n        }\r\n    }\r\n\r\n    return callback;\r\n}\r\nexport default GetFrameNameCallback;","import GetFrameNameCallback from \"./GetFrameNameCallback\";\r\nimport IsFunction from \"../../object/IsFunction\";\r\n\r\nvar GridCut = function (scene, key, frame, columns, rows, getFrameNameCallback) {\r\n    if (frame == null) {\r\n        frame = '__BASE';\r\n    }\r\n    if (!IsFunction(getFrameNameCallback)) {\r\n        getFrameNameCallback = GetFrameNameCallback(frame, getFrameNameCallback);\r\n    }\r\n\r\n    var texture = scene.sys.textures.get(key);\r\n    var baseFrame = texture.frames[frame];\r\n    var cellWidth = baseFrame.width / columns,\r\n        cellHeight = baseFrame.height / rows;\r\n    var offsetX = 0,\r\n        offsetY = 0;\r\n    var frameName;\r\n    for (var y = 0; y < rows; y++) {\r\n        offsetX = 0;\r\n        for (var x = 0; x < columns; x++) {\r\n            frameName = getFrameNameCallback(x, y);\r\n            texture.add(\r\n                frameName, 0,\r\n                (offsetX + baseFrame.cutX), (offsetY + baseFrame.cutY),\r\n                cellWidth, cellHeight\r\n            );\r\n            offsetX += cellWidth;\r\n        }\r\n        offsetY += cellHeight;\r\n    }\r\n\r\n    return {\r\n        getFrameNameCallback: getFrameNameCallback,\r\n        cellWidth: cellWidth,\r\n        cellHeight: cellHeight,\r\n        columns: columns,\r\n        rows: rows\r\n    }\r\n}\r\n\r\nexport default GridCut;","import GridCut from '../utils/texture/gridcut/GridCut.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst DefaultImageClass = Phaser.GameObjects.Image;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst RotateAround = Phaser.Math.RotateAround;\r\n\r\nvar GridCutImage = function (gameObject, columns, rows, config) {\r\n    if (IsPlainObject(columns)) {\r\n        config = columns;\r\n        columns = GetValue(config, 'columns', 1);\r\n        rows = GetValue(config, 'rows', 1);\r\n    }\r\n    var ImageClass = GetValue(config, 'ImageClass', DefaultImageClass);\r\n    var originX = GetValue(config, 'originX', 0.5);\r\n    var originY = GetValue(config, 'originY', 0.5);\r\n    var addToScene = GetValue(config, 'add', true);\r\n    var align = GetValue(config, 'align', addToScene);\r\n    var imageObjectPool = GetValue(config, 'objectPool', undefined);\r\n\r\n    var scene = gameObject.scene;\r\n    var key = gameObject.texture.key;\r\n    var frame = gameObject.frame.name;\r\n\r\n    var result = GridCut(scene, key, frame, columns, rows);\r\n    var getFrameNameCallback = result.getFrameNameCallback;\r\n    var scaleX = gameObject.scaleX,\r\n        scaleY = gameObject.scaleY;\r\n    var rotation = gameObject.rotation;\r\n    var topLeft = gameObject.getTopLeft(),\r\n        startX = topLeft.x,\r\n        startY = topLeft.y;\r\n\r\n    var cellGameObjects = [];\r\n    var cellWidth = result.cellWidth * scaleX,\r\n        cellHeight = result.cellHeight * scaleY;\r\n    for (var y = 0; y < rows; y++) {\r\n        for (var x = 0; x < columns; x++) {\r\n            var cellGameObject;\r\n\r\n            var frameName = getFrameNameCallback(x, y);\r\n            if (imageObjectPool && (imageObjectPool.length > 0)) {\r\n                cellGameObject = (imageObjectPool.pop()).setTexture(key, frameName);\r\n            } else {\r\n                cellGameObject = new ImageClass(scene, 0, 0, key, frameName);\r\n            }\r\n\r\n            if (addToScene) {\r\n                scene.add.existing(cellGameObject);\r\n            }\r\n\r\n            var cellTLX = startX + (cellWidth * x);\r\n            var cellTLY = startY + (cellHeight * y);\r\n            var cellX = cellTLX + (originX * cellWidth);\r\n            var cellY = cellTLY + (originY * cellHeight);\r\n\r\n            if (align) {\r\n                cellGameObject\r\n                    .setOrigin(originX, originY)\r\n                    .setPosition(cellX, cellY)\r\n                    .setScale(scaleX, scaleY)\r\n                    .setRotation(rotation);\r\n                RotateAround(cellGameObject, startX, startY, rotation);\r\n            }\r\n\r\n            cellGameObjects.push(cellGameObject);\r\n        }\r\n    }\r\n\r\n    return cellGameObjects;\r\n}\r\n\r\nexport default GridCutImage;","import GridCutImage from '../../../actions/GridCutImage.js'\r\n\r\nexport default {\r\n    gridCutImage(gameObject, columns, rows, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n        config.objectPool = this.imagesPool;\r\n        var cellImages = GridCutImage(gameObject, columns, rows, config),\r\n            cellImage;\r\n        for (var i = 0, cnt = cellImages.length; i < cnt; i++) {\r\n            cellImage = cellImages[i];\r\n            cellImage.setVisible(true);\r\n            this.add(cellImage);\r\n        }\r\n\r\n        this.cellImages = cellImages;\r\n        this.setChildLocalVisible(gameObject, false);  // Set cut target to invisible\r\n        return cellImages;\r\n    },\r\n\r\n    gridCutCurrentImage(columns, rows, config) {\r\n        return this.gridCutImage(this.currentImage, columns, rows, config);\r\n    },\r\n\r\n    gridCutNextImage(columns, rows, config) {\r\n        return this.gridCutImage(this.nextImage, columns, rows, config);\r\n    },\r\n\r\n    getCellImages() {\r\n        return this.cellImages;\r\n    },\r\n\r\n    freeCellImages() {\r\n        if (this.cellImages.length === 0) {\r\n            return this;\r\n        }\r\n\r\n        var texture = this.cellImages[0].texture;\r\n        var cellImages = this.cellImages,\r\n            cellImage, frameName;\r\n        for (var i = 0, cnt = cellImages.length; i < cnt; i++) {\r\n            cellImage = cellImages[i];\r\n\r\n            // Reset property of cell image\r\n            this\r\n                .setChildLocalAlpha(cellImage, 1)\r\n                .setChildLocalScale(cellImage, 1)\r\n                .setChildLocalVisible(cellImage, false)\r\n\r\n            cellImage.clearMask();\r\n\r\n            // Remove frame object\r\n            frameName = cellImage.frame.name;\r\n            cellImage.setTexture();\r\n            texture.remove(frameName);\r\n        }\r\n\r\n        this.imagesPool.push(...cellImages);\r\n        cellImages.length = 0;\r\n\r\n        return this;\r\n    }\r\n}","import SetTransitionCallbackMethods from './SetTransitionCallbackMethods.js';\r\nimport TransitionMethods from './TransitionMethods.js';\r\nimport MaskMethods from './MaskMethods.js';\r\nimport GridCutMethods from './GridCutMethods.js';\r\n\r\nvar methods = {\r\n}\r\n\r\nObject.assign(\r\n    methods,\r\n    SetTransitionCallbackMethods,\r\n    TransitionMethods,\r\n    MaskMethods,\r\n    GridCutMethods\r\n)\r\n\r\nexport default methods;","var OnStart = function (parent, currentImage, nextImage, t) {\r\n}\r\n\r\nvar OnProgress = function (parent, currentImage, nextImage, t) {\r\n    parent\r\n        .setChildLocalAlpha(currentImage, 1 - t)\r\n        .setChildLocalAlpha(nextImage, t)\r\n}\r\n\r\nvar OnComplete = function (parent, currentImage, nextImage, t) {\r\n    parent.setChildLocalAlpha(currentImage, 1)\r\n}\r\n\r\nexport {\r\n    OnStart, OnProgress, OnComplete\r\n}","import Container from '../containerlite/ContainerLite.js';\r\nimport Methods from './methods/Methods.js';\r\nimport {\r\n    OnStart as DefaultOnStart,\r\n    OnProgress as DefaultOnProgress,\r\n    OnComplete as DefaultOnComplete\r\n} from './methods/CrossFadeTransition.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst Clamp = Phaser.Math.Clamp;\r\n\r\nclass TransitionImage extends Container {\r\n    constructor(scene, x, y, texture, frame, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            texture = GetValue(config, 'key', undefined);\r\n            frame = GetValue(config, 'frame', undefined);\r\n        } else if (IsPlainObject(frame)) {\r\n            config = frame;\r\n            frame = undefined;\r\n        }\r\n\r\n        var backImage = GetValue(config, 'back', undefined);\r\n        var frontImage = GetValue(config, 'front', undefined);\r\n        if (!backImage) {\r\n            backImage = scene.add.image(x, y, texture, frame);\r\n        }\r\n        if (!frontImage) {\r\n            frontImage = scene.add.image(x, y, texture, frame);\r\n        }\r\n        var width = GetValue(config, 'width', frontImage.width);\r\n        var height = GetValue(config, 'height', frontImage.height);\r\n\r\n        super(scene, x, y, width, height);\r\n\r\n        backImage.setVisible(false);\r\n        this.addMultiple([backImage, frontImage])\r\n\r\n        this.type = 'rexTransitionImage';\r\n        this.backImage = backImage;\r\n        this.frontImage = frontImage;\r\n        this.maskGameObject = undefined;\r\n        this.cellImages = [];\r\n        this.imagesPool = [];\r\n\r\n        // Transition parameters\r\n        var onStart = GetValue(config, 'onStart', undefined);\r\n        var onProgress = GetValue(config, 'onProgress', undefined);\r\n        var onComplete = GetValue(config, 'onComplete', undefined);\r\n        var dir = GetValue(config, 'dir', 0);\r\n        if ((onStart === undefined) && (onProgress === undefined) && (onComplete === undefined)) {\r\n            onStart = DefaultOnStart;\r\n            onProgress = DefaultOnProgress;\r\n            onComplete = DefaultOnComplete;\r\n            dir = 0;\r\n        }\r\n\r\n        this\r\n            .setTransitionStartCallback(\r\n                onStart,\r\n                GetValue(config, 'onStartScope', undefined)\r\n            )\r\n            .setTransitionProgressCallback(\r\n                onProgress,\r\n                GetValue(config, 'onProgressScope', undefined)\r\n            )\r\n            .setTransitionCompleteCallback(\r\n                onComplete,\r\n                GetValue(config, 'onCompleteScope', undefined)\r\n            )\r\n            .setTransitionDirection(dir)\r\n            .setDuration(GetValue(config, 'duration', 1000))\r\n            .setEaseFunction(GetValue(config, 'ease', 'Linear'))\r\n\r\n        var maskGameObject = GetValue(config, 'mask', undefined);\r\n        if (maskGameObject) {\r\n            this.setMaskGameObject(maskGameObject);\r\n        }\r\n        this.setMaskEnable(false);\r\n\r\n        this.ignoreCompleteEvent = false;\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        if (this.childrenMask) {\r\n            this.childrenMask.destroy();\r\n            this.childrenMask = undefined;\r\n        }\r\n        this.backImage = undefined;\r\n        this.frontImage = undefined;\r\n        this.maskGameObject = undefined;\r\n        this.cellImages.length = 0;\r\n        this.imagesPool.length = 0;\r\n\r\n        super.destroy(fromScene);\r\n\r\n        this.onStartCallback = undefined;\r\n        this.onStartCallbackScope = undefined;\r\n        this.onProgressCallback = undefined;\r\n        this.onProgressCallbackScope = undefined;\r\n        this.onCompleteCallback = undefined;\r\n        this.onCompleteCallbackScope = undefined;\r\n        this.easeValueTask = undefined;\r\n    }\r\n\r\n    get currentImage() {\r\n        return (this.dir === 0) ? this.frontImage : this.backImage;\r\n    }\r\n\r\n    get nextImage() {\r\n        return (this.dir === 0) ? this.backImage : this.frontImage;\r\n    }\r\n\r\n    get texture() {\r\n        return this.nextImage.texture;\r\n    }\r\n\r\n    get frame() {\r\n        return this.nextImage.frame;\r\n    }\r\n\r\n    get t() {\r\n        return this._t;\r\n    }\r\n\r\n    set t(value) {\r\n        value = Clamp(value, 0, 1);\r\n        if (this._t === value) {\r\n            return;\r\n        }\r\n        this._t = value;\r\n\r\n        var currentImage = this.currentImage;\r\n        var nextImage = this.nextImage;\r\n\r\n        // Start\r\n        if (value === 0) {\r\n            this\r\n                .setChildVisible(this.frontImage, true)\r\n                .setChildVisible(this.backImage, true)\r\n\r\n            RunCallback(\r\n                this.onStartCallback, this.onStartCallbackScope,\r\n                this, currentImage, nextImage, value\r\n            );\r\n        }\r\n\r\n        // Progress\r\n        RunCallback(\r\n            this.onProgressCallback, this.onProgressCallbackScope,\r\n            this, currentImage, nextImage, value\r\n        );\r\n\r\n        // Complete\r\n        if (value === 1) {\r\n            RunCallback(\r\n                this.onCompleteCallback, this.onCompleteCallbackScope,\r\n                this, currentImage, nextImage, value\r\n            );\r\n\r\n            var key = nextImage.texture.key,\r\n                frame = nextImage.frame.name;\r\n            this.frontImage.setTexture(key, frame);\r\n            this.backImage.setTexture(key, frame);\r\n\r\n            this\r\n                .setChildVisible(this.frontImage, true)\r\n                .setChildVisible(this.backImage, false)\r\n                .setMaskEnable(false)\r\n                .freeCellImages()\r\n        }\r\n\r\n        if ((value === 1) && (!this.ignoreCompleteEvent)) {\r\n            this.emit('complete');\r\n        }\r\n    }\r\n\r\n    setT(value) {\r\n        this.t = value;\r\n        return this;\r\n    }\r\n\r\n    get isRunning() {\r\n        return (this.easeValueTask) ? this.easeValueTask.isRunning : false;\r\n    }\r\n\r\n    setOrigin(originX, originY) {\r\n        super.setOrigin(originX, originY);\r\n\r\n        this.backImage.setOrigin(originX, originY);\r\n        this.frontImage.setOrigin(originX, originY);\r\n\r\n        if (this.maskGameObject) {\r\n            this.maskGameObject.setOrigin(originX, originY);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    setTexture(texture, frame) {\r\n        // Without transition\r\n        this.frontImage.setTexture(texture, frame);\r\n        this.backImage.setTexture(texture, frame).setVisible(false);\r\n        return this;\r\n    }\r\n}\r\n\r\nvar RunCallback = function (callback, scope, parent, currentImage, nextImage, t) {\r\n    if (!callback) {\r\n        return;\r\n    }\r\n\r\n    if (scope) {\r\n        callback.call(scope, parent, currentImage, nextImage, t);\r\n    } else {\r\n        callback(parent, currentImage, nextImage, t);\r\n    }\r\n}\r\n\r\n// mixin\r\nObject.assign(\r\n    TransitionImage.prototype,\r\n    Methods\r\n);\r\n\r\nexport default TransitionImage;","const Rectangle = Phaser.GameObjects.Rectangle;\r\n\r\nclass FullWindowRectangle extends Rectangle {\r\n    constructor(scene, color, alpha) {\r\n        super(scene, 0, 0, 2, 2, color, 1);\r\n\r\n        this.setAlpha(alpha)\r\n        this.setScrollFactor(0);\r\n        this.boot();\r\n    }\r\n\r\n    boot() {\r\n        var scene = this.scene;\r\n        scene.sys.events.on('prerender', this.resize, this);\r\n    }\r\n\r\n    destroy(fromScene) {  // preDestroy method does not have fromScene parameter\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        this.scene.sys.events.off('prerender', this.resize, this);\r\n\r\n        super.destroy(fromScene);\r\n    }\r\n\r\n    get tint() {\r\n        return this.fillColor;\r\n    }\r\n\r\n    set tint(value) {\r\n        this.setFillStyle(value, this.fillAlpha);\r\n    }\r\n\r\n    resize() {\r\n        var scene = this.scene;\r\n        var gameSize = scene.sys.scale.gameSize;\r\n        var camera = scene.sys.cameras.main;\r\n\r\n        var gameWidth = gameSize.width,\r\n            gameHeight = gameSize.height,\r\n            scale = 1 / camera.zoom;\r\n\r\n        var x = gameWidth / 2,\r\n            y = gameHeight / 2,\r\n            width = gameWidth * scale,\r\n            height = gameHeight * scale;\r\n\r\n        if ((this.x !== x) || (this.y !== y)) {\r\n            this.setPosition(x, y);\r\n        }\r\n\r\n        if ((this.width !== width) || (this.height !== height)) {\r\n            this.setSize(width, height).setOrigin(0.5);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default FullWindowRectangle;","import ComponentBase from '../../utils/componentbase/ComponentBase.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass TouchEventStop extends ComponentBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, { eventEmitter: false });\r\n        // No event emitter\r\n        // this.parent = gameObject;\r\n\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.setHitAreaMode(GetValue(o, 'hitAreaMode', 0));\r\n        this.setEnable(GetValue(o, \"enable\", true));\r\n        return this;\r\n    }\r\n\r\n    boot() {\r\n        this.parent\r\n            .on('pointerdown', function (pointer, localX, localY, event) {\r\n                event.stopPropagation();\r\n            })\r\n            .on('pointerup', function (pointer, localX, localY, event) {\r\n                event.stopPropagation();\r\n            })\r\n            .on('pointermove', function (pointer, localX, localY, event) {\r\n                event.stopPropagation();\r\n            })\r\n            .on('pointerover', function (pointer, localX, localY, event) {\r\n                event.stopPropagation();\r\n            })\r\n            .on('pointerout', function (pointer, event) {\r\n                event.stopPropagation();\r\n            })\r\n    }\r\n\r\n    setHitAreaMode(mode) {\r\n        if (typeof (mode) === 'string') {\r\n            mode = HitAreaMode[mode];\r\n        }\r\n\r\n        var gameObject = this.parent;\r\n        if (gameObject.input) {\r\n            gameObject.removeInteractive();\r\n        }\r\n\r\n        if (mode === 0) {\r\n            gameObject.setInteractive();\r\n        } else {\r\n            gameObject.setInteractive({\r\n                hitArea: {},\r\n                hitAreaCallback: function () { return true; }\r\n            });\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    setEnable(e) {\r\n        if (e === undefined) {\r\n            e = true;\r\n        }\r\n\r\n        if (e) {\r\n            this.parent.setInteractive();\r\n        } else {\r\n            this.parent.disableInteractive();\r\n        }\r\n\r\n        this.enable = e;\r\n        return this;\r\n    }\r\n\r\n    toggleEnable() {\r\n        this.setEnable(!this.enable);\r\n        return this;\r\n    }\r\n}\r\n\r\nvar HitAreaMode = {\r\n    default: 0,\r\n    fullWindow: 1\r\n}\r\n\r\nexport default TouchEventStop;","import FullWindowRectangle from '../fullwindowrectangle/FullWindowRectangle.js';\r\nimport TouchEventStop from '../../../input/toucheventstop/TouchEventStop.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Cover extends FullWindowRectangle {\r\n    constructor(scene, config) {\r\n        var fillColor = GetValue(config, 'color', 0x0);\r\n        var fillAlpha = GetValue(config, 'alpha', 0.8);\r\n        super(scene, fillColor, fillAlpha);\r\n\r\n        this.touchEventStop = new TouchEventStop(this, { hitAreaMode: 1 });\r\n    }\r\n}\r\n\r\nexport default Cover;","var SetChart = function (config) {\r\n    if (!window.Chart) {\r\n        var msg = `Can not find chartjs! Load chartjs in preload stage.\r\nscene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`\r\n        console.error(msg);\r\n        return this;\r\n    }\r\n\r\n    if (this.chart) {\r\n        this.chart.destroy();        \r\n    }\r\n    this.chart = new Chart(this.context, FillConfig(this, config));\r\n    return this;\r\n}\r\n\r\nvar FillConfig = function (canvas, config) {\r\n    // Get options\r\n    if (config === undefined) {\r\n        config = {};\r\n    }\r\n    if (config.options === undefined) {\r\n        config.options = {};\r\n    }\r\n    var options = config.options;\r\n\r\n    // Fill options\r\n    options.responsive = false;\r\n    options.maintainAspectRatio = false;\r\n    if (!options.hasOwnProperty('devicePixelRatio')) {\r\n        options.devicePixelRatio = 1;\r\n    }\r\n\r\n    // Get animation config\r\n    var noAnimation = false;\r\n    if (options.animation === undefined) {\r\n        options.animation = {};\r\n    } else if (options.animation === false) {\r\n        noAnimation = true;\r\n        options.animation = {};\r\n    }\r\n    var animationConfig = options.animation;\r\n\r\n    // Fill animation config\r\n    if (noAnimation) {\r\n        animationConfig.duration = 0;\r\n    }\r\n\r\n    var onProgress = animationConfig.onProgress;\r\n    animationConfig.onProgress = function (animation) {\r\n        if (onProgress) {\r\n            onProgress(animation);\r\n        }\r\n        canvas.needRedraw();\r\n    }\r\n\r\n    var onComplete = animationConfig.onComplete;\r\n    animationConfig.onComplete = function (animation) {\r\n        if (onComplete) {\r\n            onComplete(animation);\r\n        }\r\n        canvas.needRedraw();\r\n    }\r\n    return config;\r\n}\r\n\r\nexport default SetChart;","var GetChartDataset = function (datasetIndex) {\r\n    if (this.chart === undefined) {\r\n        return undefined;\r\n    }\r\n\r\n    if (typeof (datasetIndex) === 'string') {\r\n        var datasets = this.chart.data.datasets, dataset;\r\n        for (var i = 0, cnt = datasets.length; i < cnt; i++) {\r\n            dataset = datasets[i];\r\n            if (dataset.label === datasetIndex) {\r\n                return dataset;\r\n            }\r\n        }\r\n    } else {\r\n        return this.chart.data.datasets[datasetIndex];\r\n    }\r\n\r\n    return undefined;\r\n}\r\n\r\nexport default GetChartDataset;","var GetChartData = function (datasetIndex, dataIndex) {\r\n    var dataset = this.getChartDataset(datasetIndex);\r\n    if (dataset === undefined) {\r\n        return undefined;\r\n    }\r\n    if (typeof (dataIndex) === 'string') {\r\n        var labels = this.chart.data.labels;\r\n        dataIndex = labels.indexOf(dataIndex);\r\n        if (dataIndex === -1) {\r\n            return undefined;\r\n        }\r\n    }\r\n    return dataset.data[dataIndex];\r\n}\r\nexport default GetChartData;","var SetChartData = function (datasetIndex, dataIndex, value) {\r\n    if (this.chart === undefined) {\r\n        return this;\r\n    }\r\n\r\n    var dataset = this.getChartDataset(datasetIndex);\r\n    if (typeof (dataIndex) === 'string') {\r\n        var labels = this.chart.data.labels;\r\n        dataIndex = labels.indexOf(dataIndex);\r\n        if (dataIndex === -1) {\r\n            return this;\r\n        }\r\n    }\r\n    dataset.data[dataIndex] = value;\r\n    return this;\r\n};\r\nexport default SetChartData;\r\n","var UpdateChart = function () {\r\n    if (this.chart === undefined) {\r\n        return this;\r\n    }\r\n    this.chart.update();\r\n    return this;\r\n}\r\nexport default UpdateChart;","import Canvas from '../canvas/Canvas.js';\r\nimport SetChart from './SetChart.js';\r\nimport GetChartDataset from './GetChartDataset.js';\r\nimport GetChartData from './GetChartData.js';\r\nimport SetChartData from './SetChartData.js';\r\nimport UpdateChart from './UpdateChart.js';\r\n\r\n// This plugin does not contain chart.js\r\n// Load chart.js in preload stage -\r\n// scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');\r\n\r\nclass Chart extends Canvas {\r\n    constructor(scene, x, y, width, height, config) {\r\n        super(scene, x, y, width, height);\r\n        this.type = 'rexChart';\r\n        this.chart = undefined;\r\n\r\n        if (config !== undefined) {\r\n            this.setChart(config);\r\n        }\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n        if (this.chart) {\r\n            this.chart.destroy();\r\n            this.chart = undefined;\r\n        }\r\n        super.destroy(fromScene);\r\n    }\r\n\r\n    resize(width, height) {\r\n        if ((width === this.width) && (height === this.height)) {\r\n            return this;\r\n        }\r\n\r\n        super.resize(width, height);\r\n\r\n        if (this.chart) {\r\n            var chart = this.chart;\r\n            chart.height = this.canvas.height;\r\n            chart.width = this.canvas.width;\r\n            chart.aspectRatio = (chart.height) ? chart.width / chart.height : null;\r\n            chart.update();\r\n        }\r\n        return this;\r\n    }\r\n}\r\n\r\nvar methods = {\r\n    setChart: SetChart,\r\n    getChartDataset: GetChartDataset,\r\n    getChartData: GetChartData,\r\n    setChartData: SetChartData,\r\n    updateChart: UpdateChart,\r\n}\r\nObject.assign(\r\n    Chart.prototype,\r\n    methods\r\n);\r\n\r\nexport default Chart;","var GetChildrenWidth = function (minimumMode) {\r\n    if (this.rexSizer.hidden) {\r\n        return 0;\r\n    }\r\n\r\n    if (minimumMode === undefined) {\r\n        minimumMode = true;\r\n    }\r\n\r\n    var result = 0;\r\n    var children = this.sizerChildren;\r\n    var child, padding, childWidth;\r\n    if (this.orientation === 0) { // x\r\n        // Get summation of minimum width\r\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n            child = children[i];\r\n            if (child.rexSizer.hidden) {\r\n                continue;\r\n            }\r\n\r\n            if (\r\n                (child.rexSizer.proportion === 0) ||\r\n                (minimumMode && (child.rexSizer.proportion > 0))\r\n            ) {\r\n                childWidth = this.getChildWidth(child);\r\n            } else {\r\n                childWidth = 0;\r\n            }\r\n            padding = child.rexSizer.padding;\r\n            childWidth += (padding.left + padding.right);\r\n            if (i > 0) {\r\n                childWidth += this.space.item;\r\n            }\r\n            result += childWidth;\r\n        }\r\n    } else {\r\n        // Get maximun width\r\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n            child = children[i];\r\n            if (!child.hasOwnProperty('rexSizer')) {\r\n                continue;\r\n            }\r\n            if (child.rexSizer.hidden) {\r\n                continue;\r\n            }\r\n\r\n            padding = child.rexSizer.padding;\r\n            childWidth = this.getChildWidth(child) + padding.left + padding.right;\r\n            result = Math.max(childWidth, result);\r\n        }\r\n    }\r\n    return result + this.space.left + this.space.right;\r\n}\r\n\r\nexport default GetChildrenWidth;","var GetChildrenHeight = function (minimumMode) {\r\n    if (this.rexSizer.hidden) {\r\n        return 0;\r\n    }\r\n\r\n    if (minimumMode === undefined) {\r\n        minimumMode = true;\r\n    }\r\n\r\n    var result = 0;\r\n    var children = this.sizerChildren;\r\n    var child, padding, childHeight;\r\n    if (this.orientation === 0) { // x\r\n        // Get maximun height\r\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n            child = children[i];\r\n            if (child.rexSizer.hidden) {\r\n                continue;\r\n            }\r\n\r\n            padding = child.rexSizer.padding;\r\n            childHeight = this.getChildHeight(child) + padding.top + padding.bottom;\r\n            result = Math.max(childHeight, result);\r\n        }\r\n    } else {\r\n        // Get summation of minimum height\r\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n            child = children[i];\r\n            if (!child.hasOwnProperty('rexSizer')) {\r\n                continue;\r\n            }\r\n            if (child.rexSizer.hidden) {\r\n                continue;\r\n            }\r\n\r\n            padding = child.rexSizer.padding;\r\n            if (\r\n                (child.rexSizer.proportion === 0) ||\r\n                (minimumMode && (child.rexSizer.proportion > 0))\r\n            ) {\r\n                childHeight = this.getChildHeight(child);\r\n            } else {\r\n                childHeight = 0;\r\n            }\r\n            childHeight += (padding.top + padding.bottom);\r\n            if (i > 0) {\r\n                childHeight += this.space.item;\r\n            }\r\n            result += childHeight;\r\n        }\r\n    }\r\n    return result + this.space.top + this.space.bottom;\r\n}\r\n\r\nexport default GetChildrenHeight;","var GetExpandedChildWidth = function (child, parentWidth) {\r\n    if (parentWidth === undefined) {\r\n        parentWidth = this.width;\r\n    }\r\n\r\n    var childWidth;\r\n    var childConfig = child.rexSizer;\r\n    var padding = childConfig.padding;\r\n    if (this.orientation === 0) { // x\r\n        if ((childConfig.proportion > 0) && (this.proportionLength > 0)) {\r\n            childWidth = (childConfig.proportion * this.proportionLength);\r\n        }\r\n    } else { // y\r\n        if (childConfig.expand) {\r\n            var innerWidth = parentWidth - this.space.left - this.space.right;\r\n            childWidth = innerWidth - padding.left - padding.right;\r\n        }\r\n    }\r\n    return childWidth;\r\n}\r\n\r\nexport default GetExpandedChildWidth;","var GetExpandedChildHeight = function (child, parentHeight) {\r\n    if (parentHeight === undefined) {\r\n        parentHeight = this.height;\r\n    }\r\n\r\n    var childHeight;\r\n    var childConfig = child.rexSizer;\r\n    var padding = childConfig.padding;\r\n    if (this.orientation === 0) { // x\r\n        if (childConfig.expand) {\r\n            var innerHeight = parentHeight - this.space.top - this.space.bottom;\r\n            childHeight = innerHeight - padding.top - padding.bottom;\r\n        }\r\n    } else { // y\r\n        if ((childConfig.proportion > 0) && (this.proportionLength > 0)) {\r\n            childHeight = (childConfig.proportion * this.proportionLength);\r\n        }\r\n    }\r\n    return childHeight;\r\n}\r\n\r\nexport default GetExpandedChildHeight;","var GetChildrenSizers = function(out) {\r\n    if (out === undefined) {\r\n        out = [];\r\n    }\r\n    var children = this.sizerChildren,\r\n        child;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        child = children[i];\r\n        if (child.isRexSizer) {\r\n            out.push(child);\r\n        }\r\n    }\r\n    return out;\r\n}\r\nexport default GetChildrenSizers;","import PreLayoutBase from '../basesizer/PreLayout.js';\r\n\r\nvar PreLayout = function () {\r\n    this._childrenProportion = undefined;\r\n    this.proportionLength = undefined;\r\n    PreLayoutBase.call(this);\r\n    return this;\r\n}\r\nexport default PreLayout;","import ResizeGameObject from '../../../plugins/utils/size/ResizeGameObject.js';\r\nimport PreLayoutChild from '../basesizer/utils/PreLayoutChild.js';\r\nimport LayoutChild from '../basesizer/utils/LayoutChild.js';\r\nimport { GetDisplayWidth, GetDisplayHeight } from '../../../plugins/utils/size/GetDisplaySize.js';\r\nimport CheckSize from '../basesizer/utils/CheckSize.js';\r\n\r\nvar LayoutChildren = function () {\r\n    var children = this.sizerChildren;\r\n    var child, childConfig, padding;\r\n    var startX = this.innerLeft,\r\n        startY = this.innerTop;\r\n    var innerWidth = this.innerWidth;\r\n    var innerHeight = this.innerHeight;\r\n    var itemX = startX,\r\n        itemY = startY;\r\n    var x, y, width, height; // Align zone\r\n    var childWidth, childHeight;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        child = (!this.rtl) ? children[i] : children[cnt - i - 1];\r\n        if (child.rexSizer.hidden) {\r\n            continue;\r\n        }\r\n\r\n        childConfig = child.rexSizer;\r\n        padding = childConfig.padding;\r\n\r\n        PreLayoutChild.call(this, child);\r\n\r\n        // Set size\r\n        if (child.isRexSpace) {\r\n            childWidth = 0;\r\n            childHeight = 0;\r\n        } else {\r\n            childWidth = this.getExpandedChildWidth(child);\r\n            childHeight = this.getExpandedChildHeight(child);\r\n        }\r\n        if (child.isRexSizer) {\r\n            child.runLayout(this, childWidth, childHeight);\r\n            CheckSize(child, this);\r\n        } else {\r\n            ResizeGameObject(child, childWidth, childHeight);\r\n        }\r\n\r\n        if (childWidth === undefined) {\r\n            childWidth = GetDisplayWidth(child);\r\n        }\r\n        if (childHeight === undefined) {\r\n            childHeight = GetDisplayHeight(child);\r\n        }\r\n\r\n        // Set position\r\n        if (this.orientation === 0) { // x\r\n            x = (itemX + padding.left);\r\n            if ((childConfig.proportion === 0) || (this.proportionLength === 0)) {\r\n                width = childWidth;\r\n            } else {\r\n                width = (childConfig.proportion * this.proportionLength);\r\n            }\r\n\r\n            y = (itemY + padding.top);\r\n            height = (innerHeight - padding.top - padding.bottom);\r\n        } else { // y\r\n            x = (itemX + padding.left);\r\n            width = (innerWidth - padding.left - padding.right);\r\n\r\n            y = (itemY + padding.top);\r\n            if ((childConfig.proportion === 0) || (this.proportionLength === 0)) {\r\n                height = childHeight;\r\n            } else {\r\n                height = (childConfig.proportion * this.proportionLength);\r\n            }\r\n        }\r\n\r\n        LayoutChild.call(this, child, x, y, width, height, childConfig.align);\r\n\r\n        if (this.orientation === 0) { // x\r\n            itemX += (width + padding.left + padding.right + this.space.item);\r\n        } else { // y\r\n            itemY += (height + padding.top + padding.bottom + this.space.item);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default LayoutChildren;","import ResolveWidthBase from '../basesizer/ResolveWidth.js';\r\n\r\nvar ResolveWidth = function (width) {\r\n    var width = ResolveWidthBase.call(this, width);\r\n\r\n    // Calculate proportionLength\r\n    if ((this.proportionLength === undefined) && (this.orientation === 0)) {\r\n        var remainder = width - this.childrenWidth;\r\n        if (remainder > 0) {\r\n            remainder = width - this.getChildrenWidth(false);\r\n            this.proportionLength = remainder / this.childrenProportion;\r\n        } else {\r\n            this.proportionLength = 0;\r\n            if (remainder < 0) {\r\n                // Warning\r\n            }\r\n        }\r\n    }\r\n\r\n    return width;\r\n}\r\n\r\nexport default ResolveWidth;","import ResolveHeightBase from '../basesizer/ResolveHeight.js';\r\n\r\nvar ResolveHeight = function (parent, height) {\r\n    var height = ResolveHeightBase.call(this, parent, height);\r\n\r\n    // Get proportionLength\r\n    if ((this.proportionLength === undefined) && (this.orientation === 1)) {\r\n        var remainder = height - this.childrenHeight;\r\n        if (remainder > 0) {\r\n            remainder = height - this.getChildrenHeight(false);\r\n            this.proportionLength = remainder / this.childrenProportion;\r\n        } else {\r\n            this.proportionLength = 0;\r\n            if (remainder < 0) {\r\n                // Warning\r\n            }\r\n        }\r\n    }\r\n\r\n    return height;\r\n}\r\n\r\nexport default ResolveHeight;","const Zone = Phaser.GameObjects.Zone;\r\n\r\nclass Space extends Zone {\r\n    constructor(scene) {\r\n        super(scene, 0, 0, 1, 1);\r\n        // Don't add Zone into scene\r\n        this.isRexSpace = true;\r\n    }\r\n}\r\nexport default Space;","var GetNearestChildIndex = function (x, y) {\r\n    var children = this.sizerChildren;\r\n    if (children.length === 0) {\r\n        return -1;\r\n    }\r\n\r\n    var nearestIndex = -1,\r\n        minDistance = Infinity;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        var child = children[i];\r\n\r\n        var distance;\r\n        if (this.orientation === 0) { // x\r\n            distance = Math.abs(child.left - x);\r\n        } else {\r\n            distance = Math.abs(child.top - y);\r\n        }\r\n\r\n        if (minDistance > distance) {\r\n            minDistance = distance;\r\n            nearestIndex = i;\r\n        }\r\n    }\r\n\r\n    // Check right bound of last child\r\n    var child = children[children.length - 1];\r\n    var distance;\r\n    if (this.orientation === 0) { // x\r\n        distance = Math.abs(child.right - x);\r\n    } else {\r\n        distance = Math.abs(child.bottom - y);\r\n    }\r\n\r\n    if (minDistance > distance) {\r\n        minDistance = distance;\r\n        nearestIndex = i + 1;\r\n    }\r\n\r\n    return nearestIndex;\r\n}\r\n\r\nexport default GetNearestChildIndex;","import AddChild from '../basesizer/utils/AddChild.js';\r\nimport GetBoundsConfig from '../utils/GetBoundsConfig.js';\r\nimport ALIGNMODE from '../utils/AlignConst.js';\r\nimport Space from '../space/Space.js';\r\nimport { GetDisplayWidth, GetDisplayHeight } from '../../../plugins/utils/size/GetDisplaySize.js';\r\nimport GetNearestChildIndex from './GetNearestChildIndex.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst ALIGN_CENTER = Phaser.Display.Align.CENTER;\r\nconst PROPORTIONMODE = {\r\n    min: 0,\r\n    full: -1,\r\n}\r\n\r\nvar Add = function (gameObject, proportion, align, paddingConfig, expand, childKey, index, minSize) {\r\n    AddChild.call(this, gameObject);\r\n\r\n    var isRexSpace = gameObject.isRexSpace;\r\n    var proportionType = typeof (proportion);\r\n    if (proportion === null) {\r\n        return this;\r\n    } else if (proportionType === 'number') {\r\n\r\n    } else if (proportionType === 'string') {\r\n        proportion = PROPORTIONMODE[proportion];\r\n    } else if (IsPlainObject(proportion)) {\r\n        var config = proportion;\r\n        proportion = GetValue(config, 'proportion', undefined);\r\n        align = GetValue(config, 'align', ALIGN_CENTER);\r\n        paddingConfig = GetValue(config, 'padding', 0);\r\n        expand = GetValue(config, 'expand', false);\r\n        childKey = GetValue(config, 'key', undefined);\r\n        index = GetValue(config, 'index', undefined);\r\n\r\n        if (!gameObject.isRexSizer) {\r\n            // Get minSize from config\r\n            if (this.orientation === 0) { // x\r\n                minSize = GetValue(config, 'minWidth', undefined);\r\n            } else {  // y\r\n                minSize = GetValue(config, 'minHeight', undefined);\r\n            }\r\n        }\r\n    }\r\n\r\n    if (typeof (align) === 'string') {\r\n        align = ALIGNMODE[align];\r\n    }\r\n\r\n    if (proportion === undefined) {\r\n        proportion = (isRexSpace) ? 1 : 0;\r\n    }\r\n    if (align === undefined) {\r\n        align = ALIGN_CENTER;\r\n    }\r\n    if (paddingConfig === undefined) {\r\n        paddingConfig = 0;\r\n    }\r\n    if (expand === undefined) {\r\n        expand = false;\r\n    }\r\n    if (minSize === undefined) {\r\n        if (isRexSpace) {\r\n            minSize = 0;\r\n        } else if (!gameObject.isRexSizer) {\r\n            // Get minSize from game object\r\n            if (this.orientation === 0) { // x\r\n                minSize = gameObject._minWidth;\r\n            } else {  // y\r\n                minSize = gameObject._minHeight;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    var config = this.getSizerConfig(gameObject);\r\n    config.proportion = proportion;\r\n    config.align = align;\r\n    config.padding = GetBoundsConfig(paddingConfig);\r\n    config.expand = expand;\r\n    if ((index === undefined) || (index >= this.sizerChildren.length)) {\r\n        this.sizerChildren.push(gameObject);\r\n    } else {\r\n        this.sizerChildren.splice(index, 0, gameObject);\r\n    }\r\n\r\n    if (!gameObject.isRexSizer && (proportion > 0)) { // Expand normal game object\r\n        if (this.orientation === 0) { // x\r\n            // minSize is still undefined, uses current display width\r\n            gameObject.minWidth = (minSize === undefined) ? GetDisplayWidth(gameObject) : minSize;\r\n        } else {\r\n            // minSize is still undefined, uses current display height\r\n            gameObject.minHeight = (minSize === undefined) ? GetDisplayHeight(gameObject) : minSize;\r\n        }\r\n    }\r\n\r\n    if (childKey !== undefined) {\r\n        this.addChildrenMap(childKey, gameObject)\r\n    }\r\n    return this;\r\n};\r\n\r\nexport default {\r\n    add: Add, // sizer.add could be override\r\n\r\n    addSpace(proportion) {\r\n        this.insertSpace(undefined, proportion);\r\n        return this;\r\n    },\r\n\r\n    insertSpace(index, proportion) {\r\n        if (proportion === undefined) {\r\n            proportion = 1;\r\n        }\r\n        Add.call(this, new Space(this.scene),\r\n            {\r\n                proportion: proportion,\r\n                minWidth: 0,\r\n                minHeight: 0,\r\n                index: index\r\n            }\r\n        );\r\n        // No problem if sizer.add is override\r\n        return this;\r\n    },\r\n\r\n    insert(index, gameObject, proportion, align, paddingConfig, expand, childKey, minSize) {\r\n        if (IsPlainObject(proportion)) {\r\n            proportion.index = index;\r\n        }\r\n\r\n        Add.call(this, gameObject, proportion, align, paddingConfig, expand, childKey, index, minSize);\r\n        // No problem if sizer.add is override\r\n        return this;\r\n    },\r\n\r\n    insertAtPosition(x, y, gameObject, proportion, align, paddingConfig, expand, childKey, minSize) {\r\n        var index = GetNearestChildIndex.call(this, x, y);\r\n        if (index === -1) {\r\n            index = undefined;\r\n        }\r\n        this.insert(index, gameObject, proportion, align, paddingConfig, expand, childKey, minSize);\r\n        return this;\r\n    }\r\n}","import RemoveChild from '../basesizer/utils/RemoveChild.js';\r\nimport ClearChildren from '../basesizer/utils/ClearChildren.js';\r\n\r\nconst RemoveItem = Phaser.Utils.Array.Remove;\r\n\r\nexport default {\r\n    remove(gameObject, destroyChild) {\r\n        if (this.getParentSizer(gameObject) !== this) {\r\n            return this;\r\n        }\r\n\r\n        RemoveItem(this.sizerChildren, gameObject);\r\n        RemoveChild.call(this, gameObject, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    removeAll(destroyChild) {\r\n        for (var i = this.sizerChildren.length - 1; i >= 0; i--) {\r\n            this.remove(this.sizerChildren[i], destroyChild);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    clear(destroyChild) {\r\n        this.sizerChildren.length = 0;\r\n        ClearChildren.call(this, destroyChild);\r\n        return this;\r\n    }\r\n}","import GetChildrenWidth from './GetChildrenWidth.js';\r\nimport GetChildrenHeight from './GetChildrenHeight.js';\r\nimport GetExpandedChildWidth from './GetExpandedChildWidth.js';\r\nimport GetExpandedChildHeight from './GetExpandedChildHeight.js';\r\nimport GetChildrenSizers from './GetChildrenSizers.js';\r\nimport PreLayout from './PreLayout.js';\r\nimport LayoutChildren from './LayoutChildren.js';\r\nimport ResolveWidth from './ResolveWidth.js';\r\nimport ResolveHeight from './ResolveHeight.js';\r\nimport AddChildMethods from './AddChildMethods.js';\r\nimport RemoveChildMethods from './RemoveChildMethods.js';\r\n\r\nvar methods = {\r\n    getChildrenWidth: GetChildrenWidth,\r\n    getChildrenHeight: GetChildrenHeight,\r\n    getExpandedChildWidth: GetExpandedChildWidth,\r\n    getExpandedChildHeight: GetExpandedChildHeight,\r\n    getChildrenSizers: GetChildrenSizers,\r\n    preLayout: PreLayout,\r\n    layoutChildren: LayoutChildren,\r\n    resolveWidth: ResolveWidth,\r\n    resolveHeight: ResolveHeight,\r\n};\r\n\r\nObject.assign(\r\n    methods,\r\n    AddChildMethods,\r\n    RemoveChildMethods\r\n);\r\n\r\nexport default methods;","var GetChildrenProportion = function () {\r\n    var result = 0;\r\n    var children = this.sizerChildren;\r\n    var child, proportion;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        child = children[i];\r\n        if (child.rexSizer.hidden) {\r\n            continue;\r\n        }\r\n        proportion = child.rexSizer.proportion;\r\n        if (proportion > 0) {\r\n            result += proportion;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport default GetChildrenProportion;","var OrientationMode = {\r\n    x: 0,\r\n    h: 0,\r\n    horizontal: 0,\r\n    'left-to-right': 0,\r\n\r\n    y: 1,\r\n    v: 1,\r\n    vertical: 1,\r\n    'top-to-bottom': 1\r\n};\r\n\r\nvar GetOrientationMode = function (orientation) {\r\n    if (typeof (orientation) === 'string') {\r\n        orientation = OrientationMode[orientation];\r\n    }\r\n    return orientation;\r\n}\r\n\r\nexport default GetOrientationMode;","import BaseSizer from '../basesizer/BaseSizer.js';\r\nimport Methods from './Methods.js';\r\nimport GetChildrenProportion from './GetChildrenProportion.js';\r\nimport GetOrientationMode from '../utils/GetOrientationMode.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Sizer extends BaseSizer {\r\n    constructor(scene, x, y, minWidth, minHeight, orientation, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            minWidth = GetValue(config, 'width', undefined);\r\n            minHeight = GetValue(config, 'height', undefined);\r\n            orientation = GetValue(config, 'orientation', 0);\r\n        } else if (IsPlainObject(minWidth)) {\r\n            config = minWidth;\r\n            minWidth = GetValue(config, 'width', undefined);\r\n            minHeight = GetValue(config, 'height', undefined);\r\n            orientation = GetValue(config, 'orientation', 0);\r\n        } else if (IsPlainObject(orientation)) {\r\n            config = orientation;\r\n            orientation = GetValue(config, 'orientation', 0);\r\n        }\r\n\r\n        if (orientation === undefined) {\r\n            orientation = 0;\r\n        }\r\n        super(scene, x, y, minWidth, minHeight, config);\r\n\r\n        this.type = 'rexSizer';\r\n        this.sizerChildren = [];\r\n        this.setOrientation(orientation);\r\n        this.setItemSpacing(GetValue(config, 'space.item', 0));\r\n        this.setRTL(GetValue(config, 'rtl', false));\r\n\r\n        this.addChildrenMap('items', this.sizerChildren);\r\n    }\r\n\r\n    setOrientation(orientation) {\r\n        this.orientation = GetOrientationMode(orientation);\r\n        return this;\r\n    }\r\n\r\n    setItemSpacing(space) {\r\n        this.space.item = space;\r\n        return this;\r\n    }\r\n\r\n    setRTL(enable) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n        this.rtl = enable;\r\n        return this;\r\n    }\r\n\r\n    get childrenProportion() {\r\n        if (this._childrenProportion === undefined) {\r\n            this._childrenProportion = GetChildrenProportion.call(this);\r\n        }\r\n        return this._childrenProportion;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    Sizer.prototype,\r\n    Methods\r\n);\r\n\r\nexport default Sizer;","var Sum = function () {\r\n    return Array.prototype.reduce.call(arguments, Add, 0);\r\n}\r\n\r\nvar Add = function (a, b) {\r\n    return a + b;\r\n}\r\n\r\nexport default Sum;","import Sum from '../../../plugins/utils/math/Sum.js';\r\n\r\nvar GetChildrenWidth = function () {\r\n    if (this.rexSizer.hidden) {\r\n        return 0;\r\n    }\r\n\r\n    var result = 0,\r\n        columnWidth;\r\n    var children = this.sizerChildren;\r\n    var child, padding, childWidth, proportion;\r\n\r\n    for (var i = 0; i < this.columnCount; i++) {\r\n        proportion = this.columnProportions[i];\r\n        columnWidth = 0;\r\n        if (proportion === 0) {\r\n            for (var j = 0; j < this.rowCount; j++) {\r\n                child = children[(j * this.columnCount) + i];\r\n                if (!child) {\r\n                    continue;\r\n                }\r\n                if (child.rexSizer.hidden) {\r\n                    continue;\r\n                }\r\n\r\n                padding = child.rexSizer.padding;\r\n                childWidth = this.getChildWidth(child) + padding.left + padding.right;\r\n                columnWidth = Math.max(columnWidth, childWidth);\r\n            }\r\n            result += columnWidth;\r\n        }\r\n        // else,(proportion > 0) : columnWidth is 0\r\n        this.columnWidth[i] = columnWidth;\r\n    }\r\n\r\n    var space = this.space;\r\n    var indentLeft = Math.max(space.indentLeftOdd, space.indentLeftEven);\r\n    return result + Sum(space.left, indentLeft, ...space.column, space.right);\r\n}\r\n\r\nexport default GetChildrenWidth;","import { GetDisplayHeight } from '../../../plugins/utils/size/GetDisplaySize.js';\r\nimport Sum from '../../../plugins/utils/math/Sum.js';\r\n\r\nvar GetChildrenHeight = function () {\r\n    if (this.rexSizer.hidden) {\r\n        return 0;\r\n    }\r\n\r\n    var result = 0,\r\n        rowHeight;\r\n    var children = this.sizerChildren;\r\n    var child, padding, childHeight, proportion;\r\n\r\n    for (var i = 0; i < this.rowCount; i++) {\r\n        proportion = this.rowProportions[i];\r\n        rowHeight = 0;\r\n        if (proportion === 0) {\r\n            for (var j = 0; j < this.columnCount; j++) {\r\n                child = children[(i * this.columnCount) + j];\r\n                if (!child) {\r\n                    continue;\r\n                }\r\n                if (child.rexSizer.hidden) {\r\n                    continue;\r\n                }\r\n\r\n                childHeight = (child.isRexSizer) ?\r\n                    Math.max(child.minHeight, child.childrenHeight) :\r\n                    (child.hasOwnProperty('minHeight')) ? child.minHeight : GetDisplayHeight(child);\r\n                padding = child.rexSizer.padding;\r\n                childHeight += (padding.top + padding.bottom);\r\n                rowHeight = Math.max(rowHeight, childHeight);\r\n            }\r\n            result += rowHeight;\r\n        }\r\n        // else,(proportion > 0) : rowHeight is 0\r\n        this.rowHeight[i] = rowHeight;\r\n    }\r\n\r\n    var space = this.space;\r\n    var indentTop = Math.max(space.indentTopOdd, space.indentTopEven);\r\n    return result + Sum(space.top, indentTop, ...space.row, space.bottom);\r\n}\r\n\r\nexport default GetChildrenHeight;","var GetExpandedChildWidth = function (child, colWidth) {\r\n    var childWidth;\r\n    var childConfig = child.rexSizer;\r\n    if (childConfig.expand) {\r\n        var padding = childConfig.padding;\r\n        childWidth = colWidth - padding.left - padding.right;\r\n    }\r\n    return childWidth;\r\n}\r\n\r\nexport default GetExpandedChildWidth;","var GetExpandedChildHeight = function (child, rowHeight) {\r\n    var childHeight;\r\n    var childConfig = child.rexSizer;\r\n    if (childConfig.expand) {\r\n        var padding = childConfig.padding;\r\n        childHeight = rowHeight - padding.top - padding.bottom;\r\n    }\r\n    return childHeight;\r\n}\r\n\r\nexport default GetExpandedChildHeight;","var GetChildrenSizers = function (out) {\r\n    if (out === undefined) {\r\n        out = [];\r\n    }\r\n    var children = this.sizerChildren,\r\n        child;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        child = children[i];\r\n        if (child && child.isRexSizer) {\r\n            out.push(child);\r\n        }\r\n    }\r\n    return out;\r\n}\r\nexport default GetChildrenSizers;","import PreLayoutBase from '../basesizer/PreLayout.js';\r\n\r\nvar PreLayout = function () {\r\n    this._totalColumnProportions = undefined;\r\n    this._totalRowProportions = undefined;\r\n    this.proportionWidthLength = undefined;\r\n    this.proportionHeightLength = undefined;\r\n    PreLayoutBase.call(this);\r\n    return this;\r\n}\r\nexport default PreLayout;","import ResizeGameObject from '../../../plugins/utils/size/ResizeGameObject.js';\r\nimport PreLayoutChild from '../basesizer/utils/PreLayoutChild.js';\r\nimport LayoutChild from '../basesizer/utils/LayoutChild.js';\r\nimport CheckSize from '../basesizer/utils/CheckSize.js';\r\n\r\nvar LayoutChildren = function () {\r\n    var child, childConfig, padding;\r\n    var startX = this.innerLeft,\r\n        startY = this.innerTop;\r\n    var itemX,\r\n        itemY = startY;\r\n    var x, y, width, height; // Align zone\r\n    var childWidth, childHeight;\r\n    // Layout grid children\r\n    var columnSpace = this.space.column,\r\n        rowSpace = this.space.row,\r\n        indentLeftOdd = this.space.indentLeftOdd,\r\n        indentLeftEven = this.space.indentLeftEven,\r\n        indentTopOdd = this.space.indentTopOdd,\r\n        indentTopEven = this.space.indentTopEven;\r\n\r\n    var colWidth, rowHeight;\r\n    var indentLeft, indentTop;\r\n    for (var rowIndex = 0; rowIndex < this.rowCount; rowIndex++) {\r\n        rowHeight = this.getRowHeight(rowIndex);\r\n\r\n        indentLeft = (rowIndex % 2) ? indentLeftEven : indentLeftOdd;\r\n        itemX = startX + indentLeft;\r\n        for (var columnIndex = 0; columnIndex < this.columnCount; columnIndex++) {\r\n            colWidth = this.getColumnWidth(columnIndex);\r\n\r\n            child = this.getChildAt(columnIndex, rowIndex);\r\n            if ((!child) || (child.rexSizer.hidden)) {\r\n                itemX += (colWidth + columnSpace[columnIndex]);\r\n                continue;\r\n            }\r\n\r\n            PreLayoutChild.call(this, child);\r\n\r\n            childWidth = this.getExpandedChildWidth(child, colWidth);\r\n            childHeight = this.getExpandedChildHeight(child, rowHeight);\r\n            if (child.isRexSizer) {\r\n                child.runLayout(this, childWidth, childHeight);\r\n                CheckSize(child, this);\r\n            } else {\r\n                ResizeGameObject(child, childWidth, childHeight);\r\n            }\r\n\r\n            childConfig = child.rexSizer;\r\n            padding = childConfig.padding;\r\n\r\n            x = (itemX + padding.left);\r\n            width = colWidth - padding.left - padding.right;\r\n\r\n            indentTop = (columnIndex % 2) ? indentTopEven : indentTopOdd;\r\n            y = (itemY + indentTop + padding.top);\r\n            height = rowHeight - padding.top - padding.bottom;\r\n\r\n            LayoutChild.call(this, child, x, y, width, height, childConfig.align);\r\n\r\n            itemX += (colWidth + columnSpace[columnIndex]);\r\n        }\r\n\r\n        itemY += (rowHeight + rowSpace[rowIndex]);\r\n    }\r\n}\r\n\r\nexport default LayoutChildren;","import ResolveWidthBase from '../basesizer/ResolveWidth.js';\r\n\r\nvar ResolveWidth = function (width) {\r\n    var width = ResolveWidthBase.call(this, width);\r\n\r\n    // Get proportionLength\r\n    if (this.proportionWidthLength === undefined) {\r\n        var totalColumnProportions = this.totalColumnProportions;\r\n        if (totalColumnProportions > 0) {\r\n            var remainder = width - this.childrenWidth;\r\n            if (remainder >= 0) {\r\n                this.proportionWidthLength = remainder / totalColumnProportions;\r\n            } else {\r\n                // Warning\r\n            }\r\n        } else {\r\n            this.proportionWidthLength = 0;\r\n        }\r\n    }\r\n\r\n    return width;\r\n}\r\n\r\nexport default ResolveWidth;","import ResolveHeightBase from '../basesizer/ResolveHeight.js';\r\n\r\nvar ResolveHeight = function (parent, height) {\r\n    var height = ResolveHeightBase.call(this, parent, height);\r\n\r\n    // Get proportionLength    \r\n    if (this.proportionHeightLength === undefined) {\r\n        var totalRowProportions = this.totalRowProportions;\r\n        if (totalRowProportions > 0) {\r\n            var remainder = height - this.childrenHeight;\r\n            if (remainder >= 0) {\r\n                this.proportionHeightLength = remainder / totalRowProportions;\r\n            } else {\r\n                // Warning\r\n            }\r\n        } else {\r\n            this.proportionHeightLength = 0;\r\n        }\r\n    }\r\n\r\n    return height;\r\n}\r\n\r\nexport default ResolveHeight;","var ResolveChildrenWidth = function (parentWidth) {\r\n    // Resolve width of sizer children\r\n    var child, childWidth;\r\n    var colWidth;\r\n    for (var i in this.sizerChildren) {\r\n        child = this.sizerChildren[i];\r\n        if (child && child.isRexSizer && !child.ignoreLayout) {\r\n            colWidth = this.getColumnWidth(parseInt(i) % this.columnCount);\r\n            childWidth = this.getExpandedChildWidth(child, colWidth);\r\n            childWidth = child.resolveWidth(childWidth);\r\n            child.resolveChildrenWidth(childWidth);\r\n        }\r\n    }\r\n}\r\n\r\nexport default ResolveChildrenWidth;","// Default method\r\nvar RunWidthWrap = function (width) {\r\n    var child, childWidth;\r\n    var colWidth;\r\n    for (var i in this.sizerChildren) {\r\n        child = this.sizerChildren[i];\r\n        if (\r\n            (!child) ||\r\n            (child.isRexSizer && child.ignoreLayout) ||\r\n            (!child.runWidthWrap)\r\n        ) {\r\n            continue;\r\n        }\r\n\r\n        colWidth = this.getColumnWidth(parseInt(i) % this.columnCount);\r\n        childWidth = this.getExpandedChildWidth(child, colWidth);\r\n        if (child.isRexSizer) {\r\n            childWidth = child.resolveWidth(childWidth);\r\n        }\r\n        child.runWidthWrap(childWidth);\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default RunWidthWrap;","import AddChild from '../basesizer/utils/AddChild.js';\r\nimport GetBoundsConfig from '../utils/GetBoundsConfig.js';\r\nimport ALIGNMODE from '../utils/AlignConst.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst ALIGN_CENTER = Phaser.Display.Align.CENTER;\r\n\r\n\r\nvar GetEmptyCellIndex = function (columnIndex, rowIndex, cells, columnCount, rowCount) {\r\n    if ((typeof (columnIndex) === 'number') || (typeof (rowIndex) === 'number')) {\r\n        if (columnIndex === undefined) {\r\n            var idx;\r\n            for (var i = 0; i < columnCount; i++) {\r\n                idx = (rowIndex * columnCount) + i;\r\n                if (!cells[idx]) {\r\n                    return idx;\r\n                }\r\n            }\r\n        } else if (rowIndex === undefined) {\r\n            var idx;\r\n            for (var i = 0; i < rowCount; i++) {\r\n                idx = (i * columnCount) + columnIndex;\r\n                if (!cells[idx]) {\r\n                    return idx;\r\n                }\r\n            }\r\n        } else {\r\n            var idx = (rowIndex * columnCount) + columnIndex;\r\n            if (!cells[idx]) {\r\n                return idx;\r\n            }\r\n        }\r\n\r\n    } else if (rowIndex === true) {\r\n        var idx;\r\n        for (var i = 0; i < columnCount; i++) {\r\n            for (var j = 0; j < rowCount; j++) {\r\n                idx = (j * columnCount) + i;\r\n                if (!cells[idx]) {\r\n                    return idx;\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        for (var i = 0, cnt = cells.length; i < cnt; i++) {\r\n            if (!cells[i]) {\r\n                return i;\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nvar Add = function (gameObject, columnIndex, rowIndex, align, paddingConfig, expand, childKey) {\r\n    AddChild.call(this, gameObject);\r\n    if (IsPlainObject(columnIndex)) {\r\n        var config = columnIndex;\r\n        columnIndex = GetValue(config, 'column', undefined);\r\n        rowIndex = GetValue(config, 'row', undefined);\r\n        align = GetValue(config, 'align', ALIGN_CENTER);\r\n        paddingConfig = GetValue(config, 'padding', 0);\r\n        expand = GetValue(config, 'expand', false);\r\n        childKey = GetValue(config, 'key', undefined);\r\n    }\r\n\r\n    // Get insert index\r\n    var itemIndex = GetEmptyCellIndex(columnIndex, rowIndex, this.sizerChildren, this.columnCount, this.rowCount);\r\n    if (itemIndex === null) {\r\n        // Specific index mode\r\n        if ((typeof (columnIndex) === 'number') && (typeof (rowIndex) === 'number')) {\r\n            return this;\r\n        }\r\n\r\n        if ((rowIndex === true) || (typeof (rowIndex) === 'number')) {\r\n            this.addEmptyColumn();\r\n        } else {            \r\n            this.addEmptyRow();\r\n        }\r\n\r\n        // Get insert index again\r\n        itemIndex = GetEmptyCellIndex(columnIndex, rowIndex, this.sizerChildren, this.columnCount, this.rowCount);\r\n    }\r\n\r\n    if (typeof (align) === 'string') {\r\n        align = ALIGNMODE[align];\r\n    }\r\n    if (align === undefined) {\r\n        align = ALIGN_CENTER;\r\n    }\r\n    if (paddingConfig === undefined) {\r\n        paddingConfig = 0;\r\n    }\r\n    if (expand === undefined) {\r\n        expand = true;\r\n    }\r\n\r\n    var config = this.getSizerConfig(gameObject);\r\n    config.align = align;\r\n    config.padding = GetBoundsConfig(paddingConfig);\r\n    config.expand = expand;\r\n    this.sizerChildren[itemIndex] = gameObject;\r\n\r\n    if (childKey !== undefined) {\r\n        this.addChildrenMap(childKey, gameObject)\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default {\r\n    add: Add\r\n}","var Fill = function (arr, value, startIdx, endIdx) {\r\n    if (startIdx === undefined) {\r\n        startIdx = 0;\r\n    }\r\n    if (endIdx === undefined) {\r\n        endIdx = arr.length - 1;\r\n    }\r\n    for (var i = startIdx; i <= endIdx; i++) {\r\n        arr[i] = value;\r\n    }\r\n    return arr;\r\n}\r\n\r\nexport default Fill;","import RemoveChild from '../basesizer/utils/RemoveChild.js';\r\nimport ClearChildren from '../basesizer/utils/ClearChildren.js';\r\nimport ArrayFill from '../../../plugins/utils/array/Fill.js';\r\n\r\nexport default {\r\n    remove(gameObject, destroyChild) {\r\n        if (this.getParentSizer(gameObject) !== this) {\r\n            return this;\r\n        }\r\n\r\n        var idx = this.sizerChildren.indexOf(gameObject);\r\n        if (idx !== -1) {\r\n            this.sizerChildren[idx] = null;\r\n        }\r\n\r\n        RemoveChild.call(this, gameObject, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    removeAt(columnIndex, rowIndex, destroyChild) {\r\n        var child = this.getChildAt(columnIndex, rowIndex);\r\n        if (child) {\r\n            this.remove(child, destroyChild);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    removeAll(destroyChild) {\r\n        for (var i = this.sizerChildren.length - 1; i >= 0; i--) {\r\n            var child = this.sizerChildren[i];\r\n            if (!child) {\r\n                continue;\r\n            }\r\n\r\n            this.remove(child, destroyChild);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    clear(destroyChild) {\r\n        ArrayFill(this.sizerChildren, null);\r\n        ClearChildren.call(this, destroyChild);\r\n        return this;\r\n    }\r\n}","import ArrayFill from '../../../plugins/utils/array/Fill.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar ResetGrid = function (columnCount, rowCount, columnProportions, rowProportions, space) {\r\n    if (columnProportions === undefined) {\r\n        columnProportions = 0;\r\n    }\r\n    if (rowProportions === undefined) {\r\n        rowProportions = 0;\r\n    }\r\n\r\n    this.columnCount = columnCount;\r\n    this.rowCount = rowCount;\r\n    this.gridCount = columnCount * rowCount;\r\n\r\n    // children\r\n    if (this.sizerChildren === undefined) {\r\n        this.sizerChildren = [];\r\n    } else {\r\n        this.removeAll();\r\n    }\r\n    this.sizerChildren.length = columnCount * rowCount;\r\n    ArrayFill(this.sizerChildren, null);\r\n\r\n    // proportions\r\n    this.columnProportions = [];\r\n    this.columnProportions.length = columnCount;\r\n    if (typeof (columnProportions) === 'number') {\r\n        ArrayFill(this.columnProportions, columnProportions);\r\n    } else {\r\n        for (var i = 0; i < columnCount; i++) {\r\n            this.columnProportions[i] = columnProportions[i] || 0;\r\n        }\r\n    }\r\n    this.rowProportions = [];\r\n    this.rowProportions.length = rowCount;\r\n    if (typeof (rowProportions) === 'number') {\r\n        ArrayFill(this.rowProportions, rowProportions);\r\n    } else {\r\n        for (var i = 0; i < rowCount; i++) {\r\n            this.rowProportions[i] = rowProportions[i] || 0;\r\n        }\r\n    }\r\n\r\n    // width & height\r\n    this.columnWidth = [];\r\n    this.columnWidth.length = columnCount;\r\n    this.rowHeight = [];\r\n    this.rowHeight.length = rowCount;\r\n\r\n    // space\r\n    this.space.column = [];\r\n    this.space.column.length = columnCount - 1;\r\n    var columnSpace = GetValue(space, 'column', 0);\r\n    if (typeof (columnSpace) === 'number') {\r\n        ArrayFill(this.space.column, columnSpace);\r\n    } else {\r\n        for (var i = 0, cnt = this.space.column.length; i < cnt; i++) {\r\n            this.space.column[i] = columnSpace[i] || 0;\r\n        }\r\n    }\r\n    this.space.row = [];\r\n    this.space.row.length = rowCount - 1;\r\n    var rowSpace = GetValue(space, 'row', 0);\r\n    if (typeof (rowSpace) === 'number') {\r\n        ArrayFill(this.space.row, rowSpace);\r\n    } else {\r\n        for (var i = 0, cnt = this.space.row.length; i < cnt; i++) {\r\n            this.space.row[i] = rowSpace[i] || 0;\r\n        }\r\n    }\r\n\r\n    return this;\r\n}\r\n\r\nexport default ResetGrid;","var InseryEmptyRow = function (rowIndex, proportion, space) {\r\n    if (proportion === undefined) {\r\n        proportion = this.rowProportions[0] || 0;\r\n    }\r\n    if (space === undefined) {\r\n        space = this.space.row[0] || 0;\r\n    }\r\n\r\n    this.rowCount += 1;\r\n    this.gridCount += this.columnCount;\r\n\r\n    var args = [rowIndex * this.columnCount, 0];\r\n    for (var i = 0; i < this.columnCount; i++) {\r\n        args.push(null);\r\n    }\r\n    this.sizerChildren.splice.apply(this.sizerChildren, args);\r\n\r\n    this.rowProportions.push(proportion);\r\n\r\n    this.rowHeight.length += 1;  // this.rowHeight will be recalculated when layout()    \r\n\r\n    this.space.row.splice(rowIndex, 0, space);\r\n\r\n    return this;\r\n}\r\n\r\nvar AddEmptyRow = function (proportion, space) {\r\n    InseryEmptyRow.call(this, this.rowCount, proportion, space);\r\n    return this;\r\n}\r\n\r\nexport {\r\n    InseryEmptyRow,\r\n    AddEmptyRow\r\n};","var InsertEmptyColumn = function (colIndex, proportion, space) {\r\n    if (proportion === undefined) {\r\n        proportion = this.columnProportions[0] || 0;\r\n    }\r\n    if (space === undefined) {\r\n        space = this.space.column[0] || 0;\r\n    }\r\n\r\n    this.columnCount += 1;\r\n    this.gridCount += this.rowCount;\r\n\r\n    for (var i = this.rowCount - 1; i >= 0; i--) {\r\n        var insertIndex = (i * this.columnCount) + colIndex;\r\n        this.sizerChildren.splice(insertIndex, 0, null);\r\n    }\r\n\r\n    this.columnProportions.push(proportion);\r\n\r\n    this.columnWidth.length += 1;  // this.columnWidth will be recalculated when layout()    \r\n\r\n    this.space.column.splice(colIndex, 0, space);\r\n\r\n    return this;\r\n}\r\n\r\nvar AddEmptyColumn = function (proportion, space) {\r\n    InsertEmptyColumn.call(this, this.columnCount, proportion, space);\r\n    return this;\r\n}\r\n\r\nexport {\r\n    InsertEmptyColumn,\r\n    AddEmptyColumn\r\n};","import GetChildrenWidth from './GetChildrenWidth.js';\r\nimport GetChildrenHeight from './GetChildrenHeight.js';\r\nimport GetExpandedChildWidth from './GetExpandedChildWidth.js';\r\nimport GetExpandedChildHeight from './GetExpandedChildHeight.js';\r\nimport GetChildrenSizers from './GetChildrenSizers.js';\r\nimport PreLayout from './PreLayout.js';\r\nimport LayoutChildren from './LayoutChildren.js';\r\nimport ResolveWidth from './ResolveWidth.js';\r\nimport ResolveHeight from './ResolveHeight.js';\r\nimport ResolveChildrenWidth from './ResolveChildrenWidth.js';\r\nimport RunWidthWrap from './RunWidthWrap.js';\r\nimport AddChildMethods from './AddChildMethods.js';\r\nimport RemoveChildMethods from './RemoveChildMethods.js';\r\nimport ResetGrid from './ResetGrid.js';\r\nimport { InseryEmptyRow, AddEmptyRow } from './InsertEmptyRow.js';\r\nimport { InsertEmptyColumn, AddEmptyColumn } from './InsertEmptyColumn.js';\r\n\r\n\r\nvar methods = {\r\n    getChildrenWidth: GetChildrenWidth,\r\n    getChildrenHeight: GetChildrenHeight,\r\n    getExpandedChildWidth: GetExpandedChildWidth,\r\n    getExpandedChildHeight: GetExpandedChildHeight,\r\n    getChildrenSizers: GetChildrenSizers,\r\n    preLayout: PreLayout,\r\n    layoutChildren: LayoutChildren,\r\n    resolveWidth: ResolveWidth,\r\n    resolveHeight: ResolveHeight,\r\n    resolveChildrenWidth: ResolveChildrenWidth,\r\n    runWidthWrap: RunWidthWrap,\r\n\r\n    resetGrid: ResetGrid,\r\n    inseryEmptyRow: InseryEmptyRow,\r\n    addEmptyRow: AddEmptyRow,\r\n    insertEmptyColumn: InsertEmptyColumn,\r\n    addEmptyColumn: AddEmptyColumn,\r\n};\r\n\r\nObject.assign(\r\n    methods,\r\n    AddChildMethods,\r\n    RemoveChildMethods\r\n);\r\n\r\nexport default methods;","var GetTotalColumnProportions = function () {\r\n    var result = 0,\r\n        proportion;\r\n    for (var i = 0; i < this.columnCount; i++) {\r\n        proportion = this.columnProportions[i];\r\n        if (proportion > 0) {\r\n            result += proportion;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nexport default GetTotalColumnProportions;","var GetTotalRowProportions = function () {\r\n    var result = 0,\r\n        proportion;\r\n    for (var i = 0; i < this.rowCount; i++) {\r\n        proportion = this.rowProportions[i];\r\n        if (proportion > 0) {\r\n            result += proportion;\r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nexport default GetTotalRowProportions;","import BaseSizer from '../basesizer/BaseSizer.js';\r\nimport Methods from './Methods.js';\r\nimport GetTotalColumnProportions from './GetTotalColumnProportions.js';\r\nimport GetTotalRowProportions from './GetTotalRowProportions.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass GridSizer extends BaseSizer {\r\n    constructor(scene, x, y, minWidth, minHeight, columnCount, rowCount, columnProportions, rowProportions, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            minWidth = GetValue(config, 'width', undefined);\r\n            minHeight = GetValue(config, 'height', undefined);\r\n            columnCount = GetValue(config, 'column', (config.col || 0));\r\n            rowCount = GetValue(config, 'row', 0);\r\n            columnProportions = GetValue(config, 'columnProportions', 0);\r\n            rowProportions = GetValue(config, 'rowProportions', 0);\r\n        } else if (IsPlainObject(minWidth)) {\r\n            config = minWidth;\r\n            minWidth = GetValue(config, 'width', undefined);\r\n            minHeight = GetValue(config, 'height', undefined);\r\n            columnCount = GetValue(config, 'column', (config.col || 0));\r\n            rowCount = GetValue(config, 'row', 0);\r\n            columnProportions = GetValue(config, 'columnProportions', 0);\r\n            rowProportions = GetValue(config, 'rowProportions', 0);\r\n        } else if (IsPlainObject(columnCount)) {\r\n            config = columnCount;\r\n            columnCount = GetValue(config, 'column', (config.col || 0));\r\n            rowCount = GetValue(config, 'row', 0);\r\n            columnProportions = GetValue(config, 'columnProportions', 0);\r\n            rowProportions = GetValue(config, 'rowProportions', 0);\r\n        } else if (IsPlainObject(columnProportions)) {\r\n            config = columnProportions;\r\n            columnProportions = GetValue(config, 'columnProportions', 0);\r\n            rowProportions = GetValue(config, 'rowProportions', 0);\r\n        }\r\n        super(scene, x, y, minWidth, minHeight, config);\r\n\r\n        this.type = 'rexGridSizer';\r\n        this.resetGrid(\r\n            columnCount, rowCount,\r\n            columnProportions, rowProportions,\r\n            GetValue(config, 'space', undefined)\r\n        );\r\n\r\n        this.setIndentLeft(\r\n            GetValue(config, 'space.indentLeftOdd', 0),\r\n            GetValue(config, 'space.indentLeftEven', 0)\r\n        );\r\n        this.setIndentTop(\r\n            GetValue(config, 'space.indentTopOdd', 0),\r\n            GetValue(config, 'space.indentTopEven', 0)\r\n        );\r\n\r\n        this.addChildrenMap('items', this.sizerChildren);\r\n\r\n        var createCellContainerCallback = GetValue(config, 'createCellContainerCallback');\r\n        if (createCellContainerCallback) {\r\n            for (var y = 0, ycnt = this.rowCount; y < ycnt; y++) {\r\n                for (var x = 0, xcnt = this.columnCount; x < xcnt; x++) {\r\n                    var addConfig = { column: x, row: y };\r\n                    var child = createCellContainerCallback(scene, x, y, addConfig);\r\n                    if (child) {\r\n                        this.add(child, addConfig);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        super.destroy(fromScene);\r\n\r\n        // More free resources\r\n        this.columnProportions = undefined;\r\n        this.rowProportions = undefined;\r\n        this.columnWidth = undefined;\r\n        this.rowHeight = undefined;\r\n    }\r\n\r\n    setIndentLeft(odd, even) {\r\n        this.space.indentLeftOdd = odd;\r\n        this.space.indentLeftEven = even;\r\n        return this;\r\n    }\r\n\r\n    setIndentTop(odd, even) {\r\n        this.space.indentTopOdd = odd;\r\n        this.space.indentTopEven = even;\r\n        return this;\r\n    }\r\n\r\n    setColumnProportion(columnIndex, proportion) {\r\n        if (columnIndex >= this.columnProportions.length) {\r\n            return this;\r\n        }\r\n        this.columnProportions[columnIndex] = proportion;\r\n        return this;\r\n    }\r\n\r\n    setRowProportion(rowIndex, proportion) {\r\n        if (rowIndex >= this.rowProportions.length) {\r\n            return this;\r\n        }\r\n        this.rowProportions[rowIndex] = proportion;\r\n        return this;\r\n    }\r\n\r\n    get totalColumnProportions() {\r\n        if (this._totalColumnProportions === undefined) {\r\n            this._totalColumnProportions = GetTotalColumnProportions.call(this);\r\n        }\r\n        return this._totalColumnProportions;\r\n    }\r\n\r\n    get totalRowProportions() {\r\n        if (this._totalRowProportions === undefined) {\r\n            this._totalRowProportions = GetTotalRowProportions.call(this);\r\n        }\r\n        return this._totalRowProportions;\r\n    }\r\n\r\n    getChildAt(columnIndex, rowIndex) {\r\n        return this.sizerChildren[(rowIndex * this.columnCount) + columnIndex];\r\n    }\r\n\r\n    childToGridIndex(child, out) {\r\n        if (!child) {\r\n            return null;\r\n        }\r\n\r\n        var index = this.sizerChildren.indexOf(child);\r\n        if (index === -1) {\r\n            return null;\r\n        }\r\n\r\n        if (out === undefined) {\r\n            out = {};\r\n        }\r\n        out.x = index % this.columnCount;\r\n        out.y = Math.floor(index / this.columnCount);\r\n        return out;\r\n    }\r\n\r\n    getColumnWidth(columnIndex) {\r\n        var colProportion = this.columnProportions[columnIndex];\r\n        var colWidth = (colProportion === 0) ? this.columnWidth[columnIndex] : (colProportion * this.proportionWidthLength);\r\n        return colWidth;\r\n    }\r\n\r\n    getRowHeight(rowIndex) {\r\n        var rowProportion = this.rowProportions[rowIndex];\r\n        var rowHeight = (rowProportion === 0) ? this.rowHeight[rowIndex] : (rowProportion * this.proportionHeightLength);\r\n        return rowHeight;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    GridSizer.prototype,\r\n    Methods\r\n);\r\n\r\nexport default GridSizer;","var GetChildrenWidth = function () {\r\n    if (this.rexSizer.hidden) {\r\n        return 0;\r\n    }\r\n\r\n    // Before RunChildrenWrap\r\n    return this.maxChildWidth + this.space.left + this.space.right;\r\n}\r\n\r\nexport default GetChildrenWidth;","var GetChildrenHeight = function () {\r\n    if (this.rexSizer.hidden) {\r\n        return 0;\r\n    }\r\n\r\n    // After RunChildrenWrap\r\n    return this.widthWrapResult.height + this.space.top + this.space.bottom;\r\n}\r\n\r\nexport default GetChildrenHeight;","var GetChildrenSizers = function (out) {\r\n    if (out === undefined) {\r\n        out = [];\r\n    }\r\n    var children = this.sizerChildren, child;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        child = children[i];\r\n        if (child === '\\n') {\r\n            continue;\r\n        }\r\n        if (child.isRexSizer) {\r\n            out.push(child);\r\n        }\r\n    }\r\n    return out;\r\n}\r\nexport default GetChildrenSizers;","import PreLayoutBase from '../basesizer/PreLayout.js';\r\n\r\nvar PreLayout = function () {\r\n    this._maxChildWidth = undefined;\r\n    this._maxChildHeight = undefined;\r\n    PreLayoutBase.call(this);\r\n    return this;\r\n}\r\nexport default PreLayout;","import PreLayoutChild from '../basesizer/utils/PreLayoutChild.js';\r\nimport LayoutChild from '../basesizer/utils/LayoutChild.js';\r\nimport { GetDisplayWidth, GetDisplayHeight } from '../../../plugins/utils/size/GetDisplaySize.js';\r\n\r\n\r\nvar LayoutChildren = function () {\r\n    var innerLineWidth = this.innerWidth;\r\n    var justifyPercentage = this.justifyPercentage;\r\n    var itemSpace = this.space.item,\r\n        lineSpace = this.space.line,\r\n        indentLeftOdd = this.space.indentLeftOdd,\r\n        indentLeftEven = this.space.indentLeftEven,\r\n        indentTopOdd = this.space.indentTopOdd,\r\n        indentTopEven = this.space.indentTopEven;\r\n\r\n    var child, childConfig, padding, justifySpace = 0, indentLeft, indentTop;\r\n    var startX = this.innerLeft,\r\n        startY = this.innerTop;\r\n    var x, y, width, height; // Align zone\r\n    var lines = this.widthWrapResult.lines;\r\n    var line, lineChlidren, remainderLineWidth;\r\n\r\n    var itemX,\r\n        itemY = startY;\r\n    for (var i = 0, icnt = lines.length; i < icnt; i++) {\r\n        // Layout this line\r\n        line = lines[i];\r\n        lineChlidren = line.children;\r\n        if (this.rtl) {\r\n            lineChlidren.reverse();\r\n        }\r\n\r\n        indentLeft = (i % 2) ? indentLeftEven : indentLeftOdd;\r\n        itemX = startX + indentLeft;\r\n\r\n        remainderLineWidth = (innerLineWidth - line.width);\r\n        switch (this.align) {\r\n            case 0: // left\r\n                break;\r\n            case 1: // right\r\n                itemX += remainderLineWidth;\r\n                break;\r\n            case 2: // center\r\n                itemX += remainderLineWidth / 2;\r\n                break;\r\n            case 3: // justify-left\r\n                justifySpace = GetJustifySpace(innerLineWidth, remainderLineWidth, justifyPercentage, lineChlidren.length);\r\n                break;\r\n            case 4: // justify-right\r\n                justifySpace = GetJustifySpace(innerLineWidth, remainderLineWidth, justifyPercentage, lineChlidren.length);\r\n                if (justifySpace === 0) {\r\n                    // Align right\r\n                    itemX += remainderLineWidth;\r\n                }\r\n                break;\r\n            case 5: // justify-center\r\n                justifySpace = GetJustifySpace(innerLineWidth, remainderLineWidth, justifyPercentage, lineChlidren.length);\r\n                if (justifySpace === 0) {\r\n                    // Align center\r\n                    itemX += remainderLineWidth / 2;\r\n                }\r\n                break;\r\n        }\r\n\r\n\r\n        for (var j = 0, jcnt = lineChlidren.length; j < jcnt; j++) {\r\n            child = lineChlidren[j];\r\n            if (child.rexSizer.hidden) {\r\n                continue;\r\n            }\r\n\r\n            childConfig = child.rexSizer;\r\n            padding = childConfig.padding;\r\n\r\n            PreLayoutChild.call(this, child);\r\n\r\n            x = (itemX + padding.left);\r\n            if (j > 0) {\r\n                x += itemSpace;\r\n            }\r\n\r\n\r\n            indentTop = (j % 2) ? indentTopEven : indentTopOdd;\r\n            y = (itemY + indentTop + padding.top);\r\n            width = GetDisplayWidth(child);\r\n            height = GetDisplayHeight(child);\r\n            itemX = x + width + padding.right + justifySpace;\r\n\r\n            LayoutChild.call(this, child, x, y, width, height, childConfig.align);\r\n        }\r\n\r\n        itemY += line.height + lineSpace;\r\n    }\r\n}\r\n\r\nvar GetJustifySpace = function (total, remainder, justifyPercentage, childCount) {\r\n    return ((remainder / total) <= justifyPercentage) ? (remainder / (childCount - 1)) : 0;\r\n}\r\n\r\nexport default LayoutChildren;","import { GetDisplayWidth, GetDisplayHeight } from '../../../plugins/utils/size/GetDisplaySize.js';\r\n\r\nvar RunChildrenWrap = function (lineWidth, out) {\r\n    if (out === undefined) {\r\n        out = {\r\n            lines: [],\r\n            width: 0,\r\n            height: 0\r\n        }\r\n    } else {\r\n        out.lines.length = 0;\r\n        out.width = 0;\r\n        out.height = 0;\r\n    }\r\n\r\n    var children = this.sizerChildren;\r\n    var itemSpace = this.space.item,\r\n        lineSpace = this.space.line,\r\n        indentLeftOdd = this.space.indentLeftOdd,\r\n        indentLeftEven = this.space.indentLeftEven,\r\n        indentTopOdd = this.space.indentTopOdd,\r\n        indentTopEven = this.space.indentTopEven;\r\n    var child, childWidth, childHeight, remainder = 0, indentLeft;\r\n    var lines = out.lines,\r\n        lastLine = undefined,\r\n        newLine;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        child = children[i];\r\n        if (child === '\\n') {\r\n            child = undefined;\r\n            childWidth = 0;\r\n            newLine = true;\r\n        } else {\r\n            if (child.rexSizer.hidden) {\r\n                continue;\r\n            }\r\n\r\n            if (child.isRexSizer) {\r\n                child.layout(); // Use original size\r\n            }\r\n\r\n            childWidth = GetChildWidth(child);\r\n            newLine = (remainder < childWidth) || (lastLine === undefined);\r\n        }\r\n        // New line\r\n        if (newLine) {\r\n            if (lastLine) {\r\n                lastLine.width = lineWidth - (remainder + itemSpace);\r\n                out.width = Math.max(out.width, lastLine.width);\r\n                out.height += lastLine.height + lineSpace;\r\n            }\r\n\r\n            lastLine = {\r\n                children: [],\r\n                // width: 0,\r\n                height: 0\r\n            };\r\n            lines.push(lastLine);\r\n\r\n            var indentLeft = (lines.length % 2) ? indentLeftOdd : indentLeftEven;\r\n            remainder = lineWidth - indentLeft;\r\n        }\r\n\r\n        remainder -= (childWidth + itemSpace);\r\n        if (child) {\r\n            lastLine.children.push(child);\r\n            childHeight = GeChildHeight(child);\r\n            lastLine.height = Math.max(lastLine.height, childHeight);\r\n        }\r\n    }\r\n\r\n    if (lastLine) {\r\n        lastLine.width = lineWidth - (remainder + itemSpace);\r\n        out.width = Math.max(out.width, lastLine.width);\r\n        out.height += lastLine.height;\r\n    }\r\n\r\n    out.height += Math.max(indentTopOdd, indentTopEven);\r\n\r\n    return out;\r\n}\r\n\r\nvar GetChildWidth = function (child) {\r\n    var padding = child.rexSizer.padding;\r\n    return GetDisplayWidth(child) + padding.left + padding.right;\r\n}\r\n\r\nvar GeChildHeight = function (child) {\r\n    var padding = child.rexSizer.padding;\r\n    return GetDisplayHeight(child) + padding.top + padding.bottom;\r\n}\r\n\r\nexport default RunChildrenWrap;","import RunChildrenWrapBase from '../basesizer/RunWidthWrap.js';\r\nimport RunChildrenWrap from './RunChildrenWrap.js';\r\n\r\nvar RunWidthWrap = function (width) {\r\n    var innerWidth = width - this.space.left - this.space.right;\r\n    this.widthWrapResult = RunChildrenWrap.call(this, innerWidth, this.widthWrapResult);\r\n    RunChildrenWrapBase.call(this, width);\r\n}\r\n\r\nexport default RunWidthWrap;","const DistanceBetween = Phaser.Math.Distance.Between;\r\n\r\nvar GetNearestChildIndex = function (x, y) {\r\n    var children = this.sizerChildren;\r\n    if (children.length === 0) {\r\n        return -1;\r\n    }\r\n\r\n    var nearestIndex = -1,\r\n        minDistance = Infinity;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        var child = children[i];\r\n        // position is not at this line\r\n        if (Math.abs(child.centerY - y) > (child.height / 2)) {\r\n            continue;\r\n        }\r\n\r\n        // Check left bound\r\n        var distance = DistanceBetween(child.left, child.centerY, x, y);\r\n        if (minDistance > distance) {\r\n            minDistance = distance;\r\n            nearestIndex = i;\r\n        }\r\n\r\n        // Is last child of this line\r\n        var nextChild = children[i + 1];\r\n        if (nextChild && (nextChild.y === child.y)) {\r\n            continue;\r\n        }\r\n\r\n        var distance = DistanceBetween(child.right, child.centerY, x, y);\r\n        if (minDistance > distance) {\r\n            minDistance = distance;\r\n            nearestIndex = i + 1;\r\n        }\r\n    }\r\n\r\n    return nearestIndex;\r\n}\r\n\r\nexport default GetNearestChildIndex;","import AddChild from '../basesizer/utils/AddChild.js';\r\nimport GetBoundsConfig from '../utils/GetBoundsConfig.js';\r\nimport IsArray from '../../../plugins/utils/object/IsArray.js';\r\nimport GetNearestChildIndex from './GetNearestChildIndex.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst ALIGN_CENTER = Phaser.Display.Align.CENTER;\r\n\r\nvar Add = function (gameObject, paddingConfig, childKey, index) {\r\n    if (gameObject === '\\n') {\r\n        this.addNewLine();\r\n        return this;\r\n    }\r\n\r\n    AddChild.call(this, gameObject);\r\n\r\n    if (IsPlainObject(paddingConfig)) {\r\n        var config = paddingConfig;\r\n        paddingConfig = GetValue(config, 'padding', 0);\r\n        childKey = GetValue(config, 'key', undefined);\r\n        index = GetValue(config, 'index', undefined);\r\n    }\r\n    if (paddingConfig === undefined) {\r\n        paddingConfig = 0;\r\n    }\r\n\r\n    var config = this.getSizerConfig(gameObject);\r\n    config.align = ALIGN_CENTER;\r\n    config.padding = GetBoundsConfig(paddingConfig);\r\n    if ((index === undefined) || (index >= this.sizerChildren.length)) {\r\n        this.sizerChildren.push(gameObject);\r\n    } else {\r\n        this.sizerChildren.splice(index, 0, gameObject);\r\n    }\r\n\r\n    if (childKey !== undefined) {\r\n        this.addChildrenMap(childKey, gameObject)\r\n    }\r\n    return this;\r\n};\r\n\r\nexport default {\r\n    add(gameObject, paddingConfig, childKey) {\r\n        if (IsArray(gameObject)) {\r\n            var gameObjects = gameObject;\r\n            for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n                Add.call(this, gameObjects[i], paddingConfig);\r\n            }\r\n        } else {\r\n            Add.call(this, gameObject, paddingConfig, childKey);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    addNewLine() {\r\n        this.sizerChildren.push('\\n');\r\n        return this;\r\n    },\r\n\r\n    insert(index, gameObject, paddingConfig, childKey) {\r\n        Add.call(this, gameObject, paddingConfig, childKey, index);\r\n        return this;\r\n    },\r\n\r\n    insertAtPosition(x, y, gameObject, paddingConfig, childKey) {\r\n        var index = GetNearestChildIndex.call(this, x, y);\r\n        if (index === -1) {\r\n            index = undefined;\r\n        }\r\n        this.insert(index, gameObject, paddingConfig, childKey);\r\n        return this;\r\n    }\r\n}","import RemoveChild from '../basesizer/utils/RemoveChild.js';\r\nimport ClearChildren from '../basesizer/utils/ClearChildren.js';\r\n\r\nconst RemoveItem = Phaser.Utils.Array.Remove;\r\n\r\nexport default {\r\n    remove(gameObject, destroyChild) {\r\n        if (this.getParentSizer(gameObject) !== this) {\r\n            return this;\r\n        }\r\n        RemoveItem(this.sizerChildren, gameObject);\r\n        RemoveChild.call(this, gameObject, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    removeAll(destroyChild) {\r\n        for (var i = this.sizerChildren.length - 1; i >= 0; i--) {\r\n            this.remove(this.sizerChildren[i], destroyChild);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    clear(destroyChild) {\r\n        this.sizerChildren.length = 0;\r\n        ClearChildren.call(this, destroyChild);\r\n        return this;\r\n    }\r\n}","import GetChildrenWidth from './GetChildrenWidth.js';\r\nimport GetChildrenHeight from './GetChildrenHeight.js';\r\nimport GetChildrenSizers from './GetChildrenSizers.js';\r\nimport PreLayout from './PreLayout.js';\r\nimport LayoutChildren from './LayoutChildren.js';\r\nimport RunWidthWrap from './RunWidthWrap.js';\r\nimport AddChildMethods from './AddChildMethods.js';\r\nimport RemoveChildMethods from './RemoveChildMethods.js';\r\n\r\nvar methods = {\r\n    getChildrenWidth: GetChildrenWidth,\r\n    getChildrenHeight: GetChildrenHeight,\r\n    getChildrenSizers: GetChildrenSizers,\r\n    preLayout: PreLayout,\r\n    layoutChildren: LayoutChildren,\r\n    runWidthWrap: RunWidthWrap,\r\n};\r\n\r\nObject.assign(\r\n    methods,\r\n    AddChildMethods,\r\n    RemoveChildMethods\r\n);\r\n\r\nexport default methods;","var GetMaxChildWidth = function (children) {\r\n    if (children === undefined) {\r\n        children = this.sizerChildren;\r\n    }\r\n    var result = 0;\r\n    var child, childWidth;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        child = children[i];\r\n        if (child === '\\n') {\r\n            continue;\r\n        }\r\n\r\n        childWidth = this.getChildWidth(child);\r\n        result = Math.max(childWidth, result);\r\n    }\r\n    return result;\r\n}\r\nexport default GetMaxChildWidth;","import { GetDisplayHeight } from '../../../plugins/utils/size/GetDisplaySize.js';\r\n\r\nvar GetMaxChildHeight = function (children) {\r\n    if (children === undefined) {\r\n        children = this.sizerChildren;\r\n    }\r\n    var result = 0;\r\n    var child, childHeight;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        child = children[i];\r\n        if (child === '\\n') {\r\n            continue;\r\n        }\r\n\r\n        childHeight = (child.isRexSizer) ?\r\n            Math.max(child.minHeight, child.childrenHeight) :\r\n            (child.hasOwnProperty('minHeight')) ? child.minHeight : GetDisplayHeight(child);\r\n        result = Math.max(childHeight, result);\r\n    }\r\n    return result;\r\n}\r\nexport default GetMaxChildHeight;","import BaseSizer from '../basesizer/BaseSizer.js';\r\nimport Methods from './Methods.js';\r\nimport GetOrientationMode from '../utils/GetOrientationMode.js';\r\nimport GetMaxChildWidth from './GetMaxChildWidth.js';\r\nimport GetMaxChildHeight from './GetMaxChildHeight.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass FixWidthSizer extends BaseSizer {\r\n    constructor(scene, x, y, minWidth, minHeight, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            minWidth = GetValue(config, 'width', undefined);\r\n            minHeight = GetValue(config, 'height', undefined);\r\n        } else if (IsPlainObject(minWidth)) {\r\n            config = minWidth;\r\n            minWidth = GetValue(config, 'width', undefined);\r\n            minHeight = GetValue(config, 'height', undefined);\r\n        }\r\n\r\n        super(scene, x, y, minWidth, minHeight, config);\r\n\r\n        this.type = 'rexFixWidthSizer';\r\n        this.sizerChildren = [];\r\n        this.setOrientation(GetValue(config, 'orientation', 0));\r\n        this.setItemSpacing(GetValue(config, 'space.item', 0));\r\n        this.setLineSpacing(GetValue(config, 'space.line', 0));\r\n        this.setIntentLeft(\r\n            GetValue(config, 'space.indentLeftOdd', 0),\r\n            GetValue(config, 'space.indentLeftEven', 0)\r\n        );\r\n        this.setIntentTop(\r\n            GetValue(config, 'space.indentTopOdd', 0),\r\n            GetValue(config, 'space.indentTopEven', 0)\r\n        );\r\n        this.setAlign(GetValue(config, 'align', 0));\r\n        this.setJustifyPercentage(GetValue(config, 'justifyPercentage', 0.25));\r\n        this.setRTL(GetValue(config, 'rtl', false));\r\n\r\n        this.addChildrenMap('items', this.sizerChildren);\r\n    }\r\n\r\n    setOrientation(orientation) {\r\n        this.orientation = GetOrientationMode(orientation);\r\n        return this;\r\n    }\r\n\r\n    setItemSpacing(space) {\r\n        this.space.item = space;\r\n        return this;\r\n    }\r\n\r\n    setLineSpacing(space) {\r\n        this.space.line = space;\r\n        return this;\r\n    }\r\n\r\n    setIntentLeft(odd, even) {\r\n        this.space.indentLeftOdd = odd;\r\n        this.space.indentLeftEven = even;\r\n        return this;\r\n    }\r\n\r\n    setIntentTop(odd, even) {\r\n        this.space.indentTopOdd = odd;\r\n        this.space.indentTopEven = even;\r\n        return this;\r\n    }\r\n\r\n    setAlign(align) {\r\n        if (typeof (align) === 'string') {\r\n            align = ALIGN[align];\r\n        }\r\n        this.align = align;\r\n        return this;\r\n    }\r\n\r\n    setJustifyPercentage(value) {\r\n        this.justifyPercentage = value;\r\n        return this;\r\n    }\r\n\r\n    setRTL(enabled) {\r\n        if (enabled === undefined) {\r\n            enabled = true;\r\n        }\r\n        this.rtl = enabled;\r\n        return this;\r\n    }\r\n\r\n    get maxChildWidth() {\r\n        if (this._maxChildWidth === undefined) {\r\n            this._maxChildWidth = GetMaxChildWidth.call(this);\r\n        }\r\n        return this._maxChildWidth;\r\n    }\r\n\r\n    get maxChildHeight() {\r\n        if (this._maxChildHeight === undefined) {\r\n            this._maxChildHeight = GetMaxChildHeight.call(this);\r\n        }\r\n        return this._maxChildHeight;\r\n    }\r\n}\r\n\r\nconst ALIGN = {\r\n    left: 0, top: 0,\r\n    right: 1, bottom: 1,\r\n    center: 2,\r\n    justify: 3,\r\n    'justify-left': 3, 'justify-top': 3,\r\n    'justify-right': 4, 'justify-bottom': 4,\r\n    'justify-center': 5\r\n}\r\n\r\nObject.assign(\r\n    FixWidthSizer.prototype,\r\n    Methods\r\n);\r\n\r\nexport default FixWidthSizer;","import DefaultMaskGraphics from '../../../utils/mask/defaultmaskgraphics/DefaultMaskGraphics.js';\r\n\r\nvar AddChildMask = function (maskTarget, sizeTarget, shape, padding) {\r\n    var maskGameObject = new DefaultMaskGraphics(sizeTarget, shape, padding); // A Graphics game object\r\n    if (maskTarget && !maskTarget.isRexSizer) { // Sizer game object can't apply mask\r\n        var mask = maskGameObject.createGeometryMask();\r\n        maskTarget.setMask(mask);\r\n        this.once('destroy', function () {\r\n            maskTarget.setMask();\r\n            mask.destroy();\r\n        })\r\n    }\r\n    this.pin(maskGameObject);\r\n    return maskGameObject;\r\n}\r\n\r\nexport default AddChildMask;","import Sizer from '../sizer/Sizer.js';\r\nimport AddChildMask from '../../../plugins/gameobjects/containerlite/mask/AddChildMask.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Label extends Sizer {\r\n    constructor(scene, config) {\r\n        // Create sizer\r\n        super(scene, config);\r\n        this.type = 'rexLabel';\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        var icon = GetValue(config, 'icon', undefined);\r\n        var iconMask = GetValue(config, 'iconMask', undefined);\r\n        var text = GetValue(config, 'text', undefined);\r\n        var action = GetValue(config, 'action', undefined);\r\n        var actionMask = GetValue(config, 'actionMask', undefined);\r\n        // Align\r\n        var align = GetValue(config, 'align', undefined); // undefined/left/top: no space\r\n        // Space\r\n        var iconSpace = GetValue(config, 'space.icon', 0);\r\n        var textSpace = GetValue(config, 'space.text', 0);\r\n\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        // Add space\r\n        if (\r\n            (align === 'right') ||\r\n            (align === 'bottom') ||\r\n            (align === 'center')\r\n        ) {\r\n            this.addSpace();\r\n        }\r\n\r\n        if (icon) {\r\n            var padding;\r\n            if (this.orientation === 0) {\r\n                if (text || action) {\r\n                    padding = { right: iconSpace };\r\n                }\r\n            } else {\r\n                if (text || action) {\r\n                    padding = { bottom: iconSpace };\r\n                }\r\n            }\r\n\r\n            this.add(icon, 0, 'center', padding);\r\n\r\n            if (iconMask) {\r\n                iconMask = AddChildMask.call(this, icon, icon, 1); // Circle mask\r\n            }\r\n        }\r\n\r\n        if (text) {\r\n            var expandTextWidth = GetValue(config, 'expandTextWidth', false);\r\n            var expandTextHeight = GetValue(config, 'expandTextHeight', false);\r\n            var proportion, padding, expand;\r\n            if (this.orientation === 0) {\r\n                proportion = (expandTextWidth) ? 1 : 0;\r\n                if (action) {\r\n                    padding = { right: textSpace };\r\n                }\r\n                expand = expandTextHeight;\r\n            } else {\r\n                proportion = (expandTextHeight) ? 1 : 0;\r\n                if (action) {\r\n                    padding = { bottom: textSpace };\r\n                }\r\n                expand = expandTextWidth;\r\n            }\r\n            this.add(text, proportion, 'center', padding, expand);\r\n        }\r\n\r\n        if (action) {\r\n            this.add(action);\r\n\r\n            if (actionMask) {\r\n                actionMask = AddChildMask.call(this, action, action, 1); // Circle mask\r\n            }\r\n        }\r\n\r\n        // Add space\r\n        if (align === 'center') {\r\n            this.addSpace();\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('icon', icon);\r\n        this.addChildrenMap('iconMask', iconMask);\r\n        this.addChildrenMap('text', text);\r\n        this.addChildrenMap('action', action);\r\n        this.addChildrenMap('actionMask', actionMask);\r\n    }\r\n\r\n    // Access text game object\r\n    get text() {\r\n        var textObject = this.childrenMap.text;\r\n        if (textObject === undefined) {\r\n            return '';\r\n        }\r\n        return textObject.text;\r\n    }\r\n\r\n    set text(value) {\r\n        var textObject = this.childrenMap.text;\r\n        if (textObject === undefined) {\r\n            return;\r\n        }\r\n        textObject.setText(value);\r\n    }\r\n\r\n    setText(value) {\r\n        this.text = value;\r\n        return this;\r\n    }\r\n\r\n    appendText(value) {\r\n        this.text += value;\r\n        return this;\r\n    }\r\n\r\n    // Access icon game object\r\n    setTexture(key, frame) {\r\n        var imageObject = this.childrenMap.icon;\r\n        if (imageObject === undefined) {\r\n            return;\r\n        }\r\n        imageObject.setTexture(key, frame);\r\n        return this;\r\n    }\r\n\r\n    get texture() {\r\n        var imageObject = this.childrenMap.icon;\r\n        if (imageObject === undefined) {\r\n            return undefined;\r\n        }\r\n        return imageObject.texture;\r\n    }\r\n\r\n    get frame() {\r\n        var imageObject = this.childrenMap.icon;\r\n        if (imageObject === undefined) {\r\n            return undefined;\r\n        }\r\n        return imageObject.frame;\r\n    }\r\n\r\n    runLayout(parent, newWidth, newHeight) {\r\n        if (this.ignoreLayout) {\r\n            return this;\r\n        }\r\n\r\n        super.runLayout(parent, newWidth, newHeight);\r\n        // Pin icon-mask to icon game object\r\n        var iconMask = this.childrenMap.iconMask;\r\n        if (iconMask) {\r\n            iconMask.setPosition();\r\n            this.resetChildPositionState(iconMask);\r\n        }\r\n        // Pin action-mask to action game object\r\n        var actionMask = this.childrenMap.actionMask;\r\n        if (actionMask) {\r\n            actionMask.setPosition();\r\n            this.resetChildPositionState(actionMask);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    resize(width, height) {\r\n        super.resize(width, height);\r\n        // Resize icon-mask to icon game object\r\n        var iconMask = this.childrenMap.iconMask;\r\n        if (iconMask) {\r\n            iconMask.resize();\r\n        }\r\n        // Resize action-mask to icon game object\r\n        var actionMask = this.childrenMap.actionMask;\r\n        if (actionMask) {\r\n            actionMask.resize();\r\n        }\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default Label;","import Sizer from '../sizer/Sizer.js';\r\nimport IsArray from '../../../plugins/utils/object/IsArray.js';\r\n\r\nconst SizerAdd = Sizer.prototype.add;\r\nconst SizerAddSpace = Sizer.prototype.addSpace;\r\n\r\nvar Add = function (gameObject) {\r\n    var isNormalGameObject = !gameObject.isRexSpace;\r\n    var proportion = (!isNormalGameObject || this.buttonsExpand) ? 1 : 0;\r\n\r\n    if (this.sizerChildren.length === 0) {  // First element\r\n        if (isNormalGameObject) {\r\n            // Add space at head\r\n            var hasHeadSpace = (!this.buttonsExpand) &&\r\n                ((this.buttonsAlign === 'right') || (this.buttonsAlign === 'center') || (this.buttonsAlign === 'bottom'));\r\n            if (hasHeadSpace) {\r\n                SizerAddSpace.call(this);\r\n            }\r\n\r\n            SizerAdd.call(this,\r\n                gameObject,\r\n                { proportion: proportion, expand: true }\r\n            );\r\n\r\n            // Add space at tail\r\n            var hasTailSpace = (!this.buttonsExpand) && (this.buttonsAlign === 'center');\r\n            if (hasTailSpace) {\r\n                SizerAddSpace.call(this);\r\n            }\r\n            this.hasTailSpace = hasTailSpace;\r\n\r\n        } else { // A space\r\n            SizerAdd.call(this,\r\n                gameObject,\r\n                { proportion: proportion, expand: true }\r\n            );\r\n            this.hasTailSpace = false;\r\n\r\n        }\r\n\r\n    } else {   // Others\r\n        if (this.hasTailSpace) {\r\n            var lastIndex = this.sizerChildren.length - 1;\r\n            SizerAdd.call(this,\r\n                gameObject,\r\n                { index: lastIndex, proportion: proportion, expand: true }\r\n            );\r\n\r\n        } else {\r\n            SizerAdd.call(this,\r\n                gameObject,\r\n                { proportion: proportion, expand: true }\r\n            );\r\n        }\r\n\r\n    }\r\n\r\n    // Space or other game object as button\r\n    if (isNormalGameObject) {\r\n        this.buttonGroup.add(gameObject);\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\nexport default {\r\n    addButton(gameObject) {\r\n        if (IsArray(gameObject)) {\r\n            var gameObjects = gameObject;\r\n            for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n                Add.call(this, gameObjects[i]);\r\n            }\r\n        } else {\r\n            Add.call(this, gameObject);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    addButtons(gameObjects) {\r\n        for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n            Add.call(this, gameObjects[i]);\r\n        }\r\n        return this;\r\n    }\r\n}","import Sizer from '../sizer/Sizer.js';\r\nimport IsArray from '../../../plugins/utils/object/IsArray.js';\r\n\r\nconst SizerRmove = Sizer.prototype.remove;\r\nconst SizerClear = Sizer.prototype.clear;\r\n\r\nvar Remove = function (gameObject, destroyChild) {\r\n    if (this.getParentSizer(gameObject) !== this) {\r\n        return this;\r\n    }\r\n\r\n    this.buttonGroup.remove(gameObject);\r\n    SizerRmove.call(this, gameObject, destroyChild);\r\n    return this;\r\n};\r\n\r\nexport default {\r\n    remove(gameObject, destroyChild) {\r\n        // Remove gameObject no matter it is a button or not\r\n        if (IsArray(gameObject)) {\r\n            var gameObjects = gameObject;\r\n            for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n                Remove.call(this, gameObjects[i], destroyChild);\r\n            }\r\n        } else {\r\n            Remove.call(this, gameObject, destroyChild);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    clear(destroyChild) {\r\n        var buttons = this.buttonGroup.buttons;\r\n        buttons.length = 0;\r\n        SizerClear.call(this, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    removeButton(gameObject, destroyChild) {\r\n        var gameObject = this.getButton(gameObject);\r\n        // Don't remove this gameObject, it is not a button\r\n        if (!gameObject) {\r\n            return this;\r\n        }\r\n        this.remove(gameObject, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    clearButtons(destroyChild) {\r\n        var buttons = this.buttonGroup.buttons;\r\n        for (var i = buttons.length - 1; i >= 0; i--) {\r\n            Remove.call(this, buttons[i], destroyChild);\r\n        }\r\n        return this;\r\n    }\r\n}","import Click from '../../click/Click.js';\r\n\r\nexport default {\r\n    add(gameObject) {\r\n        this.buttons.push(gameObject);\r\n\r\n        if (this.buttonsType) {\r\n            var key = gameObject.name;\r\n            if (key === '') {\r\n                console.error(`${this.parent.constructor.name}: Button key is an empty string`)\r\n            } else if (this.buttonMap.hasOwnProperty(key)) {\r\n                console.error(`${this.parent.constructor.name}: Duplicate button key '${key}'`)\r\n            }\r\n            this.buttonMap[key] = gameObject;\r\n            this.dataManager\r\n                .set(key, undefined)\r\n                .set(key, false); // Trigger data event 'changedata'\r\n        }\r\n\r\n        //Default: Fire 'click' event when touch released after pressed.\r\n        gameObject._buttonBehavior = new Click(gameObject, this.clickConfig);\r\n\r\n        gameObject._buttonBehavior\r\n            .on('click', function (buttonBehavior, gameObject, pointer, event) {\r\n                this.fireEvent('button.click', gameObject, pointer, event);\r\n            }, this)\r\n            .on('enable', function (buttonBehavior, gameObject) {\r\n                this.fireEvent('button.enable', gameObject);\r\n            }, this)\r\n            .on('disable', function (buttonBehavior, gameObject) {\r\n                this.fireEvent('button.disable', gameObject);\r\n            }, this)\r\n\r\n        gameObject\r\n            .on('pointerover', function (pointer, localX, localY, event) {\r\n                this.fireEvent('button.over', gameObject, pointer, event);\r\n            }, this)\r\n            .on('pointerout', function (pointer, event) {\r\n                this.fireEvent('button.out', gameObject, pointer, event);\r\n            }, this)\r\n\r\n        return this;\r\n    },\r\n\r\n    addMultiple(gameObjects) {\r\n        for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n            this.add(gameObject[i]);\r\n        }\r\n        return this;\r\n    }\r\n}","const RemoveItem = Phaser.Utils.Array.Remove;\r\n\r\nexport default {\r\n    remove(gameObject) {\r\n        RemoveItem(this.buttons, gameObject);\r\n\r\n        if (this.buttonsType) {\r\n            var key = gameObject.name;\r\n            delete this.buttonMap[key];\r\n            this.dataManager.remove(key);\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    clear() {\r\n        this.buttons.length = 0;\r\n\r\n        if (this.buttonsType) {\r\n            for (var key in this.buttonMap) {\r\n                delete this.buttonMap[key];\r\n                this.dataManager.remove(key);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n}","var FireEvent = function (eventName, button, ...args) {\r\n    var index;\r\n    if (typeof (button) === 'number') {\r\n        index = button;\r\n        button = this.buttons[index];\r\n        if (!button) {\r\n            return;\r\n        }\r\n    } else {\r\n        index = this.buttons.indexOf(button);\r\n        if (index === -1) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    // Buttons is a child. Fire internal events.\r\n    if (this.eventEmitter !== this.parent) {\r\n        this.parent.emit(eventName, button, index, ...args);\r\n    }\r\n\r\n    if (this.groupName !== undefined) {\r\n        this.eventEmitter.emit(eventName, button, this.groupName, index, ...args);\r\n    } else {\r\n        this.eventEmitter.emit(eventName, button, index, ...args);\r\n    }\r\n}\r\n\r\nexport default FireEvent;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar Initialize = function (config) {\r\n    // Assign this.dataManager\r\n    var dataManager = GetValue(config, 'dataManager', undefined);\r\n    if (dataManager === undefined) {\r\n        var parent = this.parent;\r\n        parent.setDataEnabled();\r\n        dataManager = parent.data;\r\n    }\r\n    this.dataManager = dataManager;\r\n\r\n    // Assign this.setValueCallback, this.setValueCallbackScope\r\n    var setValueCallback, setValueCallbackScope;\r\n    setValueCallback = GetValue(config, 'setValueCallback', undefined);\r\n    setValueCallbackScope = GetValue(config, 'setValueCallbackScope', undefined);\r\n    if (setValueCallback === undefined) {\r\n        setValueCallback = GetValue(config, 'setButtonStateCallback', undefined);\r\n        setValueCallbackScope = GetValue(config, 'setButtonStateCallbackScope', undefined);\r\n    }\r\n    this.setValueCallback = setValueCallback;\r\n    this.setValueCallbackScope = setValueCallbackScope;\r\n\r\n    // Register event callback\r\n    dataManager.events.on(`changedata`, function (parent, key, value, previousValue) {\r\n        var button = this.buttonMap[key];\r\n        if (!button) {\r\n            return;\r\n        }\r\n\r\n        var callback = this.setValueCallback;\r\n        var scope = this.setValueCallbackScope;\r\n        if (callback) {\r\n            if (scope) {\r\n                callback.call(scope, button, value, previousValue);\r\n            } else {\r\n                callback(button, value, previousValue);\r\n            }\r\n        }\r\n\r\n        this.fireEvent('button.statechange', button, value, previousValue);\r\n    }, this)\r\n}\r\n\r\nexport default {\r\n    setButtonsType(config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        var buttonsType = GetValue(config, 'buttonsType', config.type);\r\n        this.buttonsType = buttonsType;\r\n        switch (buttonsType) {\r\n            case 'radio':\r\n                this.setRadioType(config);\r\n                break;\r\n            case 'checkboxes':\r\n                this.setCheckboxesType(config);\r\n                break;\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    setRadioType(config) {\r\n        Initialize.call(this, config);\r\n\r\n        var radioValue = undefined;\r\n        var parent = this.parent,\r\n            buttons = this.buttons,\r\n            dataManager = this.dataManager;\r\n        Object.defineProperty(parent, 'value', {\r\n            get: function () {\r\n                return radioValue;\r\n            },\r\n            set: function (newValue) {\r\n                if (newValue === radioValue) {\r\n                    return;\r\n                }\r\n                radioValue = newValue;\r\n                // Update state of button -> Fire `changedata-btnName` event -> setValueCallback                \r\n                buttons.forEach(function (button) {\r\n                    var key = button.name;\r\n                    var state = dataManager.get(key);\r\n                    if (key === newValue) {\r\n                        if (!state) {\r\n                            dataManager.set(key, true);\r\n                        }\r\n                    } else {\r\n                        if (state) {\r\n                            dataManager.set(key, false);\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n\r\n        parent.on('button.click', function (button) {\r\n            parent.value = button.name;\r\n        });\r\n        // button.click event -> parent.value -> dataManager -> changedata event -> ...\r\n        // parent.value -> dataManager -> changedata event -> ...\r\n\r\n        return this;\r\n    },\r\n\r\n    setCheckboxesType(config) {\r\n        Initialize.call(this, config);\r\n\r\n        var parent = this.parent,\r\n            dataManager = this.dataManager;\r\n        parent.on('button.click', function (button) {\r\n            dataManager.toggle(button.name);\r\n        });\r\n        // button.click event -> dataManager -> changedata event -> ...\r\n        // dataManager.set() -> changedata event -> ...\r\n\r\n        return this;\r\n    },\r\n\r\n    // Common\r\n    clearAllButtonsState() {\r\n        for (var key in this.buttonMap) {\r\n            this.dataManager.set(key, false);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    getAllButtonsState() {\r\n        var states = {}\r\n        for (var key in this.buttonMap) {\r\n            states[key] = this.dataManager.get(key);\r\n        }\r\n        return states;\r\n    },\r\n\r\n    // For radio\r\n    setSelectedButtonName(name) {\r\n        this.parent.value = name;\r\n        return this;\r\n    },\r\n\r\n    getSelectedButtonName() {\r\n        return this.parent.value;\r\n    },\r\n\r\n    // For checkboxes\r\n    setButtonState(name, state) {\r\n        if (state === undefined) {\r\n            state = true;\r\n        }\r\n        this.dataManager.set(name, state);\r\n        return this;\r\n    },\r\n\r\n    getButtonState(name) {\r\n        return this.dataManager.get(name);\r\n    }\r\n}","import IsArray from '../object/IsArray.js';\r\n\r\nvar GetGameObjectByName = function (children, name) {\r\n    if (!children) {\r\n        return null;\r\n\r\n    } else if (IsArray(children)) {\r\n        var child;\r\n        for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n            child = TestName(children[i], name);\r\n            if (child) {\r\n                return child;\r\n            }\r\n        }\r\n\r\n    } else { // Is plain object\r\n        var child;\r\n        for (var key in children) {\r\n            child = TestName(children[key], name);\r\n            if (child) {\r\n                return child;\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\nvar TestName = function (gameObject, name) {\r\n    if (!gameObject) {\r\n        return null;\r\n    } else if (gameObject.hasOwnProperty('name')) {\r\n        return (gameObject.name === name) ? gameObject : null;\r\n    } else { // Array, or plain object\r\n        return GetElementByName(gameObject, name);\r\n    }\r\n}\r\n\r\nexport default GetGameObjectByName;","// Include in ButtonGroup class and Buttons/GridButtons/FixedWidthButtons class\r\n\r\nimport GetGameObjectByName from '../GetGameObjectByName.js';\r\nimport { Show, Hide, IsShown } from '../Hide.js';\r\n\r\nexport default {\r\n    getButton(index) {\r\n        // buttonGroup and button-sizer have *buttons* member both\r\n        var buttons = this.buttons,\r\n            button;\r\n        var indexType = typeof (index);\r\n        switch (indexType) {\r\n            case 'number':\r\n                button = buttons[index];\r\n                break;\r\n            case 'string':\r\n                button = GetGameObjectByName(buttons, index);\r\n                break;\r\n            default:\r\n                button = index;\r\n                if (buttons.indexOf(button) === -1) {\r\n                    button = undefined;\r\n                }\r\n                break;\r\n        }\r\n        return button;\r\n    },\r\n\r\n    setButtonEnable(index, enabled) {\r\n        // buttonGroup and button-sizer have *buttons* member both\r\n        var buttons = this.buttons;\r\n        if ((index === undefined) || (typeof (index) === 'boolean')) {\r\n            enabled = index;\r\n            for (var i = 0, cnt = buttons.length; i < cnt; i++) {\r\n                buttons[i]._buttonBehavior.setEnable(enabled);\r\n            }\r\n        } else {\r\n            this.getButton(index)._buttonBehavior.setEnable(enabled);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    toggleButtonEnable(index) {\r\n        // buttonGroup and button-sizer have *buttons* member both\r\n        var buttons = this.buttons;\r\n        if ((index === undefined) || (typeof (index) === 'boolean')) {\r\n            for (var i = 0, cnt = buttons.length; i < cnt; i++) {\r\n                buttons[i]._buttonBehavior.toggleEnable();\r\n            }\r\n        } else {\r\n            this.getButton(index)._buttonBehavior.toggleEnable();\r\n        }\r\n        return this;\r\n    },\r\n\r\n    getButtonEnable(index) {\r\n        if (index === undefined) {\r\n            index = 0;\r\n        }\r\n        return this.getButton(index)._buttonBehavior.enable;\r\n    },\r\n\r\n    emitButtonClick(index) {\r\n        // index or button game object\r\n        // this: buttonGroup or button-sizer\r\n        var buttonGroup = (this.buttonGroup) ? this.buttonGroup : this;\r\n        buttonGroup.fireEvent('button.click', index);\r\n        return this;\r\n    },\r\n\r\n    showButton(index) {\r\n        Show(this.getButton(index));\r\n        return this;\r\n    },\r\n\r\n    hideButton(index) {\r\n        Hide(this.getButton(index));\r\n        return this;\r\n    },\r\n\r\n    isButtonShown(index) {\r\n        IsShown(this.getButton(index));\r\n        return this;\r\n    },\r\n\r\n    forEachButtton(callback, scope) {\r\n        // buttonGroup and button-sizer have *buttons* member both\r\n        var buttons = this.buttons;\r\n        for (var i = 0, cnt = buttons.length; i < cnt; i++) {\r\n            if (scope) {\r\n                callback.call(scope, buttons[i], i, buttons);\r\n            } else {\r\n                callback(buttons[i], i, buttons);\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n\r\n\r\n}","import AddMethods from './AddMethods.js';\r\nimport RemoveMethods from './RemoveMethods.js';\r\nimport FireEvent from './FireEvent.js';\r\nimport SetTypeMethods from './SetTypeMethods.js';\r\nimport ButtonMethods from './ButtonMethods.js';\r\n\r\nclass ButtonGroup {\r\n    constructor(config) {\r\n        this.parent = config.parent;\r\n        this.eventEmitter = config.eventEmitter;\r\n        this.groupName = config.groupName;\r\n        this.clickConfig = config.clickConfig;\r\n\r\n        this.buttonsType = undefined;\r\n        this.buttons = [];\r\n        this.buttonMap = {};\r\n    }\r\n\r\n    destroy() {\r\n        this.parent = undefined;\r\n        this.eventEmitter = undefined;\r\n        this.clickConfig = undefined;\r\n        this.buttons = undefined; // GameObjects will be destroyed outside\r\n    }\r\n}\r\n\r\nvar methods = {\r\n    fireEvent: FireEvent\r\n}\r\n\r\nObject.assign(\r\n    ButtonGroup.prototype,\r\n    AddMethods,\r\n    RemoveMethods,\r\n    SetTypeMethods,\r\n    ButtonMethods,\r\n    methods\r\n);\r\n\r\n\r\nexport default ButtonGroup;","// Include in Buttons/GridButtons/FixedWidthButtons class\r\n\r\nexport default {\r\n    // Common\r\n    clearAllButtonsState() {\r\n        this.buttonGroup.clearAllButtonsState();\r\n        return this;\r\n    },\r\n\r\n    getAllButtonsState() {\r\n        return this.buttonGroup.getAllButtonsState();\r\n    },\r\n\r\n    // For radio\r\n    setSelectedButtonName(name) {\r\n        this.buttonGroup.setSelectedButtonName(name);\r\n        return this;\r\n    },\r\n\r\n    getSelectedButtonName() {\r\n        return this.buttonGroup.getSelectedButtonName();\r\n    },\r\n\r\n    // For checkboxes\r\n    setButtonState(name, state) {\r\n        this.buttonGroup.setButtonState(name, state);\r\n        return this;\r\n    },\r\n\r\n    getButtonState(name) {\r\n        return this.buttonGroup.getButtonState(name);\r\n    }\r\n}","import Sizer from '../sizer/Sizer.js';\r\nimport AddChildMethods from './AddChildMethods.js';\r\nimport RemoveChildMethods from './RemoveChildMethods.js';\r\nimport ButtonGroup from '../utils/buttongroup/ButtonGroup.js';\r\nimport ButtonMethods from '../utils/buttongroup/ButtonMethods.js';\r\nimport ButtonStateMethods from '../utils/buttongroup/ButtonStateMethods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Buttons extends Sizer {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        var buttonSpace = config.space;\r\n        if (typeof (buttonSpace) === 'number') {\r\n            config.space = { item: buttonSpace };\r\n        }\r\n\r\n        // Create\r\n        super(scene, config);\r\n        this.type = 'rexButtons';\r\n        this.buttonGroup = new ButtonGroup({\r\n            parent: this,\r\n            eventEmitter: GetValue(config, 'eventEmitter', this),\r\n            groupName: GetValue(config, 'groupName', undefined),\r\n            clickConfig: GetValue(config, 'click', undefined)\r\n        })\r\n            .setButtonsType(config)\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        var buttons = GetValue(config, 'buttons', undefined);\r\n\r\n        // Buttons properties\r\n        this.buttonsExpand = GetValue(config, 'expand', false);\r\n        this.buttonsAlign = GetValue(config, 'align', undefined); // undefined/left/top: no space                \r\n\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        if (buttons) {\r\n            this.addButtons(buttons);\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('buttons', this.buttonGroup.buttons);\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        super.destroy(fromScene);\r\n        this.buttonGroup.destroy();\r\n        this.buttonGroup = undefined;\r\n    }\r\n\r\n    get buttons() {\r\n        return this.buttonGroup.buttons;\r\n    }\r\n\r\n    get groupName() {\r\n        return this.buttonGroup.groupName;\r\n    }\r\n\r\n    set groupName(value) {\r\n        this.buttonGroup.groupName = value;\r\n    }\r\n\r\n    get eventEmitter() {\r\n        return this.buttonGroup.eventEmitter;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    Buttons.prototype,\r\n    AddChildMethods,\r\n    RemoveChildMethods,\r\n    ButtonMethods,\r\n    ButtonStateMethods\r\n);\r\n\r\nexport default Buttons;","import GridSizer from '../gridsizer/GridSizer.js';\r\n\r\nconst SizerAdd = GridSizer.prototype.add;\r\n\r\nexport default {\r\n    addButton(gameObject, columnIndex, rowIndex) {\r\n        SizerAdd.call(this, gameObject, columnIndex, rowIndex, undefined, 0, this.buttonsExpand);\r\n        this.buttonGroup.add(gameObject);\r\n        return this;\r\n    },\r\n\r\n    addButtons(gameObjects, rowThenColumn) {\r\n        for (var i = 0, cnt = gameObjects; i < cnt; i++) {\r\n            this.addButton(gameObjects[i], undefined, rowThenColumn);\r\n        }\r\n        return this;\r\n    }\r\n}","import GridSizer from '../gridsizer/GridSizer.js';\r\nimport IsArray from '../../../plugins/utils/object/IsArray.js';\r\n\r\nconst SizerRmove = GridSizer.prototype.remove;\r\nconst SizerClear = GridSizer.prototype.clear;\r\n\r\nvar Remove = function (gameObject, destroyChild) {\r\n    var gameObject = this.getButton(gameObject);\r\n    if (!gameObject) {\r\n        return this;\r\n    }\r\n\r\n    this.buttonGroup.remove(gameObject);\r\n    SizerRmove.call(this, gameObject, destroyChild);\r\n    return this;\r\n};\r\n\r\nexport default {\r\n    remove(gameObject, destroyChild) {\r\n        if (IsArray(gameObject)) {\r\n            var gameObjects = gameObject;\r\n            for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n                Remove.call(this, gameObjects[i], destroyChild);\r\n            }\r\n        } else {\r\n            Remove.call(this, gameObject, destroyChild);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    clear(destroyChild) {\r\n        var buttons = this.buttonGroup.buttons;\r\n        buttons.length = 0;\r\n        SizerClear.call(this, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    removeButton(gameObject, destroyChild) {\r\n        this.remove(gameObject, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    clearButtons(destroyChild) {\r\n        var buttons = this.buttonGroup.buttons;\r\n        for (var i = buttons.length - 1; i >= 0; i--) {\r\n            Remove.call(this, buttons[i], destroyChild);\r\n        }\r\n        return this;\r\n    }\r\n}","import GridSizer from '../gridsizer/GridSizer.js';\r\nimport AddChildMethods from './AddChildMethods.js';\r\nimport RemoveChildMethods from './RemoveChildMethods.js';\r\nimport ButtonGroup from '../utils/buttongroup/ButtonGroup.js';\r\nimport ButtonMethods from '../utils/buttongroup/ButtonMethods.js';\r\nimport ButtonStateMethods from '../utils/buttongroup/ButtonStateMethods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass GridButtons extends GridSizer {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n        var rowCount = GetValue(config, 'row', 0);\r\n        var columnCount = GetValue(config, 'column', (config.col || 0));\r\n        var createCellContainerCallback = GetValue(config, 'createCellContainerCallback');\r\n        var buttons = GetValue(config, 'buttons', undefined);\r\n        var buttonsExpand = GetValue(config, 'expand', true);\r\n        var buttonProportion = (buttonsExpand) ? 1 : 0;\r\n\r\n        if (createCellContainerCallback) {\r\n            config.createCellContainerCallback = undefined;\r\n        }\r\n        if (buttons !== undefined) {\r\n            rowCount = Math.max(rowCount, buttons.length);\r\n            for (var i = 0, cnt = buttons.length; i < cnt; i++) {\r\n                columnCount = Math.max(columnCount, buttons[i].length);\r\n            }\r\n        }\r\n\r\n        config.row = rowCount;\r\n        config.column = columnCount;\r\n        config.columnProportions = buttonProportion;\r\n        config.rowProportions = buttonProportion;\r\n\r\n        // Create\r\n        super(scene, config);\r\n        this.type = 'rexGridButtons';\r\n        this.buttonGroup = new ButtonGroup({\r\n            parent: this,\r\n            eventEmitter: GetValue(config, 'eventEmitter', this),\r\n            groupName: GetValue(config, 'groupName', undefined),\r\n            clickConfig: GetValue(config, 'click', undefined)\r\n        })\r\n            .setButtonsType(config);\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n\r\n        // Buttons properties\r\n        this.buttonsExpand = buttonsExpand;\r\n        var space = GetValue(config, 'space', undefined);\r\n        if (typeof (space) === 'number') {\r\n            space = { itemX: space, itemY: space };\r\n        }\r\n\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        if (buttons) {\r\n            var rowButtons, button;\r\n            for (var r = 0, rcnt = buttons.length; r < rcnt; r++) { // row\r\n                rowButtons = buttons[r];\r\n                for (var c = 0, ccnt = rowButtons.length; c < ccnt; c++) { // col\r\n                    button = rowButtons[c];\r\n                    if (button) {\r\n                        this.addButton(button, c, r);\r\n                    }\r\n                }\r\n            }\r\n        } else if (createCellContainerCallback) {\r\n            for (var y = 0; y < rowCount; y++) {\r\n                for (var x = 0; x < columnCount; x++) {\r\n                    var button = createCellContainerCallback(scene, x, y);\r\n                    if (button) {\r\n                        this.addButton(button, x, y);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('buttons', this.buttonGroup.buttons);\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        super.destroy(fromScene);\r\n        this.buttonGroup.destroy();\r\n        this.buttonGroup = undefined;\r\n    }\r\n\r\n    get buttons() {\r\n        return this.buttonGroup.buttons;\r\n    }\r\n\r\n    get groupName() {\r\n        return this.buttonGroup.groupName;\r\n    }\r\n\r\n    set groupName(value) {\r\n        this.buttonGroup.groupName = value;\r\n    }\r\n\r\n    get eventEmitter() {\r\n        return this.buttonGroup.eventEmitter;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    GridButtons.prototype,\r\n    AddChildMethods,\r\n    RemoveChildMethods,\r\n    ButtonMethods,\r\n    ButtonStateMethods\r\n);\r\n\r\nexport default GridButtons;","import FixWidthSizer from '../fixwidthsizer/FixWidthSizer.js';\r\nimport IsArray from '../../../plugins/utils/object/IsArray.js';\r\n\r\nconst SizerAdd = FixWidthSizer.prototype.add;\r\n\r\nvar Add = function (gameObject) {\r\n    SizerAdd.call(this, gameObject);\r\n    this.buttonGroup.add(gameObject);\r\n    return this;\r\n};\r\n\r\nexport default {\r\n    addButton(gameObject) {\r\n        if (IsArray(gameObject)) {\r\n            var gameObjects = gameObject;\r\n            for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n                Add.call(this, gameObjects[i]);\r\n            }\r\n        } else {\r\n            Add.call(this, gameObject);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    addButtons(gameObjects) {\r\n        if (IsArray(gameObjects[0])) {\r\n            // 2d array\r\n            var lines = gameObjects, line;\r\n            for (var lineIdx = 0, lastLineIdx = (lines.length - 1); lineIdx <= lastLineIdx; lineIdx++) {\r\n                line = lines[lineIdx];\r\n                for (var i = 0, cnt = line.length; i < cnt; i++) {\r\n                    Add.call(this, line[i]);\r\n                }\r\n                if (lineIdx > lastLineIdx) {\r\n                    SizerAdd.addNewLine(this);\r\n                }\r\n            }\r\n        } else {\r\n            // 1d array\r\n            for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n                Add.call(this, gameObjects[i]);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n}","import FixWidthSizer from '../fixwidthsizer/FixWidthSizer.js';\r\nimport IsArray from '../../../plugins/utils/object/IsArray.js';\r\n\r\nconst SizerRmove = FixWidthSizer.prototype.remove;\r\nconst SizerClear = FixWidthSizer.prototype.clear;\r\n\r\nvar Remove = function (gameObject, destroyChild) {\r\n    var gameObject = this.getButton(gameObject);\r\n    if (!gameObject) {\r\n        return this;\r\n    }\r\n\r\n    this.buttonGroup.remove(gameObject);    \r\n    SizerRmove.call(this, gameObject, destroyChild);\r\n    return this;\r\n};\r\n\r\nexport default {\r\n    remove(gameObject, destroyChild) {\r\n        if (IsArray(gameObject)) {\r\n            var gameObjects = gameObject;\r\n            for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n                Remove.call(this, gameObjects[i], destroyChild);\r\n            }\r\n        } else {\r\n            Remove.call(this, gameObject, destroyChild);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    clear(destroyChild) {\r\n        var buttons = this.buttonGroup.buttons;\r\n        buttons.length = 0;\r\n        SizerClear.call(this, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    removeButton(gameObject, destroyChild) {\r\n        this.remove(gameObject, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    clearButtons(destroyChild) {\r\n        var buttons = this.buttonGroup.buttons;\r\n        for (var i = buttons.length - 1; i >= 0; i--) {\r\n            Remove.call(this, buttons[i], destroyChild);\r\n        }\r\n        return this;\r\n    }\r\n}","import FixWidthSizer from '../fixwidthsizer/FixWidthSizer.js';\r\nimport AddChildMethods from './AddChildMethods.js';\r\nimport RemoveChildMethods from './RemoveChildMethods.js';\r\nimport ButtonGroup from '../utils/buttongroup/ButtonGroup.js';\r\nimport ButtonMethods from '../utils/buttongroup/ButtonMethods.js';\r\nimport ButtonStateMethods from '../utils/buttongroup/ButtonStateMethods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Buttons extends FixWidthSizer {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        var buttonSpace = config.space;\r\n        if (typeof (buttonSpace) === 'number') {\r\n            config.space = { item: buttonSpace, line: buttonSpace };\r\n        }\r\n\r\n        // Create\r\n        super(scene, config);\r\n        this.type = 'rexFixWidthButtons';\r\n        this.buttonGroup = new ButtonGroup({\r\n            parent: this,\r\n            eventEmitter: GetValue(config, 'eventEmitter', this),\r\n            groupName: GetValue(config, 'groupName', undefined),\r\n            clickConfig: GetValue(config, 'click', undefined)\r\n        })\r\n            .setButtonsType(config);\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        var buttons = GetValue(config, 'buttons', undefined);\r\n\r\n        // Buttons properties\r\n        this.buttonsAlign = GetValue(config, 'align', undefined);\r\n\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        if (buttons) {\r\n            this.addButtons(buttons);\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('buttons', this.buttonGroup.buttons);\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        super.destroy(fromScene);\r\n        this.buttonGroup.destroy();\r\n        this.buttonGroup = undefined;\r\n    }\r\n\r\n    get buttons() {\r\n        return this.buttonGroup.buttons;\r\n    }\r\n\r\n    get groupName() {\r\n        return this.buttonGroup.groupName;\r\n    }\r\n\r\n    set groupName(value) {\r\n        this.buttonGroup.groupName = value;\r\n    }\r\n\r\n    get eventEmitter() {\r\n        return this.buttonGroup.eventEmitter;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    Buttons.prototype,\r\n    AddChildMethods,\r\n    RemoveChildMethods,\r\n    ButtonMethods,\r\n    ButtonStateMethods\r\n);\r\n\r\nexport default Buttons;","export default {\r\n    getChoice(index) {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            return choicesSizer.getButton(index);\r\n        } else {\r\n            return undefined;\r\n        }\r\n    },\r\n\r\n    getAction(index) {\r\n        return this.childrenMap.actionsSizer.getButton(index);\r\n    },\r\n\r\n    getToolbar(index) {\r\n        return this.childrenMap.toolbarSizer.getButton(index);\r\n    },\r\n\r\n    getLeftToolbar(index) {\r\n        return this.childrenMap.leftToolbarSizer.getButton(index);\r\n    },\r\n\r\n    setChoiceEnable(index, enabled) {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            choicesSizer.setButtonEnable(index, enabled);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    setActionEnable(index, enabled) {\r\n        this.childrenMap.actionsSizer.setButtonEnable(index, enabled);\r\n        return this;\r\n    },\r\n\r\n    setToolbarEnable(index, enabled) {\r\n        this.childrenMap.toolbarSizer.setButtonEnable(index, enabled);\r\n        return this;\r\n    },\r\n\r\n    setLeftToolbarEnable(index, enabled) {\r\n        this.childrenMap.leftToolbarSizer.setButtonEnable(index, enabled);\r\n        return this;\r\n    },\r\n\r\n    toggleChoiceEnable(index) {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            choicesSizer.toggleButtonEnable(index);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    toggleActionEnable(index) {\r\n        this.childrenMap.actionsSizer.toggleButtonEnable(index);\r\n        return this;\r\n    },\r\n\r\n    toggleToolbarEnable(index) {\r\n        this.childrenMap.toolbarSizer.toggleButtonEnable(index);\r\n        return this;\r\n    },\r\n\r\n    toggleLeftToolbarEnable(index) {\r\n        this.childrenMap.leftToolbarSizer.toggleButtonEnable(index);\r\n        return this;\r\n    },\r\n\r\n    getChoiceEnable(index) {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            return choicesSizer.getButtonEnable(index);\r\n        } else {\r\n            return false;\r\n        }\r\n    },\r\n\r\n    getActionEnable(index) {\r\n        return this.childrenMap.actionsSizer.getButtonEnable(index);\r\n    },\r\n\r\n    getToolbarEnable(index) {\r\n        return this.childrenMap.toolbarSizer.getButtonEnable(index);\r\n    },\r\n\r\n    getLeftToolbarEnable(index) {\r\n        return this.childrenMap.leftToolbarSizer.getButtonEnable(index);\r\n    },\r\n\r\n    emitChoiceClick(index) {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            choicesSizer.emitButtonClick(index);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    emitActionClick(index) {\r\n        this.childrenMap.actionsSizer.emitButtonClick(index);\r\n        return this;\r\n    },\r\n\r\n    emitToolbarClick(index) {\r\n        this.childrenMap.toolbarSizer.emitButtonClick(index);\r\n        return this;\r\n    },\r\n\r\n    emitLeftToolbarClick(index) {\r\n        this.childrenMap.leftToolbarSizer.emitButtonClick(index);\r\n        return this;\r\n    },\r\n\r\n    showChoice(index) {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            choicesSizer.showButton(index);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    showAction(index) {\r\n        this.childrenMap.actionsSizer.showButton(index);\r\n        return this;\r\n    },\r\n\r\n    showToolbar(index) {\r\n        this.childrenMap.toolbarSizer.showButton(index);\r\n        return this;\r\n    },\r\n\r\n    showLeftToolbar(index) {\r\n        this.childrenMap.leftToolbarSizer.showButton(index);\r\n        return this;\r\n    },\r\n\r\n    hideChoice(index) {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            choicesSizer.hideButton(index);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    hideAction(index) {\r\n        this.childrenMap.actionsSizer.hideButton(index);\r\n        return this;\r\n    },\r\n\r\n    hideToolbar(index) {\r\n        this.childrenMap.toolbarSizer.hideButton(index);\r\n        return this;\r\n    },\r\n\r\n    hideLeftToolbar(index) {\r\n        this.childrenMap.leftToolbarSizer.hideButton(index);\r\n        return this;\r\n    },\r\n\r\n    addChoice(gameObject) {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            choicesSizer.addButton(gameObject);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    addAction(gameObject) {\r\n        this.childrenMap.actionsSizer.addButton(gameObject);\r\n        return this;\r\n    },\r\n\r\n    addToolbar(gameObject) {\r\n        this.childrenMap.toolbarSizer.addButton(gameObject);\r\n        return this;\r\n    },\r\n\r\n    addLeftToolbar(gameObject) {\r\n        this.childrenMap.leftToolbarSizer.addButton(gameObject);\r\n        return this;\r\n    },\r\n\r\n    removeChoice(index, destroyChild) {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            choicesSizer.removeButton(index, destroyChild);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    removeAction(index, destroyChild) {\r\n        this.childrenMap.actionsSizer.removeButton(index, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    removeToolbar(index, destroyChild) {\r\n        this.childrenMap.toolbarSizer.removeButton(index, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    removeLeftToolbar(index, destroyChild) {\r\n        this.childrenMap.leftToolbarSizer.removeButton(index, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    clearChoices(destroyChild) {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            choicesSizer.clearButtons(destroyChild);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    clearActions(destroyChild) {\r\n        this.childrenMap.actionsSizer.clearButtons(destroyChild);\r\n        return this;\r\n    },\r\n\r\n    clearToolbar(destroyChild) {\r\n        this.childrenMap.toolbarSizer.clearButtons(destroyChild);\r\n        return this;\r\n    },\r\n\r\n    clearLeftToolbar(destroyChild) {\r\n        this.childrenMap.leftToolbarSizer.clearButtons(destroyChild);\r\n        return this;\r\n    },\r\n\r\n    forEachChoice(callback, scope) {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            choicesSizer.forEachButtton(callback, scope);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    forEachAction(callback, scope) {\r\n        this.childrenMap.actionsSizer.forEachButtton(callback, scope);\r\n        return this;\r\n    },\r\n\r\n    forEachToolbar(callback, scope) {\r\n        this.childrenMap.toolbarSizer.forEachButtton(callback, scope);\r\n        return this;\r\n    },\r\n\r\n    forEachLeftToolbar(callback, scope) {\r\n        this.childrenMap.leftToolbarSizer.forEachButtton(callback, scope);\r\n        return this;\r\n    },\r\n\r\n    setAllButtonsEnable(enabled) {\r\n        if (enabled === undefined) {\r\n            enabled = true;\r\n        }\r\n\r\n        if (this.childrenMap.toolbarSizer) {\r\n            this.setToolbarEnable(enabled);\r\n        }\r\n        if (this.childrenMap.leftToolbarSizer) {\r\n            this.setLeftToolbarEnable(enabled);\r\n        }\r\n        if (this.childrenMap.actionsSizer) {\r\n            this.setActionEnable(enabled);\r\n        }\r\n        if (this.childrenMap.choicesSizer) {\r\n            this.setChoiceEnable(enabled);\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    // Checkboxes\r\n    getChoicesButtonStates() {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            return choicesSizer.getAllButtonsState();\r\n        } else {\r\n            return {};\r\n        }\r\n    },\r\n\r\n    getChoicesButtonState(name) {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (name === undefined) {\r\n            if (choicesSizer) {\r\n                return choicesSizer.getAllButtonsState();\r\n            } else {\r\n                return {}\r\n            }\r\n        } else {\r\n            if (choicesSizer) {\r\n                return choicesSizer.getButtonState(name);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    },\r\n\r\n    setChoicesButtonState(name, state) {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            choicesSizer.setButtonState(name, state);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    clearChoicesButtonStates() {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            choicesSizer.clearAllButtonsState();\r\n        }\r\n        return this;\r\n    },\r\n\r\n    // Radio buttons\r\n    getChoicesSelectedButtonName() {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            return choicesSizer.getSelectedButtonName();\r\n        } else {\r\n            return '';\r\n        }\r\n    },\r\n\r\n    setChoicesSelectedButtonName(name) {\r\n        var choicesSizer = this.childrenMap.choicesSizer;\r\n        if (choicesSizer) {\r\n            choicesSizer.setSelectedButtonName(name);\r\n        }\r\n        return this;\r\n    },\r\n\r\n};","import Sizer from '../sizer/Sizer.js';\r\nimport Buttons from '../buttons/Buttons.js';\r\nimport FixWidthButtons from '../fixwidthbuttons/FixWidthButtons.js';\r\nimport GridButtons from '../gridbuttons/GridButtons.js';\r\nimport ButtonMethods from './ButtonMethods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Dialog extends Sizer {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n        // Create sizer        \r\n        config.orientation = 1; // Top to bottom\r\n        super(scene, config);\r\n        this.type = 'rexDialog';\r\n        this.eventEmitter = GetValue(config, 'eventEmitter', this);\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        var title = GetValue(config, 'title', undefined);\r\n        var toolbar = GetValue(config, 'toolbar', undefined);\r\n        var toolbarBackground = GetValue(config, 'toolbarBackground', undefined);\r\n        var leftToolbar = GetValue(config, 'leftToolbar', undefined);\r\n        var leftToolbarBackground = GetValue(config, 'leftToolbarBackground', undefined);\r\n        var content = GetValue(config, 'content', undefined);\r\n        var description = GetValue(config, 'description', undefined);\r\n        var choicesSizer;\r\n        var choices = GetValue(config, 'choices', undefined);\r\n        var choicesBackground = GetValue(config, 'choicesBackground', undefined);\r\n        var actionsSizer;\r\n        var actions = GetValue(config, 'actions', undefined);\r\n        var actionsBackground = GetValue(config, 'actionsBackground', undefined);\r\n        var clickConfig = GetValue(config, 'click', undefined);\r\n\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        var toolbarSizer;\r\n        if (toolbar) {\r\n            toolbarSizer = new Buttons(scene, {\r\n                groupName: 'toolbar',\r\n                background: toolbarBackground,\r\n                buttons: toolbar,\r\n                orientation: 0, // Left-right\r\n                space: { item: GetValue(config, 'space.toolbarItem', 0) },\r\n                click: clickConfig,\r\n                eventEmitter: this.eventEmitter,\r\n            });\r\n        }\r\n\r\n        var leftToolbarSizer;\r\n        if (leftToolbar) {\r\n            leftToolbarSizer = new Buttons(scene, {\r\n                groupName: 'leftToolbar',\r\n                background: leftToolbarBackground,\r\n                buttons: leftToolbar,\r\n                orientation: 0, // Left-right\r\n                space: { item: GetValue(config, 'space.leftToolbarItem', 0) },\r\n                click: clickConfig,\r\n                eventEmitter: this.eventEmitter,\r\n            });\r\n        }\r\n\r\n        // title only\r\n        if (title && !toolbar && !leftToolbar) {\r\n            var align = GetValue(config, 'align.title', 'center');\r\n            var titleSpace = GetValue(config, 'space.title', 0);\r\n            var padding;\r\n            if (content || description || choices || actions) {\r\n                padding = { bottom: titleSpace };\r\n            }\r\n            var expand = GetValue(config, 'expand.title', true);\r\n            this.add(\r\n                title,\r\n                { align: align, padding: padding, expand: expand }\r\n            );\r\n        }\r\n\r\n        // toolbar only\r\n        if (toolbar && !title && !leftToolbar) {\r\n            var titleSpace = GetValue(config, 'space.title', 0);\r\n            var padding;\r\n            if (content || description || choices || actions) {\r\n                padding = { bottom: titleSpace };\r\n            }\r\n            var expand = GetValue(config, 'expand.toolbar', true);\r\n            this.add(\r\n                toolbarSizer,\r\n                { align: 'right', padding: padding, expand: expand }\r\n            );\r\n        }\r\n\r\n        // leftToolbar only\r\n        if (leftToolbar && !title && !toolbar) {\r\n            var titleSpace = GetValue(config, 'space.title', 0);\r\n            var padding;\r\n            if (content || description || choices || actions) {\r\n                padding = { bottom: titleSpace };\r\n            }\r\n            var expand = GetValue(config, 'expand.leftToolbar', true);\r\n            this.add(\r\n                leftToolbarSizer,\r\n                { align: 'left', padding: padding, expand: expand }\r\n            );\r\n        }\r\n\r\n        // tilte and (toolbar or leftToolbar)\r\n        if (title && (toolbar || leftToolbar)) {\r\n            var titleSizer = new Sizer(scene, {\r\n                orientation: 0\r\n            });\r\n            // Add leftToolbar\r\n            if (leftToolbarSizer) {\r\n                titleSizer.add(\r\n                    leftToolbarSizer,\r\n                    { align: 'right', expand: false }\r\n                );\r\n            }\r\n            // Add title\r\n            var align = GetValue(config, 'align.title', 'left');\r\n            var expand = GetValue(config, 'expand.title', true);\r\n            // Add space if not expand\r\n            if (\r\n                !expand &&\r\n                ((align === 'right') || (align === 'center'))\r\n            ) {\r\n                titleSizer.addSpace();\r\n            }\r\n            var padding = {\r\n                left: GetValue(config, 'space.titleLeft', 0),\r\n                right: GetValue(config, 'space.titleRight', 0)\r\n            }\r\n            var proportion = (expand) ? 1 : 0;\r\n            titleSizer.add(\r\n                title,\r\n                { proportion: proportion, align: 'center', padding: padding, expand: expand }\r\n            );\r\n            // Add space if not expand\r\n            if (\r\n                !expand &&\r\n                ((align === 'left') || (align === 'center'))\r\n            ) {\r\n                titleSizer.addSpace();\r\n            }\r\n            // Add toolbar\r\n            if (toolbarSizer) {\r\n                titleSizer.add(\r\n                    toolbarSizer,\r\n                    { align: 'right', expand: false }\r\n                );\r\n            }\r\n            // Add sizer to dialog\r\n            var titleSpace = GetValue(config, 'space.title', 0);\r\n            var padding;\r\n            if (content || description || choices || actions) {\r\n                padding = { bottom: titleSpace };\r\n            }\r\n            this.add(\r\n                titleSizer,\r\n                { align: 'center', padding: padding, expand: true }\r\n            );\r\n        }\r\n\r\n        if (content) {\r\n            var align = GetValue(config, 'align.content', 'center');\r\n            var contentSpace = GetValue(config, 'space.content', 0);\r\n            var padding = {\r\n                left: GetValue(config, 'space.contentLeft', 0),\r\n                right: GetValue(config, 'space.contentRight', 0),\r\n                bottom: ((description || choices || actions) ? contentSpace : 0)\r\n            }\r\n            var expand = GetValue(config, 'expand.content', true);\r\n            this.add(\r\n                content,\r\n                { align: align, padding: padding, expand: expand }\r\n            );\r\n        }\r\n\r\n        if (description) {\r\n            var align = GetValue(config, 'align.description', 'center');\r\n            var descriptionSpace = GetValue(config, 'space.description', 0);\r\n            var padding = {\r\n                left: GetValue(config, 'space.descriptionLeft', 0),\r\n                right: GetValue(config, 'space.descriptionRight', 0),\r\n                bottom: ((choices || actions) ? descriptionSpace : 0)\r\n            }\r\n            var expand = GetValue(config, 'expand.description', true);\r\n            this.add(\r\n                description,\r\n                { align: align, padding: padding, expand: expand }\r\n            );\r\n        }\r\n\r\n        if (choices) {\r\n            var choicesType = GetValue(config, 'choicesType', '').split('-');\r\n            var ButtonsClass = Contains(choicesType, 'wrap') ? FixWidthButtons :\r\n                Contains(choicesType, 'grid') ? GridButtons :\r\n                    Buttons;\r\n            var buttonsType = Contains(choicesType, 'radio') ? 'radio' :\r\n                Contains(choicesType, 'checkboxes') ? 'checkboxes' : undefined;\r\n\r\n            var space = {\r\n                left: GetValue(config, 'space.choicesBackgroundLeft', 0),\r\n                right: GetValue(config, 'space.choicesBackgroundRight', 0),\r\n                top: GetValue(config, 'space.choicesBackgroundTop', 0),\r\n                bottom: GetValue(config, 'space.choicesBackgroundBottom', 0),\r\n            };\r\n            var itemSpace = GetValue(config, 'space.choice', 0);\r\n            if (ButtonsClass === Buttons) {\r\n                space.item = itemSpace;\r\n            } else if (ButtonsClass === FixWidthButtons) {\r\n                space.item = itemSpace;\r\n                space.line = GetValue(config, 'space.choiceLine', itemSpace);\r\n            } else {  // GridButtons\r\n                space.column = GetValue(config, 'space.choiceColumn', itemSpace);\r\n                space.row = GetValue(config, 'space.choiceRow', itemSpace);\r\n            }\r\n\r\n            var choicesConfig = {\r\n                width: GetValue(config, 'choicesWidth', undefined),\r\n                height: GetValue(config, 'choicesHeight', undefined),\r\n                groupName: 'choices',\r\n                buttonsType: buttonsType,\r\n                background: choicesBackground,\r\n                buttons: choices,\r\n                space: space,\r\n                click: clickConfig,\r\n                eventEmitter: this.eventEmitter,\r\n                setValueCallback: GetValue(config, 'choicesSetValueCallback', undefined),\r\n                setValueCallbackScope: GetValue(config, 'choicesSetValueCallbackScope', undefined)\r\n            };\r\n\r\n            if (ButtonsClass === Buttons) {\r\n                choicesConfig.orientation = Contains(choicesType, 'x') ? 0 : 1;\r\n            }\r\n\r\n            choicesSizer = new ButtonsClass(scene, choicesConfig);\r\n            var choicesSpace = GetValue(config, 'space.choices', 0);\r\n            var padding = {\r\n                left: GetValue(config, 'space.choicesLeft', 0),\r\n                right: GetValue(config, 'space.choicesRight', 0),\r\n                bottom: ((actions) ? choicesSpace : 0)\r\n            }\r\n            var align = GetValue(config, 'align.choices', 'center');\r\n            var expand = GetValue(config, 'expand.choices', true);\r\n            this.add(\r\n                choicesSizer,\r\n                { align: align, padding: padding, expand: expand }\r\n            );\r\n        }\r\n\r\n        if (actions) {\r\n            actionsSizer = new Buttons(scene, {\r\n                groupName: 'actions',\r\n                background: actionsBackground,\r\n                buttons: actions,\r\n                orientation: 0, // Left-right\r\n                space: { item: GetValue(config, 'space.action', 0) },\r\n                expand: GetValue(config, 'expand.actions', false),\r\n                align: GetValue(config, 'align.actions', 'center'),\r\n                click: clickConfig,\r\n                eventEmitter: this.eventEmitter,\r\n            })\r\n            var padding = {\r\n                left: GetValue(config, 'space.actionsLeft', 0),\r\n                right: GetValue(config, 'space.actionsRight', 0)\r\n            }\r\n            this.add(\r\n                actionsSizer,\r\n                { align: 'center', padding: padding, expand: true }\r\n            );\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('title', title);\r\n        this.addChildrenMap('toolbar', toolbar);\r\n        this.addChildrenMap('leftToolbar', leftToolbar);\r\n        this.addChildrenMap('content', content);\r\n        this.addChildrenMap('description', description);\r\n        this.addChildrenMap('choices', choices);\r\n        this.addChildrenMap('actions', actions);\r\n        this.addChildrenMap('choicesSizer', choicesSizer);\r\n        this.addChildrenMap('actionsSizer', actionsSizer);\r\n        this.addChildrenMap('toolbarSizer', toolbarSizer);\r\n        this.addChildrenMap('leftToolbarSizer', leftToolbarSizer);\r\n    }\r\n}\r\n\r\nvar Contains = function (arr, item) {\r\n    return arr.indexOf(item) !== -1;\r\n}\r\n\r\nObject.assign(\r\n    Dialog.prototype,\r\n    ButtonMethods\r\n);\r\n\r\nexport default Dialog;","import Sizer from '../sizer/Sizer.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass HolyGrail extends Sizer {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        config.orientation = 1; // top-to-bottom\r\n        // Create sizer\r\n        super(scene, config);\r\n        this.type = 'rexHolyGrail';\r\n\r\n        // Add Background\r\n        var background = GetValue(config, 'background', undefined);\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        // Add Header\r\n        var header = GetValue(config, 'header', undefined);\r\n        if (header) {\r\n            var proportion = GetValue(config, 'proportion.header', 0);\r\n            var align = GetValue(config, 'align.header', 'center');\r\n            var padding = GetValue(config, 'space.header', undefined);\r\n            if (typeof (padding) === 'number') {\r\n                padding = { bottom: padding };\r\n            }\r\n            var expand = GetValue(config, 'expand.header', true);\r\n            this.add(header,\r\n                {\r\n                    proportion: proportion,\r\n                    align: align,\r\n                    padding: padding,\r\n                    expand: expand,\r\n                }\r\n            );\r\n        }\r\n\r\n        var bodySizer = new Sizer(scene, {\r\n            orientation: 0 // left-to-right\r\n        })\r\n        this.add(bodySizer,\r\n            {\r\n                proportion: 1,\r\n                align: 'center',\r\n                padding: 0,\r\n                expand: true,\r\n            }\r\n        );\r\n\r\n        // Add Left-side\r\n        var leftSide = GetValue(config, 'leftSide', undefined);\r\n        if (leftSide) {\r\n            var proportion = GetValue(config, 'proportion.leftSide', 0);\r\n            var align = GetValue(config, 'align.leftSide', 'center');\r\n            var padding = GetValue(config, 'space.leftSide', undefined);\r\n            if (typeof (padding) === 'number') {\r\n                padding = { right: padding };\r\n            }\r\n            var expand = GetValue(config, 'expand.leftSide', true);\r\n            bodySizer.add(leftSide,\r\n                {\r\n                    proportion: proportion,\r\n                    align: align,\r\n                    padding: padding,\r\n                    expand: expand,\r\n                }\r\n            );\r\n        }\r\n\r\n        // Add content\r\n        var content = GetValue(config, 'content', undefined);\r\n        if (content) {\r\n            var proportion = GetValue(config, 'proportion.content', 1);\r\n            var align = GetValue(config, 'align.content', 'center');\r\n            var padding = GetValue(config, 'space.content', undefined);\r\n            var expand = GetValue(config, 'expand.content', true);\r\n            bodySizer.add(content,\r\n                {\r\n                    proportion: proportion,\r\n                    align: align,\r\n                    padding: padding,\r\n                    expand: expand,\r\n                }\r\n            );\r\n        }\r\n\r\n        // Add Right-side\r\n        var rightSide = GetValue(config, 'rightSide', undefined);\r\n        if (rightSide) {\r\n            var proportion = GetValue(config, 'proportion.rightSide', 0);\r\n            var align = GetValue(config, 'align.rightSide', 'center');\r\n            var padding = GetValue(config, 'space.rightSide', undefined);\r\n            if (typeof (padding) === 'number') {\r\n                padding = { left: padding };\r\n            }\r\n            var expand = GetValue(config, 'expand.rightSide', true);\r\n            bodySizer.add(rightSide,\r\n                {\r\n                    proportion: proportion,\r\n                    align: align,\r\n                    padding: padding,\r\n                    expand: expand,\r\n                }\r\n            );\r\n        }\r\n\r\n        // Add Footer\r\n        var footer = GetValue(config, 'footer', undefined);\r\n        if (footer) {\r\n            var proportion = GetValue(config, 'proportion.footer', 0);\r\n            var align = GetValue(config, 'align.footer', 'center');\r\n            var padding = GetValue(config, 'space.footer', undefined);\r\n            if (typeof (padding) === 'number') {\r\n                padding = { top: padding };\r\n            }\r\n            var expand = GetValue(config, 'expand.footer', true);\r\n            this.add(footer,\r\n                {\r\n                    proportion: proportion,\r\n                    align: align,\r\n                    padding: padding,\r\n                    expand: expand,\r\n                }\r\n            );\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('header', header);\r\n        this.addChildrenMap('leftSide', leftSide);\r\n        this.addChildrenMap('content', content);\r\n        this.addChildrenMap('rightSide', rightSide);\r\n        this.addChildrenMap('footer', footer);\r\n    }\r\n}\r\n\r\nexport default HolyGrail;","import {\r\n    Show,\r\n    Hide\r\n} from '../utils/Hide.js';\r\n\r\nexport default {\r\n    getButtonsSizer(groupName) {\r\n        return this.childrenMap[`${groupName}ButtonsSizer`];\r\n    },\r\n\r\n    getButton(groupName, index) {\r\n        var buttonsSizer = this.getButtonsSizer(groupName);\r\n        return (buttonsSizer) ? buttonsSizer.getButton(index) : undefined;\r\n    },\r\n\r\n    setButtonEnable(groupName, index, enabled) {\r\n        this.getButtonsSizer(groupName).setButtonEnable(index, enabled);\r\n        return this;\r\n    },\r\n\r\n    setLeftButtonEnable(index, enabled) {\r\n        this.childrenMap.leftButtonsSizer.setButtonEnable(index, enabled);\r\n        return this;\r\n    },\r\n\r\n    setRightButtonEnable(index, enabled) {\r\n        this.childrenMap.rightButtonsSizer.setButtonEnable(index, enabled);\r\n        return this;\r\n    },\r\n\r\n    setTopButtonEnable(index, enabled) {\r\n        this.childrenMap.topButtonsSizer.setButtonEnable(index, enabled);\r\n        return this;\r\n    },\r\n\r\n    setBottomButtonEnable(index, enabled) {\r\n        this.childrenMap.bottomButtonsSizer.setButtonEnable(index, enabled);\r\n        return this;\r\n    },\r\n\r\n    toggleButtonEnable(groupName, index) {\r\n        this.getButtonsSizer(groupName).toggleButtonEnable(index);\r\n        return this;\r\n    },\r\n\r\n    toggleLeftButtonEnable(index) {\r\n        this.childrenMap.leftButtonsSizer.toggleButtonEnable(index);\r\n        return this;\r\n    },\r\n\r\n    toggleRightButtonEnable(index) {\r\n        this.childrenMap.rightButtonsSizer.toggleButtonEnable(index);\r\n        return this;\r\n    },\r\n\r\n    toggleTopButtonEnable(index) {\r\n        this.childrenMap.topButtonsSizer.toggleButtonEnable(index);\r\n        return this;\r\n    },\r\n\r\n    toggleBottomButtonEnable(index) {\r\n        this.childrenMap.bottomButtonsSizer.toggleButtonEnable(index);\r\n        return this;\r\n    },\r\n\r\n    getButtonEnable(groupName, index) {\r\n        return this.getButtonsSizer(groupName).getButtonEnable(index);\r\n    },\r\n\r\n    getLeftButtonEnable(index) {\r\n        return this.childrenMap.leftButtonsSizer.getButtonEnable(index);\r\n    },\r\n\r\n    getRightButtonEnable(index) {\r\n        return this.childrenMap.rightButtonsSizer.getButtonEnable(index);\r\n    },\r\n\r\n    getTopButtonEnable(index) {\r\n        return this.childrenMap.topButtonsSizer.getButtonEnable(index);\r\n    },\r\n\r\n    getBottomButtonEnable(index) {\r\n        return this.childrenMap.bottomButtonsSizer.getButtonEnable(index);\r\n    },\r\n\r\n    emitButtonClick(groupName, index) {\r\n        var buttonsSizer = this.getButtonsSizer(groupName);\r\n        if (!buttonsSizer) {\r\n            return this;\r\n        }\r\n        buttonsSizer.emitButtonClick(index);\r\n        return this;\r\n    },\r\n\r\n    emitLeftButtonClick(index) {\r\n        this.childrenMap.leftButtonsSizer.emitButtonClick(index);\r\n        return this;\r\n    },\r\n\r\n    emitRightButtonClick(index) {\r\n        this.childrenMap.rightButtonsSizer.emitButtonClick(index);\r\n        return this;\r\n    },\r\n\r\n    emitTopButtonClick(index) {\r\n        this.childrenMap.topButtonsSizer.emitButtonClick(index);\r\n        return this;\r\n    },\r\n\r\n    emitBottomButtonClick(index) {\r\n        this.childrenMap.bottomButtonsSizer.emitButtonClick(index);\r\n        return this;\r\n    },\r\n\r\n    getLeftButton(index) {\r\n        return this.childrenMap.leftButtonsSizer.getButton(index);\r\n    },\r\n\r\n    getRightButton(index) {\r\n        return this.childrenMap.rightButtonsSizer.getButton(index);\r\n    },\r\n\r\n    getTopButton(index) {\r\n        return this.childrenMap.topButtonsSizer.getButton(index);\r\n    },\r\n\r\n    getBottomButton(index) {\r\n        return this.childrenMap.bottomButtonsSizer.getButton(index);\r\n    },\r\n\r\n    showButton(groupName, index) {\r\n        Show(this.getButton(groupName, index));\r\n        return this;\r\n    },\r\n\r\n    showLeftButton(index) {\r\n        Show(this.getLeftButton(index));\r\n        return this;\r\n    },\r\n\r\n    showRightButton(index) {\r\n        Show(this.getRightButton(index));\r\n        return this;\r\n    },\r\n\r\n    showTopButton(index) {\r\n        Show(this.getTopButton(index));\r\n        return this;\r\n    },\r\n\r\n    showBottomButton(index) {\r\n        Show(this.getBottomButton(index));\r\n        return this;\r\n    },\r\n\r\n    hideButton(groupName, index) {\r\n        Hide(this.getButton(groupName, index));\r\n        return this;\r\n    },\r\n\r\n    hideLeftButton(index) {\r\n        Hide(this.getLeftButton(index));\r\n        return this;\r\n    },\r\n\r\n    hideRightButton(index) {\r\n        Hide(this.getRightButton(index));\r\n        return this;\r\n    },\r\n\r\n    hideTopButton(index) {\r\n        Hide(this.getTopButton(index));\r\n        return this;\r\n    },\r\n\r\n    hideBottomButton(index) {\r\n        Hide(this.getBottomButton(index));\r\n        return this;\r\n    },\r\n\r\n    addButton(groupName, gameObject) {\r\n        this.getButtonsSizer(groupName).addButton(gameObject);\r\n        return this;\r\n    },\r\n\r\n    addLeftButton(gameObject) {\r\n        this.addButton('left', gameObject);\r\n        return this;\r\n    },\r\n\r\n    addRightButton(gameObject) {\r\n        this.addButton('right', gameObject);\r\n        return this;\r\n    },\r\n\r\n    addTopButton(gameObject) {\r\n        this.addButton('top', gameObject);\r\n        return this;\r\n    },\r\n\r\n    removeButton(groupName, index, destroyChild) {\r\n        this.getButtonsSizer(groupName).removeButton(index, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    removeLeftButton(index, destroyChild) {\r\n        this.removeButton('left', index, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    removeRightButton(index, destroyChild) {\r\n        this.removeButton('right', index, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    removeTopButton(index, destroyChild) {\r\n        this.removeButton('top', index, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    removeBottomButton(index, destroyChild) {\r\n        this.removeButton('bottom', index, destroyChild);\r\n        return this;\r\n    },\r\n\r\n    clearButtons(groupName, destroyChild) {\r\n        this.getButtonsSizer(groupName).clearButtons(destroyChild);\r\n        return this;\r\n    },\r\n\r\n    clearLeftButtons(destroyChild) {\r\n        this.clearButtons('left', destroyChild);\r\n        return this;\r\n    },\r\n\r\n    clearRightButtons(destroyChild) {\r\n        this.clearButtons('right', destroyChild);\r\n        return this;\r\n    },\r\n\r\n    clearTopButtons(destroyChild) {\r\n        this.clearButtons('top', destroyChild);\r\n        return this;\r\n    },\r\n\r\n    clearBottomButtonss(destroyChild) {\r\n        this.clearButtons('bottom', destroyChild);\r\n        return this;\r\n    },\r\n\r\n    forEachButton(groupName, callback, scope) {\r\n        this.getButtonsSizer(groupName).forEachButtton(callback, scope);\r\n        return this;\r\n    },\r\n\r\n    forEachLeftButton(callback, scope) {\r\n        this.childrenMap.leftButtonsSizer.forEachButtton(callback, scope);\r\n        return this;\r\n    },\r\n\r\n    forEachRightButton(callback, scope) {\r\n        this.childrenMap.rightButtonsSizer.forEachButtton(callback, scope);\r\n        return this;\r\n    },\r\n\r\n    forEachTopButton(callback, scope) {\r\n        this.childrenMap.topButtonsSizer.forEachButtton(callback, scope);\r\n        return this;\r\n    },\r\n\r\n    forEachBottomButton(callback, scope) {\r\n        this.childrenMap.bottomButtonsSizer.forEachButtton(callback, scope);\r\n        return this;\r\n    },\r\n};","import GridSizer from '../gridsizer/GridSizer.js';\r\nimport Buttons from '../buttons/Buttons.js';\r\nimport ButtonMethods from './ButtonMethods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Tabs extends GridSizer {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n        // Create sizer\r\n        config.column = 3;\r\n        config.row = 3;\r\n        super(scene, config);\r\n        this.type = 'rexTabs';\r\n        this.eventEmitter = GetValue(config, 'eventEmitter', this);\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        var panel = GetValue(config, 'panel', undefined);\r\n        var leftButtons = GetValue(config, 'leftButtons', undefined);\r\n        var leftButtonsBackground = GetValue(config, 'leftButtonsBackground', undefined);\r\n        var leftButtonsSizer;\r\n        var rightButtons = GetValue(config, 'rightButtons', undefined);\r\n        var rightButtonsBackground = GetValue(config, 'rightButtonsBackground', undefined);\r\n        var rightButtonsSizer;\r\n        var topButtons = GetValue(config, 'topButtons', undefined);\r\n        var topButtonsBackground = GetValue(config, 'topButtonsBackground', undefined);\r\n        var topButtonsSizer;\r\n        var bottomButtons = GetValue(config, 'bottomButtons', undefined);\r\n        var bottomButtonsBackground = GetValue(config, 'bottomButtonsBackground', undefined);\r\n        var bottomButtonsSizer;\r\n        var clickConfig = GetValue(config, 'click', undefined);\r\n\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        if (panel) {\r\n            this.add(panel, 1, 1, 'center', 0, true);\r\n        }\r\n\r\n        if (leftButtons) {\r\n            var leftButtonsOffset = GetValue(config, 'space.leftButtonsOffset', 0);\r\n            var leftButtonSpace = GetValue(config, 'space.leftButton', 0);\r\n            leftButtonsSizer = new Buttons(scene, {\r\n                groupName: 'left',\r\n                background: leftButtonsBackground,\r\n                buttons: leftButtons,\r\n                orientation: 1, // Top-Bottom\r\n                space: { item: leftButtonSpace },\r\n                align: GetValue(config, 'align.leftButtons', undefined),\r\n                click: clickConfig,\r\n                eventEmitter: this.eventEmitter,\r\n            });\r\n            var padding = {\r\n                top: leftButtonsOffset,\r\n            };\r\n            this.add(leftButtonsSizer, 0, 1, 'top', padding, false);\r\n        }\r\n\r\n        if (rightButtons) {\r\n            var rightButtonsOffset = GetValue(config, 'space.rightButtonsOffset', 0);\r\n            var rightButtonSpace = GetValue(config, 'space.rightButton', 0);\r\n            rightButtonsSizer = new Buttons(scene, {\r\n                groupName: 'right',\r\n                background: rightButtonsBackground,\r\n                buttons: rightButtons,\r\n                orientation: 1, // Top-Bottom\r\n                space: { item: rightButtonSpace },\r\n                align: GetValue(config, 'align.rightButtons', undefined),\r\n                click: clickConfig,\r\n                eventEmitter: this.eventEmitter,\r\n            });\r\n            var padding = {\r\n                top: rightButtonsOffset,\r\n            };\r\n            this.add(rightButtonsSizer, 2, 1, 'top', padding, false);\r\n        }\r\n\r\n        if (topButtons) {\r\n            var toptButtonsOffset = GetValue(config, 'space.topButtonsOffset', 0);\r\n            var topButtonSpace = GetValue(config, 'space.topButton', 0);\r\n            topButtonsSizer = new Buttons(scene, {\r\n                groupName: 'top',\r\n                background: topButtonsBackground,\r\n                buttons: topButtons,\r\n                orientation: 0, // Left-Right\r\n                space: { item: topButtonSpace },\r\n                align: GetValue(config, 'align.topButtons', undefined),\r\n                click: clickConfig,\r\n                eventEmitter: this.eventEmitter,\r\n            });\r\n            var padding = {\r\n                left: toptButtonsOffset,\r\n            };\r\n            this.add(topButtonsSizer, 1, 0, 'left', padding, false);\r\n        }\r\n\r\n        if (bottomButtons) {\r\n            var bottomButtonsOffset = GetValue(config, 'space.bottomButtonsOffset', 0);\r\n            var bottomButtonSpace = GetValue(config, 'space.bottomButton', 0);\r\n            bottomButtonsSizer = new Buttons(scene, {\r\n                groupName: 'bottom',\r\n                background: bottomButtonsBackground,\r\n                buttons: bottomButtons,\r\n                orientation: 0, // Left-Right\r\n                space: { item: bottomButtonSpace },\r\n                align: GetValue(config, 'align.bottomButtons', undefined),\r\n                click: clickConfig,\r\n                eventEmitter: this.eventEmitter,\r\n            });\r\n            var padding = {\r\n                left: bottomButtonsOffset,\r\n            };\r\n            this.add(bottomButtonsSizer, 1, 2, 'left', padding, false);\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('panel', panel);\r\n        this.addChildrenMap('leftButtons', leftButtons);\r\n        this.addChildrenMap('rightButtons', rightButtons);\r\n        this.addChildrenMap('topButtons', topButtons);\r\n        this.addChildrenMap('bottomButtons', bottomButtons);\r\n        this.addChildrenMap('leftButtonsSizer', leftButtonsSizer);\r\n        this.addChildrenMap('rightButtonsSizer', rightButtonsSizer);\r\n        this.addChildrenMap('topButtonsSizer', topButtonsSizer);\r\n        this.addChildrenMap('bottomButtonsSizer', bottomButtonsSizer);\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    Tabs.prototype,\r\n    ButtonMethods\r\n);\r\n\r\nexport default Tabs;","const Percent = Phaser.Math.Percent;\r\n\r\nvar PositionToPercent = function (startPoint, endPoint, currentPoint) {\r\n    var min, max, value;\r\n    if (startPoint.y === endPoint.y) {\r\n        min = Math.min(startPoint.x, endPoint.x);\r\n        max = Math.max(startPoint.x, endPoint.x);\r\n        value = Percent(currentPoint.x, min, max);\r\n    } else if (startPoint.x === endPoint.x) {\r\n        min = Math.min(startPoint.y, endPoint.y);\r\n        max = Math.max(startPoint.y, endPoint.y);\r\n        value = Percent(currentPoint.y, min, max);\r\n    }\r\n    return value\r\n}\r\n\r\nexport default PositionToPercent;","import PositionToPercent from './PositionToPercent.js';\r\n\r\nvar OnDragThumb = function (pointer, dragX, dragY) {\r\n    if (!this.enable) {\r\n        return;\r\n    }\r\n    tmpPoint.x = dragX;\r\n    tmpPoint.y = dragY;\r\n    this.value = PositionToPercent(this.getStartPoint(), this.getEndPoint(), tmpPoint);\r\n}\r\nvar tmpPoint = {};\r\n\r\nexport default OnDragThumb;","import PositionToPercent from './PositionToPercent.js';\r\n\r\nvar OnTouchTrack = function (pointer, localX, localY) {\r\n    if (!this.enable) {\r\n        return;\r\n    }\r\n    if (!pointer.isDown) {\r\n        return;\r\n    }\r\n\r\n    tmpPoint.x = pointer.worldX;\r\n    tmpPoint.y = pointer.worldY;\r\n    var value = PositionToPercent(this.getStartPoint(), this.getEndPoint(), tmpPoint);\r\n\r\n    this.stopEaseValue();\r\n    if ((this.easeValueDuration === 0) || (Math.abs(this.value - value) < 0.1)) {\r\n        this.value = value;\r\n    } else {\r\n        this.easeValueTo(value);\r\n    }\r\n}\r\nvar tmpPoint = {};\r\n\r\nexport default OnTouchTrack;","import AlignIn from '../../../plugins/utils/actions/AlignIn.js';\r\n\r\nvar GetThumbAlignPoint = function (align, out) {\r\n    if (out === undefined) {\r\n        out = tmpPoint;\r\n    }\r\n    var thumb = this.childrenMap.thumb;\r\n    var currentX = thumb.x;\r\n    var currentY = thumb.y;\r\n\r\n    AlignIn(thumb, this.innerLeft, this.innerTop, this.innerWidth, this.innerHeight, align);\r\n    out.x = thumb.x;\r\n    out.y = thumb.y;\r\n\r\n    thumb.x = currentX;\r\n    thumb.y = currentY;\r\n\r\n    return out;\r\n}\r\n\r\nvar tmpPoint = {};\r\n\r\nexport default GetThumbAlignPoint;","import GetThumbAlignPoint from './GetThumbAlignPoint.js';\r\n\r\nconst AlignLeft = Phaser.Display.Align.LEFT_CENTER;\r\nconst AlignTop = Phaser.Display.Align.TOP_CENTER;\r\n\r\nvar GetStartPoint = function (out) {\r\n    if (out === undefined) {\r\n        out = tmpPoint;\r\n    }\r\n    if (this.childrenMap.thumb) {\r\n        var align = (this.orientation === 0) ? AlignLeft : AlignTop;\r\n        GetThumbAlignPoint.call(this, align, out);\r\n    } else {\r\n        if (this.orientation === 0) {\r\n            out.x = this.innerLeft + 1; // Add 1 pixel margin\r\n            out.y = this.centerY;\r\n        } else {\r\n            out.x = this.centerX;\r\n            out.y = this.innerTop + 1; // Add 1 pixel margin\r\n        }\r\n    }\r\n    return out;\r\n}\r\n\r\nvar tmpPoint = {};\r\n\r\nexport default GetStartPoint;","import GetThumbAlignPoint from './GetThumbAlignPoint.js';\r\n\r\nconst AlignRight = Phaser.Display.Align.RIGHT_CENTER;\r\nconst AlignBottom = Phaser.Display.Align.BOTTOM_CENTER;\r\n\r\nvar GetEndoint = function (out) {\r\n    if (out === undefined) {\r\n        out = tmpPoint;\r\n    }\r\n    if (this.childrenMap.thumb) {\r\n        var align = (this.orientation === 0) ? AlignRight : AlignBottom;\r\n        GetThumbAlignPoint.call(this, align, out);\r\n    } else {\r\n        if (this.orientation === 0) {\r\n            out.x = this.innerRight - 1; // Add 1 pixel margin\r\n            out.y = this.centerY;\r\n        } else {\r\n            out.x = this.centerX;\r\n            out.y = this.innerBottom - 1; // Add 1 pixel margin\r\n        }\r\n    }\r\n    return out;\r\n}\r\n\r\nvar tmpPoint = {};\r\n\r\nexport default GetEndoint;","const Linear = Phaser.Math.Linear;\r\n\r\nvar PercentToPosition = function (t, startPoint, endPoint, out) {\r\n    if (out === undefined) {\r\n        out = tmpOut;\r\n    }\r\n    out.x = Linear(startPoint.x, endPoint.x, t);\r\n    out.y = Linear(startPoint.y, endPoint.y, t);\r\n    return out;\r\n}\r\nvar tmpOut = {};\r\n\r\nexport default PercentToPosition;","import PercentToPosition from './PercentToPosition.js';\r\n\r\nvar UpdateThumb = function (t) {\r\n    var thumb = this.childrenMap.thumb;\r\n    if (thumb === undefined) {\r\n        return this;\r\n    }\r\n\r\n    if (t === undefined) {\r\n        t = this.value;\r\n    }\r\n    PercentToPosition(t, this.getStartPoint(), this.getEndPoint(), thumb);\r\n    this.resetChildPositionState(thumb);\r\n    return this;\r\n}\r\n\r\nexport default UpdateThumb;","import ResizeGameObject from '../../../plugins/utils/size/ResizeGameObject.js';\r\nimport AlignIn from '../../../plugins/utils/align/align/in/QuickSet.js';\r\nimport { GetDisplayWidth, GetDisplayHeight } from '../../../plugins/utils/size/GetDisplaySize.js';\r\n\r\nconst AlignLeft = Phaser.Display.Align.LEFT_CENTER;\r\nconst AlignTop = Phaser.Display.Align.TOP_CENTER;\r\n\r\nvar UpdateIndicator = function (t) {\r\n    var indicator = this.childrenMap.indicator;\r\n    if (indicator === undefined) {\r\n        return this;\r\n    }\r\n\r\n    if (t === undefined) {\r\n        t = this.value;\r\n    }\r\n\r\n    var newWidth, newHeight;\r\n    var thumb = this.childrenMap.thumb;\r\n    if (thumb) {\r\n        if (this.orientation === 0) { // x, extend width\r\n            var thumbWidth = GetDisplayWidth(thumb);\r\n            var thumbRight = (thumb.x - (thumbWidth * thumb.originX)) + thumbWidth;\r\n            newWidth = thumbRight - this.left;\r\n        } else { // y, extend height\r\n            var thumbHeight = GetDisplayHeight(thumb);\r\n            var thumbBottom = (thumb.y - (thumbHeight * thumb.originY)) + thumbHeight;\r\n            newHeight = thumbBottom - this.top;\r\n        }\r\n    } else {\r\n        if (this.orientation === 0) { // x, extend width\r\n            newWidth = this.width * t;\r\n        } else { // y, extend eight\r\n            newHeight = this.height * t;\r\n        }\r\n    }\r\n    ResizeGameObject(indicator, newWidth, newHeight);\r\n    var align = (this.orientation === 0) ? AlignLeft : AlignTop;\r\n    AlignIn(indicator, this, align);\r\n    this.resetChildPositionState(indicator);\r\n}\r\n\r\nexport default UpdateIndicator;","import Sizer from '../sizer/Sizer.js';\r\nimport OnDragThumb from './OnDragThumb.js';\r\nimport OnTouchTrack from './OnTouchTrack.js';\r\nimport GetStartPoint from './GetStartPoint.js';\r\nimport GetEndPoint from './GetEndPoint.js';\r\nimport UpdateThumb from './UpdateThumb.js';\r\nimport UpdateIndicator from './UpdateIndicator.js';\r\nimport EaseValueMethods from '../../../plugins/utils/ease/EaseValueMethods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst Clamp = Phaser.Math.Clamp;\r\nconst Linear = Phaser.Math.Linear;\r\nconst Percent = Phaser.Math.Percent;\r\nconst SnapTo = Phaser.Math.Snap.To;\r\n\r\nclass Slider extends Sizer {\r\n    constructor(scene, config) {\r\n        // Create sizer\r\n        super(scene, config);\r\n        this.type = 'rexSlider';\r\n        this.eventEmitter = GetValue(config, 'eventEmitter', this);\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        var track = GetValue(config, 'track', undefined);\r\n        var indicator = GetValue(config, 'indicator', undefined);\r\n        var thumb = GetValue(config, 'thumb', undefined);\r\n\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        if (track) {\r\n            this.add(track,\r\n                {\r\n                    proportion: 1,\r\n                    expand: true,\r\n                    minWidth: 0,\r\n                    minHeight: 0\r\n                })\r\n        }\r\n\r\n        if (indicator) {\r\n            this.pin(indicator); // Put into container but not layout it\r\n        }\r\n\r\n        if (thumb) {\r\n            this.pin(thumb); // Put into container but not layout it\r\n\r\n        }\r\n\r\n        // Input\r\n        var inputMode = GetValue(config, 'input', 0);\r\n        if (typeof (inputMode) === 'string') {\r\n            inputMode = INPUTMODE[inputMode];\r\n        }\r\n        switch (inputMode) {\r\n            case 0: // 'drag'\r\n                if (thumb) {\r\n                    thumb.setInteractive();\r\n                    this.scene.input.setDraggable(thumb);\r\n                    thumb\r\n                        .on('drag', OnDragThumb, this)\r\n                        .on('dragstart', function (pointer) {\r\n                            this.eventEmitter.emit('inputstart', pointer);\r\n                        }, this)\r\n                        .on('dragend', function (pointer) {\r\n                            this.eventEmitter.emit('inputend', pointer);\r\n                        }, this)\r\n\r\n                }\r\n                break;\r\n            case 1: // 'click'\r\n                this.setInteractive()\r\n                    .on('pointerdown', OnTouchTrack, this)\r\n                    .on('pointermove', OnTouchTrack, this)\r\n                    .on('pointerdown', function (pointer) {\r\n                        this.eventEmitter.emit('inputstart', pointer);\r\n                    }, this)\r\n                    .on('pointerup', function (pointer) {\r\n                        this.eventEmitter.emit('inputend', pointer);\r\n                    }, this)\r\n                    .on('pointerover', function (pointer) {\r\n                        if (pointer.isDown) {\r\n                            this.eventEmitter.emit('inputstart', pointer);\r\n                        }\r\n                    }, this)\r\n                    .on('pointerout', function (pointer) {\r\n                        if (pointer.isDown) {\r\n                            this.eventEmitter.emit('inputend', pointer);\r\n                        }\r\n                    }, this)\r\n                break;\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('track', track);\r\n        this.addChildrenMap('indicator', indicator);\r\n        this.addChildrenMap('thumb', thumb);\r\n\r\n        var callback = GetValue(config, 'valuechangeCallback', null);\r\n        if (callback !== null) {\r\n            var scope = GetValue(config, 'valuechangeCallbackScope', undefined);\r\n            this.eventEmitter.on('valuechange', callback, scope);\r\n        }\r\n        this.setEnable(GetValue(config, 'enable', undefined));\r\n        this.setGap(GetValue(config, 'gap', undefined));\r\n        this.setValue(GetValue(config, 'value', 0), GetValue(config, 'min', undefined), GetValue(config, 'max', undefined));\r\n\r\n        this\r\n            .setEaseValuePropName('value')\r\n            .setEaseValueDuration(GetValue(config, 'easeValue.duration', 0))\r\n            .setEaseValueFunction(GetValue(config, 'easeValue.ease', 'Linear'))\r\n    }\r\n\r\n    setEnable(enable) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n        this.enable = enable;\r\n        return this;\r\n    }\r\n\r\n    setGap(gap) {\r\n        this.gap = gap;\r\n        return this;\r\n    }\r\n\r\n    get value() {\r\n        return this._value;\r\n    }\r\n\r\n    set value(value) {\r\n        if (this.gap !== undefined) {\r\n            value = SnapTo(value, this.gap);\r\n        }\r\n        var oldValue = this._value;\r\n        this._value = Clamp(value, 0, 1);\r\n\r\n        if (oldValue !== this._value) {\r\n            this.updateThumb(this._value);\r\n            this.updateIndicator(this._value);\r\n            this.eventEmitter.emit('valuechange', this._value, oldValue, this.eventEmitter);\r\n        }\r\n    }\r\n\r\n    setValue(value, min, max) {\r\n        if ((value === undefined) || (value === null)) {\r\n            return this;\r\n        }\r\n\r\n        if (min !== undefined) {\r\n            value = Percent(value, min, max);\r\n        }\r\n        this.value = value;\r\n        return this;\r\n    }\r\n\r\n    addValue(inc, min, max) {\r\n        if (min !== undefined) {\r\n            inc = Percent(inc, min, max);\r\n        }\r\n        this.value += inc;\r\n        return this;\r\n    }\r\n\r\n    getValue(min, max) {\r\n        var value = this.value;\r\n        if (min !== undefined) {\r\n            value = Linear(min, max, value);\r\n        }\r\n        return value;\r\n    }\r\n\r\n    runLayout(parent, newWidth, newHeight) {\r\n        // Skip hidden or !dirty sizer\r\n        if (this.ignoreLayout) {\r\n            return this;\r\n        }\r\n\r\n        super.runLayout(parent, newWidth, newHeight);\r\n        this.updateThumb();\r\n        this.updateIndicator();\r\n        return this;\r\n    }\r\n}\r\n\r\nconst INPUTMODE = {\r\n    pan: 0,\r\n    drag: 0,\r\n    click: 1,\r\n    none: -1,\r\n}\r\n\r\nvar methods = {\r\n    getStartPoint: GetStartPoint,\r\n    getEndPoint: GetEndPoint,\r\n    updateThumb: UpdateThumb,\r\n    updateIndicator: UpdateIndicator,\r\n}\r\n\r\nObject.assign(\r\n    Slider.prototype,\r\n    methods,\r\n    EaseValueMethods\r\n);\r\n\r\nexport default Slider;","export default {\r\n    v: 0,\r\n    vertical: 0,\r\n    h: 1,\r\n    horizontal: 1\r\n};","import SCROLLMODE from './ScrollModeConst.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar GetScrollMode = function (config, key) {\r\n    var scrollMode = GetValue(config, 'scrollMode', 0); // Vertical\r\n    if (typeof (scrollMode) === 'string') {\r\n        scrollMode = SCROLLMODE[scrollMode];\r\n    }\r\n    return scrollMode;\r\n}\r\nexport default GetScrollMode;","import Sizer from '../sizer/Sizer.js';\r\nimport Slider from '../slider/Slider.js';\r\nimport InTouching from '../intouching/InTouching.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass ScrollBar extends Sizer {\r\n    constructor(scene, config) {\r\n        // Create sizer\r\n        super(scene, config);\r\n        this.type = 'rexScrollBar';\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n\r\n        var buttonsConfig = GetValue(config, 'buttons', undefined);\r\n        var button0 = GetValue(buttonsConfig, 'top', GetValue(buttonsConfig, 'left', undefined));\r\n        var button1 = GetValue(buttonsConfig, 'bottom', GetValue(buttonsConfig, 'right', undefined));\r\n\r\n        var slider,\r\n            sliderConfig = GetValue(config, 'slider', undefined);\r\n\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        if (button0) {\r\n            this.add(button0);\r\n\r\n            var inTouching = new InTouching(button0);\r\n            inTouching\r\n                .on('intouch', function () {\r\n                    if (!this.enable) {\r\n                        return;\r\n                    }\r\n                    this.value -= this.scrollStep;\r\n                }, this)\r\n        }\r\n\r\n        if (sliderConfig) {\r\n            sliderConfig.orientation = this.orientation;\r\n            sliderConfig.eventEmitter = this;\r\n            sliderConfig.value = null;\r\n\r\n            var proportion;\r\n            if (this.orientation === 0) {\r\n                var sliderWidth = GetValue(sliderConfig, 'width', undefined);\r\n                proportion = (sliderWidth === undefined) ? 1 : 0;\r\n            } else {\r\n                var sliderHeight = GetValue(sliderConfig, 'height', undefined);\r\n                proportion = (sliderHeight === undefined) ? 1 : 0;\r\n            }\r\n\r\n            slider = new Slider(scene, sliderConfig);\r\n            scene.add.existing(slider);\r\n            this.add(\r\n                slider,\r\n                {\r\n                    proportion: proportion,\r\n                }\r\n            )\r\n        }\r\n\r\n        if (button1) {\r\n            this.add(button1);\r\n\r\n            var inTouching = new InTouching(button1);\r\n            inTouching\r\n                .on('intouch', function () {\r\n                    if (!this.enable) {\r\n                        return;\r\n                    }\r\n                    this.value += this.scrollStep;\r\n                }, this)\r\n        }\r\n\r\n        var buttons = [button0, button1];\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('slider', slider);\r\n        this.addChildrenMap('buttons', buttons);\r\n\r\n        var callback = GetValue(config, 'valuechangeCallback', null);\r\n        if (callback !== null) {\r\n            var scope = GetValue(config, 'valuechangeCallbackScope', undefined);\r\n            this.on('valuechange', callback, scope);\r\n        }\r\n        this.setEnable(GetValue(config, 'enable', undefined));\r\n        this.setValue(GetValue(config, 'value', 0));\r\n        this.setScrollStep(GetValue(buttonsConfig, 'step', 0.01));\r\n    }\r\n\r\n    setScrollStep(value) {\r\n        this.scrollStep = value;\r\n        return this;\r\n    }\r\n\r\n    get enable() {\r\n        if (this.childrenMap.slider) {\r\n            return this.childrenMap.slider.enable;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    set enable(value) {\r\n        if (this.childrenMap.slider) {\r\n            this.childrenMap.slider.setEnable(value);\r\n        }\r\n    }\r\n\r\n    setEnable(enable) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n        this.enable = enable;\r\n        return this;\r\n    }\r\n\r\n    get value() {\r\n        if (this.childrenMap.slider) {\r\n            return this.childrenMap.slider.value;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    set value(value) {\r\n        if (!this.childrenMap.slider) {\r\n            return;\r\n        }\r\n        this.childrenMap.slider.value = value;\r\n    }\r\n\r\n    setValue(value, min, max) {\r\n        if (this.childrenMap.slider) {\r\n            this.childrenMap.slider.setValue(value, min, max);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    addValue(inc, min, max) {\r\n        if (this.childrenMap.slider) {\r\n            this.childrenMap.slider.addValue(inc, min, max);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    getValue(min, max) {\r\n        if (this.childrenMap.slider) {\r\n            return this.childrenMap.slider.getValue(min, max);\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    easeValueTo(value, min, max) {\r\n        if (this.childrenMap.slider) {\r\n            this.childrenMap.slider.easeValueTo(value, min, max);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    stopEaseValue() {\r\n        if (this.childrenMap.slider) {\r\n            this.childrenMap.slider.stopEaseValue();\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setEaseValueDuration(duration) {\r\n        if (this.childrenMap.slider) {\r\n            this.childrenMap.slider.setEaseValueDuration(duration);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setEaseValueFunction(ease) {\r\n        if (this.childrenMap.slider) {\r\n            this.childrenMap.slider.setEaseValueFunction(ease);\r\n        }\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default ScrollBar;","import Base from '../../scrollbar/ScrollBar.js';\r\nimport Clone from '../../../../plugins/utils/object/Clone.js'\r\n\r\nclass Slider extends Base {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        var sliderConfig = Clone(config);\r\n        config = {\r\n            slider: sliderConfig\r\n        }\r\n\r\n        // Move orientation parameter from sliderConfig to config\r\n        config.orientation = sliderConfig.orientation;\r\n        delete sliderConfig.orientation;\r\n\r\n        // Move background parameter from sliderConfig to config\r\n        config.background = sliderConfig.background;\r\n        delete sliderConfig.background;\r\n\r\n        // Move buttons parameter from sliderConfig to config\r\n        config.buttons = sliderConfig.buttons;\r\n        delete sliderConfig.buttons;\r\n\r\n        super(scene, config);\r\n\r\n        var slider = this.childrenMap.slider;\r\n        this.addChildrenMap('track', slider.childrenMap.track);\r\n        this.addChildrenMap('indicator', slider.childrenMap.indicator);\r\n        this.addChildrenMap('thumb', slider.childrenMap.thumb);\r\n    }\r\n}\r\n\r\nexport default Slider;","import FSM from '../../fsm.js';\r\n\r\nclass State extends FSM {\r\n    constructor(parent, config) {\r\n        super(config);\r\n        this.parent = parent;\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.start('IDLE');\r\n    }\r\n\r\n    // IDLE -> DRAGBEGIN|DRAG\r\n    next_IDLE() {\r\n        var nextState,\r\n            parent = this.parent,\r\n            dragState = parent.dragState;\r\n        if (dragState.isDown) {\r\n            nextState = (parent.dragThreshold === 0) ? 'DRAG' : 'DRAGBEGIN';\r\n        }\r\n        return nextState;\r\n    }\r\n    update_IDLE(time, delta) {\r\n        this.next();\r\n    }\r\n    // IDLE\r\n\r\n    // DRAGBEGIN -> DRAG|IDLE\r\n    next_DRAGBEGIN() {\r\n        var nextState,\r\n            parent = this.parent,\r\n            dragState = parent.dragState;\r\n        if (dragState.isDown) {\r\n            nextState = (dragState.pointer.getDistance() >= parent.dragThreshold) ? 'DRAG' : 'DRAGBEGIN';\r\n        } else { // dragState.isUp\r\n            nextState = 'IDLE';\r\n        }\r\n        return nextState;\r\n    }\r\n    update_DRAGBEGIN(time, delta) {\r\n        this.next();\r\n    }\r\n    // DRAGBEGIN\r\n\r\n    // DRAG -> BACK|SLIDE|IDLE\r\n    next_DRAG() {\r\n        var nextState,\r\n            parent = this.parent,\r\n            dragState = parent.dragState;\r\n        if (dragState.isUp) {\r\n            if (parent.outOfBounds) {\r\n                nextState = 'BACK';\r\n            } else if (parent.slidingEnable) {\r\n                nextState = 'SLIDE';\r\n            } else {\r\n                nextState = 'IDLE';\r\n            }\r\n        }\r\n        return nextState;\r\n    }\r\n    update_DRAG(time, delta) {\r\n        var parent = this.parent,\r\n            dragState = parent.dragState;\r\n        if (dragState.justMoved) {\r\n            parent.dragging();\r\n        }\r\n        this.next();\r\n    }\r\n    enter_DRAG() {\r\n        this.parent.onDragStart();\r\n    }\r\n    exit_DRAG() {\r\n        this.parent.onDragEnd();\r\n    }\r\n    // DRAG    \r\n\r\n    // SLIDE -> DRAG|IDLE\r\n    next_SLIDE() {\r\n        var nextState,\r\n            parent = this.parent,\r\n            dragState = parent.dragState;\r\n        if (dragState.isDown) {\r\n            nextState = 'DRAG';\r\n        } else if (!parent.isSliding) {\r\n            nextState = 'IDLE';\r\n        }\r\n        return nextState;\r\n    }\r\n    enter_SLIDE() {\r\n        this.parent.onSliding();\r\n    }\r\n    exit_SLIDE() {\r\n        this.parent.stop();\r\n    }\r\n    update_SLIDE(time, delta) {\r\n        this.parent.sliding(time, delta);\r\n        this.next();\r\n    }\r\n    // SLIDE    \r\n\r\n    // BACK -> DRAG|IDLE\r\n    next_BACK() {\r\n        var nextState,\r\n            parent = this.parent,\r\n            dragState = parent.dragState;\r\n        if (dragState.isDown) {\r\n            nextState = 'DRAG';\r\n        } else if (!parent.isPullBack) {\r\n            nextState = 'IDLE';\r\n        }\r\n        return nextState;\r\n    }\r\n    enter_BACK() {\r\n        this.parent.onPullBack();\r\n    }\r\n    exit_BACK() {\r\n        this.parent.stop();\r\n    }\r\n    update_BACK(time, delta) {\r\n        this.parent.pullBack(time, delta);\r\n        this.next();\r\n    }\r\n    // BACK\r\n}\r\n\r\nexport default State;","import ComponentBase from '../../utils/componentbase/ComponentBase.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst DistanceBetween = Phaser.Math.Distance.Between;\r\n\r\nclass DragSpeed extends ComponentBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n\r\n        this._enable = undefined;\r\n        gameObject.setInteractive(GetValue(config, \"inputConfig\", undefined));\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.pointer = undefined;\r\n        this.isInTouched = false;\r\n        this.holdStartTime = undefined;\r\n        this.x = undefined;\r\n        this.y = undefined;\r\n        this.preX = undefined;\r\n        this.preY = undefined;\r\n        this.localX = undefined;\r\n        this.localY = undefined;\r\n        this.justMoved = false;\r\n        this.setEnable(GetValue(o, 'enable', true));\r\n        this.holdThreshold = GetValue(o, 'holdThreshold', 50); // ms\r\n        this.pointerOutReleaseEnable = GetValue(o, 'pointerOutRelease', true);\r\n        return this;\r\n    }\r\n\r\n    boot() {\r\n        // Drag start only when pointer down\r\n        this.parent.on('pointerdown', this.onPointIn, this);\r\n        // this.parent.on('pointerover', this.onPointIn, this);\r\n\r\n        this.parent.on('pointerup', this.onPointOut, this);\r\n\r\n        if (this.pointerOutReleaseEnable) {\r\n            this.parent.on('pointerout', this.onPointOut, this);\r\n        }\r\n\r\n        this.parent.on('pointermove', this.onPointerMove, this);\r\n        this.scene.sys.events.on('preupdate', this.preupdate, this);\r\n    }\r\n\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        // GameObject events will be removed when this gameObject destroyed \r\n        // this.parent.off('pointerdown', this.onPointIn, this);\r\n        // this.parent.off('pointerup', this.onPointOut, this);\r\n        // this.parent.off('pointerout', this.onPointOut, this);\r\n        // this.parent.off('pointermove', this.onPointerMove, this);\r\n\r\n        this.scene.sys.events.off('preupdate', this.preupdate, this);\r\n\r\n        this.pointer = undefined;\r\n\r\n        super.shutdown(fromScene);\r\n    }\r\n\r\n    get enable() {\r\n        return this._enable;\r\n    }\r\n\r\n    set enable(e) {\r\n        if (this._enable === e) {\r\n            return;\r\n        }\r\n\r\n        if (!e) {\r\n            this.isInTouched = false;\r\n            this.pointer = undefined;\r\n        }\r\n        this._enable = e;\r\n    }\r\n\r\n    setEnable(e) {\r\n        if (e === undefined) {\r\n            e = true;\r\n        }\r\n\r\n        this.enable = e;\r\n        return this;\r\n    }\r\n\r\n    toggleEnable() {\r\n        this.setEnable(!this.enable);\r\n        return this;\r\n    }\r\n\r\n    setPointerOutReleaseEnable(enable) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n        this.pointerOutReleaseEnable = enable;\r\n        return this;\r\n    }\r\n\r\n    get isDown() {\r\n        return this.pointer && this.pointer.isDown;\r\n    }\r\n\r\n    get isUp() {\r\n        return !this.isDown;\r\n    }\r\n\r\n    get dx() {\r\n        return this.x - this.preX;\r\n    }\r\n\r\n    get dy() {\r\n        return this.y - this.preY;\r\n    }\r\n\r\n    get dt() {\r\n        var game = this.scene.sys.game;\r\n        var delta = game.loop.delta;\r\n        return delta;\r\n    }\r\n\r\n    get speed() {\r\n        if ((this.x === this.preX) && (this.y === this.preY)) {\r\n            return 0;\r\n        }\r\n        var d = DistanceBetween(this.preX, this.preY, this.x, this.y);\r\n        var speed = d / (this.dt * 0.001);\r\n        return speed;\r\n    }\r\n\r\n    get speedX() {\r\n        return this.dx / (this.dt * 0.001);\r\n    }\r\n\r\n    get speedY() {\r\n        return this.dy / (this.dt * 0.001);\r\n    }\r\n\r\n    // internal\r\n    onPointIn(pointer, localX, localY) {\r\n        if ((!this.enable) ||\r\n            (!pointer.isDown) ||\r\n            (this.pointer !== undefined)) {\r\n            return;\r\n        }\r\n        this.pointer = pointer;\r\n        this.localX = localX;\r\n        this.localY = localY;\r\n    }\r\n\r\n    onPointOut(pointer) {\r\n        if ((!this.enable) ||\r\n            (this.pointer !== pointer)) {\r\n            return;\r\n        }\r\n        this.pointer = undefined;\r\n    }\r\n\r\n    onPointerMove(pointer, localX, localY) {\r\n        if ((!this.enable) ||\r\n            (!pointer.isDown) ||\r\n            (this.pointer !== pointer)) {\r\n            return;\r\n        }\r\n        this.localX = localX;\r\n        this.localY = localY;\r\n    }\r\n\r\n    preupdate(time, delta) {\r\n        if (!this.enable) {\r\n            return;\r\n        }\r\n\r\n        var pointer = this.pointer;\r\n        this.justMoved = false;\r\n        if (pointer && (!this.isInTouched)) {\r\n            // Touch start\r\n            this.x = pointer.worldX;\r\n            this.y = pointer.worldY;\r\n            this.preX = pointer.worldX;\r\n            this.preY = pointer.worldY;\r\n            this.isInTouched = true;\r\n            this.holdStartTime = undefined;\r\n            this.emit('touchstart', pointer, this.localX, this.localY);\r\n\r\n        } else if (pointer && this.isInTouched) {\r\n            // In touch\r\n            if ((this.x === pointer.x) && (this.y === pointer.y)) {\r\n                // Hold\r\n                if (this.holdStartTime === undefined) {\r\n                    this.holdStartTime = time;\r\n                } else if (time - this.holdStartTime > this.holdThreshold) {\r\n                    this.preX = this.x;\r\n                    this.preY = this.y;\r\n                }\r\n            } else {\r\n                // Move\r\n                this.preX = this.x;\r\n                this.preY = this.y;\r\n                this.x = pointer.worldX;\r\n                this.y = pointer.worldY;\r\n                this.holdStartTime = undefined;\r\n                this.justMoved = true;\r\n                this.emit('touchmove', pointer, this.localX, this.localY);\r\n            }\r\n\r\n        } else if ((!pointer) && this.isInTouched) {\r\n            // Touch end\r\n            this.isInTouched = false;\r\n            this.holdStartTime = undefined;\r\n            this.emit('touchend', pointer);\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport default DragSpeed;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Movement {\r\n    constructor(config) {\r\n        this.resetFromJSON(config);\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.setValue(GetValue(o, 'value', 0));\r\n        this.setSpeed(GetValue(o, 'speed', 0));\r\n        this.setAcceleration(GetValue(o, 'acceleration', 0));\r\n        return this;\r\n    }\r\n\r\n    reset() {\r\n        this.setValue(0);\r\n        this.setSpeed(0);\r\n        this.setAcceleration(0);\r\n    }\r\n\r\n    setValue(value) {\r\n        this.value = value;\r\n        return this;\r\n    }\r\n\r\n    setSpeed(speed) {\r\n        // speed == 0 : stop\r\n        // speed  > 0 : move\r\n        this.speed = speed;\r\n        return this;        \r\n    }\r\n\r\n    setAcceleration(acc) {\r\n        // acc == 0 : constant speed\r\n        // acc  > 0 : acceleration\r\n        // acc  < 0 : deceleration\r\n        this.acceleration = acc;\r\n        return this;\r\n    }\r\n\r\n    updateSpeed(delta) {\r\n        // delta in sec\r\n        if (this.acceleration !== 0) {\r\n            this.speed += (this.acceleration * delta);\r\n            if (this.speed < 0) {\r\n                this.speed = 0;\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    getDeltaValue(delta) {\r\n        // delta in sec\r\n        this.updateSpeed(delta);\r\n        if (this.speed <= 0) {\r\n            return 0;\r\n        }\r\n        return (this.speed * delta);\r\n    }\r\n\r\n    update(delta) {\r\n        // delta in sec\r\n        this.updateSpeed(delta);\r\n        if (this.speed > 0) {\r\n            this.value += this.getDeltaValue(delta);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get isMoving() {\r\n        return (this.speed > 0);\r\n    }\r\n}\r\nexport default Movement;","import Movement from './Movement.js';\r\n\r\nclass SlowDown {\r\n    constructor() {\r\n        this.value;\r\n        this.dir; // true:+, false:-\r\n        this.movement = new Movement();\r\n    }\r\n\r\n    init(start, dir, speed, dec, end) {\r\n        this.value = start;\r\n        this.end = end;\r\n        if (end !== undefined) {\r\n            this.dir = (start < end);\r\n        } else {\r\n            this.dir = dir;\r\n        }\r\n\r\n        this.movement\r\n            .setSpeed(speed)\r\n            .setAcceleration(-dec);\r\n        return this;\r\n    }\r\n\r\n    stop() {\r\n        this.movement.reset();\r\n    }\r\n\r\n    update(delta) {\r\n        // delta in sec\r\n        var d = this.movement.getDeltaValue(delta);\r\n        if (!this.dir) {\r\n            d = -d;\r\n        }\r\n\r\n        if (this.end === undefined) {\r\n            this.value += d;\r\n        } else {\r\n            if (d === 0) {\r\n                this.value = this.end;\r\n            } else {\r\n                this.value += d;\r\n                if (this.dir) { // +\r\n                    if (this.value > this.end) {\r\n                        this.value = this.end;\r\n                    }\r\n                } else { // -\r\n                    if (this.value < this.end) {\r\n                        this.value = this.end;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get isMoving() {\r\n        return this.movement.isMoving;\r\n    }\r\n}\r\nexport default SlowDown;","import ComponentBase from '../../utils/componentbase/ComponentBase.js';\r\nimport State from './State.js';\r\nimport DrapSpeed from '../../dragspeed.js';\r\nimport SlowDown from '../../utils/movement/SlowDown.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst Clamp = Phaser.Math.Clamp;\r\n\r\nclass Scroller extends ComponentBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n\r\n        var enable = GetValue(config, 'enable', true);\r\n        this._state = new State(this, {\r\n            enable: enable,\r\n            eventEmitter: false,\r\n        });\r\n\r\n        var drapSpeedConfig = {\r\n            inputConfig: GetValue(config, 'inputConfig', undefined),\r\n            enable: enable,\r\n            pointerOutRelease: GetValue(config, 'pointerOutRelease', true),\r\n            eventEmitter: false,\r\n        };\r\n        this.dragState = new DrapSpeed(gameObject, drapSpeedConfig);\r\n\r\n        this._enable = undefined;\r\n        this._value = undefined;\r\n        this._slowDown = new SlowDown();\r\n\r\n        var callback = GetValue(config, 'valuechangeCallback', null);\r\n        if (callback !== null) {\r\n            var scope = GetValue(config, 'valuechangeCallbackScope', undefined);\r\n            this.on('valuechange', callback, scope);\r\n        }\r\n        callback = GetValue(config, 'overmaxCallback', null);\r\n        if (callback !== null) {\r\n            var scope = GetValue(config, 'overmaxCallbackScope', undefined);\r\n            this.on('overmax', callback, scope);\r\n        }\r\n        callback = GetValue(config, 'overminCallback', null);\r\n        if (callback !== null) {\r\n            var scope = GetValue(config, 'overminCallbackScope', undefined);\r\n            this.on('overmin', callback, scope);\r\n        }\r\n\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.setOrientationMode(GetValue(o, 'orientation', 0));\r\n        this.setDragThreshold(GetValue(o, 'threshold', 10));\r\n        this.setSlidingDeceleration(GetValue(o, 'slidingDeceleration', 5000));\r\n        this.setBackDeceleration(GetValue(o, 'backDeceleration', 2000));\r\n\r\n        var bounds = GetValue(o, 'bounds', undefined);\r\n        if (bounds) {\r\n            this.setBounds(bounds);\r\n        } else {\r\n            this.setBounds(GetValue(o, 'max', 0), GetValue(o, 'min', 0));\r\n        }\r\n        this.setValue(GetValue(o, 'value', this.maxValue || 0));\r\n        this.setEnable(GetValue(o, \"enable\", true));\r\n        return this;\r\n    }\r\n\r\n    boot() {\r\n        this.scene.sys.events.on('preupdate', this._state.update, this._state);\r\n    }\r\n\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        this.scene.sys.events.off('preupdate', this._state.update, this._state);\r\n        this._state.destroy(fromScene);\r\n        this.dragState.destroy(fromScene);\r\n        this._state = undefined;\r\n        this.dragState = undefined;\r\n\r\n        super.shutdown(fromScene);\r\n    }\r\n\r\n    get enable() {\r\n        return this._enable;\r\n    }\r\n\r\n    set enable(e) {\r\n        if (this._enable === e) {\r\n            return;\r\n        }\r\n\r\n        this._enable = e;\r\n        this._state.setEnable(e);\r\n        this.dragState.setEnable(e);\r\n\r\n        return this;\r\n    }\r\n\r\n    setEnable(e) {\r\n        if (e === undefined) {\r\n            e = true;\r\n        }\r\n\r\n        this.enable = e;\r\n        return this;\r\n    }\r\n\r\n    toggleEnable() {\r\n        this.setEnable(!this.enable);\r\n        return this;\r\n    }\r\n\r\n    setOrientationMode(m) {\r\n        if (typeof (m) === 'string') {\r\n            m = ORIENTATIONMODE[m];\r\n        }\r\n        this.orientationMode = m;\r\n        return this;\r\n    }\r\n\r\n    setDragThreshold(distance) {\r\n        this.dragThreshold = distance;\r\n        return this;\r\n    }\r\n\r\n    setSlidingDeceleration(dec) {\r\n        this.slidingDeceleration = dec;\r\n        return this;\r\n    }\r\n\r\n    setBackDeceleration(dec) {\r\n        this.backDeceleration = dec;\r\n        return this;\r\n    }\r\n\r\n    setBounds(value0, value1) {\r\n        if (Array.isArray(value0)) {\r\n            var bounds = value0;\r\n            value0 = bounds[0];\r\n            value1 = bounds[1];\r\n        }\r\n        if (value0 < value1) {\r\n            this.minValue = value0;\r\n            this.maxValue = value1;\r\n        } else {\r\n            this.minValue = value1;\r\n            this.maxValue = value0;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get value() {\r\n        return this._value;\r\n    }\r\n\r\n    set value(value) {\r\n        if (value === this._value) {\r\n            return;\r\n        }\r\n\r\n        var oldValue = this._value;\r\n        var isOverMax = this.overMax(value);\r\n        var isOverMin = this.overMin(value);\r\n        if (isOverMax) {\r\n            this.emit('overmax', value, oldValue);\r\n        }\r\n        if (isOverMin) {\r\n            this.emit('overmin', value, oldValue);\r\n        }\r\n        if (!this.backEnable) {\r\n            if (isOverMax) {\r\n                value = this.maxValue;\r\n            }\r\n            if (isOverMin) {\r\n                value = this.minValue;\r\n            }\r\n        }\r\n\r\n        this._value = value;\r\n        this.emit('valuechange', value, oldValue);\r\n    }\r\n\r\n    setValue(value, clamp) {\r\n        if (clamp === undefined) {\r\n            clamp = false;\r\n        }\r\n\r\n        if (clamp) {\r\n            value = Clamp(value, this.minValue, this.maxValue);\r\n        }\r\n\r\n        this.value = value;\r\n        return this;\r\n    }\r\n\r\n    addValue(inc, clamp) {\r\n        this.setValue(this.value + inc, clamp);\r\n        return this;\r\n    }\r\n\r\n    get state() {\r\n        return this._state.state;\r\n    }\r\n\r\n    get isDragging() {\r\n        return this.dragState.isInTouched;\r\n    }\r\n\r\n    get outOfMaxBound() {\r\n        return this.overMax(this.value);\r\n    }\r\n\r\n    get outOfMinBound() {\r\n        return this.overMin(this.value);\r\n    }\r\n\r\n    get outOfBounds() {\r\n        return this.outOfMinBound || this.outOfMaxBound;\r\n    }\r\n\r\n    // internal\r\n    overMax(value) {\r\n        return (this.maxValue != null) && (value > this.maxValue);\r\n    }\r\n\r\n    overMin(value) {\r\n        return (this.minValue != null) && (value < this.minValue);\r\n    }\r\n\r\n    get backEnable() {\r\n        return (typeof (this.backDeceleration) === 'number');\r\n    }\r\n\r\n    get isPullBack() {\r\n        return this._slowDown.isMoving;\r\n    }\r\n\r\n    get slidingEnable() {\r\n        return (typeof (this.slidingDeceleration) === 'number');\r\n    }\r\n\r\n    get isSliding() {\r\n        return this._slowDown.isMoving;\r\n    }\r\n\r\n    get dragDelta() {\r\n        if (this.orientationMode === 0) { // y\r\n            return this.dragState.dy;\r\n        } else if (this.orientationMode === 1) { // x\r\n            return this.dragState.dx;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    get dragSpeed() {\r\n        if (this.orientationMode === 0) { // y\r\n            return this.dragState.speedY;\r\n        } else if (this.orientationMode === 1) { // x\r\n            return this.dragState.speedX;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    // enter_DRAG\r\n    onDragStart() {\r\n        this.emit('dragstart');\r\n    }\r\n\r\n    // exit_DRAG\r\n    onDragEnd() {\r\n        this.emit('dragend');\r\n    }\r\n\r\n    // everyTick_DRAG\r\n    dragging() {\r\n        this.value += this.dragDelta;\r\n    }\r\n\r\n    // enter_SLIDE \r\n    onSliding() {\r\n        var start = this.value;\r\n        var speed = this.dragSpeed;\r\n        if (speed === 0) {\r\n            this._slowDown.stop();\r\n            this._state.next();\r\n            return;\r\n        }\r\n        var dec = this.slidingDeceleration;\r\n        this._slowDown.init(start, (speed > 0), Math.abs(speed), dec)\r\n    }\r\n\r\n    // everyTick_SLIDE\r\n    sliding(time, delta) {\r\n        delta *= 0.001;\r\n        var newValue = this._slowDown.update(delta).value;\r\n        if (this.overMax(newValue)) {\r\n            this.value = this.maxValue;\r\n            this._slowDown.stop();\r\n        } else if (this.overMin(newValue)) {\r\n            this.value = this.minValue;\r\n            this._slowDown.stop();\r\n        } else {\r\n            this.value = newValue;\r\n        }\r\n    }\r\n\r\n    // enter_BACK\r\n    onPullBack() {\r\n        var start = this.value;\r\n        var end = (this.outOfMinBound) ? this.minValue : this.maxValue;\r\n        var dist = Math.abs(end - start);\r\n        var dec = this.backDeceleration;\r\n        var speed = Math.sqrt(2 * dec * dist);\r\n        this._slowDown.init(start, undefined, speed, dec, end);\r\n    }\r\n\r\n    // everyTick_BACK\r\n    pullBack(time, delta) {\r\n        delta *= 0.001;\r\n        this.value = this._slowDown.update(delta).value;\r\n\r\n        if (!this._slowDown.isMoving) {\r\n            this._state.next();\r\n        }\r\n    }\r\n\r\n    // exit_SLIDE, exit_BACK\r\n    stop() {\r\n        this._slowDown.stop();\r\n    }\r\n\r\n}\r\n\r\nconst ORIENTATIONMODE = {\r\n    y: 0,\r\n    v: 0,\r\n    vertical: 0,\r\n    x: 1,\r\n    h: 1,\r\n    horizontal: 1,\r\n};\r\n\r\nexport default Scroller;","import ComponentBase from '../../utils/componentbase/ComponentBase.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass MouseWheelScroller extends ComponentBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n\r\n        if (this.parent !== this.scene) {\r\n            this.focusMode = GetValue(config, 'focus', false);\r\n        } else {\r\n            this.focusMode = false;\r\n        }\r\n\r\n        this.setSpeed(GetValue(config, 'speed', 0.1));\r\n        this.setEnable(GetValue(config, 'enable', true));\r\n\r\n        if (!this.focusMode) { // Register on scene\r\n            this.scene.input.on('wheel', this.onSceneScroll, this);\r\n        } else {\r\n            var gameObject = this.parent;\r\n            gameObject\r\n                .setInteractive(GetValue(config, \"inputConfig\", undefined))\r\n                .on('wheel', function (pointer, dx, dy, dz, event) {\r\n                    if (!this.enable) {\r\n                        return;\r\n                    }\r\n                    this.scroll(dy);\r\n                }, this);\r\n\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        if (!this.focusMode) {\r\n            this.scene.input.off('wheel', this.onSceneScroll, this);\r\n        } else {\r\n            // GameObject events will be removed when this gameObject destroyed \r\n        }\r\n    }\r\n\r\n    onSceneScroll(pointer, currentlyOver, dx, dy, dz, event) {\r\n        if (!this.enable) {\r\n            return;\r\n        }\r\n        this.scroll(dy);\r\n    }\r\n\r\n    setEnable(e) {\r\n        if (e === undefined) {\r\n            e = true;\r\n        }\r\n\r\n        this.enable = e;\r\n        return this;\r\n    }\r\n\r\n    setSpeed(speed) {\r\n        this.speed = speed;\r\n        return this;\r\n    }\r\n\r\n    scroll(dy) {\r\n        dy *= this.speed;\r\n        this.emit('scroll', dy, this.parent, this);\r\n    }\r\n}\r\n\r\nexport default MouseWheelScroller;","import Sizer from '../../sizer/Sizer.js';\r\nimport GetScrollMode from '../GetScrollMode.js';\r\nimport Slider from './Slider.js';\r\nimport Scroller from '../../../../plugins/scroller.js';\r\nimport MouseWheelScroller from '../../../../plugins/input/mousewheelscroller/MouseWheelScroller.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar CreateScrollableSizer = function (parent, config) {\r\n    var scene = parent.scene;\r\n    var scrollMode = GetScrollMode(config);\r\n    var scrollableSizer = new Sizer(scene, { orientation: scrollMode });\r\n    // A child which not put into scene\r\n\r\n    var child = GetValue(config, 'child.gameObject', undefined);\r\n    var sliderConfig = GetValue(config, 'slider', undefined),\r\n        slider;\r\n    var sliderPosition = GetValue(sliderConfig, 'position', 0);\r\n    if (typeof (sliderPosition) === 'string') {\r\n        sliderPosition = SLIDER_POSITION_MAP[sliderPosition];\r\n    }\r\n    var isRightSlider = (sliderPosition === 0);  // Right/bottom slider\r\n\r\n    var scrollerConfig = GetValue(config, 'scroller', true),\r\n        scroller;\r\n    var mouseWheelScrollerConfig = GetValue(config, 'mouseWheelScroller', false),\r\n        mouseWheelScroller;\r\n\r\n    // Child, slider, scroller, mouseWheelScroller\r\n    if (child) {\r\n        var childSpace = GetValue(config, 'space.child', 0);\r\n        var childPadding = {};\r\n        parent.childMargin = {};\r\n        if (typeof (childSpace) !== 'number') {\r\n            var paddingConfig = childSpace;\r\n            if (scrollMode === 0) {\r\n                childPadding.left = GetValue(paddingConfig, 'left', 0);\r\n                childPadding.right = GetValue(paddingConfig, 'right', 0);\r\n                parent.childMargin.top = GetValue(paddingConfig, 'top', 0);\r\n                parent.childMargin.bottom = GetValue(paddingConfig, 'bottom', 0);\r\n            } else {\r\n                childPadding.top = GetValue(paddingConfig, 'top', 0);\r\n                childPadding.bottom = GetValue(paddingConfig, 'bottom', 0);\r\n                parent.childMargin.top = GetValue(paddingConfig, 'left', 0);\r\n                parent.childMargin.bottom = GetValue(paddingConfig, 'right', 0);\r\n            }\r\n        } else {\r\n            if (sliderConfig) { // Has slider\r\n                if (scrollMode === 0) {\r\n                    childPadding = (isRightSlider) ? { right: childSpace } : { left: childSpace };\r\n                } else {\r\n                    childPadding = (isRightSlider) ? { bottom: childSpace } : { top: childSpace };\r\n                }\r\n            }\r\n            parent.childMargin.top = 0;\r\n            parent.childMargin.bottom = 0;\r\n        }\r\n\r\n        if (sliderConfig) {\r\n            if (sliderConfig === true) {\r\n                sliderConfig = {};\r\n            }\r\n\r\n            // Vertical slider(orientation=1) for left-right scrollableSizer(orientation=0)\r\n            // Horizontal slider(orientation=0) for top-bottom scrollableSizer(orientation=1)\r\n            sliderConfig.orientation = (scrollableSizer.orientation === 0) ? 1 : 0;\r\n            slider = new Slider(scene, sliderConfig);\r\n\r\n            parent.adaptThumbSizeMode = GetValue(sliderConfig, 'adaptThumbSize', false);\r\n            parent.minThumbSize = GetValue(sliderConfig, 'minThumbSize', undefined);\r\n        } else {\r\n            parent.adaptThumbSizeMode = false;\r\n            parent.minThumbSize = undefined;\r\n        }\r\n\r\n        if (scrollerConfig) {\r\n            if (scrollerConfig === true) {\r\n                scrollerConfig = {};\r\n            }\r\n            scrollerConfig.orientation = scrollMode;\r\n            scroller = new Scroller(child, scrollerConfig);\r\n        }\r\n\r\n        if (mouseWheelScrollerConfig) {\r\n            mouseWheelScroller = new MouseWheelScroller(child, mouseWheelScrollerConfig);\r\n        }\r\n\r\n        // Add slider to parent sizer at left/top side\r\n        if (slider && (!isRightSlider)) {\r\n            scrollableSizer.add(slider,\r\n                {\r\n                    proportion: 0,\r\n                    align: 'center',\r\n                    expand: true\r\n                }\r\n            );\r\n        }\r\n\r\n        // Add child to parent sizer\r\n        var proportion = GetValue(config, 'child.proportion', 1);\r\n        var expand = GetValue(config, 'child.expand', true);\r\n        scrollableSizer.add(child,\r\n            {\r\n                proportion: proportion,\r\n                align: 'center',\r\n                padding: childPadding,\r\n                expand: expand,\r\n            }\r\n        );\r\n\r\n        // Add slider to parent sizer at right/bottom side\r\n        if (slider && isRightSlider) {\r\n            scrollableSizer.add(slider,\r\n                {\r\n                    proportion: 0,\r\n                    align: 'center',\r\n                    expand: true\r\n                }\r\n            );\r\n        }\r\n\r\n    }\r\n\r\n    // Control\r\n    if (slider) {\r\n        slider\r\n            .on('valuechange', function (newValue) {\r\n                parent.t = newValue;\r\n                parent.emit('scroll', parent);\r\n            });\r\n    }\r\n    if (scroller) {\r\n        scroller\r\n            .on('valuechange', function (newValue) {\r\n                parent.childOY = newValue;\r\n                parent.emit('scroll', parent);\r\n            })\r\n    }\r\n    if (mouseWheelScroller) {\r\n        mouseWheelScroller\r\n            .on('scroll', function (incValue) {\r\n                parent.addChildOY(-incValue, true);\r\n            });\r\n    }\r\n\r\n    parent.addChildrenMap('child', child);\r\n    parent.addChildrenMap('slider', slider);\r\n    parent.addChildrenMap('scroller', scroller);\r\n    parent.addChildrenMap('mouseWheelScroller', mouseWheelScroller);\r\n\r\n    return scrollableSizer;\r\n}\r\n\r\nvar SLIDER_POSITION_MAP = {\r\n    right: 0,\r\n    left: 1,\r\n    bottom: 0,\r\n    top: 1,\r\n}\r\n\r\nexport default CreateScrollableSizer;","import ResizeGameObject from '../../../../plugins/utils/size/ResizeGameObject.js';\r\nimport Sizer from '../../sizer/Sizer.js';\r\n\r\nconst SizerRunLayout = Sizer.prototype.runLayout;\r\n\r\nvar ResizeController = function () {\r\n    var topChildOY = this.topChildOY;\r\n    var bottomChildOY = this.bottomChildOY;\r\n    var scroller = this.childrenMap.scroller;\r\n    var slider = this.childrenMap.slider;\r\n    if (scroller) {\r\n        scroller.setBounds(bottomChildOY, topChildOY);\r\n    }\r\n    if (slider) {\r\n        slider.setEnable(bottomChildOY !== topChildOY);\r\n    }\r\n    this.updateController();\r\n\r\n    if (this.adaptThumbSizeMode) {\r\n        AdaptThumbSize.call(this);\r\n    }\r\n\r\n    return this;\r\n}\r\n\r\nvar AdaptThumbSize = function () {\r\n    // Change slider size according to visible ratio\r\n    var ratio = Math.min(this.childVisibleHeight / this.childHeight, 1);\r\n    var slider = this.childrenMap.slider;\r\n    var track = slider.childrenMap.track;\r\n    var thumb = slider.childrenMap.thumb;\r\n    var minThumbSize = this.minThumbSize;\r\n    if (this.scrollMode === 0) {\r\n        var newHeight = track.displayHeight * ratio;\r\n        if ((minThumbSize !== undefined) && (newHeight < minThumbSize)) {\r\n            newHeight = minThumbSize;\r\n        }\r\n        ResizeGameObject(thumb, undefined, newHeight);\r\n    } else {\r\n        var newWidth = track.displayWidth * ratio;\r\n        if ((minThumbSize !== undefined) && (newWidth < minThumbSize)) {\r\n            newWidth = minThumbSize;\r\n        }\r\n        ResizeGameObject(thumb, newWidth, undefined);\r\n\r\n    }\r\n    LayoutSlider.call(this);\r\n}\r\n\r\nvar LayoutSlider = function () {\r\n    var slider = this.childrenMap.slider;\r\n    // Save minSize\r\n    var minWidthSave = slider.minWidth;\r\n    var minHeightSave = slider.minHeight;\r\n    // Set minSize to current size\r\n    slider.minWidth = slider.width;\r\n    slider.minHeight = slider.height;\r\n    // Layout slider\r\n    slider.layout();\r\n    // Restore minSize\r\n    slider.minWidth = minWidthSave;\r\n    slider.minHeight = minHeightSave;\r\n}\r\n\r\nexport default ResizeController;","var UpdateController = function () {\r\n    var scroller = this.childrenMap.scroller;\r\n    var slider = this.childrenMap.slider;\r\n    if (scroller) {\r\n        scroller.setValue(this.childOY);\r\n    }\r\n    if (slider) {\r\n        slider.setValue(this.t);\r\n    }\r\n}\r\n\r\nexport default UpdateController;","import Sizer from '../../sizer/Sizer.js';\r\nimport GetScrollMode from '../GetScrollMode.js';\r\nimport CreateScrollableSizer from './CreateScrollableSizer.js';\r\nimport ResizeController from './ResizeController.js';\r\nimport UpdateController from './UpdateController.js';\r\n\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst Clamp = Phaser.Math.Clamp;\r\n\r\nclass Scrollable extends Sizer {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        var scrollMode = GetScrollMode(config); // Left-to-right, or top-to-bottom\r\n        // Create sizer\r\n        config.orientation = (scrollMode === 0) ? 1 : 0;\r\n        super(scene, config);\r\n        this.type = GetValue(config, 'type', 'rexScrollable');\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        var scrollableSizer = CreateScrollableSizer(this, config);\r\n        var header = GetValue(config, 'header', undefined);\r\n        var footer = GetValue(config, 'footer', undefined);\r\n\r\n        // Background\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        if (header) {\r\n            var align = GetValue(config, 'align.header', 'center');\r\n            var headerSpace = GetValue(config, 'space.header', 0);\r\n            var padding;\r\n            if (scrollMode === 0) {\r\n                padding = { bottom: headerSpace };\r\n            } else {\r\n                padding = { right: headerSpace };\r\n            }\r\n            var expand = GetValue(config, 'expand.header', true);\r\n            this.add(header,\r\n                {\r\n                    proportion: 0,\r\n                    align: align,\r\n                    padding: padding,\r\n                    expand: expand\r\n                }\r\n            );\r\n        }\r\n\r\n        if (scrollableSizer) {\r\n            this.add(scrollableSizer,\r\n                {\r\n                    proportion: 1,\r\n                    align: 'center',\r\n                    padding: 0,\r\n                    expand: true\r\n                }\r\n            );\r\n        }\r\n\r\n        if (footer) {\r\n            var align = GetValue(config, 'align.footer', 'center');\r\n            var footerSpace = GetValue(config, 'space.footer', 0);\r\n            var padding;\r\n            if (scrollMode === 0) {\r\n                padding = { top: footerSpace };\r\n            } else {\r\n                padding = { left: footerSpace };\r\n            }\r\n            var expand = GetValue(config, 'expand.footer', true);\r\n            this.add(footer,\r\n                {\r\n                    proportion: 0,\r\n                    align: align,\r\n                    padding: padding,\r\n                    expand: expand\r\n                }\r\n            );\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('header', header);\r\n        this.addChildrenMap('footer', footer);\r\n\r\n        this.runLayoutFlag = false;\r\n\r\n        /* Necessary properties of child object\r\n        - child.t (RW), \r\n        - child.childOY (RW)\r\n        - child.topChildOY (R)\r\n        - child.bottomChildOY (R)\r\n        - child.childVisibleHeight (R)\r\n        - child.childHeight (R)\r\n        */\r\n    }\r\n\r\n    runLayout(parent, newWidth, newHeight) {\r\n        // Skip hidden or !dirty sizer\r\n        if (this.ignoreLayout) {\r\n            return this;\r\n        }\r\n        super.runLayout(parent, newWidth, newHeight);\r\n        this.resizeController();\r\n\r\n        // Set `t` to 0 at first runLayout()\r\n        if (!this.runLayoutFlag) {\r\n            this.runLayoutFlag = true;\r\n            this.setT(0);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    set t(t) {\r\n        // Get inner childT\r\n        var childMargin = this.childMargin;\r\n        if ((childMargin.top !== 0) || (childMargin.bottom !== 0)) {\r\n            var child = this.childrenMap.child;\r\n            var innerHeight = (child.topChildOY - child.bottomChildOY);\r\n            var outerHeight = innerHeight + childMargin.top + childMargin.bottom;\r\n            var innerChildOY = (outerHeight * t) - childMargin.top;\r\n            t = innerChildOY / innerHeight;\r\n        }\r\n\r\n        this.childrenMap.child.t = t;\r\n        this.updateController();\r\n    }\r\n\r\n    get t() {\r\n        var t = this.childrenMap.child.t;\r\n\r\n        // Get outer childT\r\n        var childMargin = this.childMargin;\r\n        if ((childMargin.top !== 0) || (childMargin.bottom !== 0)) {\r\n            var child = this.childrenMap.child;\r\n            var innerHeight = (child.topChildOY - child.bottomChildOY);\r\n            var outerHeight = innerHeight + childMargin.top + childMargin.bottom;\r\n            var outerChildOY = (innerHeight * t) + childMargin.top;\r\n            t = outerChildOY / outerHeight;\r\n        }\r\n        return t;\r\n    }\r\n\r\n    set childOY(value) {\r\n        this.childrenMap.child.childOY = value;\r\n        this.updateController();\r\n    }\r\n\r\n    get childOY() {\r\n        return this.childrenMap.child.childOY;\r\n    }\r\n\r\n    get topChildOY() {\r\n        return this.childrenMap.child.topChildOY + this.childMargin.top;\r\n    }\r\n\r\n    get bottomChildOY() {\r\n        return this.childrenMap.child.bottomChildOY - this.childMargin.bottom;\r\n    }\r\n\r\n    get childVisibleHeight() {\r\n        return this.childrenMap.child.childVisibleHeight;\r\n    }\r\n\r\n    get childHeight() {\r\n        return this.childrenMap.child.childHeight;\r\n    }\r\n\r\n    get isOverflow() {\r\n        var child = this.childrenMap.child;\r\n        return child.topChildOY !== child.bottomChildOY;\r\n    }\r\n\r\n    get scrollMode() {\r\n        return (this.orientation === 0) ? 1 : 0;\r\n    }\r\n\r\n    setChildOY(value, clamp) {\r\n        if (clamp === undefined) {\r\n            clamp = false;\r\n        }\r\n        if (clamp) {\r\n            value = Clamp(value, this.bottomChildOY, this.topChildOY);\r\n        }\r\n        this.childOY = value;\r\n        return this;\r\n    }\r\n\r\n    addChildOY(inc, clamp) {\r\n        this.setChildOY(this.childOY + inc, clamp);\r\n        return this;\r\n    }\r\n\r\n    setT(value, clamp) {\r\n        if (clamp === undefined) {\r\n            clamp = false;\r\n        }\r\n        if (clamp) {\r\n            value = Clamp(value, 0, 1);\r\n        }\r\n        this.t = value;\r\n        return this;\r\n    }\r\n\r\n    addT(inc, clamp) {\r\n        this.setT(this.t + inc, clamp);\r\n        return this;\r\n    }\r\n\r\n    scrollToTop() {\r\n        this.t = 0;\r\n        return this;\r\n    }\r\n\r\n    scrollToBottom() {\r\n        this.t = 1;\r\n        return this;\r\n    }\r\n\r\n    get sliderEnable() {\r\n        var slider = this.childrenMap.slider;\r\n        if (!slider) {\r\n            return false;\r\n        }\r\n\r\n        return slider.enable;\r\n    }\r\n\r\n    set sliderEnable(value) {\r\n        var slider = this.childrenMap.slider;\r\n        if (!slider) {\r\n            return;\r\n        }\r\n        slider.setEnable(value);\r\n    }\r\n\r\n    setSliderEnable(enabled) {\r\n        if (enabled === undefined) {\r\n            enabled = true;\r\n        }\r\n        this.sliderEnable = enabled;\r\n        return this;\r\n    }\r\n\r\n    get scrollerEnable() {\r\n        var scroller = this.childrenMap.scroller;\r\n        if (!scroller) {\r\n            return false;\r\n        }\r\n\r\n        return scroller.enable;\r\n    }\r\n\r\n    set scrollerEnable(value) {\r\n        var scroller = this.childrenMap.scroller;\r\n        if (!scroller) {\r\n            return;\r\n        }\r\n        scroller.setEnable(value);\r\n    }\r\n\r\n    setScrollerEnable(enabled) {\r\n        if (enabled === undefined) {\r\n            enabled = true;\r\n        }\r\n        this.scrollerEnable = enabled;\r\n        return this;\r\n    }\r\n\r\n    get mouseWheelScrollerEnable() {\r\n        var mouseWheelScroller = this.childrenMap.mouseWheelScroller;\r\n        if (!mouseWheelScroller) {\r\n            return false;\r\n        }\r\n\r\n        return mouseWheelScroller.enable;\r\n    }\r\n\r\n    set mouseWheelScrollerEnable(value) {\r\n        var mouseWheelScroller = this.childrenMap.mouseWheelScrollerEnable;\r\n        if (!mouseWheelScroller) {\r\n            return;\r\n        }\r\n        mouseWheelScroller.setEnable(value);\r\n    }\r\n\r\n    setMouseWheelScrollerEnable(enabled) {\r\n        if (enabled === undefined) {\r\n            enabled = true;\r\n        }\r\n        this.mouseWheelScrollerEnable = enabled;\r\n        return this;\r\n    }\r\n\r\n    setDropZoneEnable(enable) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n\r\n        var child = this.childrenMap.child;\r\n        child.setInteractive();\r\n        child.input.dropZone = enable;\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nvar Methods = {\r\n    resizeController: ResizeController,\r\n    updateController: UpdateController\r\n}\r\n\r\n// mixin\r\nObject.assign(\r\n    Scrollable.prototype,\r\n    Methods\r\n);\r\n\r\nexport default Scrollable;","import DataMethods from '../../utils/data/DataMethods.js';\r\n\r\nclass Cell {\r\n    constructor(parent, config) {\r\n        this.container = null;\r\n        this._deltaHeight = 0;\r\n        this.setParent(parent);\r\n        // this.resetFromJSON(config);\r\n    }\r\n\r\n    setParent(parent) {\r\n        this.parent = parent; // parent: table\r\n        this.parentContainer = parent.getParentContainer();\r\n    }\r\n\r\n    // resetFromJSON(o) {\r\n    //     return this;\r\n    // }\r\n\r\n    destroy(fromScene) {\r\n        if (fromScene === undefined) {\r\n            fromScene = false;\r\n        }\r\n\r\n        if (!fromScene) {\r\n            this.destroyContainer();\r\n        }\r\n\r\n        this.deltaHeight = 0;\r\n        this.data = undefined;\r\n        this.container = null;\r\n        this.parent = undefined;\r\n        this.parentContainer = undefined;\r\n    }\r\n\r\n    get table() {\r\n        return this.parent;\r\n    }\r\n\r\n    get scrollMode() {\r\n        return this.parentContainer.scrollMode;\r\n    }\r\n\r\n    get colIndx() {\r\n        return this.parent.cellIndxeToColIndex(this.index);\r\n    }\r\n\r\n    get rowIndx() {\r\n        return this.parent.cellIndxeToRowIndex(this.index);\r\n    }\r\n\r\n    getContainer() {\r\n        return this.container;\r\n    }\r\n\r\n    setContainer(container) {\r\n        if (!container) {\r\n            this.destroyContainer();\r\n            return this;\r\n        }\r\n\r\n        if (this.container) {\r\n            this.container.destroy();\r\n        }\r\n        this.container = container;\r\n        this.parentContainer.add(container);\r\n        return this;\r\n    }\r\n\r\n    destroyContainer() {\r\n        if (this.container) {\r\n            this.container.destroy();\r\n            this.container = null;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    popContainer() {\r\n        if (this.container) {\r\n            var container = this.container;\r\n            this.container = null;\r\n            this.parentContainer.remove(container);\r\n            return container;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    setXY(x, y) {\r\n        if (this.container) {\r\n            this.parentContainer.setChildLocalPosition(this.container, x, y);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get deltaHeight() {\r\n        return this._deltaHeight;\r\n    }\r\n\r\n    set deltaHeight(deltaHeight) {\r\n        if (deltaHeight == null) {\r\n            deltaHeight = 0;\r\n        }\r\n        var table = this.parent;\r\n        if ((this._deltaHeight === 0) && (deltaHeight !== 0)) {\r\n            table.nonZeroDeltaHeightCount++;\r\n        } else if ((this._deltaHeight !== 0) && (deltaHeight === 0)) {\r\n            table.nonZeroDeltaHeightCount--;\r\n        }\r\n\r\n        var isTableHeightChanged = (this._deltaHeight !== deltaHeight);\r\n\r\n        this._deltaHeight = deltaHeight;\r\n\r\n        if (isTableHeightChanged) {\r\n            table.resetTotalRowsHeight();\r\n            var eventName = (this.scrollMode === 0) ? 'cellheightchange' : 'cellwidthchange';\r\n            this.parentContainer.emit(eventName, this, this.container, this.parentContainer);\r\n        }\r\n    }\r\n\r\n    get deltaWidth() {\r\n        return this.deltaHeight;\r\n    }\r\n\r\n    set deltaWidth(deltaWidth) {\r\n        this.deltaHeight = deltaWidth;\r\n    }\r\n\r\n    setDeltaHeight(deltaHeight) {\r\n        this.deltaHeight = deltaHeight;\r\n        return this;\r\n    }\r\n\r\n    setDeltaWidth(deltaWidth) {\r\n        this.deltaHeight = deltaWidth;\r\n        return this;\r\n    }\r\n\r\n    get height() {\r\n        if (this.scrollMode === 0) {\r\n            return this.deltaHeight + this.parent.defaultCellHeight;\r\n        } else {\r\n            return this.parent.defaultCellWidth;\r\n        }\r\n    }\r\n\r\n    set height(height) {\r\n        // Only worked when scrollMode is 0\r\n        if (this.scrollMode === 1) {\r\n            return;\r\n        }\r\n        this.setDeltaHeight(height - this.parent.defaultCellHeight);\r\n    }\r\n\r\n    setHeight(height) {\r\n        // Only worked when scrollMode is 0\r\n        this.height = height;\r\n        return this;\r\n    }\r\n\r\n    get width() {\r\n        if (this.scrollMode === 0) {\r\n            return this.parent.defaultCellWidth;\r\n        } else {\r\n            return this.deltaHeight + this.parent.defaultCellHeight;\r\n        }\r\n    }\r\n\r\n    set width(width) {\r\n        // Only worked when scrollMode is 1\r\n        if (this.scrollMode === 0) {\r\n            return;\r\n        }\r\n        this.setDeltaHeight(width - this.parent.defaultCellHeight);\r\n    }\r\n\r\n    setWidth(width) {\r\n        this.width = width;\r\n        return this;\r\n    }\r\n\r\n    get scene() {\r\n        return this.parentContainer.scene;\r\n    }\r\n};\r\n\r\n\r\nObject.assign(\r\n    Cell.prototype,\r\n    DataMethods\r\n);\r\n\r\n\r\nexport default Cell;","import Cell from './Cell.js';\r\nimport Pool from '../../pool.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst SpliceOne = Phaser.Utils.Array.SpliceOne;\r\n\r\nclass Table {\r\n    constructor(parent, config) {\r\n        this.parent = parent; // parent: GridTable game object (Container)\r\n        this.cells = [];\r\n        this.cellPool = new Pool();\r\n        this.resetFromJSON(config);\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.colCount = undefined;\r\n        this.nonZeroDeltaHeightCount = 0;\r\n        this.resetTotalRowsHeight();\r\n        this.setDefaultCellHeight(GetValue(o, 'cellHeight', 30));\r\n        this.setDefaultCellWidth(GetValue(o, 'cellWidth', 30));\r\n        this.initCells(GetValue(o, 'cellsCount', 0));\r\n        this.setColumnCount(GetValue(o, 'columns', 1));\r\n        return this;\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        // GridTable is destroyed, all cell containers will also be destroyed too\r\n        // Don't have to freeCell\r\n        this.cellPool.destroy();\r\n        this.cells = undefined;\r\n        this.parent = undefined;\r\n    }\r\n\r\n    get defaultCellHeightMode() {\r\n        return (this.nonZeroDeltaHeightCount === 0);\r\n    }\r\n\r\n    setDefaultCellHeight(height) {\r\n        this.defaultCellHeight = height;\r\n        return this;\r\n    }\r\n\r\n    setDefaultCellWidth(width) {\r\n        this.defaultCellWidth = width;\r\n        return this;\r\n    }\r\n\r\n    initCells(size) {\r\n        var cells = this.cells;\r\n        cells.length = size;\r\n        for (var i = 0; i < size; i++) {\r\n            cells[i] = null;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    insertNewCells(cellIdx, count) {\r\n        var cells = this.cells;\r\n        if (cellIdx === cells.length) {\r\n            // append at end of array\r\n            var endIdx = cellIdx + count;\r\n            cells.legth = endIdx;\r\n            for (var i = cellIdx; i < endIdx; i++) {\r\n                cells[i] = null;\r\n            }\r\n        } else {\r\n            var newCells = [];\r\n            newCells.length = count;\r\n            for (var i = 0; i < count; i++) {\r\n                newCells[i] = null;\r\n            }\r\n            this.cells.splice(cellIdx, 0, ...newCells);\r\n        }\r\n\r\n        this.resetTotalRowsHeight();\r\n        return this;\r\n    }\r\n\r\n    removeCells(cellIdx, count) {\r\n        var endIdx = cellIdx + count;\r\n        for (var i = cellIdx; i < endIdx; i++) {\r\n            this.freeCell(i);\r\n        }\r\n\r\n        if (endIdx === this.cells.length) {\r\n            // remove until end of array\r\n            this.cells.length = cellIdx;\r\n        } else {\r\n            if (count === 1) {\r\n                SpliceOne(this.cells, cellIdx);\r\n            } else {\r\n                this.cells.splice(cellIdx, count);\r\n            }\r\n            this.buildCellIndex(cellIdx);\r\n        }\r\n\r\n        this.resetTotalRowsHeight();\r\n        return this;\r\n    }\r\n\r\n    setColumnCount(cnt) {\r\n        this.colCount = cnt;\r\n        this.resetTotalRowsHeight();\r\n        return this;\r\n    }\r\n\r\n    get rowCount() {\r\n        return Math.ceil(this.cells.length / this.colCount);\r\n    }\r\n\r\n    get cellsCount() {\r\n        return this.cells.length;\r\n    }\r\n\r\n    isValidCellIdx(idx) {\r\n        return ((idx >= 0) && (idx < this.cells.length));\r\n    }\r\n\r\n    heightToRowIndex(height, isCeil) {\r\n        // defaultCellHeightMode\r\n        if (this.defaultCellHeightMode) {\r\n            var rowIdx = height / this.defaultCellHeight;\r\n            if (isCeil) {\r\n                rowIdx = Math.ceil(rowIdx);\r\n            } else {\r\n                rowIdx = Math.floor(rowIdx);\r\n            }\r\n\r\n            return rowIdx;\r\n        }\r\n\r\n        // count cell height one by one\r\n        var rowCount = this.rowCount;\r\n        var remainder = height,\r\n            isValidIdx;\r\n        var cell, rowHeight, rowIdx = 0;\r\n\r\n        while (1) {\r\n            rowHeight = this.getRowHeight(rowIdx);\r\n            remainder -= rowHeight;\r\n\r\n            isValidIdx = (rowIdx >= 0) && (rowIdx < rowCount);\r\n            if ((remainder > 0) && isValidIdx) {\r\n                rowIdx += 1;\r\n            } else if (remainder === 0) {\r\n                return rowIdx;\r\n            } else {\r\n                if (isCeil) {\r\n                    var preRowIdx = rowIdx;\r\n                    rowIdx += 1;\r\n                    isValidIdx = (rowIdx >= 0) && (rowIdx < rowCount);\r\n\r\n                    if (!isValidIdx)\r\n                        rowIdx = preRowIdx;\r\n                }\r\n\r\n                return rowIdx;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    widthToColIndex(width, isCeil) {\r\n        var colIdx = width / this.defaultCellWidth;\r\n        if (isCeil) {\r\n            colIdx = Math.ceil(colIdx);\r\n        } else {\r\n            colIdx = Math.floor(colIdx);\r\n        }\r\n\r\n        return colIdx;\r\n    }\r\n\r\n    colRowToCellIndex(colIdx, rowIdx) {\r\n        if (colIdx >= this.colCount) {\r\n            return null;\r\n        }\r\n        return (rowIdx * this.colCount) + colIdx;\r\n    }\r\n\r\n    rowIndexToHeight(start, end) {\r\n        // defaultCellHeightMode\r\n        if (this.defaultCellHeightMode) {\r\n            return (end - start + 1) * this.defaultCellHeight;\r\n        }\r\n\r\n        var h, sum = 0;\r\n        for (var i = start; i <= end; i++) {\r\n            h = this.getRowHeight(i);\r\n            sum += h;\r\n        }\r\n\r\n        return sum;\r\n    }\r\n\r\n    colIndexToWidth(start, end) {\r\n        return (end - start + 1) * this.defaultCellWidth;\r\n    };\r\n\r\n    getRowHeight(rowIdx) {\r\n        var cnt = this.colCount;\r\n        // single column\r\n        if (cnt <= 1) {\r\n            return this.getCellHeight(this.colRowToCellIndex(0, rowIdx));\r\n        }\r\n\r\n        // multiple columns, get the maximum height\r\n        var maxHeight = 0,\r\n            cellHeight;\r\n        for (var i = 0; i < cnt; i++) {\r\n            cellHeight = this.getCellHeight(this.colRowToCellIndex(i, rowIdx));\r\n            if (maxHeight < cellHeight)\r\n                maxHeight = cellHeight;\r\n        }\r\n        return maxHeight;\r\n    }\r\n\r\n    getColWidth(idx) {\r\n        return this.defaultCellWidth;\r\n    }\r\n\r\n    getCellHeight(cellIdx) {\r\n        if (!this.isValidCellIdx(cellIdx)) {\r\n            return 0;\r\n        }\r\n\r\n        var cellHeight;\r\n        if (this.defaultCellHeightMode)\r\n            cellHeight = this.defaultCellHeight;\r\n        else {\r\n            var cell = this.getCell(cellIdx, false);\r\n            var deltaHeight = (cell) ? cell.deltaHeight : 0;\r\n            cellHeight = this.defaultCellHeight + deltaHeight;\r\n        }\r\n\r\n        return cellHeight;\r\n    }\r\n\r\n    resetTotalRowsHeight() {\r\n        this._totalRowsHeight = null;\r\n    }\r\n\r\n    get totalRowsHeight() {\r\n        if (this._totalRowsHeight === null) {\r\n            this._totalRowsHeight = this.rowIndexToHeight(0, this.rowCount - 1);\r\n        }\r\n\r\n        return this._totalRowsHeight;\r\n    }\r\n\r\n    get totalColumnWidth() {\r\n        return this.colCount * this.defaultCellWidth;\r\n    }\r\n\r\n    cellIndxeToColIndex(cellIdx) {\r\n        return cellIdx % this.colCount;\r\n    }\r\n\r\n    cellIndxeToRowIndex(cellIdx) {\r\n        return Math.floor(cellIdx / this.colCount);\r\n    }\r\n\r\n    getCell(cellIdx, createNewCell) {\r\n        if (!this.isValidCellIdx(cellIdx)) {\r\n            return null;\r\n        }\r\n\r\n        if (createNewCell === undefined) {\r\n            createNewCell = true;\r\n        }\r\n        if ((this.cells[cellIdx] === null) && createNewCell) {\r\n            var cell = this.newCell(cellIdx);\r\n            this.cells[cellIdx] = cell;\r\n        }\r\n\r\n        return this.cells[cellIdx];\r\n    }\r\n\r\n    newCell(cellIdx) {\r\n        var cell = this.cellPool.pop();\r\n        if (cell === null) {\r\n            cell = new Cell(this);\r\n        } else {\r\n            cell.setParent(this);\r\n        }\r\n        cell.index = cellIdx;\r\n\r\n        return cell;\r\n    }\r\n\r\n    buildCellIndex(startIdx) {\r\n        if (startIdx === undefined) {\r\n            startIdx = 0;\r\n        }\r\n        var cells = this.cells,\r\n            cell;\r\n        for (var i = startIdx, len = cells.length; i < len; i++) {\r\n            cell = cells[i];\r\n            if (cell) {\r\n                cell.index = i;\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    getParentContainer() {\r\n        return this.parent;\r\n    }\r\n\r\n    freeCell(cell) {\r\n        if (typeof (cell) === 'number') {\r\n            cell = this.cells[cell];\r\n        }\r\n\r\n        if (!cell) {\r\n            return this;\r\n        }\r\n\r\n        cell.destroy();\r\n        this.cellPool.push(cell);\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default Table;","var SetTableOY = function (oy) {\r\n    var table = this.table;\r\n    var topTableOY = this.topTableOY;\r\n    var bottomTableOY = this.bottomTableOY;\r\n    var tableOYExceedTop = (oy > this.topTableOY);\r\n    var tableOYExeceedBottom = (oy < this.bottomTableOY);\r\n    if (this.clampTableOXY) {\r\n        var rowCount = table.rowCount;\r\n        var visibleRowCount = table.heightToRowIndex(this.instHeight, true);\r\n\r\n        // less then 1 page            \r\n        if (rowCount < visibleRowCount) {\r\n            oy = 0;\r\n        } else if (tableOYExceedTop) {\r\n            oy = topTableOY\r\n        } else if (tableOYExeceedBottom) {\r\n            oy = bottomTableOY;\r\n        }\r\n    }\r\n\r\n    if (this._tableOY !== oy) {\r\n        this._tableOY = oy;\r\n    }\r\n\r\n\r\n    if (tableOYExceedTop) {\r\n        if (!this.execeedTopState) {\r\n            this.emit('execeedtop', this, oy, topTableOY);\r\n        }\r\n    }\r\n    this.execeedTopState = tableOYExceedTop;\r\n\r\n    if (tableOYExeceedBottom) {\r\n        if (!this.execeedBottomState) {\r\n            this.emit('execeedbottom', this, oy, bottomTableOY);\r\n        }\r\n    }\r\n    this.execeedBottomState = tableOYExeceedBottom;\r\n    return this;\r\n}\r\n\r\nexport default SetTableOY;","var SetTableOX = function (ox) {\r\n    var table = this.table;\r\n    var leftTableOX = this.leftTableOX;\r\n    var rightTableOX = this.rightTableOX;\r\n    var tableOXExeceedLeft = (ox > this.leftTableOX);\r\n    var tableOXExeceedRight = (ox < this.rightTableOX);\r\n    if (this.clampTableOXY) {\r\n        var colCount = table.colCount;\r\n        var visibleColCount = table.widthToColIndex(this.instWidth, true);\r\n\r\n        // less then 1 page            \r\n        if (colCount < visibleColCount) {\r\n            ox = 0;\r\n        } else if (tableOXExeceedLeft) {\r\n            ox = leftTableOX\r\n        } else {\r\n            // var tableVisibleWidth = this.tableVisibleWidth;\r\n            if (tableOXExeceedRight)\r\n                ox = rightTableOX;\r\n        }\r\n    }\r\n\r\n    if (this._tableOX !== ox) {\r\n        this._tableOX = ox;\r\n    }\r\n\r\n    if (tableOXExeceedLeft) {\r\n        if (!this.execeedLeftState) {\r\n            this.emit('execeedleft', this, ox, leftTableOX);\r\n        }\r\n    }\r\n    this.execeedLeftState = tableOXExeceedLeft;\r\n\r\n    if (tableOXExeceedRight) {\r\n        if (!this.execeedRightState) {\r\n            this.emit('execeedright', this, ox, rightTableOX);\r\n        }\r\n    }\r\n    this.execeedRightState = tableOXExeceedRight;\r\n    return this;\r\n}\r\n\r\nexport default SetTableOX;","var MaskToGameObject = function (mask) {\r\n    return (mask.hasOwnProperty('geometryMask')) ? mask.geometryMask : mask.bitmapMask;\r\n}\r\nexport default MaskToGameObject;","import MaskToGameObject from '../../../utils/mask/MaskToGameObject.js';\r\n\r\nconst Intersects = Phaser.Geom.Intersects.RectangleToRectangle;\r\nconst Overlaps = Phaser.Geom.Rectangle.Overlaps;\r\n\r\nvar MaskChildren = function (parent, mask, children) {\r\n    if (!mask) {\r\n        return;\r\n    }\r\n\r\n    if (children === undefined) {\r\n        children = parent.getAllChildren();\r\n    }\r\n\r\n    var parentBounds = parent.getBounds();\r\n    var maskGameObject = MaskToGameObject(mask);\r\n\r\n    var child, childBounds, visiblePointsNumber;\r\n    for (var i = 0, cnt = children.length; i < cnt; i++) {\r\n        child = children[i];\r\n        if (child.hasOwnProperty('isRexContainerLite')) {\r\n            continue;\r\n        }\r\n        if (child === maskGameObject) {\r\n            continue;\r\n        }\r\n        if (!IsVisible(child)) {  // Child is invisible before masking\r\n            continue;\r\n        }\r\n\r\n        if (child.getBounds) {\r\n            childBounds = child.getBounds(childBounds);\r\n            visiblePointsNumber = ContainsPoints(parentBounds, childBounds);\r\n            switch (visiblePointsNumber) {\r\n                case 4: // 4 points are all inside visible window, set visible\r\n                    ShowAll(parent, child, mask);\r\n                    break;\r\n                case 0: // No point is inside visible window\r\n                    // Parent intersects with child, or parent is inside child, set visible, and apply mask\r\n                    if (Intersects(parentBounds, childBounds) || Overlaps(parentBounds, childBounds)) {\r\n                        ShowSome(parent, child, mask);\r\n                    } else { // Set invisible\r\n                        ShowNone(parent, child, mask);\r\n                    }\r\n                    break;\r\n                default: // Part of points are inside visible window, set visible, and apply mask\r\n                    ShowSome(parent, child, mask);\r\n                    break;\r\n            }\r\n        } else {\r\n            ShowSome(parent, child, mask);\r\n        }\r\n    }\r\n}\r\n\r\nvar IsVisible = function (gameObject) {\r\n    while (1) {\r\n        var localState = gameObject.rexContainer;\r\n        if (!localState) { // Top game object\r\n            return gameObject.visible;\r\n        } else if (localState.visible) {\r\n            var parent = localState.parent;\r\n            if (parent) { // Test parent's visible\r\n                gameObject = parent;\r\n                continue;\r\n            } else { // Top visible game object\r\n                return true;\r\n            }\r\n        } else { // Current game object is invisible\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\nvar ContainsPoints = function (rectA, rectB) {\r\n    var result = 0;\r\n    var top = rectB.top,\r\n        bottom = rectB.bottom,\r\n        left = rectB.left,\r\n        right = rectB.right;\r\n    result += rectA.contains(left, top) ? 1 : 0;\r\n    result += rectA.contains(left, bottom) ? 1 : 0;\r\n    result += rectA.contains(right, top) ? 1 : 0;\r\n    result += rectA.contains(right, bottom) ? 1 : 0;\r\n    return result;\r\n};\r\n\r\nvar ShowAll = function (parent, child, mask) {\r\n    parent.setChildMaskVisible(child, true);\r\n    if (child.clearMask) {\r\n        child.clearMask();\r\n    }\r\n}\r\n\r\nvar ShowSome = function (parent, child, mask) {\r\n    parent.setChildMaskVisible(child, true);\r\n    if (child.setMask) {\r\n        child.setMask(mask);\r\n    }\r\n}\r\n\r\nvar ShowNone = function (parent, child, mask) {\r\n    parent.setChildMaskVisible(child, false);\r\n    if (child.clearMask) {\r\n        child.clearMask();\r\n    }\r\n}\r\n\r\nexport default MaskChildren;","import MaskChildren from './MaskChildren.js';\r\nimport AddChildMask from './AddChildMask.js';\r\nimport MaskToGameObject from '../../../utils/mask/MaskToGameObject.js'\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nconst MASKUPDATEMODE = {\r\n    update: 0,\r\n    everyTick: 1\r\n};\r\n\r\nexport default {\r\n    setupChildrenMask(config) {\r\n        if (config === false) {\r\n            // No children mask\r\n            return this;\r\n        }\r\n\r\n        this.setMaskUpdateMode(GetValue(config, 'updateMode', 0));\r\n        this.enableChildrenMask(GetValue(config, 'padding', 0));\r\n        this.setMaskLayer(GetValue(config, 'layer', undefined));\r\n        this.startMaskUpdate();\r\n\r\n        return this;\r\n    },\r\n\r\n    destroyChildrenMask() {\r\n        if (!this.childrenMask) {\r\n            return this;\r\n        }\r\n\r\n        this.stopMaskUpdate();\r\n        this.childrenMask.destroy();\r\n        this.childrenMask = undefined;\r\n\r\n        return this;\r\n    },\r\n\r\n    setMaskUpdateMode(mode) {\r\n        if (typeof (mode) === 'string') {\r\n            mode = MASKUPDATEMODE[mode];\r\n        }\r\n        this.maskUpdateMode = mode;\r\n        return this;\r\n    },\r\n\r\n    startMaskUpdate() {\r\n        this.scene.game.events.on('poststep', this.maskChildren, this);\r\n    },\r\n\r\n    stopMaskUpdate() {\r\n        this.scene.game.events.off('poststep', this.maskChildren, this);\r\n    },\r\n\r\n    enableChildrenMask(maskPadding) {\r\n        var maskGameObject = AddChildMask.call(this, null, this, 0, maskPadding);\r\n        this.childrenMask = maskGameObject.createGeometryMask();\r\n        // this.childrenMask is a mask object, not a (Graphics) game object\r\n        return this;\r\n    },\r\n\r\n    setMaskChildrenFlag(value) {\r\n        if (value === undefined) {\r\n            value = true;\r\n        }\r\n        this.maskChildrenFlag = value;\r\n        return this;\r\n    },\r\n\r\n    setMaskLayer(layer) {\r\n        // To reduce amount of masked game object\r\n        this.maskLayer = layer;\r\n        return this;\r\n    },\r\n\r\n    maskChildren() {\r\n        if (\r\n            (!this.childrenMask) ||                // No childrenMask\r\n            (!this.maskChildrenFlag) ||            // No maskChildrenFlag set\r\n            (this.alpha === 0) || (!this.visible)  // Parent is not visible\r\n        ) {\r\n            return this;\r\n        }\r\n\r\n        if (this.maskLayer) {\r\n            // 1. Add parent and children into layer\r\n            this.addToLayer(this.maskLayer);\r\n            // 2. Mask this layer\r\n            this.maskLayer.setMask(this.childrenMask);\r\n        } else {\r\n            MaskChildren(this, this.childrenMask, this.getAllChildren(), this.maskLayer);\r\n        }\r\n\r\n        if (this.maskUpdateMode === 0) {\r\n            this.maskChildrenFlag = false;\r\n        }\r\n        return this;\r\n    },\r\n\r\n    layoutChildrenMask() {\r\n        if (!this.childrenMask) {\r\n            return this;\r\n        }\r\n\r\n        var maskGameObject = MaskToGameObject(this.childrenMask);\r\n        maskGameObject.setPosition().resize();\r\n        this.resetChildPositionState(maskGameObject);\r\n        return this;\r\n    }\r\n};","var HideCell = function (cell) {\r\n    // Option: pop container of cell by cell.popContainer() under this event \r\n    this.emit('cellinvisible', cell);\r\n\r\n    if (this.cellContainersPool) {\r\n        var cellContainer = cell.popContainer(); // null if already been removed\r\n        if (cellContainer) {\r\n            this.cellContainersPool.killAndHide(cellContainer);\r\n        }\r\n    }\r\n\r\n    cell.destroyContainer(); // Destroy container of cell\r\n}\r\n\r\nexport default HideCell;","import HideCell from './HideCell.js';\r\n\r\nvar HideCells = function () {\r\n    var preList = this.preVisibleCells;\r\n    var curList = this.visibleCells;\r\n    preList.iterate(function (cell) {\r\n        if (!curList.contains(cell)) {\r\n            HideCell.call(this, cell);\r\n        }\r\n    }, this);\r\n}\r\n\r\nexport default HideCells;","var ShowCell = function (cell) {\r\n    // Attach container to cell by cell.setContainer(container) under this event\r\n    var reusedCellContainer = null;\r\n    var cellContainer = cell.getContainer();\r\n    if (cellContainer) {\r\n        reusedCellContainer = cellContainer;\r\n        cell.popContainer();\r\n    } else if (this.cellContainersPool) {\r\n        reusedCellContainer = this.cellContainersPool.getFirstDead();\r\n        if (reusedCellContainer !== null) { // Reuse this game object\r\n            reusedCellContainer.setActive(true).setVisible(true);\r\n        }\r\n    }\r\n\r\n    this.emit('cellvisible', cell, reusedCellContainer, this);\r\n\r\n    if (this.cellContainersPool) {\r\n        var cellContainer = cell.getContainer();\r\n        if (cellContainer) {\r\n            if (reusedCellContainer === null) {\r\n                this.cellContainersPool.add(cellContainer); // New cell container, add to pool\r\n            } else if (reusedCellContainer !== cellContainer) {\r\n                // Why reusedCellContainer is not equal to cellContainer?\r\n                this.cellContainersPool.add(cellContainer); // New cell container, add to pool\r\n                this.cellContainersPool.killAndHide(reusedCellContainer); // Unused cell container, put back to pool\r\n            }\r\n        } else { // No cell container added\r\n            if (reusedCellContainer !== null) {\r\n                this.cellContainersPool.killAndHide(reusedCellContainer); // Unused cell container, put back to pool\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default ShowCell;","import ShowCell from './ShowCell.js';\r\n\r\nvar ShowCells = function () {\r\n    if (this.cellsCount === 0) {\r\n        return;\r\n    }\r\n    var table = this.table;\r\n\r\n    var startRowIdx = table.heightToRowIndex(-this.tableOY);\r\n    if (startRowIdx <= 0) {\r\n        startRowIdx = 0;  //Turn -0 to 0\r\n    }\r\n    var rowIdx = startRowIdx;\r\n\r\n    var startColIdx = table.widthToColIndex(-this.tableOX);\r\n    if (startColIdx <= 0) {\r\n        startColIdx = 0;  //Turn -0 to 0\r\n    }\r\n    var colIdx = startColIdx;\r\n\r\n    var cellIdx = table.colRowToCellIndex(colIdx, rowIdx);\r\n    var bottomBound = this.bottomBound;\r\n    var rightBound = this.rightBound;\r\n    var lastIdx = table.cellsCount - 1;\r\n    var lastColIdx = table.colCount - 1;\r\n\r\n    var startCellTLX = GetCellTLX.call(this, colIdx),\r\n        cellTLX = startCellTLX;\r\n    var cellTLY = GetCellTLY.call(this, rowIdx);\r\n    while ((cellTLY < bottomBound) && (cellIdx <= lastIdx)) {\r\n        if (this.table.isValidCellIdx(cellIdx)) {\r\n            var cell = table.getCell(cellIdx, true);\r\n            this.visibleCells.set(cell);\r\n            if (!this.preVisibleCells.contains(cell)) {\r\n                ShowCell.call(this, cell);\r\n            }\r\n            if (this.scrollMode === 0) {\r\n                cell.setXY(cellTLX, cellTLY);\r\n            } else {\r\n                cell.setXY(cellTLY, cellTLX);\r\n            }\r\n        }\r\n\r\n        if ((cellTLX < rightBound) && (colIdx < lastColIdx)) {\r\n            cellTLX += table.getColWidth(colIdx);\r\n            colIdx += 1;\r\n        } else {\r\n            cellTLX = startCellTLX;\r\n            cellTLY += table.getRowHeight(rowIdx);\r\n\r\n            colIdx = startColIdx;\r\n            rowIdx += 1;\r\n        }\r\n\r\n        cellIdx = table.colRowToCellIndex(colIdx, rowIdx);\r\n    }\r\n}\r\n\r\nvar GetCellTLX = function (colIdx) {\r\n    var ox = (this.scrollMode === 0) ? this.topLeftX : this.topLeftY;\r\n    var x = this.tableOX + this.table.colIndexToWidth(0, colIdx - 1) + ox;\r\n    return x;\r\n}\r\n\r\nvar GetCellTLY = function (rowIdx) {\r\n    var oy = (this.scrollMode === 0) ? this.topLeftY : this.topLeftX;\r\n    var y = this.tableOY + this.table.rowIndexToHeight(0, rowIdx - 1) + oy;\r\n    return y;\r\n}\r\n\r\nexport default ShowCells;","import HideCells from './HideCells.js';\r\nimport ShowCells from './ShowCells.js';\r\n\r\nvar UpdateTable = function (refresh) {\r\n    if (refresh === undefined) {\r\n        refresh = false;\r\n    }\r\n    if (refresh) {\r\n        ClearVisibleCellIndexes.call(this);\r\n        HideCells.call(this);\r\n    }\r\n    ClearVisibleCellIndexes.call(this);\r\n    ShowCells.call(this);\r\n    HideCells.call(this);\r\n\r\n    this.setMaskChildrenFlag();\r\n    return this;\r\n}\r\n\r\nvar ClearVisibleCellIndexes = function () {\r\n    var tmp = this.preVisibleCells;\r\n    this.preVisibleCells = this.visibleCells;\r\n    this.visibleCells = tmp;\r\n    this.visibleCells.clear();\r\n}\r\n\r\nexport default UpdateTable;","var IsCellVisible = function (cellIdx) {\r\n    var cell = this.table.getCell(cellIdx, false);\r\n    return cell && this.visibleCells.contains(cell);\r\n}\r\n\r\nexport default IsCellVisible;","var PointToCellIndex = function (x, y) {\r\n    y -= (this.y + this.topLeftY);\r\n    x -= (this.x + this.topLeftX);\r\n    var offsetTableOY = this.tableOY - ((this.scrollMode === 0) ? y : x);\r\n    var offsetTableOX = this.tableOX - ((this.scrollMode === 0) ? x : y);\r\n\r\n    var table = this.table;\r\n    var rowIdx = table.heightToRowIndex(-offsetTableOY);\r\n    var colIdx = table.widthToColIndex(-offsetTableOX);\r\n    var cellIdx = table.colRowToCellIndex(colIdx, rowIdx);\r\n    if (cellIdx === null) {\r\n        return null;\r\n    }\r\n    if (!this.isCellVisible(cellIdx)) {\r\n        return null;\r\n    }\r\n    return cellIdx;\r\n}\r\n\r\nvar PointToCellContainer = function (x, y) {\r\n    var cellIdx = PointToCellIndex.call(this, x, y);\r\n    if (cellIdx === null) {\r\n        return undefined;\r\n    }\r\n    return this.getCellContainer(cellIdx);\r\n}\r\n\r\nexport { PointToCellIndex, PointToCellContainer };","// For when you know this Set will be modified during the iteration\r\nvar EachVisibleCell = function (callback, scope) {\r\n    this.visibleCells.each(callback, scope);\r\n    return this;\r\n}\r\n\r\n// For when you absolutely know this Set won't be modified during the iteration\r\nvar IterateVisibleCell = function (callback, scope) {\r\n    this.visibleCells.iterate(callback, scope);\r\n    return this;\r\n}\r\n\r\nvar EachCell = function (callback, scope) {\r\n    this.table.cells.slice().forEach(callback, scope);\r\n    return this;\r\n}\r\n\r\nvar IterateCell = function (callback, scope) {\r\n    this.table.cells.forEach(callback, scope);\r\n    return this;\r\n}\r\n\r\nexport { EachVisibleCell, IterateVisibleCell, EachCell, IterateCell };","var SetCellsCount = function (count) {\r\n    var cellsCount = this.cellsCount;\r\n    if (cellsCount === count) {\r\n        return this;\r\n    }\r\n\r\n    if (cellsCount > count) {\r\n        this.removeCells(count, cellsCount - count);\r\n    } else { // cellsCount < count\r\n        this.insertNewCells(cellsCount, count - cellsCount);\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default SetCellsCount;","const Clamp = Phaser.Math.Clamp;\r\n\r\nvar InsertNewCells = function (cellIdx, count) {\r\n    if (typeof (cellIdx) === 'object') {\r\n        cellIdx = cellIdx.index;\r\n    }\r\n    if (count === undefined) {\r\n        count = 1;\r\n    }\r\n    if (count <= 0) {\r\n        return this;\r\n    }\r\n    cellIdx = Clamp(cellIdx, 0, this.cellsCount);\r\n    this.table.insertNewCells(cellIdx, count);\r\n    return this;\r\n}\r\n\r\nexport default InsertNewCells;","import HideCell from './updatetable/HideCell.js';\r\n\r\nvar RemoveCells = function (cellIdx, count) {\r\n    if (typeof (cellIdx) === 'object') {\r\n        cellIdx = cellIdx.index;\r\n    }\r\n    if (count === undefined) {\r\n        count = 1;\r\n    }\r\n    if (cellIdx < 0) {\r\n        count += cellIdx;\r\n        cellIdx = 0;\r\n    }\r\n    if (count <= 0) {\r\n        return this;\r\n    }\r\n    // out-of-range\r\n    if (cellIdx > this.cellsCount) {\r\n        return this;\r\n    }\r\n\r\n    var cell;\r\n    for (var i = cellIdx, endIdx = cellIdx + count; i < endIdx; i++) {\r\n        cell = this.getCell(i, false);\r\n        if (cell) {\r\n            if (this.visibleCells.contains(cell)) {\r\n                HideCell.call(this, cell);\r\n                this.visibleCells.delete(cell);\r\n            }\r\n            this.preVisibleCells.delete(cell);\r\n        }\r\n    }\r\n\r\n    this.table.removeCells(cellIdx, count);\r\n    return this;\r\n}\r\n\r\nexport default RemoveCells;","var SetColumnCount = function (count) {\r\n    if (this.table.colCount === count) {\r\n        return this;\r\n    }\r\n    this.table.setColumnCount(count);\r\n    return this;\r\n}\r\n\r\nexport default SetColumnCount;","var SetGridSize = function (colCount, rowCount) {\r\n    this.setCellsCount(colCount * rowCount);\r\n    this.table.setColumnCount(colCount);\r\n    return this;\r\n}\r\n\r\nexport default SetGridSize;","import ShowCell from './updatetable/ShowCell';\r\n\r\nvar UpdateVisibleCell = function (cellIdx) {\r\n    var cell = this.table.getCell(cellIdx, false);\r\n    if (!cell || !cell.container) {\r\n        return this;\r\n    }\r\n\r\n    ShowCell.call(this, cell);\r\n\r\n    return this;\r\n}\r\n\r\nexport default UpdateVisibleCell;","import SetTableOY from './SetTableOY.js';\r\nimport SetTableOX from './SetTableOX.js';\r\nimport ChildrenMaskMethods from '../../containerlite/mask/ChildrenMaskMethods.js';\r\nimport UpdateTable from './updatetable/UpdateTable.js';\r\nimport IsCellVisible from './IsCellVisible.js';\r\nimport { PointToCellIndex, PointToCellContainer } from './PointToCell.js';\r\nimport { EachVisibleCell, IterateVisibleCell, EachCell, IterateCell } from './EachCell.js';\r\n\r\nimport SetCellsCount from './SetCellsCount.js';\r\nimport InsertNewCells from './InsertNewCells.js';\r\nimport RemoveCells from './RemoveCells.js';\r\nimport SetColumnCount from './SetColumnCount.js';\r\nimport SetGridSize from './SetGridSize.js';\r\nimport UpdateVisibleCell from './UpdateVisibleCell';\r\n\r\nvar methods = {\r\n    setTableOY: SetTableOY,\r\n    setTableOX: SetTableOX,\r\n    updateTable: UpdateTable,\r\n    isCellVisible: IsCellVisible,\r\n    pointToCellIndex: PointToCellIndex,\r\n    pointToCellContainer: PointToCellContainer,\r\n    eachVisibleCell: EachVisibleCell,\r\n    iterateVisibleCell: IterateVisibleCell,\r\n    eachCell: EachCell,\r\n    iterateCell: IterateCell,\r\n\r\n    setCellsCount: SetCellsCount,\r\n    insertNewCells: InsertNewCells,\r\n    removeCells: RemoveCells,\r\n    setColumnCount: SetColumnCount,\r\n    setGridSize: SetGridSize,\r\n    updateVisibleCell: UpdateVisibleCell\r\n}\r\n\r\nObject.assign(\r\n    methods,\r\n    ChildrenMaskMethods\r\n);\r\n\r\nexport default methods;","import ContainerLite from '../containerlite/ContainerLite.js';\r\nimport Table from './Table.js';\r\nimport Methods from './methods/Methods.js';\r\n\r\nconst Group = Phaser.GameObjects.Group;\r\nconst Set = Phaser.Structs.Set;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass GridTable extends ContainerLite {\r\n    constructor(scene, x, y, width, height, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n        super(scene, x, y, width, height);\r\n        this.type = 'rexGridTable';\r\n        this._tableOX = 0;\r\n        this._tableOY = 0;\r\n        this.visibleCells = new Set();\r\n        this.preVisibleCells = new Set();\r\n        this.execeedTopState = false;\r\n        this.execeedBottomState = false;\r\n        this.execeedLeftState = false;\r\n        this.execeedRightState = false;\r\n\r\n        var reuseCellContainer = GetValue(config, 'reuseCellContainer', false);\r\n        if (reuseCellContainer) {\r\n            this.cellContainersPool = new Group(scene); // Don't add Group into update list, I will destroy it manually\r\n        }\r\n\r\n        var callback = GetValue(config, 'cellVisibleCallback', null);\r\n        if (callback !== null) {\r\n            var scope = GetValue(config, 'cellVisibleCallbackScope', undefined);\r\n            this.on('cellvisible', callback, scope);\r\n        }\r\n        callback = GetValue(config, 'cellInvisibleCallback', null);\r\n        if (callback !== null) {\r\n            var scope = GetValue(config, 'cellInvisibleCallbackScope', undefined);\r\n            this.on('cellinvisible', callback, scope);\r\n        }\r\n\r\n        this.setupChildrenMask(GetValue(config, 'mask', undefined));\r\n\r\n        this.setScrollMode(GetValue(config, 'scrollMode', 0));\r\n        this.setClampMode(GetValue(config, 'clamplTableOXY', true));\r\n\r\n        // Pre-process cell size\r\n        if (this.scrollMode === 0) { // scroll y\r\n            var cellWidth = GetValue(config, 'cellWidth', undefined);\r\n            this.expandCellSize = (cellWidth === undefined);\r\n            if (cellWidth === undefined) {\r\n                var columns = GetValue(config, 'columns', 1);\r\n                config.cellWidth = this.width / columns;\r\n            }\r\n        } else { // scroll x\r\n            // Swap cell width and cell height\r\n            var cellWidth = GetValue(config, 'cellHeight', undefined);\r\n            var cellHeight = GetValue(config, 'cellWidth', undefined);\r\n            this.expandCellSize = (cellWidth === undefined);\r\n            config.cellWidth = cellWidth;\r\n            config.cellHeight = cellHeight;\r\n        }\r\n        this.table = new Table(this, config);\r\n\r\n        this.updateTable();\r\n    }\r\n\r\n    destroy(fromScene) {  // preDestroy method does not have fromScene parameter\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        this.destroyChildrenMask();\r\n\r\n        this.table.destroy(fromScene);\r\n        this.table = undefined;\r\n        if (this.cellContainersPool) {\r\n            this.cellContainersPool.destroy(true);\r\n            this.cellContainersPool = undefined;\r\n        }\r\n\r\n        super.destroy(fromScene);\r\n    }\r\n\r\n    setScrollMode(mode) {\r\n        if (typeof (mode) === 'string') {\r\n            mode = SCROLLMODE[mode.toLowerCase()];\r\n        }\r\n        this.scrollMode = mode;\r\n        return this;\r\n    }\r\n\r\n    setClampMode(mode) {\r\n        if (mode === undefined) {\r\n            mode = true;\r\n        }\r\n        this.clampTableOXY = mode;\r\n        return this;\r\n    }\r\n\r\n    get tableOY() {\r\n        return this._tableOY;\r\n    }\r\n\r\n    get tableOX() {\r\n        return this._tableOX;\r\n    }\r\n\r\n    set tableOY(oy) {\r\n        this.setTableOY(oy).updateTable();\r\n    }\r\n\r\n    set tableOX(ox) {\r\n        this.setTableOX(ox).updateTable();\r\n    }\r\n\r\n    setTableOXY(ox, oy) {\r\n        this.setTableOY(oy).setTableOX(ox);\r\n        return this;\r\n    }\r\n\r\n    addTableOY(dy) {\r\n        this.setTableOY(this.tableOY + dy);\r\n        return this;\r\n    }\r\n\r\n    addTableOX(dx) {\r\n        this.setTableOX(this.tableOX + dx);\r\n        return this;\r\n    }\r\n\r\n    addTableOXY(dx, dy) {\r\n        this.addTableOY(dy).addTableOX(dx);\r\n        return this;\r\n    }\r\n\r\n    setTableOYByPercentage(percentage) {\r\n        this.setTableOY(-this.tableVisibleHeight * percentage);\r\n        return this;\r\n    }\r\n\r\n    getTableOYPercentage() {\r\n        var tableVisibleHeight = this.tableVisibleHeight;\r\n        if (tableVisibleHeight === 0) {\r\n            return 0;\r\n        }\r\n        return (this.tableOY / -tableVisibleHeight);\r\n    }\r\n\r\n    set t(value) {\r\n        this.setTableOYByPercentage(value).updateTable();\r\n    }\r\n\r\n    get t() {\r\n        return this.getTableOYPercentage();\r\n    }\r\n\r\n    getCell(cellIdx) {\r\n        return this.table.getCell(cellIdx, true);\r\n    }\r\n\r\n    getCellContainer(cellIdx) {\r\n        var cell = this.table.getCell(cellIdx, false);\r\n        var container;\r\n        if (cell) {\r\n            container = cell.getContainer();\r\n        }\r\n        return container;\r\n    }\r\n\r\n    get cellsCount() {\r\n        return this.table.cellsCount;\r\n    }\r\n\r\n    get columnCount() {\r\n        return this.table.colCount;\r\n    }\r\n\r\n    setCellHeight(cellIdx, height) {\r\n        var cell;\r\n        if (typeof (cellIdx) === 'number') {\r\n            cell = this.table.getCell(cellIdx, true);\r\n        } else {\r\n            cell = cellIdx;\r\n        }\r\n        cell.height = height; // Only worked when scrollMode is 0\r\n        return this;\r\n    }\r\n\r\n    setCellWidth(cellIdx, width) {\r\n        var cell;\r\n        if (typeof (cellIdx) === 'number') {\r\n            cell = this.table.getCell(cellIdx, true);\r\n        } else {\r\n            cell = cellIdx;\r\n        }\r\n        cell.width = width; // Only worked when scrollMode is 1\r\n        return this;\r\n    }\r\n\r\n    get instHeight() {\r\n        return (this.scrollMode === 0) ? this.height : this.width;\r\n    }\r\n\r\n    get instWidth() {\r\n        return (this.scrollMode === 0) ? this.width : this.height;\r\n    }\r\n\r\n    get tableHeight() {\r\n        return this.table.totalRowsHeight;\r\n    }\r\n\r\n    get tableWidth() {\r\n        return this.table.totalColumnWidth;\r\n    }\r\n\r\n    get topTableOY() {\r\n        return 0;\r\n    }\r\n\r\n    get bottomTableOY() {\r\n        return -this.tableVisibleHeight;\r\n    }\r\n\r\n    get leftTableOX() {\r\n        return 0;\r\n    }\r\n\r\n    get rightTableOX() {\r\n        return -this.tableVisibleWidth;\r\n    }\r\n\r\n    get tableVisibleHeight() {\r\n        var h = this.tableHeight - this.instHeight;\r\n        if (h < 0) {\r\n            h = 0;\r\n        }\r\n        return h;\r\n    }\r\n\r\n    get tableVisibleWidth() {\r\n        var w;\r\n        var tableWidth = this.tableWidth;\r\n        var instWidth = this.instWidth;\r\n        if (tableWidth > instWidth) {\r\n            w = tableWidth - instWidth;\r\n        } else {\r\n            w = 0;\r\n        }\r\n        return w;\r\n    };\r\n\r\n    get bottomLeftY() {\r\n        return -(this.displayHeight * this.originY) + this.displayHeight;\r\n    }\r\n\r\n    get topRightX() {\r\n        return -(this.displayWidth * this.originX) + this.displayWidth;\r\n    }\r\n\r\n    get topLeftX() {\r\n        return -(this.displayWidth * this.originX);\r\n    }\r\n\r\n    get topLeftY() {\r\n        return -(this.displayHeight * this.originY)\r\n    }\r\n\r\n    get bottomBound() {\r\n        if (this.scrollMode === 0) {\r\n            return this.bottomLeftY;\r\n        } else {\r\n            return this.topRightX;\r\n        }\r\n    }\r\n\r\n    get rightBound() {\r\n        if (this.scrollMode === 0) {\r\n            return this.topRightX;\r\n        } else {\r\n            return this.bottomLeftY;\r\n        }\r\n    }\r\n\r\n    resize(width, height) {\r\n        if ((this.width === width) && (this.height === height)) {\r\n            return this;\r\n        }\r\n\r\n        super.resize(width, height);\r\n\r\n        if (this.expandCellSize) {\r\n            this.table.setDefaultCellWidth(this.instWidth / this.table.colCount);\r\n        }\r\n        this.updateTable(true);\r\n\r\n        // Layout children-mask\r\n        this.layoutChildrenMask();\r\n        // Re-mask children\r\n        this.maskChildren();\r\n\r\n        return this;\r\n    }\r\n};\r\n\r\n// mixin\r\nObject.assign(\r\n    GridTable.prototype,\r\n    Methods\r\n);\r\n\r\nconst SCROLLMODE = {\r\n    v: 0,\r\n    vertical: 0,\r\n    h: 1,\r\n    horizontal: 1\r\n};\r\n\r\nconst MASKUPDATEMODE = {\r\n    update: 0,\r\n    everyTick: 1\r\n};\r\n\r\nexport default GridTable;","var InjectProperties = function (table) {\r\n    Object.defineProperty(table, 'childOY', {\r\n        configurable: true,\r\n        get: function () {\r\n            return table.tableOY;\r\n        },\r\n        set: function (value) {\r\n            table.tableOY = value;\r\n        }\r\n    });\r\n    Object.defineProperty(table, 'topChildOY', {\r\n        get: function () {\r\n            return table.topTableOY;\r\n        }\r\n    });\r\n    Object.defineProperty(table, 'bottomChildOY', {\r\n        get: function () {\r\n            return table.bottomTableOY;\r\n        }\r\n    });\r\n    Object.defineProperty(table, 'childVisibleHeight', {\r\n        get: function () {\r\n            return table.instHeight;\r\n        }\r\n    });\r\n    Object.defineProperty(table, 'childHeight', {\r\n        get: function () {\r\n            return table.tableHeight;\r\n        }\r\n    });\r\n};\r\nexport default InjectProperties;","var TableOnCellVisible = function (table) {\r\n    table.on('cellvisible', function (cell, cellContainer, table) {\r\n        var callback = this.createCellContainerCallback;\r\n        var scope = this.createCellContainerCallbackScope;\r\n        cell.item = this.items[cell.index];\r\n        var cellContainer;\r\n        if (scope) {\r\n            cellContainer = callback.call(scope, cell, cellContainer, table);\r\n        } else {\r\n            cellContainer = callback(cell, cellContainer, table);\r\n        }\r\n        if (cellContainer) {\r\n            if (cellContainer.setOrigin) {\r\n                cellContainer.setOrigin(0);\r\n            }\r\n            if (cellContainer.isRexSizer) {\r\n                cellContainer.layout(); // Use original size\r\n            }\r\n        }\r\n\r\n        cell.item = undefined;\r\n        cell.setContainer(cellContainer);\r\n    }, this);\r\n}\r\nexport default TableOnCellVisible;","var EmitCellEvent = function (eventEmitter, eventName, table, x, y, pointer, event) {\r\n    var cellIndex;\r\n    if (y === undefined) {\r\n        cellIndex = x;\r\n    } else {\r\n        cellIndex = table.pointToCellIndex(x, y);\r\n    }\r\n    if ((cellIndex === null) || (cellIndex === undefined)) {\r\n        return;\r\n    }\r\n    var cellContainer = table.getCellContainer(cellIndex);\r\n    if (cellContainer) {\r\n        eventEmitter.emit(eventName, cellContainer, cellIndex, pointer, event);\r\n    }\r\n}\r\n\r\nexport default EmitCellEvent;","import EmitCellEvent from './EmitCellEvent.js';\r\n\r\nvar PointerUpDownCell = function (table, tableConfig) {\r\n    table\r\n        .on('pointerdown', function (pointer, localX, localY, event) {\r\n            EmitCellEvent(this.eventEmitter, 'cell.down', table, pointer.x, pointer.y, pointer, event);\r\n        }, this)\r\n        .on('pointerup', function (pointer, localX, localY, event) {\r\n            EmitCellEvent(this.eventEmitter, 'cell.up', table, pointer.x, pointer.y, pointer, event);\r\n        }, this)\r\n}\r\n\r\nexport default PointerUpDownCell;","import EmitCellEvent from './EmitCellEvent.js';\r\n\r\nvar OverCell = function (table, tableConfig) {\r\n    table\r\n        .on('pointermove', OnMove, this)\r\n        .on('pointerover', OnMove, this)\r\n        .on('pointerout', OnOut, this)  // pointer-up is included too\r\n}\r\n\r\nvar OnMove = function (pointer, localX, localY, event) {\r\n    var table = this.childrenMap.child;\r\n    var cellIndex = table.pointToCellIndex(pointer.x, pointer.y);\r\n    if (cellIndex === table.input.lastOverCellIndex) {\r\n        return;\r\n    }\r\n\r\n    var preCellIndex = table.input.lastOverCellIndex;\r\n    table.input.lastOverCellIndex = cellIndex;\r\n    EmitCellEvent(this.eventEmitter, 'cell.out', table, preCellIndex, undefined, pointer, event);\r\n    EmitCellEvent(this.eventEmitter, 'cell.over', table, cellIndex, undefined, pointer, event);\r\n}\r\n\r\nvar OnOut = function (pointer, event) {\r\n    var table = this.childrenMap.child;\r\n    var cellIndex = table.input.lastOverCellIndex;\r\n    table.input.lastOverCellIndex = undefined;\r\n    EmitCellEvent(this.eventEmitter, 'cell.out', table, cellIndex, undefined, pointer, event);\r\n}\r\n\r\nexport default OverCell;","import Button from '../../../../plugins/input/button/Button.js';\r\nimport EmitCellEvent from './EmitCellEvent.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar ClickCell = function (table, tableConfig) {\r\n    var buttonConfig = GetValue(tableConfig, 'click', undefined);\r\n    if (buttonConfig === false) {\r\n        return;\r\n    } else if (buttonConfig === undefined) {\r\n        buttonConfig = {};\r\n    }\r\n    buttonConfig.threshold = 10;\r\n    table._click = new Button(table, buttonConfig);\r\n    table._click.on('click', function (button, gameObject, pointer, event) {\r\n        EmitCellEvent(this.eventEmitter, 'cell.click', gameObject, pointer.x, pointer.y, pointer, event);\r\n    }, this);\r\n};\r\n\r\nexport default ClickCell;","import Tap from '../../tap/Tap.js';\r\nimport EmitCellEvent from './EmitCellEvent.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar TapCell = function (table, tableConfig) {\r\n    var tapConfig = GetValue(tableConfig, 'tap', undefined);\r\n    if (tapConfig === false) {\r\n        return;\r\n    }\r\n\r\n    table._tap = new Tap(table, tapConfig);\r\n    table._tap\r\n        .on('tap', function (tap, gameObject, lastPointer) {\r\n            var eventName = `cell.${tap.tapsCount}tap`\r\n            EmitCellEvent(this.eventEmitter, eventName, tap.gameObject, tap.x, tap.y, lastPointer);\r\n        }, this)\r\n};\r\n\r\nexport default TapCell;","import Press from '../../press/Press.js';\r\nimport EmitCellEvent from './EmitCellEvent.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar PressCell = function (table, tableConfig) {\r\n    var pressConfig = GetValue(tableConfig, 'press', undefined);\r\n    if (pressConfig === false) {\r\n        return;\r\n    }\r\n\r\n    table._press = new Press(table, pressConfig);\r\n    table._press\r\n        .on('pressstart', function (press, gameObject, lastPointer) {\r\n            EmitCellEvent(this.eventEmitter, 'cell.pressstart', table, press.x, press.y, lastPointer);\r\n        }, this)\r\n        .on('pressend', function (press, gameObject, lastPointer) {\r\n            EmitCellEvent(this.eventEmitter, 'cell.pressend', table, press.x, press.y, lastPointer);\r\n        }, this)\r\n};\r\n\r\nexport default PressCell;","import Swipe from '../../swipe/Swipe.js';\r\nimport EmitCellEvent from './EmitCellEvent.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar SwipeCell = function (table, tableConfig) {\r\n    var swipeConfig = GetValue(tableConfig, 'swipe', undefined);\r\n    if (swipeConfig === false) {\r\n        return;\r\n    } else if (swipeConfig === undefined) {\r\n        swipeConfig = {};\r\n    }\r\n    swipeConfig.dir = '4dir';\r\n    table._swipe = new Swipe(table, swipeConfig);\r\n    table._swipe\r\n        .on('swipe', function (swipe, gameObject, lastPointer) {\r\n            var dirName =\r\n                (swipe.left) ? 'left' :\r\n                    (swipe.right) ? 'right' :\r\n                        (swipe.up) ? 'up' :\r\n                            'down';\r\n            EmitCellEvent(this.eventEmitter, `cell.swipe${dirName}`, table, swipe.x, swipe.y, lastPointer);\r\n        }, this)\r\n};\r\n\r\nexport default SwipeCell;","import PointerUpDownCell from './PointerUpDownCell.js';\r\nimport OverCell from './OverCell.js';\r\nimport ClickCell from './ClickCell.js';\r\nimport TapCell from './TapCell.js';\r\nimport PressCell from './PressCell.js';\r\nimport SwipeCell from './SwipeCell.js';\r\n\r\nvar TableSetInteractive = function (table, tableConfig) {\r\n    table.setInteractive();\r\n    \r\n    PointerUpDownCell.call(this, table, tableConfig);\r\n    OverCell.call(this, table, tableConfig);\r\n    ClickCell.call(this, table, tableConfig);\r\n    TapCell.call(this, table, tableConfig);\r\n    PressCell.call(this, table, tableConfig);\r\n    SwipeCell.call(this, table, tableConfig);\r\n}\r\n\r\nexport default TableSetInteractive;","var SetItems = function (items) {\r\n    if (items === undefined) {\r\n        this.items.length = 0;\r\n    } else {\r\n        this.items = items;\r\n    }\r\n\r\n    var table = this.childrenMap.child;\r\n    table.setCellsCount(this.items.length);\r\n    table.updateTable(true);\r\n\r\n    this.resizeController();\r\n    return this;\r\n}\r\n\r\nexport default SetItems;","import Scrollable from '../utils/scrollable/Scrollable.js';\r\nimport GetScrollMode from '../utils/GetScrollMode.js';\r\nimport GridTableCore from '../../../plugins/gameobjects/gridtable/GridTable.js';\r\nimport InjectProperties from './InjectProperties.js';\r\nimport TableOnCellVisible from './TableOnCellVisible.js';\r\nimport TableSetInteractive from './input/TableSetInteractive.js';\r\nimport NOOP from '../../../plugins/utils/object/NOOP.js';\r\nimport SetItems from './SetItems.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass GridTable extends Scrollable {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        // Create grid table core\r\n        var scrollMode = GetScrollMode(config);\r\n        var tableConfig = GetValue(config, 'table', undefined)\r\n        if (tableConfig === undefined) {\r\n            tableConfig = {};\r\n        }\r\n        tableConfig.scrollMode = scrollMode;\r\n        tableConfig.clamplTableOXY = GetValue(config, 'clamplChildOY', false);\r\n        var tableWidth = GetValue(tableConfig, 'width', undefined);\r\n        var tableHeight = GetValue(tableConfig, 'height', undefined);\r\n        var table = new GridTableCore(scene, 0, 0, tableWidth, tableHeight, tableConfig);\r\n        scene.add.existing(table); // Important: Add to display list for touch detecting\r\n        var proportion, expand;\r\n        if (scrollMode === 0) {\r\n            proportion = (tableWidth === undefined) ? 1 : 0;\r\n            expand = (tableHeight === undefined);\r\n        } else {\r\n            proportion = (tableHeight === undefined) ? 1 : 0;\r\n            expand = (tableWidth === undefined);\r\n        }\r\n        // Inject properties for scrollable interface\r\n        InjectProperties(table);\r\n        // Set minWidth/minHeight to 0 if tableWidth/tableHeight is undefined\r\n        table.minWidth = (tableWidth === undefined) ? 0 : undefined;\r\n        table.minHeight = (tableHeight === undefined) ? 0 : undefined;\r\n\r\n        // Fill config of scrollable\r\n        config.type = 'rexGridTable';\r\n        config.child = {\r\n            gameObject: table,\r\n            proportion: proportion,\r\n            expand: expand,\r\n        };\r\n        var spaceConfig = GetValue(config, 'space', undefined);\r\n        if (spaceConfig) {\r\n            spaceConfig.child = spaceConfig.table;\r\n        }\r\n        super(scene, config);\r\n\r\n        this.addChildrenMap('table', table);\r\n        this.addChildrenMap('tableLayer', table.maskLayer);\r\n\r\n        this.eventEmitter = GetValue(config, 'eventEmitter', this);\r\n        var callback = GetValue(config, 'createCellContainerCallback', NOOP);\r\n        var scope = GetValue(config, 'createCellContainerCallbackScope', undefined);\r\n        this.setCreateCellContainerCallback(callback, scope);\r\n        TableOnCellVisible.call(this, table);\r\n\r\n        this.resizeControllerFlag = false;\r\n        var eventName = (scrollMode === 0) ? 'cellheightchange' : 'cellwidthchange';\r\n        table.on(eventName, function () {\r\n            this.resizeControllerFlag = true;\r\n        }, this);\r\n\r\n        if (GetValue(tableConfig, 'interactive', true)) {\r\n            TableSetInteractive.call(this, table, tableConfig);\r\n        }\r\n        this.setItems(GetValue(config, 'items', []));\r\n\r\n        scene.game.events.on('poststep', this.onPostStep, this);\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        this.scene.game.events.off('poststep', this.onPostStep, this);\r\n\r\n        super.destroy(fromScene);\r\n    }\r\n\r\n    setCreateCellContainerCallback(callback, scope) {\r\n        this.createCellContainerCallback = callback;\r\n        this.createCellContainerCallbackScope = scope;\r\n        return this;\r\n    }\r\n\r\n    refresh() {\r\n        this.setItems(this.items);\r\n        return this;\r\n    }\r\n\r\n    getCell(cellIdx) {\r\n        var table = this.childrenMap.child;\r\n        return table.getCell(cellIdx);\r\n    }\r\n\r\n    getCellContainer(cellIdx) {\r\n        var table = this.childrenMap.child;\r\n        return table.getCellContainer(cellIdx);\r\n    }\r\n\r\n    updateVisibleCell(cellIdx) {\r\n        var table = this.childrenMap.child;\r\n        return table.updateVisibleCell(cellIdx);\r\n    }\r\n\r\n    onPostStep() {\r\n        if (this.resizeControllerFlag) {\r\n            this.resizeController();\r\n            this.resizeControllerFlag = false;\r\n        }\r\n    }\r\n}\r\n\r\nvar methods = {\r\n    setItems: SetItems\r\n}\r\nObject.assign(\r\n    GridTable.prototype,\r\n    methods\r\n);\r\n\r\nexport default GridTable;","var GetEaseConfig = function (easeConfig, menu) {\r\n    if (easeConfig.sameOrientation) {\r\n        easeConfig.orientation = menu.orientation;\r\n    } else {\r\n        easeConfig.orientation = (menu.orientation === 0) ? 1 : 0;\r\n    }\r\n    return easeConfig;\r\n}\r\n\r\nexport default GetEaseConfig;","import GetEaseConfig from './GetEaseConfig.js';\r\n\r\nvar PopUp = function (menu, duration) {\r\n    menu.popUp(GetEaseConfig(menu.root.easeIn, menu))\r\n}\r\n\r\nvar ScaleDown = function (menu, duration) {\r\n    // Don't destroy here\r\n    menu.scaleDown(GetEaseConfig(menu.root.easeOut, menu));\r\n}\r\n\r\nexport default {\r\n    setTransitInCallback(callback) {\r\n        if (callback === undefined) {\r\n            callback = PopUp;\r\n        }\r\n\r\n        this.transitInCallback = callback;\r\n        // callback = function(gameObject, duration) {}\r\n        return this;\r\n    },\r\n\r\n    setTransitOutCallback(callback) {\r\n        if (callback === undefined) {\r\n            callback = ScaleDown;\r\n        }\r\n\r\n        this.transitOutCallback = callback;\r\n        // callback = function(gameObject, duration) {}\r\n        return this;\r\n    }\r\n}","var PostUpdateDelayCall = function (gameObject, delay, callback, scope, args) {\r\n    // Invoke callback under scene's 'postupdate' event\r\n    var scene = gameObject.scene;\r\n    var sceneEE = scene.sys.events;\r\n    var timer = scene.time.delayedCall(\r\n        delay,                            // delay\r\n        sceneEE.once,                     // callback\r\n        [\r\n            // Event name of scene\r\n            'postupdate',\r\n            // Callback\r\n            function () {\r\n                callback.call(scope, args);\r\n            }\r\n        ],  // args\r\n        sceneEE                           // scope, scene's EE\r\n    );\r\n    return timer;\r\n}\r\n\r\nexport default PostUpdateDelayCall;","import PostUpdateDelayCall from '../../../../plugins/utils/time/PostUpdateDelayCall.js';\r\n\r\nexport default {\r\n    delayCall(delay, callback, scope) {\r\n        // Invoke callback under scene's 'postupdate' event\r\n        this.timer = PostUpdateDelayCall(this, delay, callback, scope);\r\n        return this;\r\n    },\r\n\r\n    removeDelayCall() {\r\n        if (this.timer) {\r\n            this.timer.remove(false);\r\n            this.timer = undefined;\r\n        }\r\n        return this;\r\n    }\r\n}","var ExpandSubMenu = function (parentButton, items) {\r\n    var subMenu = this.childrenMap.subMenu;\r\n    // Submenu already expand\r\n    if (subMenu && subMenu.parentButton === parentButton) {\r\n        return this;\r\n    }\r\n\r\n    this.collapseSubMenu();\r\n\r\n    var orientation\r\n    if (this.root.toggleOrientation) {\r\n        orientation = (this.orientation === 0) ? 1 : 0;\r\n    } else {\r\n        orientation = this.orientation;\r\n    }\r\n\r\n    var subMenu = new this.constructor(this.scene, {\r\n        items: items,\r\n        orientation: orientation,\r\n\r\n        createBackgroundCallback: this.root.createBackgroundCallback,\r\n        createBackgroundCallbackScope: this.root.createBackgroundCallbackScope,\r\n        createButtonCallback: this.root.createButtonCallback,\r\n        createButtonCallbackScope: this.root.createButtonCallbackScope,\r\n        easeIn: this.root.easeIn,\r\n        easeOut: this.root.easeOut,\r\n\r\n        _rootMenu: this.root,\r\n        _parentMenu: this,\r\n        _parentButton: parentButton\r\n    });\r\n\r\n    this.pin(subMenu);\r\n    this.childrenMap.subMenu = subMenu;\r\n    this.root.emit('expand', subMenu, parentButton, this);\r\n    return this;\r\n}\r\n\r\nexport default ExpandSubMenu;","var Collapse = function () {\r\n    var root = this.root;\r\n    root.emit('collapse', this, this.parentButton, root);\r\n\r\n    var duration = root.easeOut.duration;\r\n    // Don't destroy under transitOutCallback\r\n    root.transitOutCallback(this, duration);\r\n    this.collapseSubMenu();\r\n\r\n    // Destroy by delayCall\r\n    this.delayCall(duration, this.destroy, this);\r\n\r\n    return this;\r\n}\r\n\r\nexport default Collapse;","var CollapseSubMenu = function () {\r\n    var subMenu = this.childrenMap.subMenu;\r\n    if (subMenu === undefined) {\r\n        return this;\r\n    }\r\n   \r\n    this.childrenMap.subMenu = undefined;\r\n    this.remove(subMenu);\r\n    subMenu.collapse();\r\n    return this;\r\n}\r\nexport default CollapseSubMenu;","import IsInTouchingBase from '../../basesizer/IsInTouching.js';\r\n\r\nvar IsInTouching = function (pointer) {\r\n    if (IsInTouchingBase.call(this, pointer)) {\r\n        return true;\r\n    } else if (this.childrenMap.subMenu) {\r\n        return this.childrenMap.subMenu.isInTouching(pointer);\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport default IsInTouching;","import SetTransitCallbackMethods from './SetTransitCallbackMethods.js';\r\nimport DelayCallMethods from './DelayCallMethods.js';\r\nimport ExpandSubMenu from './ExpandSubMenu.js';\r\nimport Collapse from './Collapse.js';\r\nimport CollapseSubMenu from './CollapseSubMenu.js';\r\nimport IsInTouching from './IsInTouching.js';\r\n\r\nvar Methods = {\r\n    expandSubMenu: ExpandSubMenu,\r\n    collapse: Collapse,\r\n    collapseSubMenu: CollapseSubMenu,\r\n    isInTouching: IsInTouching,\r\n}\r\n\r\nObject.assign(\r\n    Methods,\r\n    SetTransitCallbackMethods,\r\n    DelayCallMethods\r\n)\r\nexport default Methods;","var CreateBackground = function (scene, items, callback, scope) {\r\n    var background;\r\n    if (callback) {\r\n        items.scene = scene;\r\n        if (scope) {\r\n            background = callback.call(scope, items);\r\n        } else {\r\n            background = callback(items);\r\n        }\r\n        items.scene = undefined;\r\n    }\r\n\r\n    return background;\r\n}\r\n\r\nexport default CreateBackground;","var CreateButtons = function (scene, items, callback, scope) {\r\n    var item;\r\n    var buttons = [],\r\n        button;\r\n    if (items && callback) {\r\n        for (var i = 0, cnt = items.length; i < cnt; i++) {\r\n            item = items[i];\r\n            item.scene = scene;\r\n            if (scope) {\r\n                button = callback.call(scope, item, i, items);\r\n            } else {\r\n                button = callback(item, i, items);\r\n            }\r\n            item.scene = undefined;\r\n            buttons.push(button);\r\n        }\r\n    }\r\n\r\n    return buttons;\r\n}\r\n\r\nexport default CreateButtons;","var MenuSetInteractive = function (menu) {\r\n    menu\r\n        // Expand sub event\r\n        .on(menu.root.expandEventName, function (button, index) {\r\n            if (this._isPassedEvent) {\r\n                return;\r\n            }\r\n            var childrenKey =  this.root.childrenKey;\r\n            var subItems = this.items[index][childrenKey];\r\n            if (subItems) {\r\n                this.expandSubMenu(button, subItems);\r\n            } else {\r\n                // this.root.on('button.click', button); // TODO\r\n            }\r\n        }, menu)\r\n        // Click any button\r\n        .on('button.click', function (button, index, pointer, event) {\r\n            // Pass event to root menu object\r\n            if (this !== this.root) {\r\n                this.root._isPassedEvent = true;\r\n                this.root.emit('button.click', button, index, pointer, event);\r\n                this.root._isPassedEvent = false;\r\n            }\r\n        }, menu)\r\n        //Pointer over any button\r\n        .on('button.over', function (button, index, pointer, event) {\r\n            // Pass event to root menu object\r\n            if (this !== this.root) {\r\n                this.root._isPassedEvent = true;\r\n                this.root.emit('button.over', button, index, pointer, event);\r\n                this.root._isPassedEvent = false;\r\n            }\r\n        }, menu)\r\n        //Pointer out any button\r\n        .on('button.out', function (button, index, pointer, event) {\r\n            // Pass event to root menu object\r\n            if (this !== this.root) {\r\n                this.root._isPassedEvent = true;\r\n                this.root.emit('button.out', button, index, pointer, event);\r\n                this.root._isPassedEvent = false;\r\n            }\r\n        }, menu);\r\n};\r\n\r\nexport default MenuSetInteractive;","import GetOrientationMode from '../../utils/GetOrientationMode.js';\r\nvar ParseEaseConfig = function (menu, easeConfig) {\r\n    if (typeof (easeConfig) === 'number') {\r\n        easeConfig = {\r\n            duration: easeConfig\r\n        };\r\n    }\r\n\r\n    if (easeConfig.hasOwnProperty('orientation') && (easeConfig.orientation !== undefined)) {\r\n        easeConfig.sameOrientation = GetOrientationMode(easeConfig.orientation) === menu.orientation;\r\n    } else {\r\n        easeConfig.sameOrientation = true;\r\n    }\r\n    easeConfig.destroy = false;\r\n    return easeConfig;\r\n}\r\n\r\nexport default ParseEaseConfig;","var Expand = function () {\r\n    var root = this.root;\r\n\r\n    var duration = root.easeIn.duration;\r\n    // Ease in menu\r\n    root.transitInCallback(this, duration);\r\n\r\n    if (this !== this.root) {\r\n        this.delayCall(duration, function () {\r\n            // Pass event to root menu object\r\n            this.root.emit('popup.complete', this);\r\n        }, this);\r\n    }\r\n}\r\n\r\nexport default Expand;","import Buttons from '../buttons/Buttons.js';\r\nimport Methods from './methods/Methods.js';\r\nimport CreateBackground from './methods/CreateBackground.js';\r\nimport CreateButtons from './methods/CreateButtons.js';\r\nimport GetViewPort from '../../../plugins/utils/system/GetViewport.js';\r\nimport MenuSetInteractive from './methods/MenuSetInteractive.js';\r\nimport ParseEaseConfig from './methods/ParseEaseConfig.js';\r\nimport GetEaseConfig from './methods/GetEaseConfig.js';\r\nimport Expand from './methods/Expand.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Menu extends Buttons {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        // Orientation\r\n        if (!config.hasOwnProperty('orientation')) {\r\n            config.orientation = 1; // y\r\n        }\r\n\r\n        // Parent\r\n        var rootMenu = config._rootMenu;\r\n        var parentMenu = config._parentMenu;\r\n        var parentButton = config._parentButton;\r\n        // Items\r\n        var items = GetValue(config, 'items', undefined);\r\n        // Background\r\n        var createBackgroundCallback = GetValue(config, 'createBackgroundCallback', undefined);\r\n        var createBackgroundCallbackScope = GetValue(config, 'createBackgroundCallbackScope', undefined);\r\n        config.background = CreateBackground(scene, items, createBackgroundCallback, createBackgroundCallbackScope);\r\n        // Buttons\r\n        var createButtonCallback = GetValue(config, 'createButtonCallback', undefined);\r\n        var createButtonCallbackScope = GetValue(config, 'createButtonCallbackScope', undefined);\r\n        config.buttons = CreateButtons(scene, items, createButtonCallback, createButtonCallbackScope);\r\n\r\n        super(scene, config);\r\n        this.type = 'rexMenu';\r\n\r\n        this.items = items;\r\n        this.root = (rootMenu === undefined) ? this : rootMenu;\r\n        this.parentMenu = parentMenu;\r\n        this.parentButton = parentButton;\r\n        this.timer = undefined;\r\n\r\n        var isRootMenu = (this.root === this);\r\n        // Root menu\r\n        if (isRootMenu) {\r\n            // Bounds\r\n            var bounds = config.bounds;\r\n            if (bounds === undefined) {\r\n                bounds = GetViewPort(scene);\r\n            }\r\n            this.bounds = bounds;\r\n\r\n            // Side of submenu\r\n            this.subMenuSide = [\r\n                ((this.y < bounds.centerY) ? SUBMENU_DOWN : SUBMENU_UP),\r\n                ((this.x < bounds.centerX) ? SUBMENU_RIGHT : SUBMENU_LEFT)\r\n            ];\r\n            // Overwrite subMenuSide value if given\r\n            var subMenuSide = GetValue(config, 'subMenuSide', undefined);\r\n            if (subMenuSide !== undefined) {\r\n                if (typeof (subMenuSide) === 'string') {\r\n                    subMenuSide = SubMenuSideMode[subMenuSide];\r\n                }\r\n                this.subMenuSide[this.orientation] = subMenuSide;\r\n            }\r\n            // ToggleOrientation mode\r\n            this.toggleOrientation = GetValue(config, 'toggleOrientation', false);\r\n            // Expand mode\r\n            this.expandEventName = GetValue(config, 'expandEvent', 'button.click');\r\n            // Transition\r\n            this.easeIn = ParseEaseConfig(this, GetValue(config, 'easeIn', 0));\r\n            this.easeOut = ParseEaseConfig(this, GetValue(config, 'easeOut', 0));\r\n            this.setTransitInCallback(GetValue(config, 'transitIn'));\r\n            this.setTransitOutCallback(GetValue(config, 'transitOut'));\r\n            // Callbacks\r\n            this.createBackgroundCallback = createBackgroundCallback;\r\n            this.createBackgroundCallbackScope = createBackgroundCallbackScope;\r\n            this.createButtonCallback = createButtonCallback;\r\n            this.createButtonCallbackScope = createButtonCallbackScope;\r\n            // Children key\r\n            this.childrenKey = GetValue(config, 'childrenKey', 'children');\r\n\r\n            // Event flag\r\n            this._isPassedEvent = false;\r\n        } else {  // Sub-menu\r\n\r\n        }\r\n\r\n        var originX = 0, originY = 0;\r\n        if (!this.root.easeIn.sameOrientation) {\r\n            var easeOrientation = GetEaseConfig(this.root.easeIn, this).orientation;\r\n            var menuOrientation = (parentMenu) ? parentMenu.orientation : this.orientation;\r\n            var subMenuSide = this.root.subMenuSide[menuOrientation];\r\n            if ((easeOrientation === 0) && (subMenuSide === SUBMENU_LEFT)) {\r\n                originX = 1;\r\n            }\r\n            if ((easeOrientation === 1) && (subMenuSide === SUBMENU_UP)) {\r\n                originY = 1;\r\n            }\r\n        }\r\n\r\n        this\r\n            .setOrigin(originX, originY)\r\n            .layout();\r\n\r\n        // Sub-menu: \r\n        // - scale to root's scale value\r\n        // - align to parent button\r\n        if (!isRootMenu) {\r\n            this.setScale(this.root.scaleX, this.root.scaleY);\r\n            var subMenuSide = this.root.subMenuSide[parentMenu.orientation];\r\n            switch (subMenuSide) {\r\n                case SUBMENU_LEFT: //Put submene at left side\r\n                    this.alignTop(parentButton.top).alignRight(parentButton.left);\r\n                    break;\r\n\r\n                case SUBMENU_RIGHT: //Put submene at right side\r\n                    this.alignTop(parentButton.top).alignLeft(parentButton.right);\r\n                    break;\r\n\r\n                case SUBMENU_UP: //Put submene at up side\r\n                    this.alignLeft(parentButton.left).alignBottom(parentButton.top);\r\n                    break;\r\n\r\n                case SUBMENU_DOWN: //Put submene at down side\r\n                    this.alignLeft(parentButton.left).alignTop(parentButton.bottom);\r\n                    break;\r\n            }\r\n        }\r\n        this.pushIntoBounds(this.root.bounds);\r\n\r\n        MenuSetInteractive(this);\r\n\r\n        // Expand this menu\r\n        Expand.call(this);\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        super.destroy(fromScene);\r\n        this.removeDelayCall();\r\n    }\r\n\r\n\r\n}\r\n\r\nconst SUBMENU_LEFT = 2;\r\nconst SUBMENU_RIGHT = 0;\r\nconst SUBMENU_UP = 3;\r\nconst SUBMENU_DOWN = 1;\r\nconst SubMenuSideMode = {\r\n    up: SUBMENU_UP,\r\n    down: SUBMENU_DOWN,\r\n    left: SUBMENU_LEFT,\r\n    right: SUBMENU_RIGHT\r\n}\r\n\r\nObject.assign(\r\n    Menu.prototype,\r\n    Methods\r\n);\r\nexport default Menu;","var PopUp = function (listPanel, duration) {\r\n    listPanel.popUp(this.listEaseInDuration, 'y', 'Cubic')\r\n}\r\n\r\nvar ScaleDown = function (listPanel, duration) {\r\n    // Don't destroy here\r\n    listPanel.scaleDown(this.listEaseOutDuration, 'y', 'Linear')\r\n}\r\n\r\nvar methods = {\r\n    setWrapEnable(enable) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n\r\n        this.listWrapEnable = enable;\r\n        return this;\r\n    },\r\n\r\n    setCreateButtonCallback(callback) {\r\n        this.listCreateButtonCallback = callback;\r\n        return this;\r\n    },\r\n\r\n    setCreateBackgroundCallback(callback) {\r\n        this.listCreateBackgroundCallback = callback;\r\n        return this;\r\n    },\r\n\r\n    setButtonClickCallback(callback) {\r\n        this.listOnButtonClick = callback;\r\n        return this;\r\n    },\r\n\r\n    setButtonOverCallback(callback) {\r\n        this.listOnButtonOver = callback;\r\n        return this;\r\n    },\r\n\r\n    setButtonOutCallback(callback) {\r\n        this.listOnButtonOut = callback;\r\n        return this;\r\n    },\r\n\r\n    setListEaseInDuration(duration) {\r\n        if (duration === undefined) {\r\n            duration = 0;\r\n        }\r\n        this.listEaseInDuration = duration;\r\n        return this;\r\n    },\r\n\r\n    setListEaseOutDuration(duration) {\r\n        if (duration === undefined) {\r\n            duration = 0;\r\n        }\r\n        this.listEaseOutDuration = duration;\r\n        return this;\r\n    },\r\n\r\n    setListTransitInCallback(callback) {\r\n        if (callback === undefined) {\r\n            callback = PopUp;\r\n        }\r\n\r\n        this.listTransitInCallback = callback;\r\n        // callback = function(gameObject, duration) {}\r\n        return this;\r\n    },\r\n\r\n    settListTTransitOutCallback(callback) {\r\n        if (callback === undefined) {\r\n            callback = ScaleDown;\r\n        }\r\n\r\n        this.listTransitOutCallback = callback;\r\n        // callback = function(gameObject, duration) {}\r\n        return this;\r\n    },\r\n\r\n    setListBounds(bounds) {\r\n        this.listBounds = bounds;\r\n        return this;\r\n    },\r\n\r\n    setListWidth(width) {\r\n        this.listWidth = width;\r\n        return this;\r\n    },\r\n\r\n    setListHeight(height) {\r\n        this.listHeight = height;\r\n        return this;\r\n    },\r\n\r\n    setListSize(width, height) {\r\n        this.setListWidth(width).setListHeight(height);\r\n        return this;\r\n    },\r\n\r\n    setListAlignmentMode(mode) {\r\n        this.listAlignMode = mode;\r\n        return this;\r\n    },\r\n\r\n    setListSpace(space) {\r\n        if (space === undefined) {\r\n            space = {};\r\n        }\r\n        this.listSpace = space;\r\n        return this;\r\n    },\r\n\r\n    setListDraggable(enable) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n        this.listDraggable = enable;\r\n        return this;\r\n    },\r\n\r\n}\r\n\r\nexport default methods;","import Buttons from '../../../buttons/Buttons.js';\r\nimport FixWidthButtons from '../../../fixwidthbuttons/FixWidthButtons.js';\r\n\r\nvar CreateListPanel = function (scene) {\r\n    var background;\r\n    var createBackgroundCallback = this.listCreateBackgroundCallback;\r\n    if (createBackgroundCallback) {\r\n        background = createBackgroundCallback.call(this, scene);\r\n        scene.add.existing(background);\r\n    }\r\n\r\n    var buttons = [];\r\n    var createButtonCallback = this.listCreateButtonCallback;\r\n    if (createButtonCallback) {\r\n        var options = this.options;\r\n        for (var i = 0, cnt = options.length; i < cnt; i++) {\r\n            var button = createButtonCallback.call(this, scene, options[i], i, options);\r\n            scene.add.existing(button);\r\n            buttons.push(button);\r\n        }\r\n    }\r\n\r\n    var width = this.listWidth;\r\n    if (width === undefined) {\r\n        if (this.listAlignMode === 'text') {\r\n            width = this.getElement('text').width;\r\n        } else {\r\n            width = this.width;\r\n        }\r\n    }\r\n    var height = this.listHeight;\r\n\r\n    var listPanel;\r\n    if (!this.listWrapEnable) {\r\n        listPanel = new Buttons(scene, {\r\n            width: width, height: height,\r\n\r\n            orientation: 'y',\r\n            background: background,\r\n            buttons: buttons,\r\n\r\n            space: this.listSpace,\r\n            draggable: this.listDraggable,\r\n        });\r\n    } else {\r\n        listPanel = new FixWidthButtons(scene, {\r\n            width: width, height: height,\r\n\r\n            background: background,\r\n            buttons: buttons,\r\n\r\n            space: this.listSpace,\r\n            draggable: this.listDraggable,\r\n        });\r\n    }\r\n\r\n    scene.add.existing(listPanel);\r\n\r\n    return listPanel;\r\n}\r\n\r\nexport default CreateListPanel;","import CreateListPanel from './CreateListPanel.js';\r\nimport GetViewPort from '../../../../../plugins/utils/system/GetViewport.js';\r\n\r\nvar OpenListPanel = function () {\r\n    if (this.listPanel) {\r\n        return this;\r\n    }\r\n\r\n    var scene = this.scene;\r\n    var listPanel = CreateListPanel.call(this, scene)\r\n        .setOrigin(0, 0)\r\n        .layout();\r\n\r\n    var x = this.getElement(this.listAlignMode).getTopLeft().x;\r\n    listPanel.setPosition(x, this.bottom);\r\n\r\n    var bounds = this.listBounds;\r\n    if (!bounds) {\r\n        bounds = GetViewPort(scene);\r\n    }\r\n    if (listPanel.bottom > bounds.bottom) {\r\n        // Out of bounds, can't put list-panel below parent\r\n        listPanel\r\n            .changeOrigin(0, 1)\r\n            .setPosition(x, this.top);\r\n    }\r\n\r\n    listPanel\r\n        .on('button.over', function (button, index, pointer, event) {\r\n            if (this.listOnButtonOver) {\r\n                this.listOnButtonOver.call(this, button, index, pointer, event);\r\n            }\r\n\r\n            this.emit('button.over', this, listPanel, button, index, pointer, event);\r\n        }, this)\r\n        .on('button.out', function (button, index, pointer, event) {\r\n            if (this.listOnButtonOut) {\r\n                this.listOnButtonOut.call(this, button, index, pointer, event);\r\n            }\r\n\r\n            this.emit('button.out', this, listPanel, button, index, pointer, event);\r\n        }, this);\r\n\r\n    var duration = this.listEaseInDuration;\r\n    this.listTransitInCallback(listPanel, duration);\r\n    this.delayCall(duration, function () {\r\n        // After popping up\r\n        // Can click\r\n        var onButtonClick = this.listOnButtonClick;\r\n        if (onButtonClick) {\r\n            listPanel.on('button.click', function (button, index, pointer, event) {\r\n                onButtonClick.call(this, button, index, pointer, event);\r\n                this.emit('button.click', this, listPanel, button, index, pointer, event);\r\n            }, this);\r\n        }\r\n\r\n        // Can close list panel\r\n        scene.input.once('pointerup', this.closeListPanel, this);\r\n\r\n        this.emit('list.open', this, listPanel);\r\n    }, this);\r\n\r\n    this.pin(listPanel);\r\n\r\n    this.listPanel = listPanel;\r\n\r\n    return this;\r\n}\r\n\r\nexport default OpenListPanel;","var CloseListPanel = function () {\r\n    if (!this.listPanel) {\r\n        return this;\r\n    }\r\n\r\n    var listPanel = this.listPanel;\r\n    this.listPanel = undefined;\r\n\r\n    var duration = this.listEaseOutDuration;\r\n    // Don't destroy under transitOutCallback\r\n    this.listTransitOutCallback(listPanel, duration);\r\n    // Destroy by delayCall\r\n    this.delayCall(duration, function () {\r\n        this.emit('list.close', this, listPanel);\r\n        listPanel.destroy();\r\n    }, this);\r\n\r\n    return this;\r\n}\r\n\r\nexport default CloseListPanel;","var ToggleListPanel = function () {\r\n    if (!this.listPanel) {\r\n        this.openListPanel();\r\n    } else {\r\n        this.closeListPanel();\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default ToggleListPanel;","import PostUpdateDelayCall from '../../../../plugins/utils/time/PostUpdateDelayCall.js';\r\n\r\nexport default {\r\n    delayCall(delay, callback, scope) {\r\n        // Invoke callback under scene's 'postupdate' event\r\n        this.timer = PostUpdateDelayCall(this, delay, callback, scope);\r\n        return this;\r\n    },\r\n\r\n    removeDelayCall() {\r\n        if (this.timer) {\r\n            this.timer.remove(false);\r\n            this.timer = undefined;\r\n        }\r\n        return this;\r\n    }\r\n}","import ConfigListMethods from './listpanel/ConfigMethods.js';\r\nimport OpenListPanel from './listpanel/OpenListPanel.js';\r\nimport CloseListPanel from './listpanel/CloseListPanel.js';\r\nimport ToggleListPanel from './listpanel/ToggleListPanel.js';\r\nimport DelayCallMethods from './DelayCallMethods.js';\r\n\r\nvar Methods = {\r\n    openListPanel: OpenListPanel,\r\n    closeListPanel: CloseListPanel,\r\n    toggleListPanel: ToggleListPanel,\r\n}\r\n\r\nObject.assign(\r\n    Methods,\r\n    ConfigListMethods,\r\n    DelayCallMethods\r\n);\r\n\r\nexport default Methods;\r\n\r\n","import Label from '../label/Label.js';\r\nimport Methods from './methods/Methods.js'\r\n\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass DropDownList extends Label {\r\n    constructor(scene, config) {\r\n        super(scene, config);\r\n        this.type = 'rexDropDownList';\r\n        this.timer = undefined;\r\n\r\n        this.setOptions(GetValue(config, 'options'));\r\n\r\n        var listConfig = GetValue(config, 'list');\r\n        this.setWrapEnable(GetValue(listConfig, 'wrap', false));\r\n        this.setCreateButtonCallback(GetValue(listConfig, 'createButtonCallback'));\r\n        this.setCreateBackgroundCallback(GetValue(listConfig, 'createBackgroundCallback'));\r\n        this.setButtonClickCallback(GetValue(listConfig, 'onButtonClick'));\r\n        this.setButtonOverCallback(GetValue(listConfig, 'onButtonOver'));\r\n        this.setButtonOutCallback(GetValue(listConfig, 'onButtonOut'));\r\n        this.setListEaseInDuration(GetValue(listConfig, 'easeIn', 500));\r\n        this.setListEaseOutDuration(GetValue(listConfig, 'easeOut', 100));\r\n        this.setListTransitInCallback(GetValue(listConfig, 'transitIn'));\r\n        this.settListTTransitOutCallback(GetValue(listConfig, 'transitOut'));\r\n        this.setListSize(GetValue(listConfig, 'width'), GetValue(listConfig, 'height'));\r\n        this.setListAlignmentMode(GetValue(listConfig, 'alignParent', 'text'));\r\n        this.setListBounds(GetValue(listConfig, 'bounds'));\r\n        this.setListSpace(GetValue(listConfig, 'space'));\r\n        this.setListDraggable(GetValue(listConfig, 'draggable', false));\r\n\r\n        this.setValueChangeCallback(\r\n            GetValue(config, 'setValueCallback'),\r\n            GetValue(config, 'setValueCallbackScope')\r\n        );\r\n        this.setValue(GetValue(config, 'value'));\r\n\r\n        this.onClick(this.toggleListPanel, this);\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        if (this.listPanel) {\r\n            this.listPanel.destroy(fromScene);\r\n            this.listPanel = undefined;\r\n        }\r\n\r\n        super.destroy(fromScene);\r\n        this.removeDelayCall();\r\n    }\r\n\r\n    setOptions(options) {\r\n        if (options === undefined) {\r\n            options = [];\r\n        }\r\n        this.options = options;\r\n        return this;\r\n    }\r\n\r\n    setValueChangeCallback(callback, scope) {\r\n        this.valueChangeCallback = callback;\r\n        this.valueChangeCallbackScope = scope;\r\n        return this;\r\n    }\r\n\r\n    setValue(value) {\r\n        this.value = value;\r\n        return this;\r\n    }\r\n\r\n    get value() {\r\n        return this._value;\r\n    }\r\n\r\n    set value(value) {\r\n        if (this._value === value) {\r\n            return;\r\n        }\r\n\r\n        var previousValue = this._value;\r\n        this._value = value;\r\n\r\n        var callback = this.valueChangeCallback,\r\n            scope = this.valueChangeCallbackScope;\r\n        if (callback) {\r\n            if (scope) {\r\n                callback.call(scope, this, value, previousValue);\r\n            } else {\r\n                callback(this, value, previousValue)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nObject.assign(\r\n    DropDownList.prototype,\r\n    Methods,\r\n);\r\n\r\nexport default DropDownList;","const TextKlass = Phaser.GameObjects.Text;\r\n\r\nvar IsTextGameObject = function (gameObject) {\r\n    return (gameObject instanceof TextKlass);\r\n}\r\n\r\nexport default IsTextGameObject;","const BitmapTextKlass = Phaser.GameObjects.BitmapText;\r\n\r\nvar IsBitmapTextGameObject = function (gameObject) {\r\n    return (gameObject instanceof BitmapTextKlass);\r\n}\r\n\r\nexport default IsBitmapTextGameObject;","import IsTextGameObject from './IsTextGameObject.js';\r\nimport IsBitmapTextGameObject from '../bitmaptext/IsBitmapTextGameObject.js';\r\n\r\nconst TextType = 0;\r\nconst TagTextType = 1;\r\nconst BitmapTextType = 2;\r\n\r\nexport {\r\n    TextType, TagTextType, BitmapTextType\r\n}\r\n\r\nvar GetTextObjectType = function (textObject) {\r\n    var textObjectType;\r\n    if (IsBitmapTextGameObject(textObject)) {\r\n        textObjectType = BitmapTextType;\r\n    } else if (IsTextGameObject(textObject)) {\r\n        textObjectType = TextType;\r\n    } else {\r\n        textObjectType = TagTextType;\r\n    }\r\n\r\n    return textObjectType;\r\n}\r\n\r\nexport default GetTextObjectType;","import {\r\n    TextType, TagTextType, BitmapTextType\r\n} from './GetTextObjectType.js';\r\nimport GetTextObjectType from './GetTextObjectType.js';\r\n\r\nvar TextToLines = function (textObject, text, lines) {\r\n    var textObjectType = GetTextObjectType(textObject);\r\n    switch (textObjectType) {\r\n        case TextType:\r\n            lines = textObject.getWrappedText(text); // Array of string\r\n            break;\r\n        case TagTextType:\r\n            lines = textObject.getPenManager(text, lines); // Pens-manager\r\n            break;\r\n        case BitmapTextType:\r\n            if (textObject.maxWidth > 0) {\r\n                lines = textObject.setText(text).getTextBounds().wrappedText.split('\\n');\r\n            } else {\r\n                lines = text.split('\\n');\r\n            }\r\n\r\n            break;\r\n    }\r\n    return lines;\r\n}\r\n\r\nexport default TextToLines;","import {\r\n    TextType, TagTextType, BitmapTextType\r\n} from '../../../utils/text/GetTextObjectType.js';\r\n\r\nvar GetLines = function (startLineIndex, endLineIdx) {\r\n    if (startLineIndex === undefined) {\r\n        startLineIndex = this.startLineIndex;\r\n    }\r\n    if (endLineIdx === undefined) {\r\n        endLineIdx = startLineIndex + this.pageLinesCount;\r\n    }\r\n\r\n    var text;\r\n    switch (this.textObjectType) {\r\n        case TextType:\r\n        case BitmapTextType:\r\n            text = this.lines.slice(startLineIndex, endLineIdx).join('\\n');\r\n            break;\r\n        case TagTextType:\r\n            var startIdx = this.lines.getLineStartIndex(startLineIndex);\r\n            var endIdx = this.lines.getLineEndIndex(endLineIdx - 1);\r\n            text = this.lines.getSliceTagText(startIdx, endIdx, true);\r\n            break;\r\n    }\r\n\r\n    return text;\r\n}\r\n\r\nexport default GetLines;","import TextToLines from \"../../../utils/text/TextToLines.js\";\r\n\r\nvar GetString = function (text) {\r\n    if (Array.isArray(text)) {\r\n        text = text.join('\\n');\r\n    } else if (typeof (text) === 'number') {\r\n        text = text.toString();\r\n    }\r\n    return text;\r\n}\r\n\r\nexport default {\r\n    clearText() {\r\n        this.sections.length = 0;\r\n        this.pageStartIndexes.length = 0;\r\n        this.lines.length = 0;\r\n\r\n        return this;\r\n    },\r\n\r\n    appendPage(text) {\r\n        var pageStartIndex = this.totalLinesCount;\r\n\r\n        this.sections.push(GetString(text));\r\n        var text = this.sections.join('\\n');\r\n        this.lines = TextToLines(this.parent, text, this.lines);\r\n\r\n        var newLinesCount = this.totalLinesCount - pageStartIndex;\r\n        var pageCount = Math.ceil(newLinesCount / this.pageLinesCount);\r\n        for (var i = 0; i < pageCount; i++) {\r\n            this.pageStartIndexes.push(\r\n                pageStartIndex + (i * this.pageLinesCount)\r\n            );\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    setText(text, resetPageIdx) {\r\n        if (resetPageIdx === undefined) {\r\n            resetPageIdx = true;\r\n        }\r\n\r\n        if (resetPageIdx) {\r\n            this.resetPageIdx();\r\n        }\r\n\r\n        this.clearText();\r\n\r\n        var sections = GetString(text).split(this.pageBreak);\r\n        // if (sections[sections.length - 1] === '') { // Last section is an empty string\r\n        //     sections.length -= 1;\r\n        // }\r\n\r\n        for (var i = 0, cnt = sections.length; i < cnt; i++) {\r\n            this.appendPage(sections[i]);\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    appendText(text) {\r\n        var content = this.content + GetString(text);\r\n        this.setText(content, false);\r\n        return this;\r\n    },\r\n\r\n\r\n}","const Clamp = Phaser.Math.Clamp;\r\n\r\nexport default {\r\n    getPage(idx) {\r\n        if (idx === undefined) {\r\n            idx = this.pageIndex;\r\n        }\r\n\r\n        return this.setPageIndex(idx).getLines(this.startLineIndex, this.endLineIndex);\r\n    },\r\n\r\n    getNextPage() {\r\n        return this.getPage(this.pageIndex + 1);\r\n    },\r\n\r\n    getPreviousPage() {\r\n        return this.getPage(this.pageIndex - 1);\r\n    },\r\n\r\n    resetPageIdx() {\r\n        this.pageIndex = -1;\r\n        return this;\r\n    },\r\n\r\n    setPageIndex(idx) {\r\n        idx = Clamp(idx, 0, this.pageCount - 1);\r\n        this.pageIndex = idx;\r\n        this.startLineIndex = this.pageStartIndexes[idx];\r\n        this.endLineIndex = this.pageStartIndexes[idx + 1];\r\n        return this;\r\n    },\r\n}","import {\r\n    TextType, TagTextType, BitmapTextType\r\n} from './GetTextObjectType.js';\r\nimport GetTextObjectType from './GetTextObjectType.js';\r\n\r\nvar SetNoWrapText = function (textObject, text) {\r\n    var textObjectType = GetTextObjectType(textObject);\r\n    switch (textObjectType) {\r\n        case TextType:\r\n            // Store wrap properties\r\n            var style = textObject.style;\r\n            var wordWrapWidth = style.wordWrapWidth;\r\n            var wordWrapCallback = style.wordWrapCallback;\r\n            // Disable wrap\r\n            style.wordWrapWidth = 0;\r\n            style.wordWrapCallback = undefined;\r\n            // Set text\r\n            textObject.setText(text);\r\n            // Restore wrap\r\n            style.wordWrapWidth = wordWrapWidth;\r\n            style.wordWrapCallback = wordWrapCallback;\r\n            break;\r\n\r\n        case TagTextType:\r\n            // Store wrap properties\r\n            var style = textObject.style;\r\n            var wrapMode = style.wrapMode;\r\n            // Disable wrap\r\n            style.wrapMode = 0;\r\n            // Set text\r\n            textObject.setText(text);\r\n            // Restore wrap\r\n            style.wrapMode = wrapMode;\r\n            break;\r\n\r\n        case BitmapTextType:\r\n            // Store wrap properties\r\n            var maxWidth = textObject._maxWidth;\r\n            // Disable wrap\r\n            textObject._maxWidth = 0;\r\n            // Set text\r\n            textObject.setText(text);\r\n            // Restore wrap\r\n            textObject._maxWidth = maxWidth;\r\n            break;\r\n    }\r\n}\r\n\r\nexport default SetNoWrapText;","import SetNoWrapText from '../../../utils/text/SetNoWrapText.js';\r\n\r\nexport default {\r\n    showPage(idx) {\r\n        this.displayText(\r\n            this.getPage(idx)\r\n        );\r\n        return this;\r\n    },\r\n\r\n    showNextPage() {\r\n        this.displayText(\r\n            this.getNextPage()\r\n        );\r\n        return this;\r\n    },\r\n\r\n    showPreviousPage() {\r\n        this.displayText(\r\n            this.getPreviousPage()\r\n        );\r\n        return this;\r\n    },\r\n\r\n    show() {\r\n        this.displayText(\r\n            this.getLines()\r\n        );\r\n        return this;\r\n    },\r\n\r\n    showNextLine() {\r\n        this.displayText(\r\n            this.setStartLineIndex(this.startLineIndex + 1).getLines()\r\n        );\r\n        return this;\r\n    },\r\n\r\n    showPreviousLine() {\r\n        this.displayText(\r\n            this.setStartLineIndex(this.startLineIndex - 1).getLines()\r\n        );\r\n        return this;\r\n    },\r\n\r\n    displayText(text) {\r\n        SetNoWrapText(this.parent, text);\r\n    }\r\n}","import GetLines from './GetLines.js';\r\nimport SetContentMethods from './SetContentMethods.js';\r\nimport GetPageMethods from './GetPageMethods.js';\r\nimport ShowMethods from './ShowMethods.js';\r\n\r\nvar Methods = {   \r\n    getLines: GetLines,\r\n}\r\n\r\nObject.assign(\r\n    Methods,\r\n    SetContentMethods,\r\n    GetPageMethods,\r\n    ShowMethods\r\n);\r\n\r\nexport default Methods;","import ComponentBase from '../../utils/componentbase/ComponentBase.js';\r\nimport {\r\n    TextType, TagTextType, BitmapTextType\r\n} from '../../utils/text/GetTextObjectType.js';\r\nimport GetTextObjectType from '../../utils/text/GetTextObjectType.js';\r\nimport TextToLines from '../../utils/text/TextToLines.js';\r\nimport Methods from './methods/Methods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst Clamp = Phaser.Math.Clamp;\r\n\r\nclass TextPage extends ComponentBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, { eventEmitter: false });\r\n        // No event emitter\r\n        // this.parent = gameObject;\r\n\r\n        this.textObjectType = GetTextObjectType(this.parent);\r\n\r\n        this.pageStartIndexes = [];\r\n\r\n        // Text object : array of string\r\n        // Tag text object : pens-manager\r\n        // Bitmap text object : array of string\r\n        this.lines = TextToLines(this.parent, '');\r\n\r\n        this.sections = [];\r\n\r\n        this.resetFromJSON(config);\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.setMaxLines(GetValue(o, 'maxLines', undefined));\r\n        this.setPageBreak(GetValue(o, 'pageBreak', '\\f\\n'));\r\n        this.setText(GetValue(o, 'text', ''));\r\n        this.setStartLineIndex(GetValue(o, 'start', 0));\r\n        this.setPageIndex(GetValue(o, 'page', -1));\r\n        return this;\r\n    }\r\n\r\n    toJSON() {\r\n        return {\r\n            maxLines: this.maxLines,\r\n            text: this.content,\r\n            start: this.startLineIndex,\r\n            page: this.pageIndex,\r\n            pageBreak: this.pageBreak\r\n        };\r\n    }\r\n\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        switch (this.textObjectType) {\r\n            case TextType:\r\n                this.lines.length = 0;\r\n                break;\r\n            case TagTextType:\r\n                this.lines.destroy();\r\n                break;\r\n            case BitmapTextType:\r\n                this.lines.length = 0;\r\n                break;\r\n        }\r\n\r\n        this.pageStartIndexes.length = 0;\r\n        this.sections.length = 0;\r\n\r\n        this.lines = undefined;\r\n        this.pageStartIndexes = undefined;\r\n        this.sections = undefined;\r\n\r\n        super.shutdown(fromScene);\r\n    }\r\n\r\n    setMaxLines(maxLines) {\r\n        this.maxLines = maxLines;\r\n        return this;\r\n    }\r\n\r\n    setPageBreak(pageBreak) {\r\n        this.pageBreak = pageBreak;\r\n        return this;\r\n    }\r\n\r\n    get pageCount() {\r\n        return this.pageStartIndexes.length;\r\n    }\r\n\r\n    get isFirstPage() {\r\n        return (this.pageIndex <= 0);\r\n    }\r\n\r\n    get isLastPage() {\r\n        return (this.pageIndex >= (this.pageCount - 1));\r\n    }\r\n\r\n    get totalLinesCount() {\r\n        return (this.lines) ? this.lines.length : 0;\r\n    }\r\n\r\n    get startLineIndex() {\r\n        return this._startLineIndex;\r\n    }\r\n\r\n    set startLineIndex(value) {\r\n        value = Clamp(value, 0, this.totalLinesCount - 1);\r\n        this._startLineIndex = value;\r\n    }\r\n\r\n    setStartLineIndex(idx) {\r\n        this.startLineIndex = idx;\r\n        return this;\r\n    }\r\n\r\n    get pageLinesCount() {\r\n        if (this.maxLines !== undefined) {\r\n            return this.maxLines;\r\n\r\n        } else {\r\n            var count;\r\n            switch (this.textObjectType) {\r\n                case TextType:\r\n                case TagTextType:\r\n                    var maxLines = this.parent.style.maxLines;\r\n                    if (maxLines > 0) {\r\n                        count = maxLines;\r\n                    } else {\r\n                        count = this.totalLinesCount;\r\n                    }\r\n                    break;\r\n                case BitmapTextType:\r\n                    count = this.totalLinesCount;\r\n                    break;\r\n            }\r\n            return count;\r\n\r\n        }\r\n    }\r\n\r\n    get content() {\r\n        return this.sections.join(this.pageBreak);\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    TextPage.prototype,\r\n    Methods,\r\n);\r\n\r\n\r\nexport default TextPage;","import ComponentBase from '../../utils/componentbase/ComponentBase.js';\r\nimport GetWrapText from '../../utils/text/GetWrapText.js';\r\nimport SetNoWrapText from '../../utils/text/SetNoWrapText.js';\r\n\r\nconst GetFastValue = Phaser.Utils.Objects.GetFastValue;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass TextTyping extends ComponentBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n\r\n        this.timer = null;\r\n        this.resetFromJSON(config);\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.setTextWrapEnable(GetValue(o, 'wrap', false));\r\n        this.setTypeMode(GetValue(o, 'typeMode', 0));\r\n        this.setTypeSpeed(GetValue(o, 'speed', 333));\r\n        this.setTextCallback = GetFastValue(o, 'setTextCallback', null);\r\n        this.setTextCallbackScope = GetFastValue(o, 'setTextCallbackScope', null);\r\n\r\n        this.setTypingContent(GetFastValue(o, 'text', ''));\r\n        this.typingIdx = GetFastValue(o, 'typingIdx', 0);\r\n        this.insertIdx = GetFastValue(o, 'insertIdx', null);\r\n\r\n        var elapsed = GetFastValue(o, 'elapsed', null);\r\n        if (elapsed !== null) {\r\n            this.start(undefined, undefined, this.typingIdx, elapsed);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        this.freeTimer();\r\n\r\n        super.shutdown(fromScene);\r\n    }\r\n\r\n    setTypeMode(m) {\r\n        if (typeof (m) === 'string') {\r\n            m = TYPEMODE[m];\r\n        }\r\n        this.typeMode = m;\r\n        return this;\r\n    }\r\n\r\n    setTypeSpeed(speed) {\r\n        this.speed = speed;\r\n        return this;\r\n    }\r\n\r\n    setTextWrapEnable(enable) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n        this.textWrapEnable = enable;\r\n        return this;\r\n    }\r\n\r\n    set text(value) {\r\n        var text = TransferText(value);\r\n        if (this.textWrapEnable) {\r\n            text = GetWrapText(this.parent, text);\r\n        }\r\n\r\n        this._text = text;\r\n    }\r\n\r\n    get text() {\r\n        return this._text;\r\n    }\r\n\r\n    get isTyping() {\r\n        return (this.getTimer() !== null);\r\n    }\r\n\r\n    get isLastChar() {\r\n        return (this.typingIdx === this.textLen);\r\n    }\r\n\r\n    start(text, speed, startIdx, timerStartAt) {\r\n        if (text !== undefined) {\r\n            this.setTypingContent(text);\r\n        }\r\n        if (speed !== undefined) {\r\n            this.speed = speed;\r\n        }\r\n        if (startIdx === undefined) {\r\n            startIdx = 0;\r\n        }\r\n\r\n        this.typingIdx = startIdx + 1;\r\n        if (this.speed === 0) {\r\n            this.stop(true);\r\n        } else {\r\n            this.setText('');\r\n            this.startTimer(timerStartAt);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    appendText(text) {\r\n        var newText = this.text.concat(TransferText(text));\r\n        if (this.isTyping) {\r\n            this.setTypingContent(newText);\r\n        } else {\r\n            this.start(newText, undefined, this.textLen);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    stop(showAllText) {\r\n        var timer = this.getTimer();\r\n        if (timer) {\r\n            this.freeTimer();\r\n        }\r\n        if (showAllText) {\r\n            this.typingIdx = this.textLen;\r\n            this.setText(this.text);\r\n            this.emit('type');\r\n            this.emit('complete', this, this.parent);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    pause() {\r\n        var timer = this.getTimer();\r\n        if (timer) {\r\n            timer.paused = true;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    resume() {\r\n        var timer = this.getTimer();\r\n        if (timer) {\r\n            timer.paused = false;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setTypingContent(text) {\r\n        this.text = text;\r\n        this.textLen = this.getTextLength(this.text);\r\n        return this;\r\n    }\r\n\r\n    onTyping() {\r\n        var newText = this.getTypingString(this.text, this.typingIdx, this.textLen, this.typeMode);\r\n\r\n        this.setText(newText);\r\n\r\n        this.emit('type');\r\n\r\n        if (this.isLastChar) {\r\n            this.freeTimer();\r\n            this.emit('complete', this, this.parent);\r\n        } else {\r\n            this.timer.delay = this.speed; // delay of next typing            \r\n            this.typingIdx++;\r\n        }\r\n    }\r\n\r\n    getTypingString(text, typeIdx, textLen, typeMode) {\r\n        var result;\r\n        if (typeMode === 0) { //left-to-right\r\n            var startIdx = 0;\r\n            var endIdx = typeIdx;\r\n            this.insertIdx = endIdx;\r\n            result = this.getSubString(text, startIdx, endIdx);\r\n\r\n        } else if (typeMode === 1) { //right-to-left\r\n            var endIdx = textLen;\r\n            var startIdx = endIdx - typeIdx;\r\n            this.insertIdx = 0;\r\n            result = this.getSubString(text, startIdx, endIdx);\r\n\r\n        } else if (typeMode === 2) { //middle-to-sides\r\n            var midIdx = textLen / 2;\r\n            var startIdx = Math.floor(midIdx - (typeIdx / 2));\r\n            var endIdx = startIdx + typeIdx;\r\n            this.insertIdx = (typeIdx % 2) ? typeIdx : 0;\r\n            result = this.getSubString(text, startIdx, endIdx);\r\n\r\n        } else if (typeMode === 3) { //sides-to-middle\r\n            var lowerLen = Math.floor(typeIdx / 2);\r\n            var lowerResult;\r\n            if (lowerLen > 0) {\r\n                var endIdx = textLen;\r\n                var startIdx = endIdx - lowerLen;\r\n                lowerResult = this.getSubString(text, startIdx, endIdx);\r\n            } else {\r\n                lowerResult = \"\";\r\n            }\r\n\r\n            var upperLen = typeIdx - lowerLen;\r\n            var upperResult;\r\n            if (upperLen > 0) {\r\n                var startIdx = 0;\r\n                var endIdx = startIdx + upperLen;\r\n                this.insertIdx = endIdx;\r\n                upperResult = this.getSubString(text, startIdx, endIdx);\r\n            } else {\r\n                upperResult = \"\";\r\n                this.insertIdx = 0;\r\n            }\r\n            result = upperResult + lowerResult;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    startTimer(timerStartAt) {\r\n        if (this.timer) {\r\n            this.freeTimer();\r\n        }\r\n        var delay, startAt;\r\n        if (timerStartAt === undefined) {\r\n            delay = 0;\r\n            startAt = 0;\r\n        } else {\r\n            delay = this.speed;\r\n            startAt = timerStartAt;\r\n        }\r\n\r\n        this.timer = this.scene.time.addEvent({\r\n            delay: 0,\r\n            startAt: startAt,\r\n            loop: true,\r\n            callback: this.onTyping,\r\n            callbackScope: this\r\n        });\r\n        return this;\r\n    }\r\n\r\n    getTimer() {\r\n        return this.timer;\r\n    }\r\n\r\n    freeTimer() {\r\n        if (this.timer) {\r\n            this.timer.remove();\r\n            this.timer = null;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    setText(text) {\r\n        if (this.setTextCallback) {\r\n            if (this.setTextCallbackScope) {\r\n                text = this.setTextCallback.call(this.setTextCallbackScope, text, this.isLastChar, this.insertIdx);\r\n            } else {\r\n                text = this.setTextCallback(text, this.isLastChar, this.insertIdx);\r\n            }\r\n        }\r\n\r\n        if (this.textWrapEnable) {\r\n            SetNoWrapText(this.parent, text);\r\n        } else {\r\n            this.parent.setText(text);\r\n        }\r\n    }\r\n\r\n    getTextLength(text) {\r\n        var gameObject = this.parent;\r\n        var len;\r\n        if (gameObject.getPlainText) {\r\n            len = gameObject.getPlainText(text).length;\r\n        } else {\r\n            len = text.length;\r\n        }\r\n\r\n        return len;\r\n    }\r\n\r\n    getSubString(text, startIdx, endIdx) {\r\n        var gameObject = this.parent;\r\n        var result;\r\n        if (gameObject.getSubString) {\r\n            result = gameObject.getSubString(text, startIdx, endIdx);\r\n        } else {\r\n            result = text.slice(startIdx, endIdx);\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n\r\nvar TransferText = function (text) {\r\n    if (Array.isArray(text)) {\r\n        text = text.join('\\n');\r\n    } else if (typeof (text) === 'number') {\r\n        text = text.toString();\r\n    }\r\n    return text;\r\n}\r\n\r\nconst TYPEMODE = {\r\n    'left-to-right': 0,\r\n    'right-to-left': 1,\r\n    'middle-to-sides': 2,\r\n    'sides-to-middle': 3\r\n};\r\n\r\n\r\nexport default TextTyping;","import Label from '../label/Label.js';\r\nimport TextPage from '../../../plugins/textpage.js';\r\nimport TextTyping from '../../../plugins/texttyping.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass TextBox extends Label {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {\r\n                text: createDefaultTextObject(scene)\r\n            }\r\n        }\r\n\r\n        super(scene, config);\r\n        this.type = 'rexTextBox';\r\n\r\n        var text = this.childrenMap.text;\r\n        this.page = new TextPage(text, GetValue(config, 'page', undefined));\r\n        this.typing = new TextTyping(text, GetValue(config, 'typing', config.type));\r\n        this.typing\r\n            .on('complete', this.onPageEnd, this)\r\n            .on('type', this.onType, this);\r\n\r\n        this.textWidth = text.width;\r\n        this.textHeight = text.height;\r\n    }\r\n\r\n    start(text, speed) {\r\n        this.page.setText(text);\r\n        if (speed !== undefined) {\r\n            this.setTypeSpeed(speed);\r\n        }\r\n        this.typeNextPage();\r\n        return this;\r\n    }\r\n\r\n    typeNextPage() {\r\n        if (!this.isLastPage) {\r\n            var txt = this.page.getNextPage();\r\n            this.typing.start(txt);\r\n        } else {\r\n            this.emit('complete');\r\n        }\r\n        return this;\r\n    }\r\n\r\n    pause() {\r\n        this.typing.pause();\r\n        return this;\r\n    }\r\n\r\n    resume() {\r\n        this.typing.resume();\r\n        return this;\r\n    }\r\n\r\n    stop(showAllText) {\r\n        this.typing.stop(showAllText);\r\n        return this;\r\n    }\r\n\r\n    setTypeSpeed(speed) {\r\n        this.typing.setTypeSpeed(speed);\r\n        return this;\r\n    }\r\n\r\n    get isTyping() {\r\n        return this.typing.isTyping;\r\n    }\r\n\r\n    get isLastPage() {\r\n        return this.page.isLastPage;\r\n    }\r\n\r\n    get isFirstPage() {\r\n        return this.page.isFirstPage;\r\n    }\r\n\r\n    get pageCount() {\r\n        return this.page.pageCount;\r\n    }\r\n\r\n    get pageIndex() {\r\n        return this.page.pageIndex;\r\n    }\r\n\r\n    onType() {\r\n        var text = this.childrenMap.text;\r\n        if ((this.textWidth !== text.width) || (this.textHeight !== text.height)) {\r\n            this.textWidth = text.width;\r\n            this.textHeight = text.height;\r\n            this.getTopmostSizer().layout();\r\n        }\r\n        this.emit('type');\r\n    }\r\n\r\n    onPageEnd() {\r\n        this.emit('pageend');\r\n\r\n        if (this.isLastPage) {\r\n            this.emit('complete');\r\n        }\r\n    }\r\n\r\n}\r\n\r\nvar createDefaultTextObject = function (scene) {\r\n    return scene.add.text(0, 0, '', {\r\n        wordWrap: {\r\n            width: 200,\r\n        },\r\n        maxLines: 5\r\n    });\r\n};\r\n\r\nexport default TextBox;","import Sizer from '../sizer/Sizer.js';\r\nimport AddChildMask from '../../../plugins/gameobjects/containerlite/mask/AddChildMask.js';\r\nimport Slider from '../slider/Slider.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass NumberBar extends Sizer {\r\n    constructor(scene, config) {\r\n        // Create sizer\r\n        super(scene, config);\r\n        this.type = 'rexNumberBar';\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        var icon = GetValue(config, 'icon', undefined);\r\n        var iconMask = GetValue(config, 'iconMask', undefined);\r\n        var sliderConfig = GetValue(config, 'slider', undefined);\r\n        var text = GetValue(config, 'text', undefined);\r\n\r\n        // Space\r\n        var iconSpace = GetValue(config, 'space.icon', 0);\r\n        var sliderSpace = GetValue(config, 'space.slider', 0);\r\n\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        if (icon) {\r\n            var padding;\r\n            if (this.orientation === 0) {\r\n                if (sliderConfig || text) {\r\n                    padding = { right: iconSpace };\r\n                }\r\n            } else {\r\n                if (sliderConfig || text) {\r\n                    padding = { bottom: iconSpace };\r\n                }\r\n            }\r\n\r\n            this.add(icon,\r\n                {\r\n                    proportion: 0,\r\n                    align: 'center',\r\n                    padding: padding\r\n                }\r\n            )\r\n\r\n            if (iconMask) {\r\n                iconMask = AddChildMask.call(this, icon, icon, 1); // Circle mask\r\n            }\r\n        }\r\n\r\n        var slider;\r\n        if (sliderConfig) {\r\n            sliderConfig.orientation = this.orientation;\r\n            sliderConfig.eventEmitter = this;\r\n            sliderConfig.value = null;\r\n            if (!sliderConfig.hasOwnProperty('input')) {\r\n                sliderConfig.input = -1;\r\n            }\r\n            slider = new Slider(scene, sliderConfig);\r\n            scene.add.existing(slider);\r\n\r\n            var padding;\r\n            if (this.orientation === 0) {\r\n                if (text) {\r\n                    padding = { right: sliderSpace };\r\n                }\r\n            } else {\r\n                if (text) {\r\n                    padding = { bottom: sliderSpace };\r\n                }\r\n            }\r\n\r\n            var proportion;\r\n            if (this.orientation === 0) {\r\n                var sliderWidth = GetValue(sliderConfig, 'width', undefined);\r\n                proportion = (sliderWidth === undefined) ? 1 : 0;\r\n            } else {\r\n                var sliderHeight = GetValue(sliderConfig, 'height', undefined);\r\n                proportion = (sliderHeight === undefined) ? 1 : 0;\r\n            }\r\n\r\n            this.add(slider,\r\n                {\r\n                    proportion: proportion,\r\n                    align: 'center',\r\n                    padding: padding\r\n                }\r\n            )\r\n        }\r\n\r\n\r\n        if (text) {\r\n            this.add(text);\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('icon', icon);\r\n        this.addChildrenMap('iconMask', iconMask);\r\n        this.addChildrenMap('slider', slider);\r\n        this.addChildrenMap('text', text);\r\n\r\n        var callback = GetValue(config, 'valuechangeCallback', null);\r\n        if (callback !== null) {\r\n            var scope = GetValue(config, 'valuechangeCallbackScope', undefined);\r\n            this.on('valuechange', callback, scope);\r\n        }\r\n        this.setEnable(GetValue(config, 'enable', undefined));\r\n        this.setValue(GetValue(config, 'value', 0));\r\n    }\r\n\r\n    get enable() {\r\n        if (this.childrenMap.slider) {\r\n            return this.childrenMap.slider.enable;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    set enable(value) {\r\n        if (this.childrenMap.slider) {\r\n            this.childrenMap.slider.setEnable(value);\r\n        }\r\n    }\r\n\r\n    setEnable(enable) {\r\n        if (enable === undefined) {\r\n            enable = true;\r\n        }\r\n        this.enable = enable;\r\n        return this;\r\n    }\r\n\r\n    get value() {\r\n        if (this.childrenMap.slider) {\r\n            return this.childrenMap.slider.value;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    set value(value) {\r\n        if (!this.childrenMap.slider) {\r\n            return;\r\n        }\r\n        this.childrenMap.slider.value = value;\r\n    }\r\n\r\n    setValue(value, min, max) {\r\n        if (this.childrenMap.slider) {\r\n            this.childrenMap.slider.setValue(value, min, max);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    addValue(inc, min, max) {\r\n        if (this.childrenMap.slider) {\r\n            this.childrenMap.slider.addValue(inc, min, max);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    getValue(min, max) {\r\n        if (this.childrenMap.slider) {\r\n            return this.childrenMap.slider.getValue(min, max);\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    easeValueTo(value, min, max) {\r\n        if (this.childrenMap.slider) {\r\n            this.childrenMap.slider.easeValueTo(value, min, max);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    stopEaseValue() {\r\n        if (this.childrenMap.slider) {\r\n            this.childrenMap.slider.stopEaseValue();\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setEaseValueDuration(duration) {\r\n        if (this.childrenMap.slider) {\r\n            this.childrenMap.slider.setEaseValueDuration(duration);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setEaseValueFunction(ease) {\r\n        if (this.childrenMap.slider) {\r\n            this.childrenMap.slider.setEaseValueFunction(ease);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get text() {\r\n        var textObject = this.childrenMap.text;\r\n        if (textObject === undefined) {\r\n            return '';\r\n        }\r\n        var value;\r\n        if (textObject.text) {\r\n            value = textObject.text;\r\n        } else {\r\n            value = textObject.getData('text');\r\n        }\r\n        return value;\r\n    }\r\n\r\n    set text(value) {\r\n        var textObject = this.childrenMap.text;\r\n        if (textObject === undefined) {\r\n            return;\r\n        }\r\n        if (textObject.setText) {\r\n            textObject.setText(value);\r\n        } else {\r\n            textObject.setData('text', value);\r\n        }\r\n    }\r\n\r\n    setText(value) {\r\n        this.text = value;\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default NumberBar;","import OverlapSizer from '../overlapsizer/OverlapSizer.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst BadgeKeys = {\r\n    leftTop: 'left-top', centerTop: 'center-top', rightTop: 'right-top',\r\n    leftCenter: 'left-center', center: 'center', rightCenter: 'right-center',\r\n    leftBottom: 'left-bottom', centerBottom: 'center-bottom', rightBottom: 'right-bottom'\r\n}\r\n\r\nclass Badge extends OverlapSizer {\r\n    constructor(scene, config) {\r\n        // Create sizer  \r\n        super(scene, config);\r\n        this.type = 'rexBadge';\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n        this.addChildrenMap('background', background);\r\n\r\n        // Base item\r\n        var main = GetValue(config, 'main', undefined);\r\n        if (main) {\r\n            this.add(main, {\r\n                key: 'main',\r\n                align: 'center',\r\n                expand: false,\r\n            })\r\n        }\r\n        this.addChildrenMap('main', main);\r\n\r\n        // Badges\r\n        for (var key in BadgeKeys) {\r\n            var badge = GetValue(config, key, undefined);\r\n            if (badge) {\r\n                this.add(badge, {\r\n                    key: key,\r\n                    align: BadgeKeys[key],\r\n                    expand: false,\r\n                })\r\n                this.addChildrenMap(key, badge);\r\n            }            \r\n        }\r\n    }\r\n}\r\n\r\nexport default Badge;","import OverlapSizer from '../../overlapsizer/OverlapSizer.js';\r\n\r\nconst OverlapSizerAdd = OverlapSizer.prototype.add;\r\n\r\nvar Add = function (gameObject, childKey, align, padding, expand, minWidth, minHeight, offsetX, offsetY) {\r\n    gameObject.setVisible(false); // Default is invisible\r\n    OverlapSizerAdd.call(this, gameObject, childKey, align, padding, expand, minWidth, minHeight, offsetX, offsetY)\r\n    return this;\r\n}\r\n\r\nexport default {\r\n    add: Add,\r\n    addPage: Add\r\n}","var GetPage = function (key) {\r\n    if (key === undefined) {\r\n        return null;\r\n    } else if (!this.sizerChildren.hasOwnProperty(key)) {\r\n        return null;\r\n    } else {\r\n        return this.sizerChildren[key];\r\n    }\r\n}\r\nexport default GetPage;","import Container from '../../container/Container.js';\r\n\r\nconst ContainerSetChildVisible = Container.prototype.setChildVisible;\r\n\r\nvar SwapPage = function (key) {\r\n    this._previousKey = this._currentKey;\r\n    var prevoiusPage = this.previousPage;\r\n    if (prevoiusPage) {\r\n        if (this.swapMode === 0) { // Invisible\r\n            ContainerSetChildVisible.call(this, prevoiusPage, false);\r\n            this.emit('pageinvisible', prevoiusPage, this._previousKey, this);\r\n        } else { // Destroy\r\n            prevoiusPage.destroy();\r\n        }\r\n    }\r\n\r\n    if (key && !this.sizerChildren.hasOwnProperty(key)) {\r\n        this.emit('createpage', key, this);\r\n    }\r\n\r\n    this._currentKey = key;\r\n    var currentPage = this.currentPage;\r\n    if (currentPage) {\r\n        ContainerSetChildVisible.call(this, currentPage, true);\r\n        this.emit('pagevisible', currentPage, this._currentKey, this);\r\n\r\n        if (this.fadeInDuration > 0) {\r\n            currentPage.setAlpha(0).fadeIn(this.fadeInDuration, 1);\r\n        }\r\n    }\r\n    return this;\r\n}\r\n\r\nexport default SwapPage;","var HasPage = function (key) {\r\n    return this.sizerChildren.hasOwnProperty(key);\r\n}\r\n\r\nexport default HasPage;","import AddChildMethods from './AddChildMethods.js';\r\nimport GetPage from './GetPage.js';\r\nimport SwapPage from './SwapPage.js';\r\nimport HasPage from './HasPage.js';\r\n\r\nvar methods = {\r\n    getPage: GetPage,\r\n    swapPage: SwapPage,\r\n    hasPage: HasPage,\r\n}\r\n\r\nObject.assign(\r\n    methods,\r\n    AddChildMethods,\r\n);\r\n\r\nexport default methods;","import OverlapSizer from '../overlapsizer/OverlapSizer.js';\r\nimport Methods from './methods/Methods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Pages extends OverlapSizer {\r\n    constructor(scene, config) {\r\n        super(scene, config);\r\n        this.type = 'rexPages';\r\n        this.childrenMap = this.sizerChildren;\r\n        this._previousKey = undefined;\r\n        this._currentKey = undefined;\r\n        this.setSwapMode(GetValue(config, 'swapMode', 0));\r\n        this.setFadeInDuration(GetValue(config, 'fadeIn', 0));\r\n    }\r\n\r\n    setSwapMode(mode) {\r\n        if (typeof (mode) === 'string') {\r\n            mode = SWAPMODE[mode];\r\n        }\r\n        this.swapMode = mode;\r\n        return this;\r\n    }\r\n\r\n    setFadeInDuration(duration) {\r\n        this.fadeInDuration = duration;\r\n        return this;\r\n    }\r\n\r\n    get previousKey() {\r\n        return this._previousKey;\r\n    }\r\n\r\n    get currentKey() {\r\n        return this._currentKey;\r\n    }\r\n\r\n    set currentKey(key) {\r\n        this.swapPage(key);\r\n    }\r\n\r\n    get currentPage() {\r\n        return this.getPage(this.currentKey);\r\n    }\r\n\r\n    get previousPage() {\r\n        return this.getPage(this.previousKey);\r\n    }\r\n\r\n    get keys() {\r\n        return Object.keys(this.sizerChildren);\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    Pages.prototype,\r\n    Methods\r\n);\r\n\r\nconst SWAPMODE = {\r\n    invisible: 0,\r\n    destroy: 1\r\n};\r\n\r\nexport default Pages;","var GetPageKeyByIndex = function (index) {\r\n    var buttons = this.getElement('tabs.buttons');\r\n    if (index >= buttons.length) {\r\n        return undefined;\r\n    }\r\n\r\n    return buttons[index].name;\r\n}\r\n\r\nexport default GetPageKeyByIndex;","var GetPageIndexByKey = function (key) {\r\n    var buttons = this.getElement('tabs.buttons');\r\n    for (var i = 0, cnt = buttons.length; i < cnt; i++) {\r\n        if (buttons[i].name === key) {\r\n            return i;\r\n        }\r\n    }\r\n\r\n    return undefined;\r\n}\r\n\r\nexport default GetPageIndexByKey;","const IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst UUID = Phaser.Utils.String.UUID;\r\n\r\nvar AddPage = function (key, tabGameObject, pageGameObject) {\r\n    if (IsPlainObject(key)) {\r\n        var config = key;\r\n        key = GetValue(config, 'key');\r\n        tabGameObject = GetValue(config, 'tab');\r\n        pageGameObject = GetValue(config, 'page');\r\n    }\r\n\r\n    if (!key) {\r\n        key = UUID();\r\n    }\r\n\r\n    tabGameObject.name = key;  // For ratio buttons\r\n\r\n    this.childrenMap.tabs.addButton(tabGameObject);\r\n    this.childrenMap.pages.addPage(pageGameObject, { key: key });\r\n\r\n    return this;\r\n}\r\n\r\nexport default AddPage;","var SwapPage = function (key) {\r\n    var index;\r\n    if (typeof (key) === 'number') {\r\n        index = key;\r\n    } else {\r\n        index = this.getPageIndex(key);\r\n    }\r\n\r\n    if (index != null) {\r\n        this.childrenMap.tabs.emitButtonClick(index);\r\n    }\r\n\r\n    return this;\r\n}\r\n\r\nvar SwapFirstPage = function () {\r\n    this.swapPage(0);\r\n    return this;\r\n}\r\n\r\nvar SwapLastPage = function () {\r\n    this.swapPage(this.getElement('tabs.buttons').length - 1);\r\n    return this;\r\n}\r\n\r\n\r\nexport default {\r\n    swapPage: SwapPage,\r\n    swapFirstPage: SwapFirstPage,\r\n    swapLastPage: SwapLastPage,\r\n};","var RemovePage = function (key, destroyChild) {\r\n    if (typeof (key) === 'number') {\r\n        key = this.getPageKey(key);\r\n    }\r\n\r\n    var tabs = this.childrenMap.tabs;\r\n    var tabGameObject = tabs.getByName(key);\r\n    var pages = this.childrenMap.pages;\r\n    var pageGameObject = pages.getElement(key);\r\n    if (!tabGameObject || !pageGameObject) {\r\n        return this;\r\n    }\r\n\r\n    pages.removeChildrenMap(key);\r\n\r\n    tabs.removeButton(tabGameObject, destroyChild);\r\n    pages.remove(pageGameObject, destroyChild);\r\n\r\n    return this;\r\n}\r\n\r\nexport default {\r\n    removePage: RemovePage,\r\n};","var GetPage = function (key) {\r\n    if (typeof (key) === 'number') {\r\n        key = this.getPageKey(key);\r\n    }\r\n    return this.childrenMap.pages.getPage(key);\r\n}\r\n\r\nexport default GetPage;","var GetTab = function (key) {\r\n    var index;\r\n    if (typeof (key) === 'number') {\r\n        index = key;\r\n    } else {\r\n        index = this.getPageIndex(key);\r\n    }\r\n    return this.getElement('tabs.buttons')[index];\r\n}\r\n\r\nexport default GetTab;","import GetPageKey from './GetPageKeyByIndex.js';\r\nimport GetPageIndex from './GetPageIndexByKey.js';\r\nimport AddPage from './AddPage.js';\r\nimport SwapPageMethods from './SwapPageMethods.js';\r\nimport RemovePageMethods from './RemovePageMethods.js';\r\nimport GetPage from './GetPage.js';\r\nimport GetTab from './GetTab.js';\r\n\r\nvar methods = {\r\n    getPageKey: GetPageKey,\r\n    getPageIndex: GetPageIndex,\r\n    addPage: AddPage,\r\n    getPage: GetPage,\r\n    getTab: GetTab,\r\n}\r\n\r\nObject.assign(\r\n    methods,\r\n    SwapPageMethods,\r\n    RemovePageMethods\r\n\r\n);\r\n\r\nexport default methods;","import Sizer from '../sizer/Sizer.js';\r\nimport Buttons from '../buttons/Buttons.js';\r\nimport FixWidthButtons from '../fixwidthbuttons/FixWidthButtons.js';\r\nimport Pages from '../pages/Pages.js';\r\nimport Methods from './methods/Methods.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst SizerAdd = Sizer.prototype.add;\r\n\r\nclass TabPages extends Sizer {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        var tabsPosition = GetValue(config, 'tabPosition', 'top');\r\n        var sizerOrientation = ((tabsPosition === 'left') || (tabsPosition === 'right')) ? 'x' : 'y';\r\n        config.orientation = sizerOrientation;\r\n        super(scene, config);\r\n        this.type = 'rexTabPages';\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        var pagesConfig = GetValue(config, 'pages');\r\n        var pages = new Pages(scene, pagesConfig);\r\n        scene.add.existing(pages);\r\n\r\n        var isHorizontalTabs = (sizerOrientation === 'y');\r\n        var wrapTabs = (isHorizontalTabs) ? GetValue(config, 'wrapTabs', false) : false;\r\n\r\n        var tabsConfig = GetValue(config, 'tabs', undefined);\r\n        if (tabsConfig === undefined) {\r\n            tabsConfig = {};\r\n        }\r\n        var ButtonsClass = (wrapTabs) ? FixWidthButtons : Buttons;\r\n        tabsConfig.orientation = (isHorizontalTabs) ? 'x' : 'y';\r\n        tabsConfig.buttonsType = 'radio';\r\n        var tabs = new ButtonsClass(scene, tabsConfig);\r\n        scene.add.existing(tabs);\r\n\r\n        var tabsExpand = (wrapTabs) ? true : GetValue(config, 'expand.tabs', false);\r\n        var tabAlign = GetValue(config, 'align.tabs', 'left');\r\n        switch (tabsPosition) {\r\n            case 'top':\r\n            case 'left':\r\n                SizerAdd.call(this, tabs, { proportion: 0, expand: tabsExpand, align: tabAlign });\r\n                SizerAdd.call(this, pages, { proportion: 1, expand: true });\r\n                break;\r\n\r\n            case 'bottom':\r\n            case 'right':\r\n                SizerAdd.call(this, pages, { proportion: 1, expand: true });\r\n                SizerAdd.call(this, tabs, { proportion: 0, expand: tabsExpand, align: tabAlign });\r\n                break;\r\n\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('tabs', tabs);\r\n        this.addChildrenMap('pages', pages);\r\n\r\n        // Register events\r\n        tabs.on('button.click', function (tab) {\r\n            var key = tab.name;\r\n            if (pages.hasPage(key)) {\r\n                pages.swapPage(key);\r\n            }\r\n        });\r\n\r\n        tabs.on('button.statechange', function (tab, index, value, previousValue) {\r\n            var eventName = (value) ? 'tab.focus' : 'tab.blur';\r\n            this.emit(eventName, tab, tab.name);\r\n        }, this)\r\n\r\n        pages.on('pagevisible', function (pageObject, key, pages) {\r\n            this.emit('page.focus', pageObject, key);\r\n        })\r\n\r\n        pages.on('pageinvisible', function (pageObject, key, pages) {\r\n            this.emit('page.blur', pageObject, key);\r\n        })\r\n\r\n    }\r\n\r\n    get currentKey() {\r\n        return this.getElement('pages').currentKey;\r\n    }\r\n\r\n    set currentKey(key) {\r\n        this.showPage(key);\r\n    }\r\n\r\n    get keys() {\r\n        return this.getElement('pages').keys;\r\n    }\r\n\r\n    get currentPage() {\r\n        return this.getElement('pages').currentPage;\r\n    }\r\n\r\n    get previousPage() {\r\n        return this.getElement('pages').previousPage;\r\n    }\r\n\r\n}\r\n\r\nObject.assign(\r\n    TabPages.prototype,\r\n    Methods\r\n);\r\n\r\nexport default TabPages;","import TextToLines from \"../../../../plugins/utils/text/TextToLines.js\";\r\n\r\nvar SetText = function (text) {\r\n    if (text !== undefined) {\r\n        this.text = text;\r\n    }\r\n\r\n    // Wrap content in lines\r\n    this.lines = TextToLines(this.textObject, this.text, this.lines);\r\n\r\n    // Get lines count\r\n    this.linesCount = this.lines.length;\r\n\r\n    // Re-calculate these values later\r\n    this._textHeight = undefined;\r\n    this._textVisibleHeight = undefined;\r\n\r\n    this.updateTextObject();\r\n    return this;\r\n}\r\nexport default SetText;","var TextHeightToLinesCount = function (height) {\r\n    // height = (lines * (lineHeight + lineSpacing)) - lineSpacing\r\n    return (height - this.textLineSpacing) / (this.textLineHeight + this.textLineSpacing);\r\n}\r\nexport default TextHeightToLinesCount;","var LinesCountToTextHeight = function (linesCount) {\r\n    // height = (linesCount * (lineHeight + lineSpacing)) - lineSpacing\r\n    return (linesCount * (this.textLineHeight + this.textLineSpacing)) - this.textLineSpacing;\r\n}\r\nexport default LinesCountToTextHeight;","import { TextType, TagTextType, BitmapTextType } from '../../../../plugins/utils/text/GetTextObjectType.js'\r\n\r\nvar GetLines = function (startLineIdx) {\r\n    var endLineIdx = startLineIdx + this.visibleLinesCount + 1;\r\n    var text;\r\n    switch (this.textObjectType) {\r\n        case TextType:\r\n            text = this.lines.slice(startLineIdx, endLineIdx).join('\\n');\r\n            break;\r\n        case TagTextType:\r\n            var startIdx = this.lines.getLineStartIndex(startLineIdx);\r\n            var endIdx = this.lines.getLineEndIndex(endLineIdx - 1);\r\n            text = this.lines.getSliceTagText(startIdx, endIdx, true);\r\n            break;\r\n        case BitmapTextType:\r\n            text = this.lines.slice(startLineIdx, endLineIdx).join('\\n');\r\n            break;\r\n    }\r\n    return text;\r\n}\r\n\r\nexport default GetLines;","var ResetTextObjectPosition = function () {\r\n    var config = this.textObject.rexSizer;\r\n    this.textObject.y += (config.offsetY - config.preOffsetY);\r\n    config.preOffsetY = config.offsetY;\r\n    this.resetChildPositionState(this.textObject);\r\n\r\n    if (this.textCropEnable) {\r\n        CropTextObject.call(this);\r\n    }\r\n}\r\n\r\nvar CropTextObject = function () {\r\n    // Don't have setCrop method, return\r\n    if (!this.textObject.setCrop) {\r\n        return;\r\n    }\r\n\r\n    var offsetY = this.textObject.rexSizer.offsetY;\r\n    var cropY, cropHeight;\r\n    if (offsetY <= 0) {\r\n        cropY = -offsetY;\r\n        cropHeight = this.height;\r\n    } else {\r\n        cropY = 0;\r\n        cropHeight = this.height - offsetY;\r\n    }\r\n    this.textObject.setCrop(\r\n        0,\r\n        cropY,\r\n        this.width,\r\n        cropHeight\r\n    )\r\n}\r\n\r\nexport default ResetTextObjectPosition;","import TextHeightToLinesCount from './TextHeightToLinesCount.js';\r\nimport LinesCountToTextHeight from './LinesCountToTextHeight.js';\r\nimport GetLines from './GetLines.js';\r\nimport SetNoWrapText from '../../../../plugins/utils/text/SetNoWrapText.js';\r\nimport ResetTextObjectPosition from './ResetTextObjectPosition.js';\r\n\r\nvar UpdateTextObject = function () {\r\n    var startLineIndex = Math.max(Math.floor(TextHeightToLinesCount.call(this, -this.textOY)), 0);\r\n    var textOffset = LinesCountToTextHeight.call(this, startLineIndex) + this.textOY;\r\n\r\n    // Grab visible lines\r\n    var text = GetLines.call(this, startLineIndex);\r\n\r\n    // Display visible content\r\n    SetNoWrapText(this.textObject, text);\r\n\r\n    this.textObject.rexSizer.offsetY = textOffset;\r\n    ResetTextObjectPosition.call(this);\r\n    return this;\r\n}\r\nexport default UpdateTextObject;","import PreLayoutBase from '../../basesizer/PreLayout.js';\r\n\r\nvar PreLayout = function () {\r\n    // Style of text\r\n    this._textLineHeight = undefined;\r\n    this._textLineSpacing = undefined;\r\n    // Style of text, width of text\r\n    this._visibleLinesCount = undefined;\r\n    // Style of text, total lines of content\r\n    this._textHeight = undefined;\r\n    this._textVisibleHeight = undefined;\r\n\r\n    PreLayoutBase.call(this);\r\n    return this;\r\n}\r\nexport default PreLayout;","import { TextType, TagTextType, BitmapTextType } from '../../../../plugins/utils/text/GetTextObjectType.js'\r\n\r\nvar ResizeText = function (textObject, width, height) {\r\n    height += (this.textLineHeight + this.textLineSpacing); // Add 1 line\r\n    if ((this.textObjectWidth === width) && (this._textObjectRealHeight === height)) {\r\n        return;\r\n    }\r\n    this.textObjectWidth = width;\r\n    this._textObjectRealHeight = height;\r\n\r\n    switch (this.textObjectType) {\r\n        case TextType:\r\n        case TagTextType:\r\n            textObject.setFixedSize(width, height);\r\n\r\n            var style = textObject.style;\r\n            var wrapWidth = Math.max(width, 0);\r\n            if (this.textObjectType === TextType) {  // Built-in text\r\n                style.wordWrapWidth = wrapWidth;\r\n            } else {  // BBCode text, Tag text\r\n                if (style.wrapMode === 0) { // Turn no-wrap to word-wrap\r\n                    style.wrapMode = 1;\r\n                }\r\n                style.wrapWidth = wrapWidth;\r\n            }\r\n            break;\r\n        case BitmapTextType:\r\n            textObject.setMaxWidth(width);\r\n            break;\r\n    }\r\n\r\n    // Render content again\r\n    this.setText();\r\n}\r\n\r\nexport default ResizeText;","import ResizeText from './ResizeText.js';\r\nimport ResetTextObjectPosition from './ResetTextObjectPosition.js';\r\nimport AlignIn from '../../../../plugins/utils/actions/AlignIn.js';\r\n\r\nvar LayoutChildren = function () {\r\n    var child, childConfig, padding;\r\n    var startX = this.left,\r\n        startY = this.top;\r\n    var x, y, width, height; // Align zone\r\n\r\n    // LayoutChildren text child\r\n    // Skip invisible child\r\n    child = this.textObject;\r\n    if (!child.rexSizer.hidden) {\r\n        childConfig = child.rexSizer;\r\n        padding = childConfig.padding;\r\n        x = (startX + padding.left);\r\n        y = (startY + padding.top);\r\n        width = this.width - padding.left - padding.right;\r\n        height = this.height - padding.top - padding.bottom;\r\n        ResizeText.call(this, child, width, height);\r\n\r\n        AlignIn(child, x, y, width, height, childConfig.align);\r\n\r\n        childConfig.preOffsetY = 0; // Clear preOffsetY\r\n        ResetTextObjectPosition.call(this);\r\n\r\n        if (this.textMask) {\r\n            this.textMask.setPosition().resize();\r\n            this.resetChildPositionState(this.textMask);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default LayoutChildren;","import SetText from './SetText.js';\r\nimport UpdateTextObject from './UpdateTextObject.js';\r\nimport PreLayout from './PreLayout.js';\r\nimport LayoutChildren from './LayoutChildren.js';\r\n\r\nexport default {\r\n    setText: SetText,\r\n    updateTextObject: UpdateTextObject,\r\n    preLayout: PreLayout,\r\n    layoutChildren: LayoutChildren,\r\n};","import { TextType, TagTextType, BitmapTextType } from '../../../../plugins/utils/text/GetTextObjectType.js'\r\nimport GetTextObjectType from '../../../../plugins/utils/text/GetTextObjectType.js';\r\nimport AddChildMask from '../../../../plugins/gameobjects/containerlite/mask/AddChildMask.js';\r\nimport BaseSizer from '../../basesizer/BaseSizer.js';\r\nimport Methods from './Methods.js';\r\nimport GetBoundsConfig from '../../utils/GetBoundsConfig.js';\r\nimport LinesCountToTextHeight from './LinesCountToTextHeight.js';\r\nimport TextHeightToLinesCount from './TextHeightToLinesCount.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst ALIGN_LEFTTOP = Phaser.Display.Align.TOP_LEFT;\r\n\r\nclass TextBlock extends BaseSizer {\r\n    constructor(scene, x, y, minWidth, minHeight, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            minWidth = GetValue(config, 'width', undefined);\r\n            minHeight = GetValue(config, 'height', undefined);\r\n        } else if (IsPlainObject(minWidth)) {\r\n            config = minWidth;\r\n            minWidth = GetValue(config, 'width', undefined);\r\n            minHeight = GetValue(config, 'height', undefined);\r\n        }\r\n\r\n        super(scene, x, y, minWidth, minHeight, config);\r\n\r\n        this.type = 'rexTextBlock';\r\n        this.textObject = undefined;\r\n        this.linesCount = 0;\r\n        this.textMask = undefined;\r\n        this.textObjectType = undefined;\r\n        this._textLineHeight = undefined;\r\n        this._textLineSpacing = undefined;\r\n        this._visibleLinesCount = undefined;\r\n        this._textHeight = undefined;\r\n        this._textVisibleHeight = undefined;\r\n\r\n        this.lines = undefined;\r\n        // Text object : array of string\r\n        // Tag text object : pens-manager\r\n        // Bitmap text object : array of string\r\n\r\n        this.text = GetValue(config, 'content', '');\r\n        this._textOY = 0;\r\n        this.execeedTopState = false;\r\n        this.execeedBottomState = false;\r\n\r\n        this.setClampMode(GetValue(config, 'clamplTextOY', true));\r\n\r\n        this.alwaysScrollable = GetValue(config, 'alwaysScrollable', false);\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        var textObject = GetValue(config, 'text', undefined);\r\n        if (textObject === undefined) {\r\n            textObject = CreateDefaultTextObject(scene);\r\n        }\r\n        this.textCropEnable = GetValue(config, 'textCrop', !!textObject.setCrop)\r\n        var textMaskEnable = GetValue(config, 'textMask', !this.textCropEnable);\r\n\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n\r\n        this.add(textObject);\r\n        this.sizerChildren = [textObject];\r\n\r\n        var sizerConfig = this.getSizerConfig(textObject);\r\n        sizerConfig.align = ALIGN_LEFTTOP;\r\n        sizerConfig.padding = GetBoundsConfig(0);\r\n        sizerConfig.expand = true;\r\n        this.textObject = textObject;\r\n\r\n        this.textObjectType = GetTextObjectType(textObject);\r\n\r\n        // Add more variables\r\n        sizerConfig.preOffsetY = 0;\r\n        sizerConfig.offsetY = 0;\r\n\r\n        // Create mask of text object\r\n        if (textMaskEnable) {\r\n            this.textMask = AddChildMask.call(this, this.textObject, this);\r\n        }\r\n\r\n        this.addChildrenMap('background', background);\r\n        this.addChildrenMap('text', textObject);\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        this.textObject = undefined;\r\n        this.textMask = undefined;\r\n        if (this.lines) {\r\n            switch (this.textObjectType) {\r\n                case TextType:\r\n                    this.lines.length = 0;\r\n                    break;\r\n                case TagTextType:\r\n                    this.lines.destroy();\r\n                    break;\r\n                case BitmapTextType:\r\n                    this.lines.length = 0;\r\n                    break;\r\n            }\r\n            this.lines = undefined;\r\n        }\r\n\r\n        super.destroy(fromScene);\r\n    }\r\n\r\n    setClampMode(mode) {\r\n        if (mode === undefined) {\r\n            mode = true;\r\n        }\r\n        this.clampTextOY = mode;\r\n        return this;\r\n    }\r\n\r\n    get textLineHeight() {\r\n        if (this._textLineHeight === undefined) {\r\n            var lineHeight;\r\n            switch (this.textObjectType) {\r\n                case TextType:\r\n                case TagTextType:\r\n                    var style = this.textObject.style;\r\n                    lineHeight = style.metrics.fontSize + style.strokeThickness;\r\n                    break;\r\n                case BitmapTextType:\r\n                    var scale = (this.textObject.fontSize / this.textObject.fontData.size);\r\n                    lineHeight = this.textObject.fontData.lineHeight * scale;\r\n                    break;\r\n\r\n            }\r\n            this._textLineHeight = lineHeight;\r\n        }\r\n        return this._textLineHeight;\r\n    }\r\n\r\n    get textLineSpacing() {\r\n        if (this._textLineSpacing === undefined) {\r\n            var lineSpacing;\r\n            switch (this.textObjectType) {\r\n                case TextType:\r\n                case TagTextType:\r\n                    lineSpacing = this.textObject.lineSpacing;\r\n                    break;\r\n                case BitmapTextType:\r\n                    lineSpacing = 0;\r\n                    break;\r\n            }\r\n            this._textLineSpacing = lineSpacing;\r\n        }\r\n        return this._textLineSpacing;\r\n    }\r\n\r\n    get visibleLinesCount() {\r\n        if (this._visibleLinesCount === undefined) {\r\n            this._visibleLinesCount = Math.floor(TextHeightToLinesCount.call(this, this._textObjectRealHeight));\r\n        }\r\n        return this._visibleLinesCount;\r\n    }\r\n\r\n    get topTextOY() {\r\n        return 0;\r\n    }\r\n\r\n    get bottomTextOY() {\r\n        return -this.textVisibleHeight;\r\n    }\r\n\r\n    get textHeight() {\r\n        if (this._textHeight === undefined) {\r\n            this._textHeight = LinesCountToTextHeight.call(this, this.linesCount);\r\n        }\r\n        return this._textHeight;\r\n    }\r\n\r\n    get textObjectHeight() {\r\n        return this._textObjectRealHeight - (this.textLineHeight + this.textLineSpacing);  // Remove 1 text line\r\n    }\r\n\r\n    get textVisibleHeight() {\r\n        if (this._textVisibleHeight === undefined) {\r\n            var h = this.textHeight - this.textObjectHeight;\r\n            if (!this.alwaysScrollable && (h < 0)) {\r\n                h = 0;\r\n            }\r\n            this._textVisibleHeight = h;\r\n        }\r\n        return this._textVisibleHeight;\r\n    }\r\n\r\n    textOYExceedTop(oy) {\r\n        if (oy === undefined) {\r\n            oy = this.textOY;\r\n        }\r\n        return (oy > this.topTextOY);\r\n    }\r\n\r\n    textOYExeceedBottom(oy) {\r\n        if (oy === undefined) {\r\n            oy = this.textOY;\r\n        }\r\n        return (oy < this.bottomTextOY);\r\n    }\r\n\r\n    get textOY() {\r\n        return this._textOY;\r\n    }\r\n\r\n    set textOY(oy) {\r\n        var topTextOY = this.topTextOY;\r\n        var bottomTextOY = this.bottomTextOY;\r\n        var textOYExceedTop = this.textOYExceedTop(oy);\r\n        var textOYExeceedBottom = this.textOYExeceedBottom(oy);\r\n\r\n        if (this.clampTextOY) {\r\n            if (this.visibleLinesCount > this.linesCount) {\r\n                oy = 0;\r\n            } else if (textOYExceedTop) {\r\n                oy = topTextOY\r\n            } else if (textOYExeceedBottom) {\r\n                oy = bottomTextOY;\r\n            }\r\n        }\r\n\r\n        if (this._textOY !== oy) {\r\n            this._textOY = oy;\r\n            this.updateTextObject();\r\n        }\r\n\r\n        if (textOYExceedTop) {\r\n            if (!this.execeedTopState) {\r\n                this.emit('execeedtop', this, oy, topTextOY);\r\n            }\r\n        }\r\n        this.execeedTopState = textOYExceedTop;\r\n\r\n        if (textOYExeceedBottom) {\r\n            if (!this.execeedBottomState) {\r\n                this.emit('execeedbottom', this, oy, bottomTextOY);\r\n            }\r\n        }\r\n        this.execeedBottomState = textOYExeceedBottom;\r\n    }\r\n\r\n    setTextOY(oy) {\r\n        this.textOY = oy;\r\n        return this;\r\n    }\r\n\r\n    set t(value) {\r\n        this.textOY = -this.textVisibleHeight * value;\r\n    }\r\n\r\n    get t() {\r\n        var textVisibleHeight = this.textVisibleHeight;\r\n        if (textVisibleHeight === 0) {\r\n            return 0;\r\n        }\r\n        return (this.textOY / -textVisibleHeight);\r\n    }\r\n\r\n    setTextOYByPercentage(percentage) {\r\n        this.t = percentage;\r\n        return this;\r\n    }\r\n}\r\n\r\nvar CreateDefaultTextObject = function (scene) {\r\n    return scene.add.text(0, 0, '');\r\n};\r\n\r\nObject.assign(\r\n    TextBlock.prototype,\r\n    Methods\r\n);\r\n\r\nexport default TextBlock;","var InjectProperties = function (textBlock) {\r\n    Object.defineProperty(textBlock, 'childOY', {\r\n        configurable: true,\r\n        get: function () {\r\n            return textBlock.textOY;\r\n        },\r\n        set: function (value) {\r\n            textBlock.textOY = value;\r\n        }\r\n    });\r\n    Object.defineProperty(textBlock, 'topChildOY', {\r\n        get: function () {\r\n            return textBlock.topTextOY;\r\n        }\r\n    });\r\n    Object.defineProperty(textBlock, 'bottomChildOY', {\r\n        get: function () {\r\n            return textBlock.bottomTextOY;\r\n        }\r\n    });\r\n    Object.defineProperty(textBlock, 'childVisibleHeight', {\r\n        get: function () {\r\n            return textBlock.textObjectHeight;\r\n        }\r\n    });\r\n    Object.defineProperty(textBlock, 'childHeight', {\r\n        get: function () {\r\n            return textBlock.textHeight;\r\n        }\r\n    });\r\n};\r\nexport default InjectProperties;","var SetText = function (text) {\r\n    var textBlock = this.childrenMap.child;\r\n    textBlock.setText(text);\r\n\r\n    this.resizeController();\r\n    return this;\r\n}\r\nexport default SetText;","var AppendText = function (text) {\r\n    this.setText(this.text + text);\r\n    return this;\r\n}\r\nexport default AppendText;","import Scrollable from '../utils/scrollable/Scrollable.js';\r\nimport TextBlock from './textblock/TextBlock.js';\r\nimport InjectProperties from './InjectProperties.js';\r\nimport SetText from './SetText.js';\r\nimport AppendText from './AppendText.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass TextArea extends Scrollable {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        // Create text-block\r\n        var textObject = GetValue(config, 'text', undefined);\r\n        var textWidth = GetValue(config, 'textWidth', undefined);\r\n        var textHeight = GetValue(config, 'textHeight', undefined);\r\n        var textCrop = GetValue(config, 'textCrop', !!textObject.setCrop);\r\n        var textMask = GetValue(config, 'textMask', !textCrop);\r\n        var content = GetValue(config, 'content', '');\r\n        var textBlock = new TextBlock(scene, {\r\n            width: textWidth,\r\n            height: textHeight,\r\n            text: textObject,\r\n            textMask: textMask,\r\n            textCrop: textCrop && !textMask,\r\n            content: content,\r\n            clamplTextOY: GetValue(config, 'clamplChildOY', false),\r\n            alwaysScrollable: GetValue(config, 'alwaysScrollable', false),\r\n        });\r\n        scene.add.existing(textBlock); // Important: Add to display list for touch detecting\r\n        var proportion = (textWidth === undefined) ? 1 : 0;\r\n        var expand = (textHeight === undefined);\r\n        // Inject properties for scrollable interface\r\n        InjectProperties(textBlock);\r\n\r\n        // Fill config of scrollable\r\n        config.scrollMode = 0; // Vertical\r\n        config.type = 'rexTextArea';\r\n        config.child = {\r\n            gameObject: textBlock,\r\n            proportion: proportion,\r\n            expand: expand,\r\n        };\r\n        var spaceConfig = GetValue(config, 'space', undefined);\r\n        if (spaceConfig) {\r\n            spaceConfig.child = spaceConfig.text;\r\n        }\r\n        super(scene, config);\r\n\r\n        this.addChildrenMap('text', textObject);\r\n    }\r\n\r\n    get text() {\r\n        return this.childrenMap.child.text;\r\n    }\r\n\r\n    get linesCount() {\r\n        return this.childrenMap.child.linesCount;\r\n    }\r\n\r\n    get contentHeight() {\r\n        return this.childrenMap.child.textHeight;\r\n    }\r\n}\r\n\r\nvar methods = {\r\n    setText: SetText,\r\n    appendText: AppendText,\r\n}\r\nObject.assign(\r\n    TextArea.prototype,\r\n    methods\r\n);\r\n\r\nexport default TextArea;","var GetChildrenWidth = function () {\r\n    if (this.rexSizer.hidden) {\r\n        return 0;\r\n    }\r\n\r\n    var result;\r\n    var child = this.child,\r\n        childConfig = child.rexSizer;\r\n    if (childConfig.hidden) {\r\n        result = 0;\r\n    } else if (this.scrollMode === 0) { // scroll y\r\n        result = this.getChildWidth(child);\r\n    } else { // scroll x\r\n        result = 0;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport default GetChildrenWidth;","import { GetDisplayHeight } from '../../../../plugins/utils/size/GetDisplaySize.js';\r\n\r\nvar GetChildrenHeight = function () {\r\n    if (this.rexSizer.hidden) {\r\n        return 0;\r\n    }\r\n\r\n    var result;\r\n    var child = this.child,\r\n        childConfig = child.rexSizer;\r\n    if (childConfig.hidden) {\r\n        result = 0;\r\n    } else if (this.scrollMode === 0) { // scroll y   \r\n        result = 0;\r\n    } else { // scroll x\r\n        result = (child.isRexSizer) ?\r\n            Math.max(child.minHeight, child.childrenHeight) :\r\n            (child.hasOwnProperty('minHeight')) ? child.minHeight : GetDisplayHeight(child);\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport default GetChildrenHeight;","var GetChildrenSizers = function(out) {\r\n    if (out === undefined) {\r\n        out = [];\r\n    }\r\n    if (this.child && this.child.isRexSizer) {\r\n        out.push(this.child);\r\n    }\r\n    return out;\r\n}\r\nexport default GetChildrenSizers;","var ResetChildPosition = function () {\r\n    var x = this.left;\r\n    var y = this.top;\r\n    if (this.scrollMode === 0) {\r\n        y += this.childOY;\r\n    } else {\r\n        x += this.childOY;\r\n    }\r\n    this.child.setPosition(x, y);\r\n    this.resetChildPositionState(this.child);\r\n\r\n    this.setMaskChildrenFlag();\r\n};\r\n\r\nexport default ResetChildPosition;","import ResizeGameObject from '../../../../plugins/utils/size/ResizeGameObject.js';\r\n\r\nvar LayoutChildren = function () {\r\n    // LayoutChildren child\r\n    var child = this.child;\r\n    var childWidth, childHeight;\r\n    if (!child.rexSizer.hidden) {\r\n        // Set size\r\n        if (this.scrollMode === 0) {\r\n            childWidth = this.width;\r\n        } else {\r\n            childHeight = this.height;\r\n        }\r\n        if (child.isRexSizer) {\r\n            child.runLayout(this, childWidth, childHeight);\r\n        } else {\r\n            ResizeGameObject(child, childWidth, childHeight);\r\n        }\r\n\r\n        // Update local state\r\n        this.resetChildPosition();\r\n        // Layout children-mask\r\n        this.layoutChildrenMask();\r\n        // Re-mask children\r\n        this.maskChildren();\r\n    }\r\n}\r\n\r\nexport default LayoutChildren;","import GetChildrenWidth from './GetChildrenWidth.js';\r\nimport GetChildrenHeight from './GetChildrenHeight.js';\r\nimport GetChildrenSizers from './GetChildrenSizers.js';\r\nimport ResetChildPosition from './ResetChildPosition.js';\r\nimport LayoutChildren from './LayoutChildren.js';\r\nimport ChildrenMaskMethods from '../../../../plugins/gameobjects/containerlite/mask/ChildrenMaskMethods.js';\r\n\r\nvar methods = {\r\n    getChildrenWidth: GetChildrenWidth,\r\n    getChildrenHeight: GetChildrenHeight,\r\n    getChildrenSizers: GetChildrenSizers,\r\n    resetChildPosition: ResetChildPosition,\r\n    layoutChildren: LayoutChildren\r\n};\r\n\r\nObject.assign(\r\n    methods,\r\n    ChildrenMaskMethods\r\n);\r\n\r\nexport default methods;","import BaseSizer from '../../basesizer/BaseSizer.js';\r\nimport Methods from './Methods.js';\r\nimport SCROLLMODE from '../../utils/ScrollModeConst.js';\r\nimport { GetDisplayWidth, GetDisplayHeight } from '../../../../plugins/utils/size/GetDisplaySize.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst ALIGN_LEFTTOP = Phaser.Display.Align.TOP_LEFT;\r\n\r\nclass ScrollableBlock extends BaseSizer {\r\n    constructor(scene, x, y, minWidth, minHeight, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            minWidth = GetValue(config, 'width', undefined);\r\n            minHeight = GetValue(config, 'height', undefined);\r\n        } else if (IsPlainObject(minWidth)) {\r\n            config = minWidth;\r\n            minWidth = GetValue(config, 'width', undefined);\r\n            minHeight = GetValue(config, 'height', undefined);\r\n        }\r\n        super(scene, x, y, minWidth, minHeight, config);\r\n\r\n        this.type = 'rexScrollableBlock';\r\n        this.child = undefined;\r\n        this.childrenMask = undefined;\r\n        this._childOY = 0;\r\n        this.execeedTopState = false;\r\n        this.execeedBottomState = false;\r\n\r\n        this.setScrollMode(GetValue(config, 'scrollMode', true))\r\n        this.setClampMode(GetValue(config, 'clamplChildOY', true));\r\n\r\n        // Add elements\r\n        // No background object, and child does not have padding\r\n        var child = GetValue(config, 'child', undefined);\r\n        var expand = GetValue(config, 'expand', true);\r\n\r\n        if (child.setOrigin) {\r\n            child.setOrigin(0);\r\n        }\r\n\r\n        this.add(child);\r\n        this.sizerChildren = [child];\r\n\r\n        var sizerConfig = this.getSizerConfig(child);\r\n        sizerConfig.align = ALIGN_LEFTTOP;\r\n        sizerConfig.expand = expand;\r\n        this.child = child;\r\n\r\n        // Create mask of child object\r\n        this.setupChildrenMask(GetValue(config, 'mask', undefined));\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        this.destroyChildrenMask();\r\n\r\n        this.child = undefined;\r\n\r\n        super.destroy(fromScene);\r\n    }\r\n\r\n    setScrollMode(mode) {\r\n        if (typeof (mode) === 'string') {\r\n            mode = SCROLLMODE[mode.toLowerCase()];\r\n        }\r\n        this.scrollMode = mode;\r\n        return this;\r\n    }\r\n\r\n    setClampMode(mode) {\r\n        if (mode === undefined) {\r\n            mode = true;\r\n        }\r\n        this.clampChildOY = mode;\r\n        return this;\r\n    }\r\n\r\n    get instHeight() {\r\n        return (this.scrollMode === 0) ? this.height : this.width;\r\n    }\r\n\r\n    get instWidth() {\r\n        return (this.scrollMode === 0) ? this.width : this.height;\r\n    }\r\n\r\n    get childHeight() {\r\n        return (this.scrollMode === 0) ? GetDisplayHeight(this.child) : GetDisplayWidth(this.child);\r\n    }\r\n\r\n    get childWidth() {\r\n        return (this.scrollMode === 0) ? GetDisplayWidth(this.child) : GetDisplayHeight(this.child);\r\n    }\r\n\r\n    get topChildOY() {\r\n        return 0;\r\n    }\r\n\r\n    get bottomChildOY() {\r\n        return -this.visibleHeight;\r\n    }\r\n\r\n    get childVisibleHeight() {\r\n        return this.instHeight;\r\n    }\r\n\r\n    get visibleHeight() {\r\n        var h = this.childHeight - this.childVisibleHeight;\r\n        if (h < 0) {\r\n            h = 0;\r\n        }\r\n\r\n        return h;\r\n    }\r\n\r\n    childOYExceedTop(oy) {\r\n        if (oy === undefined) {\r\n            oy = this.childOY;\r\n        }\r\n        return (oy > this.topChildOY);\r\n    }\r\n\r\n    childOYExeceedBottom(oy) {\r\n        if (oy === undefined) {\r\n            oy = this.childOY;\r\n        }\r\n        return (oy < this.bottomChildOY);\r\n    }\r\n\r\n    get childOY() {\r\n        return this._childOY;\r\n    }\r\n\r\n    set childOY(oy) {\r\n        var topChildOY = this.topChildOY;\r\n        var bottomChildOY = this.bottomChildOY;\r\n        var childOYExceedTop = this.childOYExceedTop(oy);\r\n        var childOYExeceedBottom = this.childOYExeceedBottom(oy);\r\n\r\n        if (this.clampChildOY) {\r\n            if (this.childVisibleHeight > this.childHeight) {\r\n                oy = 0;\r\n            } else if (childOYExceedTop) {\r\n                oy = topChildOY\r\n            } else if (childOYExeceedBottom) {\r\n                oy = bottomChildOY;\r\n            }\r\n        }\r\n\r\n        if (this._childOY !== oy) {\r\n            this._childOY = oy;\r\n            this.resetChildPosition();\r\n        }\r\n\r\n        if (childOYExceedTop) {\r\n            if (!this.execeedTopState) {\r\n                this.emit('execeedtop', this, oy, topChildOY);\r\n            }\r\n        }\r\n        this.execeedTopState = childOYExceedTop;\r\n\r\n        if (childOYExeceedBottom) {\r\n            if (!this.execeedBottomState) {\r\n                this.emit('execeedbottom', this, oy, bottomChildOY);\r\n            }\r\n        }\r\n        this.execeedBottomState = childOYExeceedBottom;\r\n    }\r\n\r\n    setChildOY(oy) {\r\n        this.childOY = oy;\r\n        return this;\r\n    }\r\n\r\n    set t(value) {\r\n        this.childOY = -this.visibleHeight * value;\r\n    }\r\n\r\n    get t() {\r\n        var visibleHeight = this.visibleHeight;\r\n        if (visibleHeight === 0) {\r\n            return 0;\r\n        }\r\n        return (this.childOY / -visibleHeight);\r\n    }\r\n\r\n    setChildOYByPercentage(percentage) {\r\n        this.t = percentage;\r\n        return this;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    ScrollableBlock.prototype,\r\n    Methods\r\n);\r\n\r\nexport default ScrollableBlock;","import Scrollable from '../utils/scrollable/Scrollable.js';\r\nimport GetScrollMode from '../utils/GetScrollMode.js';\r\nimport ScrollableBlock from './scrollableblock/ScrollableBlock.js';\r\nimport SetChildrenInteractive from '../utils/setchildreninteractive/SetChildrenInteractive.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass ScrollablePanel extends Scrollable {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        // Create scrollable-block\r\n        var scrollMode = GetScrollMode(config);\r\n        var panelConfig = GetValue(config, 'panel', undefined);\r\n        if (panelConfig === undefined) {\r\n            panelConfig = {};\r\n        }\r\n        panelConfig.scrollMode = scrollMode;\r\n        panelConfig.clamplChildOY = GetValue(config, 'clamplChildOY', false);\r\n        var scrollableBlock = new ScrollableBlock(scene, panelConfig);\r\n        scene.add.existing(scrollableBlock); // Important: Add to display list for touch detecting\r\n        var panelWidth = GetValue(panelConfig, 'width', undefined);\r\n        var panelHeight = GetValue(panelConfig, 'height', undefined);\r\n        var proportion, expand;\r\n        if (scrollMode === 0) {\r\n            proportion = (panelWidth === undefined) ? 1 : 0;\r\n            expand = (panelHeight === undefined);\r\n        } else {\r\n            proportion = (panelHeight === undefined) ? 1 : 0;\r\n            expand = (panelWidth === undefined);\r\n        }\r\n\r\n        // Fill config of scrollable\r\n        config.type = 'rexScrollablePanel';\r\n        config.child = {\r\n            gameObject: scrollableBlock,\r\n            proportion: proportion,\r\n            expand: expand,\r\n        };\r\n        var spaceConfig = GetValue(config, 'space', undefined);\r\n        if (spaceConfig) {\r\n            spaceConfig.child = spaceConfig.panel;\r\n        }\r\n        super(scene, config);\r\n\r\n        this.addChildrenMap('panel', scrollableBlock.child);\r\n        this.addChildrenMap('panelLayer', scrollableBlock.maskLayer);\r\n    }\r\n\r\n    setChildrenInteractive(config) {\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        if (!config.hasOwnProperty('eventEmitter')) {\r\n            config.eventEmitter = this;\r\n        }\r\n\r\n        if (!config.hasOwnProperty('targets')) {\r\n            config.targets = [this.childrenMap.panel];\r\n        }\r\n\r\n        SetChildrenInteractive(this.childrenMap.child, config);\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default ScrollablePanel;","export default {\r\n    popUp: function (gameObject, duration) {\r\n        gameObject.popUp(duration);\r\n    },\r\n\r\n    scaleDown: function (gameObject, duration) {\r\n        gameObject.scaleDown(duration);\r\n    },\r\n\r\n    fadeIn: function (gameObject, duration) {\r\n        gameObject.fadeIn(duration);\r\n    },\r\n\r\n    fadeOut: function (gameObject, duration) {\r\n        gameObject.fadeOut(duration);\r\n    },\r\n}","var Copy = function (dest, src, startIdx, endIdx) {\r\n    if (startIdx === undefined) {\r\n        startIdx = 0\r\n    };\r\n    if (endIdx === undefined) {\r\n        endIdx = src.length;\r\n    }\r\n    dest.length = endIdx - startIdx;\r\n    for (var i = 0, len = dest.length; i < len; i++) {\r\n        dest[i] = src[i + startIdx];\r\n    }\r\n    return dest;\r\n};\r\nexport default Copy;","import ArrayCopy from '../../utils/array/Copy.js';\r\nimport TypeConvert from '../../utils/string/TypeConvert.js';\r\nimport IsArray from '../../utils/object/IsArray.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar RunCommands = function (queue, scope, config) {\r\n    var reverse = GetValue(config, 'reverse', false);\r\n\r\n    var retVal;\r\n    if (IsArray(queue[0])) {\r\n        if (!reverse) {\r\n            for (var i = 0, len = queue.length; i < len; i++) {\r\n                retVal = RunCommands(queue[i], scope, config);\r\n            }\r\n        } else {\r\n            for (var len = queue.length, i = len - 1; i >= 0; i--) {\r\n                retVal = RunCommands(queue[i], scope, config);\r\n            }\r\n        }\r\n    } else {\r\n        retVal = RunCommand(queue, scope, config);\r\n    }\r\n\r\n    return retVal;\r\n}\r\n\r\nvar RunCommand = function (cmd, scope, config) {\r\n    var argsConvert = GetValue(config, 'argsConvert', undefined);\r\n    var argsConvertScope = GetValue(config, 'argsConvertScope', undefined);\r\n\r\n    var fnName = cmd[0];\r\n\r\n    ARGS = ArrayCopy(ARGS, cmd, 1);\r\n    if (argsConvert) {\r\n        // convert string to floating number, boolean, null, or string        \r\n        if (argsConvert === true) {\r\n            argsConvert = TypeConvert;\r\n            argsConvertScope = undefined;\r\n        }\r\n        for (var i = 0, len = ARGS.length; i < len; i++) {\r\n            if (argsConvertScope) {\r\n                ARGS[i] = argsConvert.call(argsConvertScope, ARGS[i], cmd);\r\n            } else {\r\n                ARGS[i] = argsConvert(ARGS[i], cmd);\r\n            }\r\n        }\r\n    }\r\n\r\n    var fn;\r\n    if (typeof (fnName) === 'string') {\r\n        fn = scope[fnName];\r\n        if (fn == null) {\r\n            fn = GetValue(scope, fnName, null);\r\n        }\r\n    } else {\r\n        fn = fnName;\r\n    }\r\n\r\n    var retValue = fn.apply(scope, ARGS);\r\n    return retValue;\r\n}\r\nvar ARGS = []; // reuse this array\r\n\r\nexport default RunCommands;","import ComponentBase from '../../../utils/componentbase/ComponentBase.js';\r\nimport Clock from '../../../clock.js';\r\nimport ArrayCopy from '../../../utils/array/Copy.js';\r\nimport RunCommands from '../../../runcommands.js';\r\nimport IsArray from '../../../utils/object/IsArray.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Player extends ComponentBase {\r\n    constructor(parent, config) {\r\n        super(parent, config);\r\n\r\n        var clock = GetValue(config, 'clock', undefined);\r\n        if (!clock) {\r\n            clock = new Clock(parent);\r\n        }\r\n        this.clock = clock;\r\n        this.clock.on('update', this.update, this);\r\n\r\n        this.resetFromJSON(config); // this function had been called in super(config)\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.clock.resetFromJSON(GetValue(o, 'clock', undefined));\r\n        this.state = GetValue(o, 'state', 0); // 0=idle, 1=run, 2=completed\r\n        this.commands = GetValue(o, 'commands', []); // [[time, cmds], [time, cmds], ...]\r\n        this.scope = GetValue(o, 'scope', undefined);\r\n        this.setTimeUnit(GetValue(o, 'timeUnit', 0));\r\n        this.setDtMode(GetValue(o, 'dtMode', 0));\r\n        this.index = GetValue(o, 'index', 0);\r\n        this.nextTime = GetValue(o, 'nextTime', 0);\r\n        return this;\r\n    }\r\n\r\n    toJSON() {\r\n        return {\r\n            clock: this.clock.toJSON(),\r\n            state: this.state,\r\n            commands: this.commands,\r\n            scope: this.scope,\r\n            timeUnit: this.timeUnit,\r\n            dtMode: this.dtMode,\r\n            index: this.index,\r\n            nextTime: this.nextTime\r\n        };\r\n    }\r\n\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        this.clock.shutdown(fromScene);\r\n        this.commands = undefined;\r\n\r\n        super.shutdown(fromScene);\r\n    }\r\n\r\n    load(commands, scope, config) {\r\n        this.stop();\r\n        var timeUnit = GetValue(config, 'timeUnit', undefined);\r\n        if (timeUnit !== undefined) {\r\n            this.setTimeUnit(timeUnit)\r\n        }\r\n        var dtMode = GetValue(config, 'dtMode', undefined);\r\n        if (dtMode !== undefined) {\r\n            this.setDtMode(dtMode);\r\n        }\r\n        commands = commands\r\n            .filter(function (item) {\r\n                var dt = item[0];\r\n                return !isNaN(dt);\r\n            })\r\n            .map(function (item) {\r\n                var dt = item[0];\r\n                if (typeof (dt) === 'string') {\r\n                    item[0] = parseFloat(item[0]);\r\n                }\r\n                return item;\r\n            });\r\n\r\n        if (this.dtMode === 0) {\r\n            commands.sort(function (itemA, itemB) {\r\n                var dtA = itemA[0],\r\n                    dtB = itemB[0];\r\n                return (dtA > dtB) ? 1 :\r\n                    (dtA < dtB) ? -1 : 0;\r\n            });\r\n        }\r\n\r\n        this.commands = commands;\r\n        this.scope = scope;\r\n        return this;\r\n    }\r\n\r\n    start(startAt) {\r\n        if (startAt === undefined) {\r\n            startAt = 0;\r\n        }\r\n\r\n        this.stop();\r\n\r\n        this.index = 0;\r\n        this.state = 1;\r\n        this.nextTime = this.getNextDt(0);\r\n\r\n        this.clock.start(startAt);\r\n        this.update(startAt);\r\n        this.emit('start', this.parent, this);\r\n        return this;\r\n    }\r\n\r\n    pause() {\r\n        this.clock.pause();\r\n        this.emit('pause', this.parent, this);\r\n        return this;\r\n    }\r\n\r\n    resume() {\r\n        this.clock.resume();\r\n        this.emit('resume', this.parent, this);\r\n        return this;\r\n    }\r\n\r\n    stop() {\r\n        this.clock.stop();\r\n        this.state = 0;\r\n        this.emit('stop', this.parent, this);\r\n        return this;\r\n    }\r\n\r\n    seek(time) {\r\n        this.clock.seek(time);\r\n        return this;\r\n    }\r\n\r\n    get isPlaying() {\r\n        return this.clock.isRunning;\r\n    }\r\n\r\n    get completed() {\r\n        return (this.state === 2);\r\n    }\r\n\r\n    get timeScale() {\r\n        return this.clock.timeScale;\r\n    }\r\n\r\n    set timeScale(timeScale) {\r\n        this.clock.timeScale = timeScale;\r\n    }\r\n\r\n    setTimeScale(timeScale) {\r\n        this.timeScale = timeScale;\r\n        return this;\r\n    }\r\n\r\n    get now() {\r\n        return this.clock.now;\r\n    }\r\n\r\n    update(now) {\r\n        if (this.nextTime > now) {\r\n            return this;\r\n        }\r\n        var lastCommandIndex = this.commands.length - 1;\r\n        while (1) {\r\n            // Execute a command\r\n            var item = this.commands[this.index];\r\n            var command = item[1];\r\n            if (!IsArray(command)) { // [dt, fnName, param0, param1, ...]\r\n                command = ArrayCopy(CMD, item, 1);\r\n            }\r\n            RunCommands(command, this.scope);\r\n            this.emit('runcommand', command, this.scope);\r\n            // Execute a command\r\n\r\n            if (this.index === lastCommandIndex) {\r\n                this.complete();\r\n                return this;\r\n            } else {\r\n                // Get next time\r\n                this.index++; // Point to next command\r\n                this.nextTime = this.getNextDt(this.nextTime);\r\n                if (this.nextTime > now) {\r\n                    return this;\r\n                }\r\n                // Get next time\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    complete() {\r\n        this.clock.stop();\r\n        this.state = 2;\r\n        this.emit('complete', this.parent, this);\r\n    }\r\n\r\n    getNextDt(currentDt) {\r\n        var time = this.commands[this.index][0];\r\n        if (this.timeUnit === 1) { // Second mode\r\n            time = time * 1000;\r\n        }\r\n\r\n        if (this.dtMode === 1) {\r\n            time += currentDt;\r\n        }\r\n\r\n        return time;\r\n    }\r\n\r\n    setDtMode(dtMode) {\r\n        if (typeof (dtMode) === 'string') {\r\n            dtMode = DTMODE[dtMode];\r\n        }\r\n        this.dtMode = dtMode;\r\n        return this;\r\n    }\r\n\r\n    setTimeUnit(timeUnit) {\r\n        if (typeof (timeUnit) === 'string') {\r\n            timeUnit = TIMEUNITMODE[timeUnit];\r\n        }\r\n        this.timeUnit = timeUnit;\r\n        return this;\r\n    }\r\n}\r\n\r\nvar CMD = []; // reuse this array\r\n\r\nconst TIMEUNITMODE = {\r\n    ms: 0,\r\n    s: 1,\r\n    sec: 1,\r\n};\r\n\r\nconst DTMODE = {\r\n    abs: 0,\r\n    absolute: 0,\r\n    inc: 1,\r\n    increment: 1\r\n};\r\n\r\nexport default Player;","import Label from '../label/Label.js';\r\nimport DefaultTransitCallbacks from './DefaultTransitCallbacks.js';\r\nimport Player from '../../../plugins/logic/runcommands/tcrp/Player.js';\r\nimport NOOP from '../../../plugins/utils/object/NOOP.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Toast extends Label {\r\n    constructor(scene, config) {\r\n        if (config === undefined) {\r\n            config = {\r\n                text: createDefaultTextObject(scene)\r\n            }\r\n        }\r\n\r\n        super(scene, config);\r\n        this.type = 'rexToast';\r\n\r\n        this.setTransitInTime(GetValue(config, 'duration.in', 200));\r\n        this.setDisplayTime(GetValue(config, 'duration.hold', 1200));\r\n        this.setTransitOutTime(GetValue(config, 'duration.out', 200));\r\n        this.setTransitInCallback(GetValue(config, 'transitIn', TransitionMode.popUp));\r\n        this.setTransitOutCallback(GetValue(config, 'transitOut', TransitionMode.scaleDown));\r\n\r\n        this.player = new Player(this, { dtMode: 1 });\r\n        this.messages = [];\r\n        this.scaleX0 = undefined;\r\n        this.scaleY0 = undefined;\r\n\r\n        this.setVisible(false);\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        //  This Game Object has already been destroyed\r\n        if (!this.scene) {\r\n            return;\r\n        }\r\n\r\n        this.player.destroy();\r\n        this.player = undefined;\r\n        this.messages = undefined;\r\n\r\n        super.destroy(fromScene);\r\n    }\r\n\r\n    setDisplayTime(time) {\r\n        this.displayTime = time;\r\n        return this;\r\n    }\r\n\r\n    setTransitOutTime(time) {\r\n        this.transitOutTime = time;\r\n        return this;\r\n    }\r\n\r\n    setTransitInTime(time) {\r\n        this.transitInTime = time;\r\n        return this;\r\n    }\r\n\r\n    setTransitInCallback(callback) {\r\n        if (typeof (callback) === 'string') {\r\n            callback = TransitionMode[callback];\r\n        }\r\n\r\n        switch (callback) {\r\n            case TransitionMode.popUp:\r\n                callback = DefaultTransitCallbacks.popUp;\r\n                break;\r\n            case TransitionMode.fadeIn:\r\n                callback = DefaultTransitCallbacks.fadeIn;\r\n                break;\r\n        }\r\n\r\n        if (!callback) {\r\n            callback = NOOP;\r\n        }\r\n\r\n        this.transitInCallback = callback;\r\n        // callback = function(gameObject, duration) {}\r\n        return this;\r\n    }\r\n\r\n    setTransitOutCallback(callback) {\r\n        if (typeof (callback) === 'string') {\r\n            callback = TransitionMode[callback];\r\n        }\r\n\r\n        switch (callback) {\r\n            case TransitionMode.scaleDown:\r\n                callback = DefaultTransitCallbacks.scaleDown;\r\n                break;\r\n            case TransitionMode.fadeOut:\r\n                callback = DefaultTransitCallbacks.fadeOut;\r\n                break;\r\n        }\r\n\r\n        if (!callback) {\r\n            callback = NOOP;\r\n        }\r\n\r\n        this.transitOutCallback = callback;\r\n        // callback = function(gameObject, duration) {}\r\n        return this;\r\n    }\r\n\r\n    setScale(scaleX, scaleY) {\r\n        if (scaleY === undefined) {\r\n            scaleY = scaleX;\r\n        }\r\n        // Can override initial scale\r\n        this.scaleX0 = scaleX;\r\n        this.scaleY0 = scaleY;\r\n\r\n        super.setScale(scaleX, scaleY);\r\n        return this;\r\n    }\r\n\r\n    showMessage(callback) {\r\n        // Remember first scaleX, scaleY as initial scale\r\n        if (this.scaleX0 === undefined) {\r\n            this.scaleX0 = this.scaleX;\r\n        }\r\n        if (this.scaleY0 === undefined) {\r\n            this.scaleY0 = this.scaleY;\r\n        }\r\n\r\n        if (callback === undefined) {\r\n            // Try pop up a pendding message\r\n            if (this.messages.length === 0) {\r\n                return this;\r\n            }\r\n            callback = this.messages.shift();\r\n        }\r\n\r\n        if (this.player.isPlaying) {\r\n            // Pend message\r\n            this.messages.push(callback);\r\n            return this;\r\n        }\r\n\r\n        // Recover to initial state\r\n        this\r\n            .setScale(this.scaleX0, this.scaleY0)\r\n            .setVisible(true);\r\n        if (typeof (callback) === 'string') {\r\n            this.setText(callback);\r\n        } else {\r\n            callback(this);\r\n        }\r\n        this.layout();\r\n\r\n        var commands = [\r\n            [ // Transit-in\r\n                0, // time\r\n                [this.transitInCallback, this, this.transitInTime] // [callback, param, ...]\r\n            ],\r\n            [ // Hold\r\n                this.transitInTime,\r\n                [NOOP]\r\n            ],\r\n            [ // Transit-out\r\n                this.displayTime,\r\n                [this.transitOutCallback, this, this.transitOutTime]\r\n            ],\r\n            [ // End\r\n                this.transitOutTime,\r\n                [this.setVisible, false]\r\n            ],\r\n            [ // Complete - show next message\r\n                30, // Add a small delay before complete\r\n                [NOOP]\r\n            ]\r\n        ]\r\n        this.player\r\n            .load(commands, this)\r\n            .once('complete', function () {\r\n                this.showMessage();\r\n            }, this)\r\n            .start();\r\n\r\n        return this;\r\n    }\r\n}\r\n\r\nconst TransitionMode = {\r\n    popUp: 0,\r\n    fadeIn: 1,\r\n    scaleDown: 0,\r\n    fadeOut: 1,\r\n}\r\n\r\nexport default Toast;","var GetShowCallback = function () {\r\n    return function (child, key, sides, reset) {\r\n        if (key !== 'panel') {\r\n            sides.setChildVisible(child, true);\r\n        }\r\n    }\r\n}\r\n\r\nvar GetHideCallback = function () {\r\n    return function (child, key, sides, reset) {\r\n        if (key !== 'panel') {\r\n            sides.setChildVisible(child, false);\r\n        }\r\n    }\r\n}\r\n\r\nexport default {\r\n    show: GetShowCallback,\r\n    hide: GetHideCallback\r\n}","var GetShowCallback = function (duration, alpha) {\r\n    if (alpha === undefined) {\r\n        alpha = 1;\r\n    }\r\n    return function (child, key, sides, reset) {\r\n        if (key !== 'panel') {\r\n            sides.fadeChild(child, ((reset) ? 0 : duration), alpha);\r\n        }\r\n    }\r\n}\r\n\r\nvar GetHideCallback = function (duration, alpha) {\r\n    if (alpha === undefined) {\r\n        alpha = 0;\r\n    }\r\n    return function (child, key, sides, reset) {\r\n        if (key !== 'panel') {\r\n            sides.fadeChild(child, ((reset) ? 0 : duration), alpha);\r\n        }\r\n    }\r\n}\r\n\r\nexport default {\r\n    show: GetShowCallback,\r\n    hide: GetHideCallback\r\n}","var GetCallback = function (duration, ease) {\r\n    return function (child, key, sides, reset) {\r\n        if (key !== 'panel') {\r\n            sides.moveChild(child, ((reset) ? 0 : duration), ease);\r\n        }\r\n    }\r\n}\r\n\r\nexport default {\r\n    show: GetCallback,\r\n    hide: GetCallback\r\n}","var GetCallback = function (duration, ease) {\r\n    return function (child, key, sides, reset) {\r\n        if (key === 'panel') {\r\n            sides.moveChild(child, ((reset) ? 0 : duration), ease);\r\n        }\r\n    }\r\n}\r\n\r\nexport default {\r\n    show: GetCallback,\r\n    hide: GetCallback\r\n}","import VisibleCallbacks from './VisibleCallbacks.js';\r\nimport FadeCallbacks from './FadeCallbacks.js';\r\nimport MoveCallbacks from './MoveCallbacks.js';\r\nimport MovePanelCallbacks from './MovePanelCallbacks.js';\r\nimport NOOP from '../../../../plugins/utils/object/NOOP.js';\r\n\r\nconst DefaultCallbacks = {\r\n    visible: VisibleCallbacks,\r\n    fade: FadeCallbacks,\r\n    move: MoveCallbacks,\r\n    'move-panel': MovePanelCallbacks\r\n}\r\n\r\nvar GetDefaultCallbacks = function (config) {\r\n    var callbackType, callbackParams;\r\n    [callbackType, ...callbackParams] = (typeof (config) === 'string') ? [config] : config;\r\n\r\n    var showCallback, hideCallback;\r\n    if (DefaultCallbacks.hasOwnProperty(callbackType)) {\r\n        showCallback = DefaultCallbacks[callbackType].show.apply(null, callbackParams);\r\n        hideCallback = DefaultCallbacks[callbackType].hide.apply(null, callbackParams);\r\n    } else {\r\n        showCallback = NOOP;\r\n        hideCallback = NOOP;\r\n    }\r\n    return {\r\n        show: showCallback,\r\n        hide: hideCallback\r\n    }\r\n}\r\n\r\nexport default GetDefaultCallbacks;","export default {\r\n    showChild(key, reset) {\r\n        var child = this.sizerChildren[key];\r\n        if (child) {\r\n            this.emit('showchild', child, key, this, reset);\r\n            this.resetChildState(child);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    hideChild(key, reset) {\r\n        var child = this.sizerChildren[key];\r\n        if (child) {\r\n            this.emit('hidechild', child, key, this, reset);\r\n            this.resetChildState(child);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    swapChild(key, reset) {\r\n        if (this.currentChildKey === key) {\r\n            // Do nothing\r\n        } else if ((this.currentChildKey === 'panel') || (key === 'panel')) {\r\n            this.previousChildKey = this.currentChildKey;\r\n            this.currentChildKey = key;\r\n            this.hideChild(this.previousChildKey, reset);\r\n            this.showChild(this.currentChildKey, reset);\r\n        } else { // Swap from current side to another side\r\n            this.swapChild('panel', reset);\r\n            this.swapChild(key, reset);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    showPanel(reset) {\r\n        this.swapChild('panel', reset);\r\n        return this;\r\n    },\r\n\r\n    showLeftSide() {\r\n        this.swapChild('leftSide');\r\n        return this;\r\n    },\r\n\r\n    showRightSide() {\r\n        this.swapChild('rightSide');\r\n        return this;\r\n    },\r\n\r\n    showTopSide() {\r\n        this.swapChild('topSide');\r\n        return this;\r\n    },\r\n\r\n    showBottomSide() {\r\n        this.swapChild('bottomSide');\r\n        return this;\r\n    },\r\n\r\n    hideLeftSide() {\r\n        if (this.currentChildKey == 'leftSide') {\r\n            this.showPanel();\r\n        }\r\n        return this;\r\n    },\r\n\r\n    hideRightSide() {\r\n        if (this.currentChildKey == 'rightSide') {\r\n            this.showPanel();\r\n        }\r\n        return this;\r\n    },\r\n\r\n    hideTopSide() {\r\n        if (this.currentChildKey == 'topSide') {\r\n            this.showPanel();\r\n        }\r\n        return this;\r\n    },\r\n\r\n    hideBottomSide() {\r\n        if (this.currentChildKey == 'bottomSide') {\r\n            this.showPanel();\r\n        }\r\n        return this;\r\n    },\r\n\r\n    toggleLeftSide() {\r\n        var key = (this.currentChildKey !== 'panel') ? 'panel' : 'leftSide';\r\n        this.swapChild(key);\r\n        return this;\r\n    },\r\n\r\n    toggleRightSide() {\r\n        var key = (this.currentChildKey !== 'panel') ? 'panel' : 'rightSide';\r\n        this.swapChild(key);\r\n        return this;\r\n    },\r\n\r\n    toggleTopSide() {\r\n        var key = (this.currentChildKey !== 'panel') ? 'panel' : 'topSide';\r\n        this.swapChild(key);\r\n        return this;\r\n    },\r\n\r\n    toggleBottomSide() {\r\n        var key = (this.currentChildKey !== 'panel') ? 'panel' : 'bottomSide';\r\n        this.swapChild(key);\r\n        return this;\r\n    }\r\n};","import IndexOf from '../../../../plugins/utils/object/IndexOf.js';\r\nimport Container from '../../container/Container.js';\r\n\r\nconst ContainerSetChildVisible = Container.prototype.setChildVisible;\r\n\r\nexport default {\r\n    setChildVisible(child, visible) {\r\n        var key;\r\n        if (typeof (child) === 'string') {\r\n            var key = child;\r\n            child = this.sizerChildren[key];\r\n        } else {\r\n            key = IndexOf(this.sizerChildren, child);\r\n        }\r\n        if (visible === undefined) {\r\n            visible = (this.currentChildKey === key) ? true : false;\r\n        }\r\n        ContainerSetChildVisible.call(this, child, visible);\r\n        return this;\r\n    }\r\n}","import IndexOf from '../../../../plugins/utils/object/IndexOf.js';\r\nimport { WaitComplete } from '../../utils/WaitEvent.js';\r\n\r\nexport default {\r\n    fadeChild(child, duration, alpha) {\r\n        var key;\r\n        if (typeof (child) === 'string') {\r\n            key = child;\r\n            child = this.sizerChildren[key];\r\n        } else {\r\n            key = IndexOf(this.sizerChildren, child);\r\n        }\r\n        if (duration === undefined) {\r\n            duration = 500;\r\n        }\r\n        if (alpha === undefined) {\r\n            alpha = (this.currentChildKey === key) ? 1 : 0;\r\n        }\r\n\r\n        child.fadeIn(duration, { start: child.alpha, end: alpha });\r\n        return this;\r\n    },\r\n\r\n    fadeChildPromise(child, duration, alpha) {\r\n        if (typeof (child) === 'string') {\r\n            child = this.sizerChildren[key];\r\n        }\r\n        this.fadeChild(child, duration, alpha);\r\n\r\n        if (child._fade) {\r\n            return WaitComplete(child._fade);\r\n        } else {\r\n            return Promise.resolve();\r\n        }\r\n    }\r\n}","import IndexOf from '../../../../plugins/utils/object/IndexOf.js';\r\nimport { GetDisplayWidth, GetDisplayHeight } from '../../../../plugins/utils/size/GetDisplaySize.js';\r\nimport { WaitComplete } from '../../utils/WaitEvent.js';\r\n\r\nexport default {\r\n    moveChild(child, duration, ease, distance) {\r\n        var key;\r\n        if (typeof (child) === 'string') {\r\n            key = child;\r\n            child = this.sizerChildren[key];\r\n        } else {\r\n            key = IndexOf(this.sizerChildren, child);\r\n        }\r\n\r\n        if (duration === undefined) {\r\n            duration = 500;\r\n        }\r\n\r\n        var isShownChild = (this.currentChildKey === key);\r\n\r\n        if (distance === undefined) {\r\n            switch (key) {\r\n                case 'leftSide':\r\n                case 'rightSide':\r\n                    distance = GetDisplayWidth(child);\r\n                    break;\r\n                case 'topSide':\r\n                case 'bottomSide':\r\n                    distance = GetDisplayHeight(child);\r\n                    break;\r\n                default: // 'panel'\r\n                    if (isShownChild) { // Show panel\r\n                        switch (this.previousChildKey) {\r\n                            case 'leftSide':\r\n                            case 'rightSide':\r\n                                distance = GetDisplayWidth(this.sizerChildren[this.previousChildKey]);\r\n                                break;\r\n                            case 'topSide':\r\n                            case 'bottomSide':\r\n                                distance = GetDisplayHeight(this.sizerChildren[this.previousChildKey]);\r\n                                break;\r\n                            default:\r\n                                distance = 0;\r\n                                break;\r\n                        }\r\n                    } else { // Hide panel\r\n                        switch (this.currentChildKey) {\r\n                            case 'leftSide':\r\n                            case 'rightSide':\r\n                                distance = GetDisplayWidth(this.sizerChildren[this.currentChildKey]);\r\n                                break;\r\n                            case 'topSide':\r\n                            case 'bottomSide':\r\n                                distance = GetDisplayHeight(this.sizerChildren[this.currentChildKey]);\r\n                                break;\r\n                            default:\r\n                                distance = 0;\r\n                                break;\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n\r\n        var moveLeft, moveRight, moveUp, moveDown;\r\n        if (isShownChild) {\r\n            switch (key) {\r\n                case 'panel':\r\n                    switch (this.previousChildKey) {\r\n                        case 'leftSide':\r\n                            moveLeft = true;\r\n                            break;\r\n                        case 'rightSide':\r\n                            moveRight = true;\r\n                            break;\r\n                        case 'topSide':\r\n                            moveUp = true;\r\n                            break;\r\n                        case 'bottomSide':\r\n                            moveDown = true;\r\n                            break;\r\n                    }\r\n                    break;\r\n                case 'leftSide':\r\n                    moveRight = true;\r\n                    break;\r\n                case 'rightSide':\r\n                    moveLeft = true;\r\n                    break;\r\n                case 'topSide':\r\n                    moveDown = true;\r\n                    break;\r\n                case 'bottomSide':\r\n                    moveUp = true;\r\n                    break;\r\n            }\r\n        } else { // Hide\r\n            switch (key) {\r\n                case 'panel':\r\n                    switch (this.currentChildKey) {\r\n                        case 'leftSide':\r\n                            moveRight = true;\r\n                            break;\r\n                        case 'rightSide':\r\n                            moveLeft = true;\r\n                            break;\r\n                        case 'topSide':\r\n                            moveDown = true;\r\n                            break;\r\n                        case 'bottomSide':\r\n                            moveUp = true;\r\n                            break;\r\n                    }\r\n                    break;\r\n                case 'leftSide':\r\n                    moveLeft = true;\r\n                    break;\r\n                case 'rightSide':\r\n                    moveRight = true;\r\n                    break;\r\n                case 'topSide':\r\n                    moveUp = true;\r\n                    break;\r\n                case 'bottomSide':\r\n                    moveDown = true;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        if (moveLeft) {\r\n            child.moveTo(duration, `-=${distance}`, undefined, ease);\r\n        } else if (moveRight) {\r\n            child.moveTo(duration, `+=${distance}`, undefined, ease);\r\n        } else if (moveUp) {\r\n            child.moveTo(duration, undefined, `-=${distance}`, ease);\r\n        } else if (moveDown) {\r\n            child.moveTo(duration, undefined, `+=${distance}`, ease);\r\n        } else {\r\n            child.moveTo(0);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    moveChildPromise(child, duration, ease, distance) {\r\n        if (typeof (child) === 'string') {\r\n            child = this.sizerChildren[key];\r\n        }\r\n        this.moveChild(child, duration, ease, distance);\r\n\r\n        if (child._easeMove) {\r\n            return WaitComplete(child._easeMove);\r\n        } else {\r\n            return Promise.resolve();\r\n        }\r\n    }\r\n}","import Visible from './Visible.js';\r\nimport Fade from './Fade.js';\r\nimport Move from './Move.js';\r\n\r\nvar methods = {};\r\n\r\nObject.assign(\r\n    methods,\r\n    Visible,\r\n    Fade,\r\n    Move\r\n);\r\n\r\nexport default methods;","import OverlapSizer from '../overlapsizer/OverlapSizer.js';\r\nimport IsFunction from '../../../plugins/utils/object/IsFunction.js';\r\nimport GetDefaultCallbacks from './defaultcallbacks/GetDefaultCallbacks.js';\r\nimport ShowChildMethods from './ShowChildMethods.js';\r\nimport ChildBehaviorMethods from './childbehaviors/index.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Sides extends OverlapSizer {\r\n    constructor(scene, config) {\r\n        super(scene, config);\r\n        this.type = 'rexSides';\r\n        this.childrenMap = this.sizerChildren;\r\n        this.previousChildKey = undefined;\r\n        this.currentChildKey = undefined;\r\n\r\n        // Callbacks\r\n        var showChildCallback = GetValue(config, 'showChildCallback', undefined);\r\n        if (showChildCallback) { // Has showChildCallback, and hideChildCallback\r\n            if (IsFunction(showChildCallback)) { // Custom callbacks\r\n                var showChildCallbackScope = GetValue(config, 'showChildCallbackScope', undefined);\r\n                this.on('showchild', showChildCallback, showChildCallbackScope);\r\n\r\n                var hideChildCallback = GetValue(config, 'hideChildCallback', undefined);\r\n                var hideChildCallbackScope = GetValue(config, 'hideChildCallbackScope', undefined);\r\n                this.on('hidechild', hideChildCallback, hideChildCallbackScope);\r\n            } else { // Default callbacks\r\n                var defaultCallbacks = GetDefaultCallbacks(showChildCallback);\r\n                this.on('showchild', defaultCallbacks.show);\r\n                this.on('hidechild', defaultCallbacks.hide);\r\n            }\r\n        }\r\n\r\n        // Add elements\r\n        var background = GetValue(config, 'background', undefined);\r\n        var panel = GetValue(config, 'panel', undefined);\r\n        var leftSide = GetValue(config, 'leftSide', undefined);\r\n        var rightSide = GetValue(config, 'rightSide', undefined);\r\n        var topSide = GetValue(config, 'topSide', undefined);\r\n        var bottomSide = GetValue(config, 'bottomSide', undefined);\r\n\r\n        if (background) {\r\n            this.addBackground(background);\r\n        }\r\n        if (panel) {\r\n            this.add(panel, 'panel', 'center', 0, true);\r\n        }\r\n        if (leftSide) {\r\n            var expand = GetValue(config, 'expand.left', true);\r\n            this.add(leftSide, 'leftSide', 'left-top', 0, { height: expand });\r\n        }\r\n        if (rightSide) {\r\n            var expand = GetValue(config, 'expand.right', true);\r\n            this.add(rightSide, 'rightSide', 'right-top', 0, { height: expand });\r\n        }\r\n        if (topSide) {\r\n            var expand = GetValue(config, 'expand.top', true);\r\n            this.add(topSide, 'topSide', 'left-top', 0, { width: expand });\r\n        }\r\n        if (bottomSide) {\r\n            var expand = GetValue(config, 'expand.bottom', true);\r\n            this.add(bottomSide, 'bottomSide', 'left-bottom', 0, { width: expand });\r\n        }\r\n    }\r\n\r\n    reset() {\r\n        this.previousChildKey = undefined;\r\n        this.currentChildKey = 'panel';\r\n        this.showChild('panel', true);\r\n        this.hideChild('leftSide', true);\r\n        this.hideChild('rightSide', true);\r\n        this.hideChild('topSide', true);\r\n        this.hideChild('bottomSide', true);\r\n        return this;\r\n    }\r\n}\r\n\r\nObject.assign(\r\n    Sides.prototype,\r\n    ShowChildMethods,\r\n    ChildBehaviorMethods\r\n);\r\n\r\nexport default Sides;","import ComponentBase from '../../utils/componentbase/ComponentBase.js';\r\nimport RequestDrag from '../../utils/input/RequestDrag.js'\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst DistanceBetween = Phaser.Math.Distance.Between;\r\nconst RotateAroundDistance = Phaser.Math.RotateAroundDistance;\r\n\r\nclass Drag extends ComponentBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, { eventEmitter: false });\r\n        // No event emitter\r\n        // this.parent = gameObject;\r\n\r\n        this._enable = undefined;\r\n        gameObject.setInteractive(GetValue(config, \"inputConfig\", undefined));\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        this.pointer = undefined;\r\n        this.setEnable(GetValue(o, \"enable\", true));\r\n        this.setAxisMode(GetValue(o, \"axis\", 0));\r\n        this.setAxisRotation(GetValue(o, \"rotation\", 0));\r\n        return this;\r\n    }\r\n\r\n    toJSON() {\r\n        return {\r\n            enable: this.enable,\r\n            axis: this.axisMode,\r\n            rotation: this.axisRotation\r\n        };\r\n    }\r\n\r\n    boot() {\r\n        var gameObject = this.parent;\r\n        gameObject.on('dragstart', this.onDragStart, this);\r\n        gameObject.on('drag', this.onDrag, this);\r\n        gameObject.on('dragend', this.onDragEnd, this);\r\n    }\r\n\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        // GameObject events will be removed when this gameObject destroyed \r\n        // this.parent.on('dragstart', this.onDragStart, this);\r\n        // this.parent.on('drag', this.onDrag, this);\r\n        // this.parent.on('dragend', this.onDragEnd, this);\r\n        this.pointer = undefined;\r\n\r\n        super.shutdown(fromScene);\r\n    }\r\n\r\n    get enable() {\r\n        return this._enable;\r\n    }\r\n\r\n    set enable(e) {\r\n        if (this._enable === e) {\r\n            return;\r\n        }\r\n\r\n        if (!e) {\r\n            this.dragend();\r\n        }\r\n        this._enable = e;\r\n        this.scene.input.setDraggable(this.parent, e);\r\n        return this;\r\n    }\r\n\r\n    setEnable(e) {\r\n        if (e === undefined) {\r\n            e = true;\r\n        }\r\n\r\n        this.enable = e;\r\n        return this;\r\n    }\r\n\r\n    toggleEnable() {\r\n        this.setEnable(!this.enable);\r\n        return this;\r\n    }\r\n\r\n    setAxisMode(m) {\r\n        if (typeof (m) === 'string') {\r\n            m = DIRECTIONNODE[m];\r\n        }\r\n        this.axisMode = m;\r\n        return this;\r\n    }\r\n\r\n    setAxisRotation(a) {\r\n        this.axisRotation = a;\r\n        return this;\r\n    }\r\n\r\n    drag() {\r\n        RequestDrag(this.parent);\r\n        return this;\r\n    }\r\n\r\n    dragend() {\r\n        if (!this.isDragging) {\r\n            return;\r\n        }\r\n        this.scene.input.setDragState(this.pointer, 5);\r\n        return this;\r\n    }\r\n\r\n    onDragStart(pointer, dragX, dragY) {\r\n        if (this.isDragging) {\r\n            return;\r\n        }\r\n        this.pointer = pointer;\r\n    }\r\n\r\n    onDrag(pointer, dragX, dragY) {\r\n        if (this.pointer !== pointer) {\r\n            return;\r\n        }\r\n        var gameObject = this.parent;\r\n        if (this.axisMode === 0) {\r\n            gameObject.x = dragX;\r\n            gameObject.y = dragY;\r\n        } else if (this.axisRotation === 0) {\r\n            if (this.axisMode === 1) {\r\n                gameObject.x = dragX;\r\n            } else if (this.axisMode === 2) {\r\n                gameObject.y = dragY;\r\n            }\r\n        } else {\r\n            var dist;\r\n            var p1 = { x: dragX, y: dragY };\r\n            dist = DistanceBetween(p1.x, p1.y, gameObject.x, gameObject.y);\r\n            p1 = RotateAroundDistance(p1, gameObject.x, gameObject.y, -this.axisRotation, dist);\r\n\r\n            if (this.axisMode === 1) {\r\n                p1.y = gameObject.y;\r\n            } else if (this.axisMode === 2) {\r\n                p1.x = gameObject.x;\r\n            }\r\n            dist = DistanceBetween(p1.x, p1.y, gameObject.x, gameObject.y);\r\n            p1 = RotateAroundDistance(p1, gameObject.x, gameObject.y, this.axisRotation, dist);\r\n\r\n            gameObject.x = p1.x;\r\n            gameObject.y = p1.y;\r\n        }\r\n\r\n    }\r\n\r\n    onDragEnd(pointer, dragX, dragY, dropped) {\r\n        if (this.pointer !== pointer) {\r\n            return;\r\n        }\r\n        this.pointer = undefined;\r\n    }\r\n\r\n    get isDragging() {\r\n        return (this.pointer !== undefined);\r\n    }\r\n}\r\n\r\nconst DIRECTIONNODE = {\r\n    'both': 0,\r\n    'h&v': 0,\r\n    'x&y': 0,\r\n    'horizontal': 1,\r\n    'h': 1,\r\n    'x': 1,\r\n    'vertical': 2,\r\n    'v': 2,\r\n    'y': 2\r\n};\r\n\r\n\r\nexport default Drag;","const IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar GetFrameUpdatingCallback = function (key, frame, gameObject) {\r\n    var callback;\r\n    if (key === undefined) {\r\n        key = gameObject.texture.key;\r\n        frame = gameObject.frame.name;\r\n    } else if (IsPlainObject(key)) {\r\n        var config = key;\r\n        key = GetValue(config, 'key', gameObject.texture.key);\r\n        frame = GetValue(config, 'frame', gameObject.frame.name);\r\n    } else if (typeof (key) === 'string') {\r\n    } else {\r\n        callback = key;\r\n    }\r\n\r\n    if (callback === undefined) {\r\n        callback = function (gameObject) {\r\n            gameObject.setTexture(key, frame);\r\n        }\r\n    }\r\n    return callback;\r\n}\r\n\r\nexport default GetFrameUpdatingCallback;","import EaseValueTaskBase from '../../utils/componentbase/tweentask/EaseValueTaskBase.js';\r\nimport GetFaceUpdatingCallback from './GetFaceUpdatingCallback.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst GetAdvancedValue = Phaser.Utils.Objects.GetAdvancedValue;\r\nconst Linear = Phaser.Math.Linear;\r\n\r\nclass Flip extends EaseValueTaskBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n        // this.timer\r\n\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        super.resetFromJSON(o);\r\n        this.setDuration(GetAdvancedValue(o, 'duration', 500));\r\n        this.setEase(GetValue(o, 'ease', 'Sine'));\r\n\r\n        this.setOrientation(GetValue(o, 'orientation', 0));\r\n        this.setFrontFace(GetValue(o, 'front', undefined));\r\n        this.setBackFace(GetValue(o, 'back', undefined));\r\n        this.setFace(GetValue(o, 'face', 0));\r\n        return this;\r\n    }\r\n\r\n    setOrientation(orientation) {\r\n        if (typeof (orientation) === 'string') {\r\n            orientation = ORIENTATIONMODE[orientation];\r\n        }\r\n        this.orientation = orientation;\r\n        return this;\r\n    }\r\n\r\n    get face() {\r\n        return this._face;\r\n    }\r\n\r\n    set face(face) {\r\n        if (typeof (face) === 'string') {\r\n            face = FACEMODE[face];\r\n        }\r\n        this._face = face;\r\n        if ((face === 0) && this.frontFaceCallback) {\r\n            this.frontFaceCallback(this.parent);\r\n        } else if ((face === 1) && this.backFaceCallback) {\r\n            this.backFaceCallback(this.parent);\r\n        }\r\n    }\r\n\r\n    setFace(face) {\r\n        this.face = face;\r\n        return this;\r\n    }\r\n\r\n    toggleFace() {\r\n        var newFace = (this.face === 0) ? 1 : 0;\r\n        this.setFace(newFace);\r\n        return this;\r\n    }\r\n\r\n    setFrontFace(key, frame) {\r\n        this.frontFaceCallback = GetFaceUpdatingCallback(key, frame, this.parent);\r\n        return this;\r\n    }\r\n\r\n    setBackFace(key, frame) {\r\n        this.backFaceCallback = GetFaceUpdatingCallback(key, frame, this.parent);\r\n        return this;\r\n    }\r\n\r\n    start() {\r\n        if (this.timer.isRunning) {\r\n            return this;\r\n        }\r\n\r\n        this.timer\r\n            .setDelay(this.delay)\r\n            .setDuration(this.duration / 2)\r\n            .setRepeat(1);  // 2 times\r\n\r\n        super.start();\r\n        return this;\r\n    }\r\n\r\n    flip(duration) {\r\n        if (this.isRunning) {\r\n            return this;\r\n        }\r\n        if (duration !== undefined) {\r\n            this.setDuration(duration);\r\n        }\r\n        this.start();\r\n        return this;\r\n    }\r\n\r\n    updateGameObject(gameObject, timer) {\r\n        if (timer.justRestart) {\r\n            this.toggleFace();\r\n        }\r\n\r\n        var t = timer.t;\r\n        if (timer.isOddIteration) {  // Yoyo\r\n            t = 1 - t;\r\n        }\r\n        t = this.easeFn(t);\r\n\r\n        var value = Linear(1, 0, t);\r\n        if (this.orientation === 0) {\r\n            gameObject.scaleX = value;\r\n        } else {\r\n            gameObject.scaleY = value;\r\n        }\r\n    }\r\n}\r\n\r\nconst ORIENTATIONMODE = {\r\n    x: 0,\r\n    horizontal: 0,\r\n    y: 1,\r\n    vertical: 1,\r\n}\r\n\r\nconst FACEMODE = {\r\n    front: 0,\r\n    back: 1,\r\n}\r\n\r\nexport default Flip;","const Vector3 = Phaser.Math.Vector3;\r\nconst Matrix4 = Phaser.Math.Matrix4;\r\n\r\nvar tempPosition = new Vector3();\r\nvar tempRotation = new Vector3();\r\nvar tempMatrix = new Matrix4();\r\n\r\nvar TransformVerts = function (mesh, x, y, z, rotateX, rotateY, rotateZ) {\r\n    if (x === undefined) { x = 0; }\r\n    if (y === undefined) { y = 0; }\r\n    if (z === undefined) { z = 0; }\r\n    if (rotateX === undefined) { rotateX = 0; }\r\n    if (rotateY === undefined) { rotateY = 0; }\r\n    if (rotateZ === undefined) { rotateZ = 0; }\r\n\r\n    tempPosition.set(x, y, z);\r\n    tempRotation.set(rotateX, rotateY, rotateZ);\r\n    tempMatrix.fromRotationXYTranslation(tempRotation, tempPosition, true);\r\n\r\n    for (var i = 0, cnt = mesh.vertices.length; i < cnt; i++) {\r\n        mesh.vertices[i].transformMat4(tempMatrix);\r\n    }\r\n}\r\n\r\nexport default TransformVerts;","import TransformVerts from '../utils/TransformVerts';\r\n\r\nconst Mesh = Phaser.GameObjects.Mesh;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst GenerateGridVerts = Phaser.Geom.Mesh.GenerateGridVerts;\r\nconst RadToDeg = Phaser.Math.RadToDeg;\r\nconst DegToRad = Phaser.Math.DegToRad;\r\n\r\nconst FOV = 45;\r\nconst PanZ = 1 + (1 / Math.sin(DegToRad(FOV)));\r\n\r\nclass Image extends Mesh {\r\n    constructor(scene, x, y, key, frame, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            key = GetValue(config, 'key', null);\r\n            frame = GetValue(config, 'frame', null);\r\n        }\r\n\r\n        super(scene, x, y, key, frame);\r\n        this.type = 'rexPerspectiveImage';\r\n        this.setSizeToFrame();\r\n\r\n        this.resetPerspective();\r\n        this.panZ(PanZ);\r\n        this.hideCCW = GetValue(config, 'hideCCW', true);\r\n\r\n        var gridWidth = GetValue(config, 'gridWidth', 32);\r\n        var gridHeight = GetValue(config, 'gridHeight', gridWidth);\r\n        this.resetVerts(gridWidth, gridHeight);\r\n    }\r\n\r\n    resetPerspective() {\r\n        this.setPerspective(this.width, this.height, FOV);\r\n        return this;\r\n    }\r\n\r\n    resetVerts(gridWidth, gridHeight) {\r\n        if (gridWidth !== undefined) {\r\n            this.gridWidth = gridWidth;\r\n        }\r\n        if (gridHeight !== undefined) {\r\n            this.gridHeight = gridHeight;\r\n        }\r\n\r\n        // Clear faces and vertices\r\n        this.clear();\r\n        this.dirtyCache[9] = -1;\r\n        if ((this.width === 0) || (this.height === 0)) {\r\n            return this;\r\n        }\r\n\r\n        // Generate faces and vertices\r\n        var frameWidth = this.frame.cutWidth,\r\n            frameHeight = this.frame.cutHeight;\r\n        GenerateGridVerts({\r\n            mesh: this,\r\n            texture: this.texture.key, frame: this.frame.name,\r\n\r\n            width: frameWidth / this.height,\r\n            height: frameHeight / this.height,\r\n\r\n            widthSegments: Math.ceil(frameWidth / this.gridWidth),\r\n            heightSegments: Math.ceil(frameHeight / this.gridHeight),\r\n            flipY: this.frame.source.isRenderTexture\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    syncSize() {\r\n        this.setSizeToFrame();  // Reset size\r\n        this.resetPerspective();  // Reset perspective\r\n        this.resetVerts();  // Reset verts\r\n        return this;\r\n    }\r\n\r\n    get rotationX() {\r\n        return this.modelRotation.x;\r\n    }\r\n\r\n    set rotationX(value) {\r\n        this.modelRotation.x = value;\r\n    }\r\n\r\n    get angleX() {\r\n        return RadToDeg(this.rotationX);\r\n    }\r\n\r\n    set angleX(value) {\r\n        this.rotationX = DegToRad(value);\r\n    }\r\n\r\n    get rotationY() {\r\n        return this.modelRotation.y;\r\n    }\r\n\r\n    set rotationY(value) {\r\n        this.modelRotation.y = value;\r\n    }\r\n\r\n    get angleY() {\r\n        return RadToDeg(this.rotationY);\r\n    }\r\n\r\n    set angleY(value) {\r\n        this.rotationY = DegToRad(value);\r\n    }\r\n\r\n    get rotationZ() {\r\n        return this.modelRotation.z;\r\n    }\r\n\r\n    set rotationZ(value) {\r\n        this.modelRotation.z = value;\r\n    }\r\n\r\n    get angleZ() {\r\n        return RadToDeg(this.rotationZ);\r\n    }\r\n\r\n    set angleZ(value) {\r\n        this.rotationZ = DegToRad(value);\r\n    }\r\n\r\n    transformVerts(x, y, z, rotateX, rotateY, rotateZ) {\r\n        TransformVerts(this, x, y, z, rotateX, rotateY, rotateZ);\r\n        return this;\r\n    }\r\n\r\n    forceUpdate() {\r\n        this.dirtyCache[10] = 1;\r\n        return this;\r\n    }\r\n    \r\n    get tint() {\r\n        if (this.vertices.length === 0) {\r\n            return 0xffffff;\r\n        } else {\r\n            return this.vertices[0].color;\r\n        }\r\n    }\r\n\r\n    set tint(value) {\r\n        var vertices = this.vertices;\r\n        for (var i = 0, cnt = vertices.length; i < cnt; i++) {\r\n            vertices[i].color = value;\r\n        }\r\n    }\r\n\r\n    setTint(color) {\r\n        this.tint = color;\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default Image;","import Image from '../image/Image.js';\r\n\r\nconst RT = Phaser.GameObjects.RenderTexture;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass RenderTexture extends Image {\r\n    constructor(scene, x, y, width, height, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            width = GetValue(config, 'width', 32);\r\n            height = GetValue(config, 'height', 32);\r\n        }\r\n\r\n        // render-texture -> perspective-image\r\n        var rt = (new RT(scene, x, y, width, height))\r\n            .setOrigin(0.5);\r\n\r\n        super(scene, x, y, rt.texture.key, null, config);\r\n        this.type = 'rexPerspectiveRenderTexture';\r\n        this.rt = rt;\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        super.destroy(fromScene);\r\n\r\n        this.rt.destroy();\r\n        this.rt = null;\r\n    }\r\n}\r\n\r\nexport default RenderTexture;","import PerspectiveImage from '../image/Image.js';\r\n\r\nconst AnimationState = Phaser.Animations.AnimationState;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Sprite extends PerspectiveImage {\r\n    constructor(scene, x, y, key, frame, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            key = GetValue(config, 'key', null);\r\n            frame = GetValue(config, 'frame', null);\r\n        }\r\n\r\n        super(scene, x, y, key, frame, config);\r\n        this.type = 'rexPerspectiveSprite';\r\n        this.anims = new AnimationState(this);\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        this.anims.destroy();\r\n        this.anims = undefined;\r\n        super.destroy(fromScene);\r\n    }\r\n\r\n    preUpdate(time, delta) {\r\n        var prevFrame = this.anims.currentFrame;\r\n        this.anims.update(time, delta);\r\n        if (this.anims.currentFrame !== prevFrame) {\r\n            this.syncSize();\r\n        }\r\n\r\n        super.preUpdate(time, delta);\r\n    }\r\n\r\n    play(key, ignoreIfPlaying, startFrame) {\r\n        return this.anims.play(key, ignoreIfPlaying, startFrame);\r\n    }\r\n\r\n    playReverse(key, ignoreIfPlaying) {\r\n        return this.anims.playReverse(key, ignoreIfPlaying);\r\n    }\r\n\r\n    playAfterDelay(key, delay) {\r\n        return this.anims.playAfterDelay(key, delay);\r\n    }\r\n\r\n    playAfterRepeat(key, repeatCount) {\r\n        return this.anims.playAfterRepeat(key, repeatCount);\r\n    }\r\n\r\n    chain(key) {\r\n        return this.anims.chain(key);\r\n    }\r\n\r\n    stop() {\r\n        return this.anims.stop();\r\n    }\r\n\r\n    stopAfterDelay(delay) {\r\n        return this.anims.stopAfterDelay(delay);\r\n    }\r\n\r\n    stopAfterRepeat(repeatCount) {\r\n        return this.anims.stopAfterRepeat(repeatCount);\r\n    }\r\n\r\n    stopOnFrame(frame) {\r\n        return this.anims.stopOnFrame(frame);\r\n    }\r\n}\r\n\r\nexport default Sprite;","import Container from '../../../containerlite/ContainerLite.js';\r\nimport ForEachFace from './ForEachFace.js';\r\n\r\nconst RadToDeg = Phaser.Math.RadToDeg;\r\nconst DegToRad = Phaser.Math.DegToRad;\r\n\r\nclass FaceContainer extends Container {\r\n    constructor(scene, x, y, width, height, faces) {\r\n        super(scene, x, y, width, height);\r\n        this.faces = faces;  // Face Dictionary, or array\r\n\r\n        ForEachFace(faces, function (face) {\r\n            face.setPosition(x, y);\r\n            this.add(face);\r\n        }, this, true);\r\n    }\r\n\r\n    // Override\r\n    get rotationX() {\r\n        return 0;\r\n    }\r\n\r\n    // Override\r\n    set rotationX(value) {\r\n        // rad\r\n    }\r\n\r\n    get angleX() {\r\n        return RadToDeg(this.rotationX);\r\n    }\r\n\r\n    set angleX(value) {\r\n        this.rotationX = DegToRad(value);\r\n    }\r\n\r\n    // Override\r\n    get rotationY() {\r\n        return 0;\r\n    }\r\n\r\n    // Override\r\n    set rotationY(value) {\r\n        // rad\r\n    }\r\n\r\n    get angleY() {\r\n        return RadToDeg(this.rotationY);\r\n    }\r\n\r\n    set angleY(value) {\r\n        this.rotationY = DegToRad(value);\r\n    }\r\n\r\n    // Override\r\n    get rotationZ() {\r\n        return 0;\r\n    }\r\n\r\n    // Override\r\n    set rotationZ(value) {\r\n        // rad\r\n    }\r\n\r\n    get angleZ() {\r\n        return RadToDeg(this.rotationZ);\r\n    }\r\n\r\n    set angleZ(value) {\r\n        this.rotationZ = DegToRad(value);\r\n    }\r\n\r\n    setDebug(graphic, callback) {\r\n        ForEachFace(this.faces, function (face) {\r\n            face.setDebug(graphic, callback);\r\n        }, null, true);\r\n        return this;\r\n    }\r\n\r\n    panX(v) {\r\n        ForEachFace(this.faces, function (face) {\r\n            face.panX(v);\r\n        }, null, true);\r\n        return this;\r\n    }\r\n\r\n    panY(v) {\r\n        ForEachFace(this.faces, function (face) {\r\n            face.panY(v);\r\n        }, null, true);\r\n        return this;\r\n    }\r\n\r\n    panZ(v) {\r\n        ForEachFace(this.faces, function (face) {\r\n            face.panZ(v);\r\n        }, null, true);\r\n        return this;\r\n    }\r\n\r\n    transformVerts(x, y, z, rotateX, rotateY, rotateZ) {\r\n        ForEachFace(this.faces, function (face) {\r\n            face.transformVerts(x, y, z, rotateX, rotateY, rotateZ);\r\n        }, null, true);\r\n        return this;\r\n    }\r\n\r\n    forEachFace(callback, scope, ignoreInvalid) {\r\n        ForEachFace(this.faces, callback, scope, ignoreInvalid);\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nexport default FaceContainer;","import Image from '../image/Image.js';\r\nimport RenderTexture from '../rendertexture/RenderTexture.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst DefaultImageConfig = { key: '__WHITE' };\r\nconst ClassMap = {\r\n    image: Image,\r\n    rendertexture: RenderTexture\r\n}\r\n\r\nvar CreatePerspectiveObject = function (scene, config) {\r\n    if (config === undefined) {\r\n        config = DefaultImageConfig;\r\n    }\r\n\r\n    var perspectiveObject;\r\n    if (IsPlainObject(config)) {\r\n        if (!config.hasOwnProperty('type')) {\r\n            if (config.hasOwnProperty('key')) {\r\n                config.type = 'image';\r\n            } else if (config.hasOwnProperty('width')) {\r\n                config.type = 'rendertexture';\r\n            }\r\n        }\r\n\r\n        perspectiveObject = new (ClassMap[config.type])(scene, config);\r\n        scene.add.existing(perspectiveObject);\r\n    } else {\r\n        perspectiveObject = config;\r\n    }\r\n\r\n    return perspectiveObject;\r\n}\r\n\r\nexport default CreatePerspectiveObject;","const DegToRad = Phaser.Math.DegToRad;\r\n\r\nconst RAD180 = DegToRad(180);\r\n\r\nvar LayoutFaces = function (parent, faces) {\r\n    var backFace = faces.back;\r\n    if (backFace) {\r\n        if (parent.orientation === 0) { // Flip around Y\r\n            backFace.transformVerts(0, 0, 0, 0, RAD180, 0);\r\n        } else { // Flip around X\r\n            backFace.transformVerts(0, 0, 0, RAD180, 0, 0);\r\n        }\r\n    }\r\n}\r\n\r\nexport default LayoutFaces;","import EaseValueTaskBase from '../../../../utils/componentbase/tweentask/EaseValueTaskBase.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst Linear = Phaser.Math.Linear;\r\n\r\nclass Flip extends EaseValueTaskBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n        // this.timer\r\n\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        super.resetFromJSON(o);\r\n        this.setEase(GetValue(o, 'ease', 'Cubic'));\r\n\r\n        this.setFrontToBackDirection(GetValue(o, 'frontToBack', 0));\r\n        this.setBackToFrontDirection(GetValue(o, 'backToFront', 1));\r\n        return this;\r\n    }\r\n\r\n    setFrontToBackDirection(direction) {\r\n        if (typeof (direction) === 'string') {\r\n            direction = DIRMODE[direction];\r\n        }\r\n        this.endAngleFB = (direction === 0) ? 180 : -180;\r\n        return this;\r\n    }\r\n\r\n    setBackToFrontDirection(direction) {\r\n        if (typeof (direction) === 'string') {\r\n            direction = DIRMODE[direction];\r\n        }\r\n        this.endAngleBF = (direction === 0) ? -180 : 180;\r\n        return this;\r\n    }\r\n\r\n    start() {\r\n        if (this.timer.isRunning) {\r\n            return this;\r\n        }\r\n\r\n        this.timer\r\n            .setDelay(this.delay)\r\n            .setDuration(this.duration);\r\n\r\n        var gameObject = this.parent;\r\n        if (gameObject.face === 0) {  // isFrontToBack\r\n            this.startAngle = 0\r\n            this.endAngle = this.endAngleFB;\r\n        } else {\r\n            this.startAngle = this.endAngleBF\r\n            this.endAngle = 0;\r\n        }\r\n\r\n        super.start();\r\n        return this;\r\n    }\r\n\r\n    flip(duration) {\r\n        if (this.isRunning) {\r\n            return this;\r\n        }\r\n        if (duration !== undefined) {\r\n            this.setDuration(duration);\r\n        }\r\n        this.start();\r\n\r\n        // Set face index\r\n        var faceIndex = this.parent.currentFaceIndex;\r\n        this.parent.currentFaceIndex = (faceIndex === 0) ? 1 : 0;\r\n        return this;\r\n    }\r\n\r\n    flipRight(duration) {\r\n        if (this.parent.currentFaceIndex === 0) { // Front to back\r\n            this.setFrontToBackDirection(0);\r\n        } else {  // Back to front\r\n            this.setBackToFrontDirection(0);\r\n        }\r\n        this.flip(duration);\r\n        return this;\r\n    }\r\n\r\n    flipLeft(duration) {\r\n        if (this.parent.currentFaceIndex === 0) { // Front to back\r\n            this.setFrontToBackDirection(1);\r\n        } else {  // Back to front\r\n            this.setBackToFrontDirection(1);\r\n        }\r\n        this.flip(duration);\r\n        return this;\r\n    }\r\n\r\n    updateGameObject(gameObject, timer) {\r\n        var t = this.easeFn(timer.t);\r\n\r\n        var value = Linear(this.startAngle, this.endAngle, t);\r\n        if (gameObject.orientation === 0) {\r\n            gameObject.angleY = value;\r\n        } else {\r\n            gameObject.angleX = value;\r\n        }\r\n    }\r\n}\r\n\r\nconst DIRMODE = {\r\n    'right': 0,\r\n    'left-to-right': 0,\r\n    'left': 1,\r\n    'right-to-left': 1\r\n}\r\n\r\nexport default Flip;","import FaceContainer from '../utils/FaceContainer.js';\r\nimport CreateFaces from '../utils/CreateFaces.js';\r\nimport ForEachFace from '../utils/ForEachFace.js';\r\nimport LayoutFaces from './LayoutFaces.js';\r\nimport Flip from './Flip.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nconst FaceNames = ['back', 'front'];\r\n\r\nclass Card extends FaceContainer {\r\n    constructor(scene, x, y, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n        }\r\n\r\n        var faces = CreateFaces(scene, config, FaceNames);\r\n        var backFace = faces.back;\r\n        var frontFace = faces.front;\r\n\r\n        var width = GetValue(config, 'width');\r\n        var height = GetValue(config, 'height');\r\n        if ((width === undefined) || (height === undefined)) {\r\n            if (width === undefined) {\r\n                var frontFaceWidth = (frontFace) ? frontFace.width : 0;\r\n                var backFaceWidth = (backFace) ? backFace.width : 0;\r\n                width = Math.max(frontFaceWidth, backFaceWidth);\r\n            }\r\n\r\n            if (height === undefined) {\r\n                var frontFaceHeight = (frontFace) ? frontFace.height : 0;\r\n                var backFaceHeight = (backFace) ? backFace.height : 0;\r\n                height = Math.max(frontFaceHeight, backFaceHeight);\r\n            }\r\n        }\r\n\r\n        super(scene, x, y, width, height, faces);\r\n        this.type = 'rexPerspectiveCard';\r\n\r\n        this.frontFaceRotationX = undefined;\r\n        this.frontFaceRotationY = undefined;\r\n        this.frontFaceRotationZ = undefined;\r\n\r\n        ForEachFace(faces, function (face, name) {\r\n            this[`${name}Face`] = face;\r\n        }, this);\r\n\r\n        var flipConfig = GetValue(config, 'flip', undefined);\r\n        if (flipConfig !== false) {\r\n            this.flip = new Flip(this, flipConfig);\r\n        }\r\n\r\n        this.setOrientation(GetValue(config, 'orientation', 0));\r\n        LayoutFaces(this, faces);\r\n\r\n        this.setFace(GetValue(config, 'face', 0));\r\n    }\r\n\r\n    get rotationX() {\r\n        return this.frontFaceRotationX;\r\n    }\r\n\r\n    set rotationX(value) {\r\n        if (this.frontFaceRotationX === value) {\r\n            return;\r\n        }\r\n\r\n        this.frontFaceRotationX = value;\r\n        ForEachFace(this.faces, function (face) {\r\n            face.rotationX = value;\r\n        }, null, true);\r\n    }\r\n\r\n    get rotationY() {\r\n        return this.frontFaceRotationY;\r\n    }\r\n\r\n    set rotationY(value) {\r\n        if (this.frontFaceRotationY === value) {\r\n            return;\r\n        }\r\n\r\n        this.frontFaceRotationY = value;\r\n        ForEachFace(this.faces, function (face) {\r\n            face.rotationY = value;\r\n        }, null, true);\r\n    }\r\n\r\n    get rotationZ() {\r\n        return this.frontFaceRotationZ;\r\n    }\r\n\r\n    set rotationZ(value) {\r\n        if (this.frontFaceRotationZ === value) {\r\n            return;\r\n        }\r\n\r\n        this.frontFaceRotationZ = value;\r\n        ForEachFace(this.faces, function (face) {\r\n            face.rotationZ = value;\r\n        }, null, true);\r\n    }\r\n\r\n    setOrientation(orientation) {\r\n        if (typeof (orientation) === 'string') {\r\n            orientation = ORIENTATIONMODE[orientation];\r\n        }\r\n        this.orientation = orientation;\r\n        return this;\r\n    }\r\n\r\n    get face() {\r\n        return this.currentFaceIndex;\r\n    }\r\n\r\n    set face(index) {\r\n        if (typeof (index) === 'string') {\r\n            index = FACEMODE[index];\r\n        }\r\n        this.currentFaceIndex = index;\r\n\r\n        var isBackFace = (index === 1);\r\n        var angle = (isBackFace) ? 180 : 0;\r\n        if (this.orientation === 0) {  // Flip around Y\r\n            this.angleY = angle;\r\n        } else {  // Flip around X\r\n            this.angleX = angle;\r\n        }\r\n    }\r\n\r\n    setFace(face) {\r\n        this.face = face;\r\n        return this;\r\n    }\r\n\r\n    toggleFace() {\r\n        var newFace = (this.face === 0) ? 1 : 0;\r\n        this.setFace(newFace);\r\n        return this;\r\n    }\r\n}\r\n\r\nconst ORIENTATIONMODE = {\r\n    x: 0,\r\n    horizontal: 0,\r\n    h: 0,\r\n\r\n    y: 1,\r\n    vertical: 1,\r\n    v: 1\r\n}\r\n\r\nconst FACEMODE = {\r\n    front: 0,\r\n    back: 1,\r\n}\r\n\r\nexport default Card;","import EaseValueTaskBase from '../../../../utils/componentbase/tweentask/EaseValueTaskBase.js';\r\nimport FaceNameToIndex from './FaceNameToIndex.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst RadToDeg = Phaser.Math.RadToDeg;\r\nconst DegToRad = Phaser.Math.DegToRad;\r\nconst WrapDegrees = Phaser.Math.Angle.WrapDegrees;\r\nconst ShortestBetween = Phaser.Math.Angle.ShortestBetween;\r\nconst Wrap = Phaser.Math.Wrap;\r\nconst Linear = Phaser.Math.Linear;\r\n\r\nclass Roll extends EaseValueTaskBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n        // this.timer\r\n\r\n        this.resetFromJSON(config);\r\n        this.boot();\r\n    }\r\n\r\n    resetFromJSON(o) {\r\n        super.resetFromJSON(o);\r\n        this.setEase(GetValue(o, 'ease', 'Cubic'));\r\n        return this;\r\n    }\r\n\r\n    start(deltaRotation) {\r\n        if (this.timer.isRunning) {\r\n            return this;\r\n        }\r\n\r\n        this.timer\r\n            .setDelay(this.delay)\r\n            .setDuration(this.duration);\r\n\r\n        var gameObject = this.parent;\r\n        this.startRotationY = gameObject.rotationY;\r\n        this.endRotationY = this.startRotationY + deltaRotation;\r\n\r\n        super.start();\r\n        return this;\r\n    }\r\n\r\n    to(index, duration) {\r\n        if (this.isRunning) {\r\n            return this;\r\n        }\r\n\r\n        var carousel = this.parent;\r\n\r\n        if (typeof (index) === 'string') {\r\n            index = FaceNameToIndex(carousel.faces, index);\r\n            if (index === -1) {\r\n                index = 0;\r\n            }\r\n        }\r\n        index = Wrap(index, 0, carousel.faces.length);\r\n\r\n        if (duration !== undefined) {\r\n            this.setDuration(duration);\r\n        }\r\n\r\n        var start = WrapDegrees(RadToDeg(carousel.rotationY));\r\n        var end = WrapDegrees(RadToDeg(((carousel.rtl) ? 1 : -1) * carousel.faceAngle * index));\r\n        var delta = ShortestBetween(start, end); // Degrees\r\n        this.start(DegToRad(delta));\r\n\r\n        carousel.currentFaceIndex = index;\r\n        return this;\r\n    }\r\n\r\n    toNext(duration) {\r\n        var index = this.parent.currentFaceIndex + 1;\r\n        this.to(index, duration);\r\n        return this;\r\n    }\r\n\r\n    toPrevious(duration) {\r\n        var index = this.parent.currentFaceIndex - 1;\r\n        this.to(index, duration);\r\n        return this;\r\n    }\r\n\r\n    toRight(duration) {\r\n        if (!this.parent.rtl) {\r\n            this.toNext(duration);\r\n        } else {\r\n            this.toPrevious(duration);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    toLeft(duration) {\r\n        if (!this.parent.rtl) {\r\n            this.toPrevious(duration);\r\n        } else {\r\n            this.toNext(duration);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    updateGameObject(gameObject, timer) {\r\n        var t = this.easeFn(timer.t);\r\n        gameObject.rotationY = Linear(this.startRotationY, this.endRotationY, t);\r\n    }\r\n}\r\n\r\nexport default Roll;","import FaceContainer from '../utils/FaceContainer.js';\r\nimport Roll from './Roll.js';\r\nimport CreateFaces from '../utils/CreateFaces.js';\r\nimport ForEachFace from '../utils/ForEachFace.js';\r\nimport GetFirstFace from './GetFirstFace.js';\r\nimport LayoutFaces from './LayoutFaces.js';\r\nimport FaceNameToIndex from './FaceNameToIndex.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst DegToRad = Phaser.Math.DegToRad;\r\nconst RadToDeg = Phaser.Math.RadToDeg;\r\nconst WrapDegrees = Phaser.Math.Angle.WrapDegrees;\r\nconst Linear = Phaser.Math.Linear;\r\nconst Wrap = Phaser.Math.Wrap;\r\n\r\nclass Carousel extends FaceContainer {\r\n    constructor(scene, x, y, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n        }\r\n\r\n        var faceConfig = GetValue(config, 'faces', undefined);\r\n        if (!faceConfig) {\r\n            faceConfig = [];\r\n        }\r\n        var faces = CreateFaces(scene, faceConfig);\r\n        var firstFace = GetFirstFace(faces);\r\n\r\n        var width = GetValue(config, 'width');\r\n        var height = GetValue(config, 'height');\r\n        if (width === undefined) {\r\n            width = (firstFace) ? firstFace.width : 0;\r\n        }\r\n        if (height === undefined) {\r\n            height = (firstFace) ? firstFace.height : 0;\r\n        }\r\n\r\n        super(scene, x, y, width, height, faces);\r\n        this.type = 'rexPerspectiveCarousel';\r\n\r\n        this.face0RotationY = undefined;\r\n\r\n        var faceCount = faces.length;\r\n        // Face angle\r\n        this.faceAngle = (faceCount > 0) ? DegToRad(360 / faces.length) : 0;\r\n\r\n        // Face width, face radius\r\n        var faceWidth = GetValue(config, 'faceWidth', undefined);\r\n        if (faceWidth === undefined) {\r\n            var faceSpace = GetValue(config, 'faceSpace', 0);\r\n            faceWidth = (firstFace) ? (firstFace.width + faceSpace) : 0;\r\n        }\r\n        this.faceWidth = faceWidth;\r\n        if (faceCount > 2) {\r\n            this.faceRadius = (faceWidth / 2) / Math.tan(this.faceAngle / 2);\r\n        } else {\r\n            this.faceRadius = faceWidth / 2;\r\n        }\r\n\r\n        LayoutFaces(this, faces);\r\n        \r\n        var rollConfig = GetValue(config, 'roll', undefined);\r\n        if (rollConfig !== false) {\r\n            var RollClass = GetValue(config, 'rollClass', Roll);\r\n            this.roll = new RollClass(this, rollConfig);\r\n        }\r\n\r\n        // Left-To-Right, or Right-To-Left\r\n        this.rtl = GetValue(config, 'rtl', false);\r\n\r\n        // z-index\r\n        this.zStart = GetValue(config, 'z', 1);\r\n        this.zEnd = GetValue(config, 'zEnd', this.zStart - 1);\r\n\r\n        this.setFace(GetValue(config, 'face', 0));\r\n    }\r\n\r\n    get rotationY() {\r\n        return this.face0RotationY;\r\n    }\r\n\r\n    set rotationY(value) {\r\n        if (this.face0RotationY === value) {\r\n            return;\r\n        }\r\n\r\n        this.face0RotationY = value;\r\n        var deltaAngle = this.faceAngle;\r\n        var zStart = this.zStart;\r\n        var zEnd = this.zEnd;\r\n        var sign = (this.rtl) ? -1 : 1;\r\n        ForEachFace(this.faces, function (face, i) {\r\n            // Set rotationY\r\n            var rotationY = value + (sign * deltaAngle * i);\r\n            face.rotationY = rotationY;\r\n\r\n            // Set depth\r\n            var angle = Math.abs(WrapDegrees(RadToDeg(rotationY))); // 0~180\r\n            var z = Linear(zStart, zEnd, angle / 180);\r\n            face.setDepth(z);\r\n        }, null, true);\r\n    }\r\n\r\n    get face() {\r\n        return this.currentFaceIndex;\r\n    }\r\n\r\n    set face(index) {\r\n        if (typeof (index) === 'string') {\r\n            index = FaceNameToIndex(this.faces, index);\r\n            if (index === -1) {\r\n                index = 0;\r\n            }\r\n        }\r\n\r\n        index = Wrap(index, 0, this.faces.length);\r\n        this.currentFaceIndex = index;\r\n        this.rotationY = ((this.rtl) ? 1 : -1) * this.faceAngle * index;\r\n    }\r\n\r\n    setFace(index) {\r\n        this.face = index;\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default Carousel;","import Carousel from '../carousel/Carousel.js';\r\nimport Roll from './Roll.js';\r\nimport RenderTexture from '../rendertexture/RenderTexture.js';\r\nimport GetFaceSize from './GetFaceSize.js';\r\nimport GetIndexOffsetMap from './GetIndexOffsetMap.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst Wrap = Phaser.Math.Wrap;\r\n\r\nclass ImageCarousel extends Carousel {\r\n    constructor(scene, x, y, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n        }\r\n\r\n        if (config === undefined) {\r\n            config = {};\r\n        }\r\n\r\n        var faceWidth, faceHeight;\r\n        var images = GetValue(config, 'images');\r\n        var faceSize = GetFaceSize(scene, images);\r\n        if (faceSize) {\r\n            faceWidth = faceSize.width;\r\n            faceHeight = faceSize.height;\r\n        } else {\r\n            faceWidth = GetValue(config, 'width');\r\n            faceHeight = GetValue(config, 'height');\r\n        }\r\n\r\n        // Create 4 render-texture faces\r\n        var faceCount = GetValue(config, 'faceCount', 4);\r\n        var face, faces = [];\r\n        for (var i = 0; i < faceCount; i++) {\r\n            face = new RenderTexture(scene, 0, 0, faceWidth, faceHeight, config);\r\n            scene.add.existing(face);\r\n            faces.push(face);\r\n        }\r\n\r\n        config.faces = faces;\r\n        config.rollClass = Roll;\r\n        super(scene, x, y, config);\r\n        this.type = 'rexPerspectiveImageCarousel';\r\n\r\n        this.images = images;\r\n        this.indexOffsetMap = GetIndexOffsetMap(faceCount);\r\n        this.repeat = GetValue(config, 'repeat', true);\r\n        this\r\n            .setImageIndex(GetValue(config, 'index', 0))\r\n            .updateTexture();\r\n    }\r\n\r\n    setImageIndex(index) {\r\n        this.currentImageIndex = Wrap(index, 0, this.images.length);\r\n        return this;\r\n    }\r\n\r\n    get isFirstImage() {\r\n        return (this.images.length === 0) || (this.currentImageIndex === 0);\r\n    }\r\n\r\n    get isLastImage() {\r\n        return (this.images.length === 0) || (this.currentImageIndex === (this.images.length - 1));\r\n    }\r\n\r\n    updateTexture() {\r\n        var totalKeys = this.images.length;\r\n        var totalFaces = this.faces.length;\r\n\r\n        this.indexOffsetMap.forEach(function (indexOffset) {\r\n            var textureIndex = Wrap(this.currentImageIndex + indexOffset, 0, totalKeys);\r\n            var faceIndex = Wrap(this.currentFaceIndex + indexOffset, 0, totalFaces);\r\n\r\n            var textureKey = this.images[textureIndex];\r\n            this.faces[faceIndex].rt.drawFrame(textureKey.key, textureKey.frame);\r\n        }, this)\r\n\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nexport default ImageCarousel;","const GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar Init = function (parentContainer, rtOwner, config) {\r\n    rtOwner.visibleSibling = [];\r\n    rtOwner.isRunning = false;\r\n    rtOwner.useParentBounds = GetValue(config, 'useParentBounds', false);\r\n\r\n    rtOwner\r\n        .setPosition(parentContainer.x, parentContainer.y)\r\n        .setVisible(false)\r\n    parentContainer.pin(rtOwner);\r\n}\r\n\r\nexport default Init;","import { GetBounds } from './GetBounds.js';\r\n\r\nconst Rectangle = Phaser.Geom.Rectangle;\r\nconst Union = Phaser.Geom.Rectangle.Union;\r\n\r\nvar GetBoundsOfGameObjects = function (gameObjects, out) {\r\n    if (out === undefined) {\r\n        out = new Rectangle();\r\n    } else if (out === true) {\r\n        if (GlobRect === undefined) {\r\n            GlobRect = new Rectangle();\r\n        }\r\n        out = GlobRect;\r\n    }\r\n\r\n    var gameObject;\r\n    var firstClone = true;\r\n    for (var i = 0, cnt = gameObjects.length; i < cnt; i++) {\r\n        gameObject = gameObjects[i];\r\n        if (!gameObject.getBounds) {\r\n            continue;\r\n        }\r\n\r\n        var boundsRect = GetBounds(gameObject, true);\r\n\r\n        if (firstClone) {\r\n            out.setTo(boundsRect.x, boundsRect.y, boundsRect.width, boundsRect.height);\r\n            firstClone = false;\r\n        } else {\r\n            Union(boundsRect, out, out);\r\n        }\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\nvar GlobRect;\r\n\r\nexport default GetBoundsOfGameObjects;","import GetBoundsOfGameObjects from '../bounds/GetBoundsOfGameObjects.js';\r\nimport Clone from '../object/Clone.js';\r\nimport SortGameObjectsByDepth from '../system/SortGameObjectsByDepth.js';\r\n\r\nvar GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar Snapshot = function (config) {\r\n    var gameObjects = config.gameObjects;\r\n    var renderTexture = config.renderTexture;\r\n    if (gameObjects.length === 0) {\r\n        if (renderTexture) {\r\n            renderTexture.setSize(1, 1).clear();\r\n        }\r\n        return renderTexture;\r\n    }\r\n\r\n    var x = GetValue(config, 'x', undefined);\r\n    var y = GetValue(config, 'y', undefined);\r\n    var width = GetValue(config, 'width', undefined);\r\n    var height = GetValue(config, 'height', undefined);\r\n    var originX = GetValue(config, 'originX', 0);\r\n    var originY = GetValue(config, 'originY', 0);\r\n    var scrollX, scrollY;\r\n    if ((width === undefined) || (height === undefined) || (x === undefined) || (y === undefined)) {\r\n        // Union bounds of gameObjects\r\n        var bounds = GetBoundsOfGameObjects(gameObjects, true);\r\n        var isCenterOrigin = (x !== undefined) && (y !== undefined);\r\n        if (isCenterOrigin) {\r\n            width = Math.max((x - bounds.left), (bounds.right - x)) * 2;\r\n            height = Math.max((y - bounds.top), (bounds.bottom - y)) * 2;\r\n            originX = 0.5;\r\n            originY = 0.5;\r\n        } else {\r\n            x = bounds.x;\r\n            y = bounds.y;\r\n            width = bounds.width;\r\n            height = bounds.height;\r\n            originX = 0;\r\n            originY = 0;\r\n        }\r\n        scrollX = bounds.x;\r\n        scrollY = bounds.y;\r\n    } else {\r\n        scrollX = x + ((0 - originX) * width);\r\n        scrollY = y + ((0 - originY) * height);\r\n    }\r\n\r\n    // Configurate render texture\r\n    if (!renderTexture) {\r\n        var scene = gameObjects[0].scene;\r\n        renderTexture = scene.add.renderTexture(x, y, width, height);\r\n    } else {\r\n        renderTexture.setPosition(x, y)\r\n        if ((renderTexture.width !== width) || (renderTexture.height !== height)) {\r\n            renderTexture.setSize(width, height);\r\n        }\r\n    }\r\n    renderTexture.setOrigin(originX, originY);\r\n    renderTexture.camera.setScroll(scrollX, scrollY);\r\n\r\n    // Draw gameObjects\r\n    gameObjects = SortGameObjectsByDepth(Clone(gameObjects));\r\n    renderTexture.draw(gameObjects);\r\n\r\n    return renderTexture;\r\n}\r\n\r\nexport default Snapshot;","const RotateAround = Phaser.Math.RotateAround;\r\n\r\nvar LocalXYToWorldXY = function (gameObject, localX, localY) {\r\n    var ox = gameObject.width / 2;\r\n    var oy = gameObject.height / 2;\r\n    out.x = localX - ox;\r\n    out.y = localY - oy;\r\n    RotateAround(out, 0, 0, gameObject.rotation);\r\n    out.x *= gameObject.scaleX;\r\n    out.y *= gameObject.scaleY;\r\n    out.x += gameObject.x;\r\n    out.y += gameObject.y;\r\n\r\n    return out;\r\n}\r\n\r\nvar WorldXYToLocalXY = function (gameObject, worldX, worldY) {\r\n    var ox = gameObject.width / 2;\r\n    var oy = gameObject.height / 2;\r\n\r\n    out.x = worldX - gameObject.x;\r\n    out.y = worldY - gameObject.y;\r\n    out.x /= gameObject.scaleX;\r\n    out.y /= gameObject.scaleY;\r\n    RotateAround(out, 0, 0, -gameObject.rotation);\r\n    out.x += ox;\r\n    out.y += oy;\r\n\r\n    return out;\r\n}\r\n\r\nvar out = { x: 0, y: 0 };\r\n\r\nexport {\r\n    LocalXYToWorldXY, WorldXYToLocalXY\r\n}","import ControlPoint from './ControlPoint.js';\r\n\r\nconst Vertex = Phaser.Geom.Mesh.Vertex;\r\nconst Face = Phaser.Geom.Mesh.Face;\r\n\r\nvar InitFaces = function (quad) {\r\n    var isNinePointMode = quad.isNinePointMode;\r\n    var pointCount = (isNinePointMode) ? 9 : 4;\r\n\r\n    var vertices = quad.vertices;\r\n    var faces = quad.faces;\r\n    var controlPoints = quad.controlPoints;\r\n    for (var i = 0; i < pointCount; i++) {\r\n        var vertex = new Vertex();\r\n        vertices.push(vertex);\r\n        controlPoints.push(new ControlPoint(quad, vertex));\r\n    }\r\n\r\n    var indices = (isNinePointMode) ? NinePointsIndices : FourPointsIndices;\r\n    for (var i = 0, cnt = indices.length; i < cnt; i += 3) {\r\n        var vert1 = vertices[indices[i + 0]];\r\n        var vert2 = vertices[indices[i + 1]];\r\n        var vert3 = vertices[indices[i + 2]];\r\n        faces.push(new Face(vert1, vert2, vert3));\r\n    }\r\n\r\n    if (isNinePointMode) {\r\n        quad.topLeft = controlPoints[0];\r\n        quad.topCenter = controlPoints[1];\r\n        quad.topRight = controlPoints[2];\r\n        quad.centerLeft = controlPoints[3];\r\n        quad.center = controlPoints[4];\r\n        quad.centerRight = controlPoints[5];\r\n        quad.bottomLeft = controlPoints[6];\r\n        quad.bottomCenter = controlPoints[7];\r\n        quad.bottomRight = controlPoints[8];\r\n    } else {\r\n        quad.topLeft = controlPoints[0];\r\n        quad.topRight = controlPoints[1];\r\n        quad.bottomLeft = controlPoints[2];\r\n        quad.bottomRight = controlPoints[3];\r\n    }\r\n}\r\n\r\n/*\r\n0, 1,\r\n2, 3,\r\n*/\r\nconst FourPointsIndices = [\r\n    0, 2, 3,\r\n    0, 3, 1\r\n];\r\n\r\n/*\r\n0, 1, 2,\r\n3, 4, 5,\r\n6, 7, 8\r\n*/\r\nconst NinePointsIndices = [\r\n    0, 3, 4,\r\n    0, 4, 1,\r\n    1, 4, 2,\r\n    4, 5, 2,\r\n    3, 6, 4,\r\n    6, 7, 4,\r\n    4, 7, 8,\r\n    4, 8, 5\r\n];\r\n\r\nexport default InitFaces;","import InitFaces from './methods/InitFaces.js';\r\nimport GetPointPosition from './methods/GetPointPosition.js';\r\n\r\nconst Mesh = Phaser.GameObjects.Mesh;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass Image extends Mesh {\r\n    constructor(scene, x, y, key, frame, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            key = GetValue(config, 'key', null);\r\n            frame = GetValue(config, 'frame', null);\r\n        }\r\n\r\n        super(scene, x, y, key, frame);\r\n        this.type = 'rexQuadImage';\r\n        this.isNinePointMode = GetValue(config, 'ninePointMode', false);\r\n        this.controlPoints = [];\r\n\r\n        InitFaces(this);\r\n        this.hideCCW = false;\r\n        this.syncSize();\r\n    }\r\n\r\n    preDestroy() {\r\n        for (var i = 0, cnt = this.controlPoints.length; i < cnt; i++) {\r\n            this.controlPoints[i].destroy();\r\n        }\r\n        this.controlPoints = undefined;\r\n\r\n        super.preDestroy();\r\n    }\r\n\r\n    resetVerts() {\r\n        // Clear faces and vertices        \r\n        this.dirtyCache[9] = -1;\r\n\r\n        var points = GetPointPosition(this);\r\n\r\n        // Calculate vertex data\r\n        var srcWidth = this.width;\r\n        var srcHeight = this.height;\r\n        var vHalfWidth = (this.frame.cutWidth / srcHeight) / 2;\r\n        var vHalfHeight = (this.frame.cutHeight / srcHeight) / 2;\r\n\r\n        var flipY = this.frame.source.isRenderTexture;\r\n        var frameU0 = this.frame.u0;\r\n        var frameU1 = this.frame.u1;\r\n        var frameV0 = (!flipY) ? this.frame.v0 : this.frame.v1;\r\n        var frameV1 = (!flipY) ? this.frame.v1 : this.frame.v0;\r\n        var frameU = frameU1 - frameU0;\r\n        var frameV = frameV1 - frameV0;\r\n\r\n        // Update vertex\r\n        var controlPoints = this.controlPoints;\r\n        for (var i = 0, cnt = points.length; i < cnt; i += 2) {\r\n            var px = points[i + 0];\r\n            var py = points[i + 1];\r\n            var vertexIndex = i / 2;\r\n\r\n            var x = (px / srcHeight) - vHalfWidth;\r\n            var y = (py / srcHeight) - vHalfHeight;\r\n            var u = frameU0 + (frameU * (px / srcWidth));\r\n            var v = frameV0 + (frameV * (py / srcHeight));\r\n            this.vertices[vertexIndex]\r\n                .set(x, -y, 0)\r\n                .setUVs(u, v)\r\n\r\n            controlPoints[vertexIndex].resetLocalXY(px, py);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    syncSize() {\r\n        this.setSizeToFrame();  // Reset size\r\n        this.setOrtho(this.width / this.height, 1);\r\n        this.resetVerts();  // Reset verts\r\n        return this;\r\n    }\r\n\r\n    forceUpdate() {\r\n        this.dirtyCache[10] = 1;\r\n        return this;\r\n    }\r\n\r\n    get tint() {\r\n        if (this.vertices.length === 0) {\r\n            return 0xffffff;\r\n        } else {\r\n            return this.vertices[0].color;\r\n        }\r\n    }\r\n\r\n    set tint(value) {\r\n        var vertices = this.vertices;\r\n        for (var i = 0, cnt = vertices.length; i < cnt; i++) {\r\n            vertices[i].color = value;\r\n        }\r\n    }\r\n\r\n    setTint(color) {\r\n        this.tint = color;\r\n        return this;\r\n    }\r\n}\r\n\r\nexport default Image;","import Image from '../image/Image.js';\r\n\r\nconst RT = Phaser.GameObjects.RenderTexture;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass RenderTexture extends Image {\r\n    constructor(scene, x, y, width, height, config) {\r\n        if (IsPlainObject(x)) {\r\n            config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            width = GetValue(config, 'width', 32);\r\n            height = GetValue(config, 'height', 32);\r\n        }\r\n\r\n        // render-texture -> quad-image\r\n        var rt = (new RT(scene, x, y, width, height))\r\n            .setOrigin(0.5);\r\n\r\n        super(scene, x, y, rt.texture.key, null, config);\r\n        this.type = 'rexQuadRenderTexture';\r\n        this.rt = rt;\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        super.destroy(fromScene);\r\n\r\n        this.rt.destroy();\r\n        this.rt = null;\r\n    }\r\n}\r\n\r\nexport default RenderTexture;","import Image from '../image/Image.js';\r\nimport Skew from '../../utils/Skew.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst DegToRad = Phaser.Math.DegToRad;\r\nconst RadToDeg = Phaser.Math.RadToDeg;\r\n\r\nclass SkewImage extends Image {\r\n    constructor(scene, x, y, key, frame) {\r\n        if (IsPlainObject(x)) {\r\n            var config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            key = GetValue(config, 'key', null);\r\n            frame = GetValue(config, 'frame', null);\r\n        }\r\n\r\n        super(scene, x, y, key, frame);\r\n        this.type = 'rexSkewmage';\r\n\r\n        this._skewX = 0;\r\n        this._skewY = 0;\r\n    }\r\n\r\n    get skewX() {\r\n        return this._skewX;\r\n    }\r\n\r\n    set skewX(value) {\r\n        this._skewX = value;\r\n        Skew(this, this._skewX, this._skewY);\r\n    }\r\n\r\n    get skewXDeg() {\r\n        return RadToDeg(this._skewX);\r\n    }\r\n\r\n    set skewXDeg(value) {\r\n        this.skewX = DegToRad(value);\r\n    }\r\n\r\n    get skewY() {\r\n        return this._skewY;\r\n    }\r\n\r\n    set skewY(value) {\r\n        this._skewY = value;\r\n        Skew(this, this._skewX, this._skewY)\r\n    }\r\n\r\n    get skewYDeg() {\r\n        return RadToDeg(this._skewY);\r\n    }\r\n\r\n    set skewYDeg(value) {\r\n        this.skewY = DegToRad(value);\r\n    }\r\n\r\n    setSkewX(skewX) {\r\n        this.skewX = skewX;\r\n        return this;\r\n    }\r\n\r\n    setSkewY(skewY) {\r\n        this.skewY = skewY;\r\n        return this;\r\n    }\r\n\r\n    setSkew(skewX, skewY) {\r\n        if (skewY === undefined) {\r\n            skewY = skewX;\r\n        }\r\n        this.skewX = skewX;\r\n        this.skewY = skewY;\r\n        return this;\r\n    }\r\n\r\n    setSkewXDeg(skewX) {\r\n        this.skewXDeg = skewX;\r\n        return this;\r\n    }\r\n\r\n    setSkewYDeg(skewY) {\r\n        this.skewYDeg = skewY;\r\n        return this;\r\n    }\r\n\r\n    setSkewDeg(skewX, skewY) {\r\n        if (skewY === undefined) {\r\n            skewY = skewX;\r\n        }\r\n        this.skewXDeg = skewX;\r\n        this.skewYDeg = skewY;\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\nexport default SkewImage;","import SkewImage from '../skewimage/SkewImage.js';\r\n\r\nconst RT = Phaser.GameObjects.RenderTexture;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nclass SkewRenderTexture extends SkewImage {\r\n    constructor(scene, x, y, width, height) {\r\n        if (IsPlainObject(x)) {\r\n            var config = x;\r\n            x = GetValue(config, 'x', 0);\r\n            y = GetValue(config, 'y', 0);\r\n            width = GetValue(config, 'width', 32);\r\n            height = GetValue(config, 'height', 32);\r\n        }\r\n\r\n        // render-texture -> skew-image\r\n        var rt = (new RT(scene, x, y, width, height))\r\n            .setOrigin(0.5);\r\n\r\n        super(scene, x, y, rt.texture.key, null);\r\n        this.type = 'rexSkewRenderTexture';\r\n        this.rt = rt;\r\n    }\r\n\r\n    destroy(fromScene) {\r\n        super.destroy(fromScene);\r\n\r\n        this.rt.destroy();\r\n        this.rt = null;\r\n    }\r\n}\r\n\r\nexport default SkewRenderTexture;","import ComponentBase from '../../utils/componentbase/ComponentBase.js';\r\nimport CreateCover from './CreateCover.js';\r\nimport DefaultTransitCallbacks from './DefaultTransitCallbacks.js';\r\nimport NOOP from '../../utils/object/NOOP.js';\r\nimport State from './State.js';\r\nimport FadeIn from '../../fade-in.js';\r\nimport FadeOutDestroy from '../../fade-out-destroy.js';\r\nimport PostUpdateDelayCall from '../../utils/time/PostUpdateDelayCall.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst Timer = Phaser.Time.TimerEvent;\r\n\r\nclass Modal extends ComponentBase {\r\n    constructor(gameObject, config) {\r\n        super(gameObject, config);\r\n        // this.parent = gameObject;\r\n        // this.scene\r\n\r\n        // Cover : key of modal, to block touch input        \r\n        var coverConfig = GetValue(config, 'cover');\r\n        this.cover = (coverConfig !== false) ? CreateCover(gameObject, coverConfig) : undefined;\r\n\r\n        // Close conditions:\r\n        // OK/Cancel buttons, invoke modal.requestClose()\r\n        var manualClose = GetValue(config, 'manualClose', true);\r\n        // Timeout/any-touch\r\n        if (!manualClose) {\r\n            this.setDisplayTime(GetValue(config, 'duration.hold', 2000));\r\n            var anyTouchClose = GetValue(config, 'anyTouchClose', true);\r\n            if (anyTouchClose) {\r\n                this.anyTouchClose();\r\n            }\r\n        } else {\r\n            this.setDisplayTime(-1);\r\n        }\r\n\r\n        this.setTransitInTime(GetValue(config, 'duration.in', 200));\r\n        this.setTransitOutTime(GetValue(config, 'duration.out', 200));\r\n        this.setTransitInCallback(GetValue(config, 'transitIn', TransitionMode.popUp));\r\n        this.setTransitOutCallback(GetValue(config, 'transitOut', TransitionMode.scaleDown));\r\n        this.destroyParent = GetValue(config, 'destroy', true);\r\n\r\n        this.timer = undefined;\r\n        this._state = new State(this, { eventEmitter: false });\r\n        this.closeEventData = undefined;\r\n\r\n        // Start\r\n        this._state.next();\r\n    }\r\n\r\n    get state() {\r\n        return this._state.state;\r\n    }\r\n\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        // Registered in anyTouchClose()\r\n        if (!this.cover) {\r\n            this.scene.input.off('pointerup', this.requestClose, this);\r\n        }\r\n\r\n        if (this.cover && !fromScene) {\r\n            this.cover.destroy();\r\n            this.cover = undefined;\r\n        }\r\n\r\n        this.transitInCallback = undefined;\r\n        this.transitOutCallback = undefined;\r\n        this.closeEventData = undefined;\r\n\r\n        this.removeDelayCall();\r\n\r\n        super.shutdown(fromScene);\r\n    }\r\n\r\n    anyTouchClose() {\r\n        if (this.cover) {\r\n            this.cover.once('pointerup', this.requestClose, this);\r\n        } else {\r\n            this.scene.input.once('pointerup', this.requestClose, this);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    transitionIn() {\r\n        var duration = this.transitInTime;\r\n        this.transitInCallback(this.parent, duration);\r\n\r\n        var cover = this.cover;\r\n        if (cover) {\r\n            FadeIn(cover, duration, cover.alpha);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    transitionOut() {\r\n        var duration = this.transitOutTime;\r\n        this.transitOutCallback(this.parent, duration);\r\n\r\n        var cover = this.cover;\r\n        if (cover) {\r\n            FadeOutDestroy(cover, duration, false);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    onOpen() {\r\n        this.emit('open', this.parent, this);\r\n    }\r\n\r\n    onClose() {\r\n        this.emit('close', this.closeEventData);\r\n\r\n        if (this.destroyParent) {\r\n            this.parent.destroy();\r\n            // Will invoke `this.destroy()`\r\n        } else {\r\n            this.destroy();\r\n        }\r\n    }\r\n\r\n    delayCall(delay, callback, scope) {\r\n        // Invoke callback under scene's 'postupdate' event\r\n        this.timer = PostUpdateDelayCall(this, delay, callback, scope);\r\n        return this;\r\n    }\r\n\r\n    removeDelayCall() {\r\n        if (this.timer) {\r\n            this.timer.remove(false);\r\n            this.timer = undefined;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    setTransitInTime(time) {\r\n        this.transitInTime = time;\r\n        return this;\r\n    }\r\n\r\n    setDisplayTime(time) {\r\n        this.displayTime = time;\r\n        return this;\r\n    }\r\n\r\n    setTransitOutTime(time) {\r\n        this.transitOutTime = time;\r\n        return this;\r\n    }\r\n\r\n    setTransitInCallback(callback) {\r\n        if (typeof (callback) === 'string') {\r\n            callback = TransitionMode[callback];\r\n        }\r\n\r\n        switch (callback) {\r\n            case TransitionMode.popUp:\r\n                callback = DefaultTransitCallbacks.popUp;\r\n                break;\r\n            case TransitionMode.fadeIn:\r\n                callback = DefaultTransitCallbacks.fadeIn;\r\n                break;\r\n        }\r\n\r\n        if (!callback) {\r\n            callback = NOOP;\r\n        }\r\n\r\n        this.transitInCallback = callback;\r\n        // callback = function(gameObject, duration) {}\r\n        return this;\r\n    }\r\n\r\n    setTransitOutCallback(callback) {\r\n        if (typeof (callback) === 'string') {\r\n            callback = TransitionMode[callback];\r\n        }\r\n\r\n        switch (callback) {\r\n            case TransitionMode.scaleDown:\r\n                callback = DefaultTransitCallbacks.scaleDown;\r\n                break;\r\n            case TransitionMode.fadeOut:\r\n                callback = DefaultTransitCallbacks.fadeOut;\r\n                break;\r\n        }\r\n\r\n        if (callback == null) {\r\n            callback = NOOP;\r\n        }\r\n\r\n        this.transitOutCallback = callback;\r\n        // callback = function(gameObject, duration) {}\r\n        return this;\r\n    }\r\n\r\n    requestClose(closeEventData) {\r\n        // Only can close modal in OPEN state\r\n        if (this._state.state === 'OPEN') {\r\n            this.closeEventData = (arguments.length > 0) ? closeEventData : this.parent;\r\n            this._state.next(); // OPEN -> TRANS_CLOSE \r\n        }\r\n        return this;\r\n    }\r\n}\r\n\r\nconst TransitionMode = {\r\n    popUp: 0,\r\n    fadeIn: 1,\r\n    scaleDown: 0,\r\n    fadeOut: 1,\r\n}\r\n\r\nexport default Modal;","\n/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */\nfunction isNothing(subject) {\n  return (typeof subject === 'undefined') || (subject === null);\n}\n\n\nfunction isObject(subject) {\n  return (typeof subject === 'object') && (subject !== null);\n}\n\n\nfunction toArray(sequence) {\n  if (Array.isArray(sequence)) return sequence;\n  else if (isNothing(sequence)) return [];\n\n  return [ sequence ];\n}\n\n\nfunction extend(target, source) {\n  var index, length, key, sourceKeys;\n\n  if (source) {\n    sourceKeys = Object.keys(source);\n\n    for (index = 0, length = sourceKeys.length; index < length; index += 1) {\n      key = sourceKeys[index];\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n\nfunction repeat(string, count) {\n  var result = '', cycle;\n\n  for (cycle = 0; cycle < count; cycle += 1) {\n    result += string;\n  }\n\n  return result;\n}\n\n\nfunction isNegativeZero(number) {\n  return (number === 0) && (Number.NEGATIVE_INFINITY === 1 / number);\n}\n\n\nvar isNothing_1      = isNothing;\nvar isObject_1       = isObject;\nvar toArray_1        = toArray;\nvar repeat_1         = repeat;\nvar isNegativeZero_1 = isNegativeZero;\nvar extend_1         = extend;\n\nvar common = {\n\tisNothing: isNothing_1,\n\tisObject: isObject_1,\n\ttoArray: toArray_1,\n\trepeat: repeat_1,\n\tisNegativeZero: isNegativeZero_1,\n\textend: extend_1\n};\n\n// YAML error class. http://stackoverflow.com/questions/8458984\n\n\nfunction formatError(exception, compact) {\n  var where = '', message = exception.reason || '(unknown reason)';\n\n  if (!exception.mark) return message;\n\n  if (exception.mark.name) {\n    where += 'in \"' + exception.mark.name + '\" ';\n  }\n\n  where += '(' + (exception.mark.line + 1) + ':' + (exception.mark.column + 1) + ')';\n\n  if (!compact && exception.mark.snippet) {\n    where += '\\n\\n' + exception.mark.snippet;\n  }\n\n  return message + ' ' + where;\n}\n\n\nfunction YAMLException$1(reason, mark) {\n  // Super constructor\n  Error.call(this);\n\n  this.name = 'YAMLException';\n  this.reason = reason;\n  this.mark = mark;\n  this.message = formatError(this, false);\n\n  // Include stack trace in error object\n  if (Error.captureStackTrace) {\n    // Chrome and NodeJS\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    // FF, IE 10+ and Safari 6+. Fallback for others\n    this.stack = (new Error()).stack || '';\n  }\n}\n\n\n// Inherit from Error\nYAMLException$1.prototype = Object.create(Error.prototype);\nYAMLException$1.prototype.constructor = YAMLException$1;\n\n\nYAMLException$1.prototype.toString = function toString(compact) {\n  return this.name + ': ' + formatError(this, compact);\n};\n\n\nvar exception = YAMLException$1;\n\n// get snippet for a single line, respecting maxLength\nfunction getLine(buffer, lineStart, lineEnd, position, maxLineLength) {\n  var head = '';\n  var tail = '';\n  var maxHalfLength = Math.floor(maxLineLength / 2) - 1;\n\n  if (position - lineStart > maxHalfLength) {\n    head = ' ... ';\n    lineStart = position - maxHalfLength + head.length;\n  }\n\n  if (lineEnd - position > maxHalfLength) {\n    tail = ' ...';\n    lineEnd = position + maxHalfLength - tail.length;\n  }\n\n  return {\n    str: head + buffer.slice(lineStart, lineEnd).replace(/\\t/g, '') + tail,\n    pos: position - lineStart + head.length // relative position\n  };\n}\n\n\nfunction padStart(string, max) {\n  return common.repeat(' ', max - string.length) + string;\n}\n\n\nfunction makeSnippet(mark, options) {\n  options = Object.create(options || null);\n\n  if (!mark.buffer) return null;\n\n  if (!options.maxLength) options.maxLength = 79;\n  if (typeof options.indent      !== 'number') options.indent      = 1;\n  if (typeof options.linesBefore !== 'number') options.linesBefore = 3;\n  if (typeof options.linesAfter  !== 'number') options.linesAfter  = 2;\n\n  var re = /\\r?\\n|\\r|\\0/g;\n  var lineStarts = [ 0 ];\n  var lineEnds = [];\n  var match;\n  var foundLineNo = -1;\n\n  while ((match = re.exec(mark.buffer))) {\n    lineEnds.push(match.index);\n    lineStarts.push(match.index + match[0].length);\n\n    if (mark.position <= match.index && foundLineNo < 0) {\n      foundLineNo = lineStarts.length - 2;\n    }\n  }\n\n  if (foundLineNo < 0) foundLineNo = lineStarts.length - 1;\n\n  var result = '', i, line;\n  var lineNoLength = Math.min(mark.line + options.linesAfter, lineEnds.length).toString().length;\n  var maxLineLength = options.maxLength - (options.indent + lineNoLength + 3);\n\n  for (i = 1; i <= options.linesBefore; i++) {\n    if (foundLineNo - i < 0) break;\n    line = getLine(\n      mark.buffer,\n      lineStarts[foundLineNo - i],\n      lineEnds[foundLineNo - i],\n      mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo - i]),\n      maxLineLength\n    );\n    result = common.repeat(' ', options.indent) + padStart((mark.line - i + 1).toString(), lineNoLength) +\n      ' | ' + line.str + '\\n' + result;\n  }\n\n  line = getLine(mark.buffer, lineStarts[foundLineNo], lineEnds[foundLineNo], mark.position, maxLineLength);\n  result += common.repeat(' ', options.indent) + padStart((mark.line + 1).toString(), lineNoLength) +\n    ' | ' + line.str + '\\n';\n  result += common.repeat('-', options.indent + lineNoLength + 3 + line.pos) + '^' + '\\n';\n\n  for (i = 1; i <= options.linesAfter; i++) {\n    if (foundLineNo + i >= lineEnds.length) break;\n    line = getLine(\n      mark.buffer,\n      lineStarts[foundLineNo + i],\n      lineEnds[foundLineNo + i],\n      mark.position - (lineStarts[foundLineNo] - lineStarts[foundLineNo + i]),\n      maxLineLength\n    );\n    result += common.repeat(' ', options.indent) + padStart((mark.line + i + 1).toString(), lineNoLength) +\n      ' | ' + line.str + '\\n';\n  }\n\n  return result.replace(/\\n$/, '');\n}\n\n\nvar snippet = makeSnippet;\n\nvar TYPE_CONSTRUCTOR_OPTIONS = [\n  'kind',\n  'multi',\n  'resolve',\n  'construct',\n  'instanceOf',\n  'predicate',\n  'represent',\n  'representName',\n  'defaultStyle',\n  'styleAliases'\n];\n\nvar YAML_NODE_KINDS = [\n  'scalar',\n  'sequence',\n  'mapping'\n];\n\nfunction compileStyleAliases(map) {\n  var result = {};\n\n  if (map !== null) {\n    Object.keys(map).forEach(function (style) {\n      map[style].forEach(function (alias) {\n        result[String(alias)] = style;\n      });\n    });\n  }\n\n  return result;\n}\n\nfunction Type$1(tag, options) {\n  options = options || {};\n\n  Object.keys(options).forEach(function (name) {\n    if (TYPE_CONSTRUCTOR_OPTIONS.indexOf(name) === -1) {\n      throw new exception('Unknown option \"' + name + '\" is met in definition of \"' + tag + '\" YAML type.');\n    }\n  });\n\n  // TODO: Add tag format check.\n  this.options       = options; // keep original options in case user wants to extend this type later\n  this.tag           = tag;\n  this.kind          = options['kind']          || null;\n  this.resolve       = options['resolve']       || function () { return true; };\n  this.construct     = options['construct']     || function (data) { return data; };\n  this.instanceOf    = options['instanceOf']    || null;\n  this.predicate     = options['predicate']     || null;\n  this.represent     = options['represent']     || null;\n  this.representName = options['representName'] || null;\n  this.defaultStyle  = options['defaultStyle']  || null;\n  this.multi         = options['multi']         || false;\n  this.styleAliases  = compileStyleAliases(options['styleAliases'] || null);\n\n  if (YAML_NODE_KINDS.indexOf(this.kind) === -1) {\n    throw new exception('Unknown kind \"' + this.kind + '\" is specified for \"' + tag + '\" YAML type.');\n  }\n}\n\nvar type = Type$1;\n\n/*eslint-disable max-len*/\n\n\n\n\n\nfunction compileList(schema, name) {\n  var result = [];\n\n  schema[name].forEach(function (currentType) {\n    var newIndex = result.length;\n\n    result.forEach(function (previousType, previousIndex) {\n      if (previousType.tag === currentType.tag &&\n          previousType.kind === currentType.kind &&\n          previousType.multi === currentType.multi) {\n\n        newIndex = previousIndex;\n      }\n    });\n\n    result[newIndex] = currentType;\n  });\n\n  return result;\n}\n\n\nfunction compileMap(/* lists... */) {\n  var result = {\n        scalar: {},\n        sequence: {},\n        mapping: {},\n        fallback: {},\n        multi: {\n          scalar: [],\n          sequence: [],\n          mapping: [],\n          fallback: []\n        }\n      }, index, length;\n\n  function collectType(type) {\n    if (type.multi) {\n      result.multi[type.kind].push(type);\n      result.multi['fallback'].push(type);\n    } else {\n      result[type.kind][type.tag] = result['fallback'][type.tag] = type;\n    }\n  }\n\n  for (index = 0, length = arguments.length; index < length; index += 1) {\n    arguments[index].forEach(collectType);\n  }\n  return result;\n}\n\n\nfunction Schema$1(definition) {\n  return this.extend(definition);\n}\n\n\nSchema$1.prototype.extend = function extend(definition) {\n  var implicit = [];\n  var explicit = [];\n\n  if (definition instanceof type) {\n    // Schema.extend(type)\n    explicit.push(definition);\n\n  } else if (Array.isArray(definition)) {\n    // Schema.extend([ type1, type2, ... ])\n    explicit = explicit.concat(definition);\n\n  } else if (definition && (Array.isArray(definition.implicit) || Array.isArray(definition.explicit))) {\n    // Schema.extend({ explicit: [ type1, type2, ... ], implicit: [ type1, type2, ... ] })\n    if (definition.implicit) implicit = implicit.concat(definition.implicit);\n    if (definition.explicit) explicit = explicit.concat(definition.explicit);\n\n  } else {\n    throw new exception('Schema.extend argument should be a Type, [ Type ], ' +\n      'or a schema definition ({ implicit: [...], explicit: [...] })');\n  }\n\n  implicit.forEach(function (type$1) {\n    if (!(type$1 instanceof type)) {\n      throw new exception('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n    }\n\n    if (type$1.loadKind && type$1.loadKind !== 'scalar') {\n      throw new exception('There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.');\n    }\n\n    if (type$1.multi) {\n      throw new exception('There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.');\n    }\n  });\n\n  explicit.forEach(function (type$1) {\n    if (!(type$1 instanceof type)) {\n      throw new exception('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n    }\n  });\n\n  var result = Object.create(Schema$1.prototype);\n\n  result.implicit = (this.implicit || []).concat(implicit);\n  result.explicit = (this.explicit || []).concat(explicit);\n\n  result.compiledImplicit = compileList(result, 'implicit');\n  result.compiledExplicit = compileList(result, 'explicit');\n  result.compiledTypeMap  = compileMap(result.compiledImplicit, result.compiledExplicit);\n\n  return result;\n};\n\n\nvar schema = Schema$1;\n\nvar str = new type('tag:yaml.org,2002:str', {\n  kind: 'scalar',\n  construct: function (data) { return data !== null ? data : ''; }\n});\n\nvar seq = new type('tag:yaml.org,2002:seq', {\n  kind: 'sequence',\n  construct: function (data) { return data !== null ? data : []; }\n});\n\nvar map = new type('tag:yaml.org,2002:map', {\n  kind: 'mapping',\n  construct: function (data) { return data !== null ? data : {}; }\n});\n\nvar failsafe = new schema({\n  explicit: [\n    str,\n    seq,\n    map\n  ]\n});\n\nfunction resolveYamlNull(data) {\n  if (data === null) return true;\n\n  var max = data.length;\n\n  return (max === 1 && data === '~') ||\n         (max === 4 && (data === 'null' || data === 'Null' || data === 'NULL'));\n}\n\nfunction constructYamlNull() {\n  return null;\n}\n\nfunction isNull(object) {\n  return object === null;\n}\n\nvar _null = new type('tag:yaml.org,2002:null', {\n  kind: 'scalar',\n  resolve: resolveYamlNull,\n  construct: constructYamlNull,\n  predicate: isNull,\n  represent: {\n    canonical: function () { return '~';    },\n    lowercase: function () { return 'null'; },\n    uppercase: function () { return 'NULL'; },\n    camelcase: function () { return 'Null'; },\n    empty:     function () { return '';     }\n  },\n  defaultStyle: 'lowercase'\n});\n\nfunction resolveYamlBoolean(data) {\n  if (data === null) return false;\n\n  var max = data.length;\n\n  return (max === 4 && (data === 'true' || data === 'True' || data === 'TRUE')) ||\n         (max === 5 && (data === 'false' || data === 'False' || data === 'FALSE'));\n}\n\nfunction constructYamlBoolean(data) {\n  return data === 'true' ||\n         data === 'True' ||\n         data === 'TRUE';\n}\n\nfunction isBoolean(object) {\n  return Object.prototype.toString.call(object) === '[object Boolean]';\n}\n\nvar bool = new type('tag:yaml.org,2002:bool', {\n  kind: 'scalar',\n  resolve: resolveYamlBoolean,\n  construct: constructYamlBoolean,\n  predicate: isBoolean,\n  represent: {\n    lowercase: function (object) { return object ? 'true' : 'false'; },\n    uppercase: function (object) { return object ? 'TRUE' : 'FALSE'; },\n    camelcase: function (object) { return object ? 'True' : 'False'; }\n  },\n  defaultStyle: 'lowercase'\n});\n\nfunction isHexCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) ||\n         ((0x41/* A */ <= c) && (c <= 0x46/* F */)) ||\n         ((0x61/* a */ <= c) && (c <= 0x66/* f */));\n}\n\nfunction isOctCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x37/* 7 */));\n}\n\nfunction isDecCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */));\n}\n\nfunction resolveYamlInteger(data) {\n  if (data === null) return false;\n\n  var max = data.length,\n      index = 0,\n      hasDigits = false,\n      ch;\n\n  if (!max) return false;\n\n  ch = data[index];\n\n  // sign\n  if (ch === '-' || ch === '+') {\n    ch = data[++index];\n  }\n\n  if (ch === '0') {\n    // 0\n    if (index + 1 === max) return true;\n    ch = data[++index];\n\n    // base 2, base 8, base 16\n\n    if (ch === 'b') {\n      // base 2\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (ch !== '0' && ch !== '1') return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n\n    if (ch === 'x') {\n      // base 16\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (!isHexCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n\n    if (ch === 'o') {\n      // base 8\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (!isOctCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n  }\n\n  // base 10 (except 0)\n\n  // value should not start with `_`;\n  if (ch === '_') return false;\n\n  for (; index < max; index++) {\n    ch = data[index];\n    if (ch === '_') continue;\n    if (!isDecCode(data.charCodeAt(index))) {\n      return false;\n    }\n    hasDigits = true;\n  }\n\n  // Should have digits and should not end with `_`\n  if (!hasDigits || ch === '_') return false;\n\n  return true;\n}\n\nfunction constructYamlInteger(data) {\n  var value = data, sign = 1, ch;\n\n  if (value.indexOf('_') !== -1) {\n    value = value.replace(/_/g, '');\n  }\n\n  ch = value[0];\n\n  if (ch === '-' || ch === '+') {\n    if (ch === '-') sign = -1;\n    value = value.slice(1);\n    ch = value[0];\n  }\n\n  if (value === '0') return 0;\n\n  if (ch === '0') {\n    if (value[1] === 'b') return sign * parseInt(value.slice(2), 2);\n    if (value[1] === 'x') return sign * parseInt(value.slice(2), 16);\n    if (value[1] === 'o') return sign * parseInt(value.slice(2), 8);\n  }\n\n  return sign * parseInt(value, 10);\n}\n\nfunction isInteger(object) {\n  return (Object.prototype.toString.call(object)) === '[object Number]' &&\n         (object % 1 === 0 && !common.isNegativeZero(object));\n}\n\nvar int = new type('tag:yaml.org,2002:int', {\n  kind: 'scalar',\n  resolve: resolveYamlInteger,\n  construct: constructYamlInteger,\n  predicate: isInteger,\n  represent: {\n    binary:      function (obj) { return obj >= 0 ? '0b' + obj.toString(2) : '-0b' + obj.toString(2).slice(1); },\n    octal:       function (obj) { return obj >= 0 ? '0o'  + obj.toString(8) : '-0o'  + obj.toString(8).slice(1); },\n    decimal:     function (obj) { return obj.toString(10); },\n    /* eslint-disable max-len */\n    hexadecimal: function (obj) { return obj >= 0 ? '0x' + obj.toString(16).toUpperCase() :  '-0x' + obj.toString(16).toUpperCase().slice(1); }\n  },\n  defaultStyle: 'decimal',\n  styleAliases: {\n    binary:      [ 2,  'bin' ],\n    octal:       [ 8,  'oct' ],\n    decimal:     [ 10, 'dec' ],\n    hexadecimal: [ 16, 'hex' ]\n  }\n});\n\nvar YAML_FLOAT_PATTERN = new RegExp(\n  // 2.5e4, 2.5 and integers\n  '^(?:[-+]?(?:[0-9][0-9_]*)(?:\\\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?' +\n  // .2e4, .2\n  // special case, seems not from spec\n  '|\\\\.[0-9_]+(?:[eE][-+]?[0-9]+)?' +\n  // .inf\n  '|[-+]?\\\\.(?:inf|Inf|INF)' +\n  // .nan\n  '|\\\\.(?:nan|NaN|NAN))$');\n\nfunction resolveYamlFloat(data) {\n  if (data === null) return false;\n\n  if (!YAML_FLOAT_PATTERN.test(data) ||\n      // Quick hack to not allow integers end with `_`\n      // Probably should update regexp & check speed\n      data[data.length - 1] === '_') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlFloat(data) {\n  var value, sign;\n\n  value  = data.replace(/_/g, '').toLowerCase();\n  sign   = value[0] === '-' ? -1 : 1;\n\n  if ('+-'.indexOf(value[0]) >= 0) {\n    value = value.slice(1);\n  }\n\n  if (value === '.inf') {\n    return (sign === 1) ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;\n\n  } else if (value === '.nan') {\n    return NaN;\n  }\n  return sign * parseFloat(value, 10);\n}\n\n\nvar SCIENTIFIC_WITHOUT_DOT = /^[-+]?[0-9]+e/;\n\nfunction representYamlFloat(object, style) {\n  var res;\n\n  if (isNaN(object)) {\n    switch (style) {\n      case 'lowercase': return '.nan';\n      case 'uppercase': return '.NAN';\n      case 'camelcase': return '.NaN';\n    }\n  } else if (Number.POSITIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '.inf';\n      case 'uppercase': return '.INF';\n      case 'camelcase': return '.Inf';\n    }\n  } else if (Number.NEGATIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '-.inf';\n      case 'uppercase': return '-.INF';\n      case 'camelcase': return '-.Inf';\n    }\n  } else if (common.isNegativeZero(object)) {\n    return '-0.0';\n  }\n\n  res = object.toString(10);\n\n  // JS stringifier can build scientific format without dots: 5e-100,\n  // while YAML requres dot: 5.e-100. Fix it with simple hack\n\n  return SCIENTIFIC_WITHOUT_DOT.test(res) ? res.replace('e', '.e') : res;\n}\n\nfunction isFloat(object) {\n  return (Object.prototype.toString.call(object) === '[object Number]') &&\n         (object % 1 !== 0 || common.isNegativeZero(object));\n}\n\nvar float = new type('tag:yaml.org,2002:float', {\n  kind: 'scalar',\n  resolve: resolveYamlFloat,\n  construct: constructYamlFloat,\n  predicate: isFloat,\n  represent: representYamlFloat,\n  defaultStyle: 'lowercase'\n});\n\nvar json = failsafe.extend({\n  implicit: [\n    _null,\n    bool,\n    int,\n    float\n  ]\n});\n\nvar core = json;\n\nvar YAML_DATE_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9])'                    + // [2] month\n  '-([0-9][0-9])$');                   // [3] day\n\nvar YAML_TIMESTAMP_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9]?)'                   + // [2] month\n  '-([0-9][0-9]?)'                   + // [3] day\n  '(?:[Tt]|[ \\\\t]+)'                 + // ...\n  '([0-9][0-9]?)'                    + // [4] hour\n  ':([0-9][0-9])'                    + // [5] minute\n  ':([0-9][0-9])'                    + // [6] second\n  '(?:\\\\.([0-9]*))?'                 + // [7] fraction\n  '(?:[ \\\\t]*(Z|([-+])([0-9][0-9]?)' + // [8] tz [9] tz_sign [10] tz_hour\n  '(?::([0-9][0-9]))?))?$');           // [11] tz_minute\n\nfunction resolveYamlTimestamp(data) {\n  if (data === null) return false;\n  if (YAML_DATE_REGEXP.exec(data) !== null) return true;\n  if (YAML_TIMESTAMP_REGEXP.exec(data) !== null) return true;\n  return false;\n}\n\nfunction constructYamlTimestamp(data) {\n  var match, year, month, day, hour, minute, second, fraction = 0,\n      delta = null, tz_hour, tz_minute, date;\n\n  match = YAML_DATE_REGEXP.exec(data);\n  if (match === null) match = YAML_TIMESTAMP_REGEXP.exec(data);\n\n  if (match === null) throw new Error('Date resolve error');\n\n  // match: [1] year [2] month [3] day\n\n  year = +(match[1]);\n  month = +(match[2]) - 1; // JS month starts with 0\n  day = +(match[3]);\n\n  if (!match[4]) { // no hour\n    return new Date(Date.UTC(year, month, day));\n  }\n\n  // match: [4] hour [5] minute [6] second [7] fraction\n\n  hour = +(match[4]);\n  minute = +(match[5]);\n  second = +(match[6]);\n\n  if (match[7]) {\n    fraction = match[7].slice(0, 3);\n    while (fraction.length < 3) { // milli-seconds\n      fraction += '0';\n    }\n    fraction = +fraction;\n  }\n\n  // match: [8] tz [9] tz_sign [10] tz_hour [11] tz_minute\n\n  if (match[9]) {\n    tz_hour = +(match[10]);\n    tz_minute = +(match[11] || 0);\n    delta = (tz_hour * 60 + tz_minute) * 60000; // delta in mili-seconds\n    if (match[9] === '-') delta = -delta;\n  }\n\n  date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));\n\n  if (delta) date.setTime(date.getTime() - delta);\n\n  return date;\n}\n\nfunction representYamlTimestamp(object /*, style*/) {\n  return object.toISOString();\n}\n\nvar timestamp = new type('tag:yaml.org,2002:timestamp', {\n  kind: 'scalar',\n  resolve: resolveYamlTimestamp,\n  construct: constructYamlTimestamp,\n  instanceOf: Date,\n  represent: representYamlTimestamp\n});\n\nfunction resolveYamlMerge(data) {\n  return data === '<<' || data === null;\n}\n\nvar merge = new type('tag:yaml.org,2002:merge', {\n  kind: 'scalar',\n  resolve: resolveYamlMerge\n});\n\n/*eslint-disable no-bitwise*/\n\n\n\n\n\n// [ 64, 65, 66 ] -> [ padding, CR, LF ]\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\n\\r';\n\n\nfunction resolveYamlBinary(data) {\n  if (data === null) return false;\n\n  var code, idx, bitlen = 0, max = data.length, map = BASE64_MAP;\n\n  // Convert one by one.\n  for (idx = 0; idx < max; idx++) {\n    code = map.indexOf(data.charAt(idx));\n\n    // Skip CR/LF\n    if (code > 64) continue;\n\n    // Fail on illegal characters\n    if (code < 0) return false;\n\n    bitlen += 6;\n  }\n\n  // If there are any bits left, source was corrupted\n  return (bitlen % 8) === 0;\n}\n\nfunction constructYamlBinary(data) {\n  var idx, tailbits,\n      input = data.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max = input.length,\n      map = BASE64_MAP,\n      bits = 0,\n      result = [];\n\n  // Collect by 6*4 bits (3 bytes)\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      result.push((bits >> 16) & 0xFF);\n      result.push((bits >> 8) & 0xFF);\n      result.push(bits & 0xFF);\n    }\n\n    bits = (bits << 6) | map.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    result.push((bits >> 16) & 0xFF);\n    result.push((bits >> 8) & 0xFF);\n    result.push(bits & 0xFF);\n  } else if (tailbits === 18) {\n    result.push((bits >> 10) & 0xFF);\n    result.push((bits >> 2) & 0xFF);\n  } else if (tailbits === 12) {\n    result.push((bits >> 4) & 0xFF);\n  }\n\n  return new Uint8Array(result);\n}\n\nfunction representYamlBinary(object /*, style*/) {\n  var result = '', bits = 0, idx, tail,\n      max = object.length,\n      map = BASE64_MAP;\n\n  // Convert every three bytes to 4 ASCII characters.\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 3 === 0) && idx) {\n      result += map[(bits >> 18) & 0x3F];\n      result += map[(bits >> 12) & 0x3F];\n      result += map[(bits >> 6) & 0x3F];\n      result += map[bits & 0x3F];\n    }\n\n    bits = (bits << 8) + object[idx];\n  }\n\n  // Dump tail\n\n  tail = max % 3;\n\n  if (tail === 0) {\n    result += map[(bits >> 18) & 0x3F];\n    result += map[(bits >> 12) & 0x3F];\n    result += map[(bits >> 6) & 0x3F];\n    result += map[bits & 0x3F];\n  } else if (tail === 2) {\n    result += map[(bits >> 10) & 0x3F];\n    result += map[(bits >> 4) & 0x3F];\n    result += map[(bits << 2) & 0x3F];\n    result += map[64];\n  } else if (tail === 1) {\n    result += map[(bits >> 2) & 0x3F];\n    result += map[(bits << 4) & 0x3F];\n    result += map[64];\n    result += map[64];\n  }\n\n  return result;\n}\n\nfunction isBinary(obj) {\n  return Object.prototype.toString.call(obj) ===  '[object Uint8Array]';\n}\n\nvar binary = new type('tag:yaml.org,2002:binary', {\n  kind: 'scalar',\n  resolve: resolveYamlBinary,\n  construct: constructYamlBinary,\n  predicate: isBinary,\n  represent: representYamlBinary\n});\n\nvar _hasOwnProperty$3 = Object.prototype.hasOwnProperty;\nvar _toString$2       = Object.prototype.toString;\n\nfunction resolveYamlOmap(data) {\n  if (data === null) return true;\n\n  var objectKeys = [], index, length, pair, pairKey, pairHasKey,\n      object = data;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n    pairHasKey = false;\n\n    if (_toString$2.call(pair) !== '[object Object]') return false;\n\n    for (pairKey in pair) {\n      if (_hasOwnProperty$3.call(pair, pairKey)) {\n        if (!pairHasKey) pairHasKey = true;\n        else return false;\n      }\n    }\n\n    if (!pairHasKey) return false;\n\n    if (objectKeys.indexOf(pairKey) === -1) objectKeys.push(pairKey);\n    else return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlOmap(data) {\n  return data !== null ? data : [];\n}\n\nvar omap = new type('tag:yaml.org,2002:omap', {\n  kind: 'sequence',\n  resolve: resolveYamlOmap,\n  construct: constructYamlOmap\n});\n\nvar _toString$1 = Object.prototype.toString;\n\nfunction resolveYamlPairs(data) {\n  if (data === null) return true;\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    if (_toString$1.call(pair) !== '[object Object]') return false;\n\n    keys = Object.keys(pair);\n\n    if (keys.length !== 1) return false;\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return true;\n}\n\nfunction constructYamlPairs(data) {\n  if (data === null) return [];\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    keys = Object.keys(pair);\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return result;\n}\n\nvar pairs = new type('tag:yaml.org,2002:pairs', {\n  kind: 'sequence',\n  resolve: resolveYamlPairs,\n  construct: constructYamlPairs\n});\n\nvar _hasOwnProperty$2 = Object.prototype.hasOwnProperty;\n\nfunction resolveYamlSet(data) {\n  if (data === null) return true;\n\n  var key, object = data;\n\n  for (key in object) {\n    if (_hasOwnProperty$2.call(object, key)) {\n      if (object[key] !== null) return false;\n    }\n  }\n\n  return true;\n}\n\nfunction constructYamlSet(data) {\n  return data !== null ? data : {};\n}\n\nvar set = new type('tag:yaml.org,2002:set', {\n  kind: 'mapping',\n  resolve: resolveYamlSet,\n  construct: constructYamlSet\n});\n\nvar _default = core.extend({\n  implicit: [\n    timestamp,\n    merge\n  ],\n  explicit: [\n    binary,\n    omap,\n    pairs,\n    set\n  ]\n});\n\n/*eslint-disable max-len,no-use-before-define*/\n\n\n\n\n\n\n\nvar _hasOwnProperty$1 = Object.prototype.hasOwnProperty;\n\n\nvar CONTEXT_FLOW_IN   = 1;\nvar CONTEXT_FLOW_OUT  = 2;\nvar CONTEXT_BLOCK_IN  = 3;\nvar CONTEXT_BLOCK_OUT = 4;\n\n\nvar CHOMPING_CLIP  = 1;\nvar CHOMPING_STRIP = 2;\nvar CHOMPING_KEEP  = 3;\n\n\nvar PATTERN_NON_PRINTABLE         = /[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\nvar PATTERN_NON_ASCII_LINE_BREAKS = /[\\x85\\u2028\\u2029]/;\nvar PATTERN_FLOW_INDICATORS       = /[,\\[\\]\\{\\}]/;\nvar PATTERN_TAG_HANDLE            = /^(?:!|!!|![a-z\\-]+!)$/i;\nvar PATTERN_TAG_URI               = /^(?:!|[^,\\[\\]\\{\\}])(?:%[0-9a-f]{2}|[0-9a-z\\-#;\\/\\?:@&=\\+\\$,_\\.!~\\*'\\(\\)\\[\\]])*$/i;\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction is_EOL(c) {\n  return (c === 0x0A/* LF */) || (c === 0x0D/* CR */);\n}\n\nfunction is_WHITE_SPACE(c) {\n  return (c === 0x09/* Tab */) || (c === 0x20/* Space */);\n}\n\nfunction is_WS_OR_EOL(c) {\n  return (c === 0x09/* Tab */) ||\n         (c === 0x20/* Space */) ||\n         (c === 0x0A/* LF */) ||\n         (c === 0x0D/* CR */);\n}\n\nfunction is_FLOW_INDICATOR(c) {\n  return c === 0x2C/* , */ ||\n         c === 0x5B/* [ */ ||\n         c === 0x5D/* ] */ ||\n         c === 0x7B/* { */ ||\n         c === 0x7D/* } */;\n}\n\nfunction fromHexCode(c) {\n  var lc;\n\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  /*eslint-disable no-bitwise*/\n  lc = c | 0x20;\n\n  if ((0x61/* a */ <= lc) && (lc <= 0x66/* f */)) {\n    return lc - 0x61 + 10;\n  }\n\n  return -1;\n}\n\nfunction escapedHexLen(c) {\n  if (c === 0x78/* x */) { return 2; }\n  if (c === 0x75/* u */) { return 4; }\n  if (c === 0x55/* U */) { return 8; }\n  return 0;\n}\n\nfunction fromDecimalCode(c) {\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  return -1;\n}\n\nfunction simpleEscapeSequence(c) {\n  /* eslint-disable indent */\n  return (c === 0x30/* 0 */) ? '\\x00' :\n        (c === 0x61/* a */) ? '\\x07' :\n        (c === 0x62/* b */) ? '\\x08' :\n        (c === 0x74/* t */) ? '\\x09' :\n        (c === 0x09/* Tab */) ? '\\x09' :\n        (c === 0x6E/* n */) ? '\\x0A' :\n        (c === 0x76/* v */) ? '\\x0B' :\n        (c === 0x66/* f */) ? '\\x0C' :\n        (c === 0x72/* r */) ? '\\x0D' :\n        (c === 0x65/* e */) ? '\\x1B' :\n        (c === 0x20/* Space */) ? ' ' :\n        (c === 0x22/* \" */) ? '\\x22' :\n        (c === 0x2F/* / */) ? '/' :\n        (c === 0x5C/* \\ */) ? '\\x5C' :\n        (c === 0x4E/* N */) ? '\\x85' :\n        (c === 0x5F/* _ */) ? '\\xA0' :\n        (c === 0x4C/* L */) ? '\\u2028' :\n        (c === 0x50/* P */) ? '\\u2029' : '';\n}\n\nfunction charFromCodepoint(c) {\n  if (c <= 0xFFFF) {\n    return String.fromCharCode(c);\n  }\n  // Encode UTF-16 surrogate pair\n  // https://en.wikipedia.org/wiki/UTF-16#Code_points_U.2B010000_to_U.2B10FFFF\n  return String.fromCharCode(\n    ((c - 0x010000) >> 10) + 0xD800,\n    ((c - 0x010000) & 0x03FF) + 0xDC00\n  );\n}\n\nvar simpleEscapeCheck = new Array(256); // integer, for fast access\nvar simpleEscapeMap = new Array(256);\nfor (var i = 0; i < 256; i++) {\n  simpleEscapeCheck[i] = simpleEscapeSequence(i) ? 1 : 0;\n  simpleEscapeMap[i] = simpleEscapeSequence(i);\n}\n\n\nfunction State$1(input, options) {\n  this.input = input;\n\n  this.filename  = options['filename']  || null;\n  this.schema    = options['schema']    || _default;\n  this.onWarning = options['onWarning'] || null;\n  // (Hidden) Remove? makes the loader to expect YAML 1.1 documents\n  // if such documents have no explicit %YAML directive\n  this.legacy    = options['legacy']    || false;\n\n  this.json      = options['json']      || false;\n  this.listener  = options['listener']  || null;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.typeMap       = this.schema.compiledTypeMap;\n\n  this.length     = input.length;\n  this.position   = 0;\n  this.line       = 0;\n  this.lineStart  = 0;\n  this.lineIndent = 0;\n\n  // position of first leading tab in the current line,\n  // used to make sure there are no tabs in the indentation\n  this.firstTabInLine = -1;\n\n  this.documents = [];\n\n  /*\n  this.version;\n  this.checkLineBreaks;\n  this.tagMap;\n  this.anchorMap;\n  this.tag;\n  this.anchor;\n  this.kind;\n  this.result;*/\n\n}\n\n\nfunction generateError(state, message) {\n  var mark = {\n    name:     state.filename,\n    buffer:   state.input.slice(0, -1), // omit trailing \\0\n    position: state.position,\n    line:     state.line,\n    column:   state.position - state.lineStart\n  };\n\n  mark.snippet = snippet(mark);\n\n  return new exception(message, mark);\n}\n\nfunction throwError(state, message) {\n  throw generateError(state, message);\n}\n\nfunction throwWarning(state, message) {\n  if (state.onWarning) {\n    state.onWarning.call(null, generateError(state, message));\n  }\n}\n\n\nvar directiveHandlers = {\n\n  YAML: function handleYamlDirective(state, name, args) {\n\n    var match, major, minor;\n\n    if (state.version !== null) {\n      throwError(state, 'duplication of %YAML directive');\n    }\n\n    if (args.length !== 1) {\n      throwError(state, 'YAML directive accepts exactly one argument');\n    }\n\n    match = /^([0-9]+)\\.([0-9]+)$/.exec(args[0]);\n\n    if (match === null) {\n      throwError(state, 'ill-formed argument of the YAML directive');\n    }\n\n    major = parseInt(match[1], 10);\n    minor = parseInt(match[2], 10);\n\n    if (major !== 1) {\n      throwError(state, 'unacceptable YAML version of the document');\n    }\n\n    state.version = args[0];\n    state.checkLineBreaks = (minor < 2);\n\n    if (minor !== 1 && minor !== 2) {\n      throwWarning(state, 'unsupported YAML version of the document');\n    }\n  },\n\n  TAG: function handleTagDirective(state, name, args) {\n\n    var handle, prefix;\n\n    if (args.length !== 2) {\n      throwError(state, 'TAG directive accepts exactly two arguments');\n    }\n\n    handle = args[0];\n    prefix = args[1];\n\n    if (!PATTERN_TAG_HANDLE.test(handle)) {\n      throwError(state, 'ill-formed tag handle (first argument) of the TAG directive');\n    }\n\n    if (_hasOwnProperty$1.call(state.tagMap, handle)) {\n      throwError(state, 'there is a previously declared suffix for \"' + handle + '\" tag handle');\n    }\n\n    if (!PATTERN_TAG_URI.test(prefix)) {\n      throwError(state, 'ill-formed tag prefix (second argument) of the TAG directive');\n    }\n\n    try {\n      prefix = decodeURIComponent(prefix);\n    } catch (err) {\n      throwError(state, 'tag prefix is malformed: ' + prefix);\n    }\n\n    state.tagMap[handle] = prefix;\n  }\n};\n\n\nfunction captureSegment(state, start, end, checkJson) {\n  var _position, _length, _character, _result;\n\n  if (start < end) {\n    _result = state.input.slice(start, end);\n\n    if (checkJson) {\n      for (_position = 0, _length = _result.length; _position < _length; _position += 1) {\n        _character = _result.charCodeAt(_position);\n        if (!(_character === 0x09 ||\n              (0x20 <= _character && _character <= 0x10FFFF))) {\n          throwError(state, 'expected valid JSON character');\n        }\n      }\n    } else if (PATTERN_NON_PRINTABLE.test(_result)) {\n      throwError(state, 'the stream contains non-printable characters');\n    }\n\n    state.result += _result;\n  }\n}\n\nfunction mergeMappings(state, destination, source, overridableKeys) {\n  var sourceKeys, key, index, quantity;\n\n  if (!common.isObject(source)) {\n    throwError(state, 'cannot merge mappings; the provided source object is unacceptable');\n  }\n\n  sourceKeys = Object.keys(source);\n\n  for (index = 0, quantity = sourceKeys.length; index < quantity; index += 1) {\n    key = sourceKeys[index];\n\n    if (!_hasOwnProperty$1.call(destination, key)) {\n      destination[key] = source[key];\n      overridableKeys[key] = true;\n    }\n  }\n}\n\nfunction storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode,\n  startLine, startLineStart, startPos) {\n\n  var index, quantity;\n\n  // The output is a plain object here, so keys can only be strings.\n  // We need to convert keyNode to a string, but doing so can hang the process\n  // (deeply nested arrays that explode exponentially using aliases).\n  if (Array.isArray(keyNode)) {\n    keyNode = Array.prototype.slice.call(keyNode);\n\n    for (index = 0, quantity = keyNode.length; index < quantity; index += 1) {\n      if (Array.isArray(keyNode[index])) {\n        throwError(state, 'nested arrays are not supported inside keys');\n      }\n\n      if (typeof keyNode === 'object' && _class(keyNode[index]) === '[object Object]') {\n        keyNode[index] = '[object Object]';\n      }\n    }\n  }\n\n  // Avoid code execution in load() via toString property\n  // (still use its own toString for arrays, timestamps,\n  // and whatever user schema extensions happen to have @@toStringTag)\n  if (typeof keyNode === 'object' && _class(keyNode) === '[object Object]') {\n    keyNode = '[object Object]';\n  }\n\n\n  keyNode = String(keyNode);\n\n  if (_result === null) {\n    _result = {};\n  }\n\n  if (keyTag === 'tag:yaml.org,2002:merge') {\n    if (Array.isArray(valueNode)) {\n      for (index = 0, quantity = valueNode.length; index < quantity; index += 1) {\n        mergeMappings(state, _result, valueNode[index], overridableKeys);\n      }\n    } else {\n      mergeMappings(state, _result, valueNode, overridableKeys);\n    }\n  } else {\n    if (!state.json &&\n        !_hasOwnProperty$1.call(overridableKeys, keyNode) &&\n        _hasOwnProperty$1.call(_result, keyNode)) {\n      state.line = startLine || state.line;\n      state.lineStart = startLineStart || state.lineStart;\n      state.position = startPos || state.position;\n      throwError(state, 'duplicated mapping key');\n    }\n\n    // used for this specific key only because Object.defineProperty is slow\n    if (keyNode === '__proto__') {\n      Object.defineProperty(_result, keyNode, {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: valueNode\n      });\n    } else {\n      _result[keyNode] = valueNode;\n    }\n    delete overridableKeys[keyNode];\n  }\n\n  return _result;\n}\n\nfunction readLineBreak(state) {\n  var ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x0A/* LF */) {\n    state.position++;\n  } else if (ch === 0x0D/* CR */) {\n    state.position++;\n    if (state.input.charCodeAt(state.position) === 0x0A/* LF */) {\n      state.position++;\n    }\n  } else {\n    throwError(state, 'a line break is expected');\n  }\n\n  state.line += 1;\n  state.lineStart = state.position;\n  state.firstTabInLine = -1;\n}\n\nfunction skipSeparationSpace(state, allowComments, checkIndent) {\n  var lineBreaks = 0,\n      ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    while (is_WHITE_SPACE(ch)) {\n      if (ch === 0x09/* Tab */ && state.firstTabInLine === -1) {\n        state.firstTabInLine = state.position;\n      }\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (allowComments && ch === 0x23/* # */) {\n      do {\n        ch = state.input.charCodeAt(++state.position);\n      } while (ch !== 0x0A/* LF */ && ch !== 0x0D/* CR */ && ch !== 0);\n    }\n\n    if (is_EOL(ch)) {\n      readLineBreak(state);\n\n      ch = state.input.charCodeAt(state.position);\n      lineBreaks++;\n      state.lineIndent = 0;\n\n      while (ch === 0x20/* Space */) {\n        state.lineIndent++;\n        ch = state.input.charCodeAt(++state.position);\n      }\n    } else {\n      break;\n    }\n  }\n\n  if (checkIndent !== -1 && lineBreaks !== 0 && state.lineIndent < checkIndent) {\n    throwWarning(state, 'deficient indentation');\n  }\n\n  return lineBreaks;\n}\n\nfunction testDocumentSeparator(state) {\n  var _position = state.position,\n      ch;\n\n  ch = state.input.charCodeAt(_position);\n\n  // Condition state.position === state.lineStart is tested\n  // in parent on each call, for efficiency. No needs to test here again.\n  if ((ch === 0x2D/* - */ || ch === 0x2E/* . */) &&\n      ch === state.input.charCodeAt(_position + 1) &&\n      ch === state.input.charCodeAt(_position + 2)) {\n\n    _position += 3;\n\n    ch = state.input.charCodeAt(_position);\n\n    if (ch === 0 || is_WS_OR_EOL(ch)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction writeFoldedLines(state, count) {\n  if (count === 1) {\n    state.result += ' ';\n  } else if (count > 1) {\n    state.result += common.repeat('\\n', count - 1);\n  }\n}\n\n\nfunction readPlainScalar(state, nodeIndent, withinFlowCollection) {\n  var preceding,\n      following,\n      captureStart,\n      captureEnd,\n      hasPendingContent,\n      _line,\n      _lineStart,\n      _lineIndent,\n      _kind = state.kind,\n      _result = state.result,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (is_WS_OR_EOL(ch)      ||\n      is_FLOW_INDICATOR(ch) ||\n      ch === 0x23/* # */    ||\n      ch === 0x26/* & */    ||\n      ch === 0x2A/* * */    ||\n      ch === 0x21/* ! */    ||\n      ch === 0x7C/* | */    ||\n      ch === 0x3E/* > */    ||\n      ch === 0x27/* ' */    ||\n      ch === 0x22/* \" */    ||\n      ch === 0x25/* % */    ||\n      ch === 0x40/* @ */    ||\n      ch === 0x60/* ` */) {\n    return false;\n  }\n\n  if (ch === 0x3F/* ? */ || ch === 0x2D/* - */) {\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (is_WS_OR_EOL(following) ||\n        withinFlowCollection && is_FLOW_INDICATOR(following)) {\n      return false;\n    }\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  captureStart = captureEnd = state.position;\n  hasPendingContent = false;\n\n  while (ch !== 0) {\n    if (ch === 0x3A/* : */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following) ||\n          withinFlowCollection && is_FLOW_INDICATOR(following)) {\n        break;\n      }\n\n    } else if (ch === 0x23/* # */) {\n      preceding = state.input.charCodeAt(state.position - 1);\n\n      if (is_WS_OR_EOL(preceding)) {\n        break;\n      }\n\n    } else if ((state.position === state.lineStart && testDocumentSeparator(state)) ||\n               withinFlowCollection && is_FLOW_INDICATOR(ch)) {\n      break;\n\n    } else if (is_EOL(ch)) {\n      _line = state.line;\n      _lineStart = state.lineStart;\n      _lineIndent = state.lineIndent;\n      skipSeparationSpace(state, false, -1);\n\n      if (state.lineIndent >= nodeIndent) {\n        hasPendingContent = true;\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      } else {\n        state.position = captureEnd;\n        state.line = _line;\n        state.lineStart = _lineStart;\n        state.lineIndent = _lineIndent;\n        break;\n      }\n    }\n\n    if (hasPendingContent) {\n      captureSegment(state, captureStart, captureEnd, false);\n      writeFoldedLines(state, state.line - _line);\n      captureStart = captureEnd = state.position;\n      hasPendingContent = false;\n    }\n\n    if (!is_WHITE_SPACE(ch)) {\n      captureEnd = state.position + 1;\n    }\n\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  captureSegment(state, captureStart, captureEnd, false);\n\n  if (state.result) {\n    return true;\n  }\n\n  state.kind = _kind;\n  state.result = _result;\n  return false;\n}\n\nfunction readSingleQuotedScalar(state, nodeIndent) {\n  var ch,\n      captureStart, captureEnd;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x27/* ' */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x27/* ' */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (ch === 0x27/* ' */) {\n        captureStart = state.position;\n        state.position++;\n        captureEnd = state.position;\n      } else {\n        return true;\n      }\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a single quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a single quoted scalar');\n}\n\nfunction readDoubleQuotedScalar(state, nodeIndent) {\n  var captureStart,\n      captureEnd,\n      hexLength,\n      hexResult,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x22/* \" */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x22/* \" */) {\n      captureSegment(state, captureStart, state.position, true);\n      state.position++;\n      return true;\n\n    } else if (ch === 0x5C/* \\ */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (is_EOL(ch)) {\n        skipSeparationSpace(state, false, nodeIndent);\n\n        // TODO: rework to inline fn with no type cast?\n      } else if (ch < 256 && simpleEscapeCheck[ch]) {\n        state.result += simpleEscapeMap[ch];\n        state.position++;\n\n      } else if ((tmp = escapedHexLen(ch)) > 0) {\n        hexLength = tmp;\n        hexResult = 0;\n\n        for (; hexLength > 0; hexLength--) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if ((tmp = fromHexCode(ch)) >= 0) {\n            hexResult = (hexResult << 4) + tmp;\n\n          } else {\n            throwError(state, 'expected hexadecimal character');\n          }\n        }\n\n        state.result += charFromCodepoint(hexResult);\n\n        state.position++;\n\n      } else {\n        throwError(state, 'unknown escape sequence');\n      }\n\n      captureStart = captureEnd = state.position;\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a double quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a double quoted scalar');\n}\n\nfunction readFlowCollection(state, nodeIndent) {\n  var readNext = true,\n      _line,\n      _lineStart,\n      _pos,\n      _tag     = state.tag,\n      _result,\n      _anchor  = state.anchor,\n      following,\n      terminator,\n      isPair,\n      isExplicitPair,\n      isMapping,\n      overridableKeys = Object.create(null),\n      keyNode,\n      keyTag,\n      valueNode,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x5B/* [ */) {\n    terminator = 0x5D;/* ] */\n    isMapping = false;\n    _result = [];\n  } else if (ch === 0x7B/* { */) {\n    terminator = 0x7D;/* } */\n    isMapping = true;\n    _result = {};\n  } else {\n    return false;\n  }\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  while (ch !== 0) {\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === terminator) {\n      state.position++;\n      state.tag = _tag;\n      state.anchor = _anchor;\n      state.kind = isMapping ? 'mapping' : 'sequence';\n      state.result = _result;\n      return true;\n    } else if (!readNext) {\n      throwError(state, 'missed comma between flow collection entries');\n    } else if (ch === 0x2C/* , */) {\n      // \"flow collection entries can never be completely empty\", as per YAML 1.2, section 7.4\n      throwError(state, \"expected the node content, but found ','\");\n    }\n\n    keyTag = keyNode = valueNode = null;\n    isPair = isExplicitPair = false;\n\n    if (ch === 0x3F/* ? */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following)) {\n        isPair = isExplicitPair = true;\n        state.position++;\n        skipSeparationSpace(state, true, nodeIndent);\n      }\n    }\n\n    _line = state.line; // Save the current line.\n    _lineStart = state.lineStart;\n    _pos = state.position;\n    composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n    keyTag = state.tag;\n    keyNode = state.result;\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((isExplicitPair || state.line === _line) && ch === 0x3A/* : */) {\n      isPair = true;\n      ch = state.input.charCodeAt(++state.position);\n      skipSeparationSpace(state, true, nodeIndent);\n      composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n      valueNode = state.result;\n    }\n\n    if (isMapping) {\n      storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos);\n    } else if (isPair) {\n      _result.push(storeMappingPair(state, null, overridableKeys, keyTag, keyNode, valueNode, _line, _lineStart, _pos));\n    } else {\n      _result.push(keyNode);\n    }\n\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === 0x2C/* , */) {\n      readNext = true;\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      readNext = false;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a flow collection');\n}\n\nfunction readBlockScalar(state, nodeIndent) {\n  var captureStart,\n      folding,\n      chomping       = CHOMPING_CLIP,\n      didReadContent = false,\n      detectedIndent = false,\n      textIndent     = nodeIndent,\n      emptyLines     = 0,\n      atMoreIndented = false,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x7C/* | */) {\n    folding = false;\n  } else if (ch === 0x3E/* > */) {\n    folding = true;\n  } else {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n\n  while (ch !== 0) {\n    ch = state.input.charCodeAt(++state.position);\n\n    if (ch === 0x2B/* + */ || ch === 0x2D/* - */) {\n      if (CHOMPING_CLIP === chomping) {\n        chomping = (ch === 0x2B/* + */) ? CHOMPING_KEEP : CHOMPING_STRIP;\n      } else {\n        throwError(state, 'repeat of a chomping mode identifier');\n      }\n\n    } else if ((tmp = fromDecimalCode(ch)) >= 0) {\n      if (tmp === 0) {\n        throwError(state, 'bad explicit indentation width of a block scalar; it cannot be less than one');\n      } else if (!detectedIndent) {\n        textIndent = nodeIndent + tmp - 1;\n        detectedIndent = true;\n      } else {\n        throwError(state, 'repeat of an indentation width identifier');\n      }\n\n    } else {\n      break;\n    }\n  }\n\n  if (is_WHITE_SPACE(ch)) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (is_WHITE_SPACE(ch));\n\n    if (ch === 0x23/* # */) {\n      do { ch = state.input.charCodeAt(++state.position); }\n      while (!is_EOL(ch) && (ch !== 0));\n    }\n  }\n\n  while (ch !== 0) {\n    readLineBreak(state);\n    state.lineIndent = 0;\n\n    ch = state.input.charCodeAt(state.position);\n\n    while ((!detectedIndent || state.lineIndent < textIndent) &&\n           (ch === 0x20/* Space */)) {\n      state.lineIndent++;\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (!detectedIndent && state.lineIndent > textIndent) {\n      textIndent = state.lineIndent;\n    }\n\n    if (is_EOL(ch)) {\n      emptyLines++;\n      continue;\n    }\n\n    // End of the scalar.\n    if (state.lineIndent < textIndent) {\n\n      // Perform the chomping.\n      if (chomping === CHOMPING_KEEP) {\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n      } else if (chomping === CHOMPING_CLIP) {\n        if (didReadContent) { // i.e. only if the scalar is not empty.\n          state.result += '\\n';\n        }\n      }\n\n      // Break this `while` cycle and go to the funciton's epilogue.\n      break;\n    }\n\n    // Folded style: use fancy rules to handle line breaks.\n    if (folding) {\n\n      // Lines starting with white space characters (more-indented lines) are not folded.\n      if (is_WHITE_SPACE(ch)) {\n        atMoreIndented = true;\n        // except for the first content line (cf. Example 8.1)\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n\n      // End of more-indented block.\n      } else if (atMoreIndented) {\n        atMoreIndented = false;\n        state.result += common.repeat('\\n', emptyLines + 1);\n\n      // Just one line break - perceive as the same line.\n      } else if (emptyLines === 0) {\n        if (didReadContent) { // i.e. only if we have already read some scalar content.\n          state.result += ' ';\n        }\n\n      // Several line breaks - perceive as different lines.\n      } else {\n        state.result += common.repeat('\\n', emptyLines);\n      }\n\n    // Literal style: just add exact number of line breaks between content lines.\n    } else {\n      // Keep all line breaks except the header line break.\n      state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n    }\n\n    didReadContent = true;\n    detectedIndent = true;\n    emptyLines = 0;\n    captureStart = state.position;\n\n    while (!is_EOL(ch) && (ch !== 0)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    captureSegment(state, captureStart, state.position, false);\n  }\n\n  return true;\n}\n\nfunction readBlockSequence(state, nodeIndent) {\n  var _line,\n      _tag      = state.tag,\n      _anchor   = state.anchor,\n      _result   = [],\n      following,\n      detected  = false,\n      ch;\n\n  // there is a leading tab before this token, so it can't be a block sequence/mapping;\n  // it can still be flow sequence/mapping or a scalar\n  if (state.firstTabInLine !== -1) return false;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    if (state.firstTabInLine !== -1) {\n      state.position = state.firstTabInLine;\n      throwError(state, 'tab characters must not be used in indentation');\n    }\n\n    if (ch !== 0x2D/* - */) {\n      break;\n    }\n\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (!is_WS_OR_EOL(following)) {\n      break;\n    }\n\n    detected = true;\n    state.position++;\n\n    if (skipSeparationSpace(state, true, -1)) {\n      if (state.lineIndent <= nodeIndent) {\n        _result.push(null);\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      }\n    }\n\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);\n    _result.push(state.result);\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((state.line === _line || state.lineIndent > nodeIndent) && (ch !== 0)) {\n      throwError(state, 'bad indentation of a sequence entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'sequence';\n    state.result = _result;\n    return true;\n  }\n  return false;\n}\n\nfunction readBlockMapping(state, nodeIndent, flowIndent) {\n  var following,\n      allowCompact,\n      _line,\n      _keyLine,\n      _keyLineStart,\n      _keyPos,\n      _tag          = state.tag,\n      _anchor       = state.anchor,\n      _result       = {},\n      overridableKeys = Object.create(null),\n      keyTag        = null,\n      keyNode       = null,\n      valueNode     = null,\n      atExplicitKey = false,\n      detected      = false,\n      ch;\n\n  // there is a leading tab before this token, so it can't be a block sequence/mapping;\n  // it can still be flow sequence/mapping or a scalar\n  if (state.firstTabInLine !== -1) return false;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    if (!atExplicitKey && state.firstTabInLine !== -1) {\n      state.position = state.firstTabInLine;\n      throwError(state, 'tab characters must not be used in indentation');\n    }\n\n    following = state.input.charCodeAt(state.position + 1);\n    _line = state.line; // Save the current line.\n\n    //\n    // Explicit notation case. There are two separate blocks:\n    // first for the key (denoted by \"?\") and second for the value (denoted by \":\")\n    //\n    if ((ch === 0x3F/* ? */ || ch === 0x3A/* : */) && is_WS_OR_EOL(following)) {\n\n      if (ch === 0x3F/* ? */) {\n        if (atExplicitKey) {\n          storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n          keyTag = keyNode = valueNode = null;\n        }\n\n        detected = true;\n        atExplicitKey = true;\n        allowCompact = true;\n\n      } else if (atExplicitKey) {\n        // i.e. 0x3A/* : */ === character after the explicit key.\n        atExplicitKey = false;\n        allowCompact = true;\n\n      } else {\n        throwError(state, 'incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line');\n      }\n\n      state.position += 1;\n      ch = following;\n\n    //\n    // Implicit notation case. Flow-style node as the key first, then \":\", and the value.\n    //\n    } else {\n      _keyLine = state.line;\n      _keyLineStart = state.lineStart;\n      _keyPos = state.position;\n\n      if (!composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {\n        // Neither implicit nor explicit notation.\n        // Reading is done. Go to the epilogue.\n        break;\n      }\n\n      if (state.line === _line) {\n        ch = state.input.charCodeAt(state.position);\n\n        while (is_WHITE_SPACE(ch)) {\n          ch = state.input.charCodeAt(++state.position);\n        }\n\n        if (ch === 0x3A/* : */) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if (!is_WS_OR_EOL(ch)) {\n            throwError(state, 'a whitespace character is expected after the key-value separator within a block mapping');\n          }\n\n          if (atExplicitKey) {\n            storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n            keyTag = keyNode = valueNode = null;\n          }\n\n          detected = true;\n          atExplicitKey = false;\n          allowCompact = false;\n          keyTag = state.tag;\n          keyNode = state.result;\n\n        } else if (detected) {\n          throwError(state, 'can not read an implicit mapping pair; a colon is missed');\n\n        } else {\n          state.tag = _tag;\n          state.anchor = _anchor;\n          return true; // Keep the result of `composeNode`.\n        }\n\n      } else if (detected) {\n        throwError(state, 'can not read a block mapping entry; a multiline key may not be an implicit key');\n\n      } else {\n        state.tag = _tag;\n        state.anchor = _anchor;\n        return true; // Keep the result of `composeNode`.\n      }\n    }\n\n    //\n    // Common reading code for both explicit and implicit notations.\n    //\n    if (state.line === _line || state.lineIndent > nodeIndent) {\n      if (atExplicitKey) {\n        _keyLine = state.line;\n        _keyLineStart = state.lineStart;\n        _keyPos = state.position;\n      }\n\n      if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {\n        if (atExplicitKey) {\n          keyNode = state.result;\n        } else {\n          valueNode = state.result;\n        }\n      }\n\n      if (!atExplicitKey) {\n        storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _keyLine, _keyLineStart, _keyPos);\n        keyTag = keyNode = valueNode = null;\n      }\n\n      skipSeparationSpace(state, true, -1);\n      ch = state.input.charCodeAt(state.position);\n    }\n\n    if ((state.line === _line || state.lineIndent > nodeIndent) && (ch !== 0)) {\n      throwError(state, 'bad indentation of a mapping entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  //\n  // Epilogue.\n  //\n\n  // Special case: last mapping's node contains only the key in explicit notation.\n  if (atExplicitKey) {\n    storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null, _keyLine, _keyLineStart, _keyPos);\n  }\n\n  // Expose the resulting mapping.\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'mapping';\n    state.result = _result;\n  }\n\n  return detected;\n}\n\nfunction readTagProperty(state) {\n  var _position,\n      isVerbatim = false,\n      isNamed    = false,\n      tagHandle,\n      tagName,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x21/* ! */) return false;\n\n  if (state.tag !== null) {\n    throwError(state, 'duplication of a tag property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  if (ch === 0x3C/* < */) {\n    isVerbatim = true;\n    ch = state.input.charCodeAt(++state.position);\n\n  } else if (ch === 0x21/* ! */) {\n    isNamed = true;\n    tagHandle = '!!';\n    ch = state.input.charCodeAt(++state.position);\n\n  } else {\n    tagHandle = '!';\n  }\n\n  _position = state.position;\n\n  if (isVerbatim) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (ch !== 0 && ch !== 0x3E/* > */);\n\n    if (state.position < state.length) {\n      tagName = state.input.slice(_position, state.position);\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      throwError(state, 'unexpected end of the stream within a verbatim tag');\n    }\n  } else {\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n\n      if (ch === 0x21/* ! */) {\n        if (!isNamed) {\n          tagHandle = state.input.slice(_position - 1, state.position + 1);\n\n          if (!PATTERN_TAG_HANDLE.test(tagHandle)) {\n            throwError(state, 'named tag handle cannot contain such characters');\n          }\n\n          isNamed = true;\n          _position = state.position + 1;\n        } else {\n          throwError(state, 'tag suffix cannot contain exclamation marks');\n        }\n      }\n\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    tagName = state.input.slice(_position, state.position);\n\n    if (PATTERN_FLOW_INDICATORS.test(tagName)) {\n      throwError(state, 'tag suffix cannot contain flow indicator characters');\n    }\n  }\n\n  if (tagName && !PATTERN_TAG_URI.test(tagName)) {\n    throwError(state, 'tag name cannot contain such characters: ' + tagName);\n  }\n\n  try {\n    tagName = decodeURIComponent(tagName);\n  } catch (err) {\n    throwError(state, 'tag name is malformed: ' + tagName);\n  }\n\n  if (isVerbatim) {\n    state.tag = tagName;\n\n  } else if (_hasOwnProperty$1.call(state.tagMap, tagHandle)) {\n    state.tag = state.tagMap[tagHandle] + tagName;\n\n  } else if (tagHandle === '!') {\n    state.tag = '!' + tagName;\n\n  } else if (tagHandle === '!!') {\n    state.tag = 'tag:yaml.org,2002:' + tagName;\n\n  } else {\n    throwError(state, 'undeclared tag handle \"' + tagHandle + '\"');\n  }\n\n  return true;\n}\n\nfunction readAnchorProperty(state) {\n  var _position,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x26/* & */) return false;\n\n  if (state.anchor !== null) {\n    throwError(state, 'duplication of an anchor property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an anchor node must contain at least one character');\n  }\n\n  state.anchor = state.input.slice(_position, state.position);\n  return true;\n}\n\nfunction readAlias(state) {\n  var _position, alias,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x2A/* * */) return false;\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an alias node must contain at least one character');\n  }\n\n  alias = state.input.slice(_position, state.position);\n\n  if (!_hasOwnProperty$1.call(state.anchorMap, alias)) {\n    throwError(state, 'unidentified alias \"' + alias + '\"');\n  }\n\n  state.result = state.anchorMap[alias];\n  skipSeparationSpace(state, true, -1);\n  return true;\n}\n\nfunction composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {\n  var allowBlockStyles,\n      allowBlockScalars,\n      allowBlockCollections,\n      indentStatus = 1, // 1: this>parent, 0: this=parent, -1: this<parent\n      atNewLine  = false,\n      hasContent = false,\n      typeIndex,\n      typeQuantity,\n      typeList,\n      type,\n      flowIndent,\n      blockIndent;\n\n  if (state.listener !== null) {\n    state.listener('open', state);\n  }\n\n  state.tag    = null;\n  state.anchor = null;\n  state.kind   = null;\n  state.result = null;\n\n  allowBlockStyles = allowBlockScalars = allowBlockCollections =\n    CONTEXT_BLOCK_OUT === nodeContext ||\n    CONTEXT_BLOCK_IN  === nodeContext;\n\n  if (allowToSeek) {\n    if (skipSeparationSpace(state, true, -1)) {\n      atNewLine = true;\n\n      if (state.lineIndent > parentIndent) {\n        indentStatus = 1;\n      } else if (state.lineIndent === parentIndent) {\n        indentStatus = 0;\n      } else if (state.lineIndent < parentIndent) {\n        indentStatus = -1;\n      }\n    }\n  }\n\n  if (indentStatus === 1) {\n    while (readTagProperty(state) || readAnchorProperty(state)) {\n      if (skipSeparationSpace(state, true, -1)) {\n        atNewLine = true;\n        allowBlockCollections = allowBlockStyles;\n\n        if (state.lineIndent > parentIndent) {\n          indentStatus = 1;\n        } else if (state.lineIndent === parentIndent) {\n          indentStatus = 0;\n        } else if (state.lineIndent < parentIndent) {\n          indentStatus = -1;\n        }\n      } else {\n        allowBlockCollections = false;\n      }\n    }\n  }\n\n  if (allowBlockCollections) {\n    allowBlockCollections = atNewLine || allowCompact;\n  }\n\n  if (indentStatus === 1 || CONTEXT_BLOCK_OUT === nodeContext) {\n    if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {\n      flowIndent = parentIndent;\n    } else {\n      flowIndent = parentIndent + 1;\n    }\n\n    blockIndent = state.position - state.lineStart;\n\n    if (indentStatus === 1) {\n      if (allowBlockCollections &&\n          (readBlockSequence(state, blockIndent) ||\n           readBlockMapping(state, blockIndent, flowIndent)) ||\n          readFlowCollection(state, flowIndent)) {\n        hasContent = true;\n      } else {\n        if ((allowBlockScalars && readBlockScalar(state, flowIndent)) ||\n            readSingleQuotedScalar(state, flowIndent) ||\n            readDoubleQuotedScalar(state, flowIndent)) {\n          hasContent = true;\n\n        } else if (readAlias(state)) {\n          hasContent = true;\n\n          if (state.tag !== null || state.anchor !== null) {\n            throwError(state, 'alias node should not have any properties');\n          }\n\n        } else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {\n          hasContent = true;\n\n          if (state.tag === null) {\n            state.tag = '?';\n          }\n        }\n\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else if (indentStatus === 0) {\n      // Special case: block sequences are allowed to have same indentation level as the parent.\n      // http://www.yaml.org/spec/1.2/spec.html#id2799784\n      hasContent = allowBlockCollections && readBlockSequence(state, blockIndent);\n    }\n  }\n\n  if (state.tag === null) {\n    if (state.anchor !== null) {\n      state.anchorMap[state.anchor] = state.result;\n    }\n\n  } else if (state.tag === '?') {\n    // Implicit resolving is not allowed for non-scalar types, and '?'\n    // non-specific tag is only automatically assigned to plain scalars.\n    //\n    // We only need to check kind conformity in case user explicitly assigns '?'\n    // tag, for example like this: \"!<?> [0]\"\n    //\n    if (state.result !== null && state.kind !== 'scalar') {\n      throwError(state, 'unacceptable node kind for !<?> tag; it should be \"scalar\", not \"' + state.kind + '\"');\n    }\n\n    for (typeIndex = 0, typeQuantity = state.implicitTypes.length; typeIndex < typeQuantity; typeIndex += 1) {\n      type = state.implicitTypes[typeIndex];\n\n      if (type.resolve(state.result)) { // `state.result` updated in resolver if matched\n        state.result = type.construct(state.result);\n        state.tag = type.tag;\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n        break;\n      }\n    }\n  } else if (state.tag !== '!') {\n    if (_hasOwnProperty$1.call(state.typeMap[state.kind || 'fallback'], state.tag)) {\n      type = state.typeMap[state.kind || 'fallback'][state.tag];\n    } else {\n      // looking for multi type\n      type = null;\n      typeList = state.typeMap.multi[state.kind || 'fallback'];\n\n      for (typeIndex = 0, typeQuantity = typeList.length; typeIndex < typeQuantity; typeIndex += 1) {\n        if (state.tag.slice(0, typeList[typeIndex].tag.length) === typeList[typeIndex].tag) {\n          type = typeList[typeIndex];\n          break;\n        }\n      }\n    }\n\n    if (!type) {\n      throwError(state, 'unknown tag !<' + state.tag + '>');\n    }\n\n    if (state.result !== null && type.kind !== state.kind) {\n      throwError(state, 'unacceptable node kind for !<' + state.tag + '> tag; it should be \"' + type.kind + '\", not \"' + state.kind + '\"');\n    }\n\n    if (!type.resolve(state.result, state.tag)) { // `state.result` updated in resolver if matched\n      throwError(state, 'cannot resolve a node with !<' + state.tag + '> explicit tag');\n    } else {\n      state.result = type.construct(state.result, state.tag);\n      if (state.anchor !== null) {\n        state.anchorMap[state.anchor] = state.result;\n      }\n    }\n  }\n\n  if (state.listener !== null) {\n    state.listener('close', state);\n  }\n  return state.tag !== null ||  state.anchor !== null || hasContent;\n}\n\nfunction readDocument(state) {\n  var documentStart = state.position,\n      _position,\n      directiveName,\n      directiveArgs,\n      hasDirectives = false,\n      ch;\n\n  state.version = null;\n  state.checkLineBreaks = state.legacy;\n  state.tagMap = Object.create(null);\n  state.anchorMap = Object.create(null);\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (state.lineIndent > 0 || ch !== 0x25/* % */) {\n      break;\n    }\n\n    hasDirectives = true;\n    ch = state.input.charCodeAt(++state.position);\n    _position = state.position;\n\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    directiveName = state.input.slice(_position, state.position);\n    directiveArgs = [];\n\n    if (directiveName.length < 1) {\n      throwError(state, 'directive name must not be less than one character in length');\n    }\n\n    while (ch !== 0) {\n      while (is_WHITE_SPACE(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      if (ch === 0x23/* # */) {\n        do { ch = state.input.charCodeAt(++state.position); }\n        while (ch !== 0 && !is_EOL(ch));\n        break;\n      }\n\n      if (is_EOL(ch)) break;\n\n      _position = state.position;\n\n      while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      directiveArgs.push(state.input.slice(_position, state.position));\n    }\n\n    if (ch !== 0) readLineBreak(state);\n\n    if (_hasOwnProperty$1.call(directiveHandlers, directiveName)) {\n      directiveHandlers[directiveName](state, directiveName, directiveArgs);\n    } else {\n      throwWarning(state, 'unknown document directive \"' + directiveName + '\"');\n    }\n  }\n\n  skipSeparationSpace(state, true, -1);\n\n  if (state.lineIndent === 0 &&\n      state.input.charCodeAt(state.position)     === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 1) === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 2) === 0x2D/* - */) {\n    state.position += 3;\n    skipSeparationSpace(state, true, -1);\n\n  } else if (hasDirectives) {\n    throwError(state, 'directives end mark is expected');\n  }\n\n  composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);\n  skipSeparationSpace(state, true, -1);\n\n  if (state.checkLineBreaks &&\n      PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {\n    throwWarning(state, 'non-ASCII line breaks are interpreted as content');\n  }\n\n  state.documents.push(state.result);\n\n  if (state.position === state.lineStart && testDocumentSeparator(state)) {\n\n    if (state.input.charCodeAt(state.position) === 0x2E/* . */) {\n      state.position += 3;\n      skipSeparationSpace(state, true, -1);\n    }\n    return;\n  }\n\n  if (state.position < (state.length - 1)) {\n    throwError(state, 'end of the stream or a document separator is expected');\n  } else {\n    return;\n  }\n}\n\n\nfunction loadDocuments(input, options) {\n  input = String(input);\n  options = options || {};\n\n  if (input.length !== 0) {\n\n    // Add tailing `\\n` if not exists\n    if (input.charCodeAt(input.length - 1) !== 0x0A/* LF */ &&\n        input.charCodeAt(input.length - 1) !== 0x0D/* CR */) {\n      input += '\\n';\n    }\n\n    // Strip BOM\n    if (input.charCodeAt(0) === 0xFEFF) {\n      input = input.slice(1);\n    }\n  }\n\n  var state = new State$1(input, options);\n\n  var nullpos = input.indexOf('\\0');\n\n  if (nullpos !== -1) {\n    state.position = nullpos;\n    throwError(state, 'null byte is not allowed in input');\n  }\n\n  // Use 0 as string terminator. That significantly simplifies bounds check.\n  state.input += '\\0';\n\n  while (state.input.charCodeAt(state.position) === 0x20/* Space */) {\n    state.lineIndent += 1;\n    state.position += 1;\n  }\n\n  while (state.position < (state.length - 1)) {\n    readDocument(state);\n  }\n\n  return state.documents;\n}\n\n\nfunction loadAll$1(input, iterator, options) {\n  if (iterator !== null && typeof iterator === 'object' && typeof options === 'undefined') {\n    options = iterator;\n    iterator = null;\n  }\n\n  var documents = loadDocuments(input, options);\n\n  if (typeof iterator !== 'function') {\n    return documents;\n  }\n\n  for (var index = 0, length = documents.length; index < length; index += 1) {\n    iterator(documents[index]);\n  }\n}\n\n\nfunction load$1(input, options) {\n  var documents = loadDocuments(input, options);\n\n  if (documents.length === 0) {\n    /*eslint-disable no-undefined*/\n    return undefined;\n  } else if (documents.length === 1) {\n    return documents[0];\n  }\n  throw new exception('expected a single document in the stream, but found more');\n}\n\n\nvar loadAll_1 = loadAll$1;\nvar load_1    = load$1;\n\nvar loader = {\n\tloadAll: loadAll_1,\n\tload: load_1\n};\n\n/*eslint-disable no-use-before-define*/\n\n\n\n\n\nvar _toString       = Object.prototype.toString;\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar CHAR_BOM                  = 0xFEFF;\nvar CHAR_TAB                  = 0x09; /* Tab */\nvar CHAR_LINE_FEED            = 0x0A; /* LF */\nvar CHAR_CARRIAGE_RETURN      = 0x0D; /* CR */\nvar CHAR_SPACE                = 0x20; /* Space */\nvar CHAR_EXCLAMATION          = 0x21; /* ! */\nvar CHAR_DOUBLE_QUOTE         = 0x22; /* \" */\nvar CHAR_SHARP                = 0x23; /* # */\nvar CHAR_PERCENT              = 0x25; /* % */\nvar CHAR_AMPERSAND            = 0x26; /* & */\nvar CHAR_SINGLE_QUOTE         = 0x27; /* ' */\nvar CHAR_ASTERISK             = 0x2A; /* * */\nvar CHAR_COMMA                = 0x2C; /* , */\nvar CHAR_MINUS                = 0x2D; /* - */\nvar CHAR_COLON                = 0x3A; /* : */\nvar CHAR_EQUALS               = 0x3D; /* = */\nvar CHAR_GREATER_THAN         = 0x3E; /* > */\nvar CHAR_QUESTION             = 0x3F; /* ? */\nvar CHAR_COMMERCIAL_AT        = 0x40; /* @ */\nvar CHAR_LEFT_SQUARE_BRACKET  = 0x5B; /* [ */\nvar CHAR_RIGHT_SQUARE_BRACKET = 0x5D; /* ] */\nvar CHAR_GRAVE_ACCENT         = 0x60; /* ` */\nvar CHAR_LEFT_CURLY_BRACKET   = 0x7B; /* { */\nvar CHAR_VERTICAL_LINE        = 0x7C; /* | */\nvar CHAR_RIGHT_CURLY_BRACKET  = 0x7D; /* } */\n\nvar ESCAPE_SEQUENCES = {};\n\nESCAPE_SEQUENCES[0x00]   = '\\\\0';\nESCAPE_SEQUENCES[0x07]   = '\\\\a';\nESCAPE_SEQUENCES[0x08]   = '\\\\b';\nESCAPE_SEQUENCES[0x09]   = '\\\\t';\nESCAPE_SEQUENCES[0x0A]   = '\\\\n';\nESCAPE_SEQUENCES[0x0B]   = '\\\\v';\nESCAPE_SEQUENCES[0x0C]   = '\\\\f';\nESCAPE_SEQUENCES[0x0D]   = '\\\\r';\nESCAPE_SEQUENCES[0x1B]   = '\\\\e';\nESCAPE_SEQUENCES[0x22]   = '\\\\\"';\nESCAPE_SEQUENCES[0x5C]   = '\\\\\\\\';\nESCAPE_SEQUENCES[0x85]   = '\\\\N';\nESCAPE_SEQUENCES[0xA0]   = '\\\\_';\nESCAPE_SEQUENCES[0x2028] = '\\\\L';\nESCAPE_SEQUENCES[0x2029] = '\\\\P';\n\nvar DEPRECATED_BOOLEANS_SYNTAX = [\n  'y', 'Y', 'yes', 'Yes', 'YES', 'on', 'On', 'ON',\n  'n', 'N', 'no', 'No', 'NO', 'off', 'Off', 'OFF'\n];\n\nvar DEPRECATED_BASE60_SYNTAX = /^[-+]?[0-9_]+(?::[0-9_]+)+(?:\\.[0-9_]*)?$/;\n\nfunction compileStyleMap(schema, map) {\n  var result, keys, index, length, tag, style, type;\n\n  if (map === null) return {};\n\n  result = {};\n  keys = Object.keys(map);\n\n  for (index = 0, length = keys.length; index < length; index += 1) {\n    tag = keys[index];\n    style = String(map[tag]);\n\n    if (tag.slice(0, 2) === '!!') {\n      tag = 'tag:yaml.org,2002:' + tag.slice(2);\n    }\n    type = schema.compiledTypeMap['fallback'][tag];\n\n    if (type && _hasOwnProperty.call(type.styleAliases, style)) {\n      style = type.styleAliases[style];\n    }\n\n    result[tag] = style;\n  }\n\n  return result;\n}\n\nfunction encodeHex(character) {\n  var string, handle, length;\n\n  string = character.toString(16).toUpperCase();\n\n  if (character <= 0xFF) {\n    handle = 'x';\n    length = 2;\n  } else if (character <= 0xFFFF) {\n    handle = 'u';\n    length = 4;\n  } else if (character <= 0xFFFFFFFF) {\n    handle = 'U';\n    length = 8;\n  } else {\n    throw new exception('code point within a string may not be greater than 0xFFFFFFFF');\n  }\n\n  return '\\\\' + handle + common.repeat('0', length - string.length) + string;\n}\n\n\nvar QUOTING_TYPE_SINGLE = 1,\n    QUOTING_TYPE_DOUBLE = 2;\n\nfunction State(options) {\n  this.schema        = options['schema'] || _default;\n  this.indent        = Math.max(1, (options['indent'] || 2));\n  this.noArrayIndent = options['noArrayIndent'] || false;\n  this.skipInvalid   = options['skipInvalid'] || false;\n  this.flowLevel     = (common.isNothing(options['flowLevel']) ? -1 : options['flowLevel']);\n  this.styleMap      = compileStyleMap(this.schema, options['styles'] || null);\n  this.sortKeys      = options['sortKeys'] || false;\n  this.lineWidth     = options['lineWidth'] || 80;\n  this.noRefs        = options['noRefs'] || false;\n  this.noCompatMode  = options['noCompatMode'] || false;\n  this.condenseFlow  = options['condenseFlow'] || false;\n  this.quotingType   = options['quotingType'] === '\"' ? QUOTING_TYPE_DOUBLE : QUOTING_TYPE_SINGLE;\n  this.forceQuotes   = options['forceQuotes'] || false;\n  this.replacer      = typeof options['replacer'] === 'function' ? options['replacer'] : null;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.explicitTypes = this.schema.compiledExplicit;\n\n  this.tag = null;\n  this.result = '';\n\n  this.duplicates = [];\n  this.usedDuplicates = null;\n}\n\n// Indents every line in a string. Empty lines (\\n only) are not indented.\nfunction indentString(string, spaces) {\n  var ind = common.repeat(' ', spaces),\n      position = 0,\n      next = -1,\n      result = '',\n      line,\n      length = string.length;\n\n  while (position < length) {\n    next = string.indexOf('\\n', position);\n    if (next === -1) {\n      line = string.slice(position);\n      position = length;\n    } else {\n      line = string.slice(position, next + 1);\n      position = next + 1;\n    }\n\n    if (line.length && line !== '\\n') result += ind;\n\n    result += line;\n  }\n\n  return result;\n}\n\nfunction generateNextLine(state, level) {\n  return '\\n' + common.repeat(' ', state.indent * level);\n}\n\nfunction testImplicitResolving(state, str) {\n  var index, length, type;\n\n  for (index = 0, length = state.implicitTypes.length; index < length; index += 1) {\n    type = state.implicitTypes[index];\n\n    if (type.resolve(str)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// [33] s-white ::= s-space | s-tab\nfunction isWhitespace(c) {\n  return c === CHAR_SPACE || c === CHAR_TAB;\n}\n\n// Returns true if the character can be printed without escaping.\n// From YAML 1.2: \"any allowed characters known to be non-printable\n// should also be escaped. [However,] This isnt mandatory\"\n// Derived from nb-char - \\t - #x85 - #xA0 - #x2028 - #x2029.\nfunction isPrintable(c) {\n  return  (0x00020 <= c && c <= 0x00007E)\n      || ((0x000A1 <= c && c <= 0x00D7FF) && c !== 0x2028 && c !== 0x2029)\n      || ((0x0E000 <= c && c <= 0x00FFFD) && c !== CHAR_BOM)\n      ||  (0x10000 <= c && c <= 0x10FFFF);\n}\n\n// [34] ns-char ::= nb-char - s-white\n// [27] nb-char ::= c-printable - b-char - c-byte-order-mark\n// [26] b-char  ::= b-line-feed | b-carriage-return\n// Including s-white (for some reason, examples doesn't match specs in this aspect)\n// ns-char ::= c-printable - b-line-feed - b-carriage-return - c-byte-order-mark\nfunction isNsCharOrWhitespace(c) {\n  return isPrintable(c)\n    && c !== CHAR_BOM\n    // - b-char\n    && c !== CHAR_CARRIAGE_RETURN\n    && c !== CHAR_LINE_FEED;\n}\n\n// [127]  ns-plain-safe(c) ::= c = flow-out   ns-plain-safe-out\n//                             c = flow-in    ns-plain-safe-in\n//                             c = block-key  ns-plain-safe-out\n//                             c = flow-key   ns-plain-safe-in\n// [128] ns-plain-safe-out ::= ns-char\n// [129]  ns-plain-safe-in ::= ns-char - c-flow-indicator\n// [130]  ns-plain-char(c) ::=  ( ns-plain-safe(c) - : - # )\n//                            | ( /* An ns-char preceding */ # )\n//                            | ( : /* Followed by an ns-plain-safe(c) */ )\nfunction isPlainSafe(c, prev, inblock) {\n  var cIsNsCharOrWhitespace = isNsCharOrWhitespace(c);\n  var cIsNsChar = cIsNsCharOrWhitespace && !isWhitespace(c);\n  return (\n    // ns-plain-safe\n    inblock ? // c = flow-in\n      cIsNsCharOrWhitespace\n      : cIsNsCharOrWhitespace\n        // - c-flow-indicator\n        && c !== CHAR_COMMA\n        && c !== CHAR_LEFT_SQUARE_BRACKET\n        && c !== CHAR_RIGHT_SQUARE_BRACKET\n        && c !== CHAR_LEFT_CURLY_BRACKET\n        && c !== CHAR_RIGHT_CURLY_BRACKET\n  )\n    // ns-plain-char\n    && c !== CHAR_SHARP // false on '#'\n    && !(prev === CHAR_COLON && !cIsNsChar) // false on ': '\n    || (isNsCharOrWhitespace(prev) && !isWhitespace(prev) && c === CHAR_SHARP) // change to true on '[^ ]#'\n    || (prev === CHAR_COLON && cIsNsChar); // change to true on ':[^ ]'\n}\n\n// Simplified test for values allowed as the first character in plain style.\nfunction isPlainSafeFirst(c) {\n  // Uses a subset of ns-char - c-indicator\n  // where ns-char = nb-char - s-white.\n  // No support of ( ( ? | : | - ) /* Followed by an ns-plain-safe(c)) */ ) part\n  return isPrintable(c) && c !== CHAR_BOM\n    && !isWhitespace(c) // - s-white\n    // - (c-indicator ::=\n    // - | ? | : | , | [ | ] | { | }\n    && c !== CHAR_MINUS\n    && c !== CHAR_QUESTION\n    && c !== CHAR_COLON\n    && c !== CHAR_COMMA\n    && c !== CHAR_LEFT_SQUARE_BRACKET\n    && c !== CHAR_RIGHT_SQUARE_BRACKET\n    && c !== CHAR_LEFT_CURLY_BRACKET\n    && c !== CHAR_RIGHT_CURLY_BRACKET\n    // | # | & | * | ! | | | = | > | ' | \"\n    && c !== CHAR_SHARP\n    && c !== CHAR_AMPERSAND\n    && c !== CHAR_ASTERISK\n    && c !== CHAR_EXCLAMATION\n    && c !== CHAR_VERTICAL_LINE\n    && c !== CHAR_EQUALS\n    && c !== CHAR_GREATER_THAN\n    && c !== CHAR_SINGLE_QUOTE\n    && c !== CHAR_DOUBLE_QUOTE\n    // | % | @ | `)\n    && c !== CHAR_PERCENT\n    && c !== CHAR_COMMERCIAL_AT\n    && c !== CHAR_GRAVE_ACCENT;\n}\n\n// Simplified test for values allowed as the last character in plain style.\nfunction isPlainSafeLast(c) {\n  // just not whitespace or colon, it will be checked to be plain character later\n  return !isWhitespace(c) && c !== CHAR_COLON;\n}\n\n// Same as 'string'.codePointAt(pos), but works in older browsers.\nfunction codePointAt(string, pos) {\n  var first = string.charCodeAt(pos), second;\n  if (first >= 0xD800 && first <= 0xDBFF && pos + 1 < string.length) {\n    second = string.charCodeAt(pos + 1);\n    if (second >= 0xDC00 && second <= 0xDFFF) {\n      // https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n      return (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n    }\n  }\n  return first;\n}\n\n// Determines whether block indentation indicator is required.\nfunction needIndentIndicator(string) {\n  var leadingSpaceRe = /^\\n* /;\n  return leadingSpaceRe.test(string);\n}\n\nvar STYLE_PLAIN   = 1,\n    STYLE_SINGLE  = 2,\n    STYLE_LITERAL = 3,\n    STYLE_FOLDED  = 4,\n    STYLE_DOUBLE  = 5;\n\n// Determines which scalar styles are possible and returns the preferred style.\n// lineWidth = -1 => no limit.\n// Pre-conditions: str.length > 0.\n// Post-conditions:\n//    STYLE_PLAIN or STYLE_SINGLE => no \\n are in the string.\n//    STYLE_LITERAL => no lines are suitable for folding (or lineWidth is -1).\n//    STYLE_FOLDED => a line > lineWidth and can be folded (and lineWidth != -1).\nfunction chooseScalarStyle(string, singleLineOnly, indentPerLevel, lineWidth,\n  testAmbiguousType, quotingType, forceQuotes, inblock) {\n\n  var i;\n  var char = 0;\n  var prevChar = null;\n  var hasLineBreak = false;\n  var hasFoldableLine = false; // only checked if shouldTrackWidth\n  var shouldTrackWidth = lineWidth !== -1;\n  var previousLineBreak = -1; // count the first line correctly\n  var plain = isPlainSafeFirst(codePointAt(string, 0))\n          && isPlainSafeLast(codePointAt(string, string.length - 1));\n\n  if (singleLineOnly || forceQuotes) {\n    // Case: no block styles.\n    // Check for disallowed characters to rule out plain and single.\n    for (i = 0; i < string.length; char >= 0x10000 ? i += 2 : i++) {\n      char = codePointAt(string, i);\n      if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char, prevChar, inblock);\n      prevChar = char;\n    }\n  } else {\n    // Case: block styles permitted.\n    for (i = 0; i < string.length; char >= 0x10000 ? i += 2 : i++) {\n      char = codePointAt(string, i);\n      if (char === CHAR_LINE_FEED) {\n        hasLineBreak = true;\n        // Check if any line can be folded.\n        if (shouldTrackWidth) {\n          hasFoldableLine = hasFoldableLine ||\n            // Foldable line = too long, and not more-indented.\n            (i - previousLineBreak - 1 > lineWidth &&\n             string[previousLineBreak + 1] !== ' ');\n          previousLineBreak = i;\n        }\n      } else if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char, prevChar, inblock);\n      prevChar = char;\n    }\n    // in case the end is missing a \\n\n    hasFoldableLine = hasFoldableLine || (shouldTrackWidth &&\n      (i - previousLineBreak - 1 > lineWidth &&\n       string[previousLineBreak + 1] !== ' '));\n  }\n  // Although every style can represent \\n without escaping, prefer block styles\n  // for multiline, since they're more readable and they don't add empty lines.\n  // Also prefer folding a super-long line.\n  if (!hasLineBreak && !hasFoldableLine) {\n    // Strings interpretable as another type have to be quoted;\n    // e.g. the string 'true' vs. the boolean true.\n    if (plain && !forceQuotes && !testAmbiguousType(string)) {\n      return STYLE_PLAIN;\n    }\n    return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;\n  }\n  // Edge case: block indentation indicator can only have one digit.\n  if (indentPerLevel > 9 && needIndentIndicator(string)) {\n    return STYLE_DOUBLE;\n  }\n  // At this point we know block styles are valid.\n  // Prefer literal style unless we want to fold.\n  if (!forceQuotes) {\n    return hasFoldableLine ? STYLE_FOLDED : STYLE_LITERAL;\n  }\n  return quotingType === QUOTING_TYPE_DOUBLE ? STYLE_DOUBLE : STYLE_SINGLE;\n}\n\n// Note: line breaking/folding is implemented for only the folded style.\n// NB. We drop the last trailing newline (if any) of a returned block scalar\n//  since the dumper adds its own newline. This always works:\n//     No ending newline => unaffected; already using strip \"-\" chomping.\n//     Ending newline    => removed then restored.\n//  Importantly, this keeps the \"+\" chomp indicator from gaining an extra line.\nfunction writeScalar(state, string, level, iskey, inblock) {\n  state.dump = (function () {\n    if (string.length === 0) {\n      return state.quotingType === QUOTING_TYPE_DOUBLE ? '\"\"' : \"''\";\n    }\n    if (!state.noCompatMode) {\n      if (DEPRECATED_BOOLEANS_SYNTAX.indexOf(string) !== -1 || DEPRECATED_BASE60_SYNTAX.test(string)) {\n        return state.quotingType === QUOTING_TYPE_DOUBLE ? ('\"' + string + '\"') : (\"'\" + string + \"'\");\n      }\n    }\n\n    var indent = state.indent * Math.max(1, level); // no 0-indent scalars\n    // As indentation gets deeper, let the width decrease monotonically\n    // to the lower bound min(state.lineWidth, 40).\n    // Note that this implies\n    //  state.lineWidth  40 + state.indent: width is fixed at the lower bound.\n    //  state.lineWidth > 40 + state.indent: width decreases until the lower bound.\n    // This behaves better than a constant minimum width which disallows narrower options,\n    // or an indent threshold which causes the width to suddenly increase.\n    var lineWidth = state.lineWidth === -1\n      ? -1 : Math.max(Math.min(state.lineWidth, 40), state.lineWidth - indent);\n\n    // Without knowing if keys are implicit/explicit, assume implicit for safety.\n    var singleLineOnly = iskey\n      // No block styles in flow mode.\n      || (state.flowLevel > -1 && level >= state.flowLevel);\n    function testAmbiguity(string) {\n      return testImplicitResolving(state, string);\n    }\n\n    switch (chooseScalarStyle(string, singleLineOnly, state.indent, lineWidth,\n      testAmbiguity, state.quotingType, state.forceQuotes && !iskey, inblock)) {\n\n      case STYLE_PLAIN:\n        return string;\n      case STYLE_SINGLE:\n        return \"'\" + string.replace(/'/g, \"''\") + \"'\";\n      case STYLE_LITERAL:\n        return '|' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(string, indent));\n      case STYLE_FOLDED:\n        return '>' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(foldString(string, lineWidth), indent));\n      case STYLE_DOUBLE:\n        return '\"' + escapeString(string) + '\"';\n      default:\n        throw new exception('impossible error: invalid scalar style');\n    }\n  }());\n}\n\n// Pre-conditions: string is valid for a block scalar, 1 <= indentPerLevel <= 9.\nfunction blockHeader(string, indentPerLevel) {\n  var indentIndicator = needIndentIndicator(string) ? String(indentPerLevel) : '';\n\n  // note the special case: the string '\\n' counts as a \"trailing\" empty line.\n  var clip =          string[string.length - 1] === '\\n';\n  var keep = clip && (string[string.length - 2] === '\\n' || string === '\\n');\n  var chomp = keep ? '+' : (clip ? '' : '-');\n\n  return indentIndicator + chomp + '\\n';\n}\n\n// (See the note for writeScalar.)\nfunction dropEndingNewline(string) {\n  return string[string.length - 1] === '\\n' ? string.slice(0, -1) : string;\n}\n\n// Note: a long line without a suitable break point will exceed the width limit.\n// Pre-conditions: every char in str isPrintable, str.length > 0, width > 0.\nfunction foldString(string, width) {\n  // In folded style, $k$ consecutive newlines output as $k+1$ newlines\n  // unless they're before or after a more-indented line, or at the very\n  // beginning or end, in which case $k$ maps to $k$.\n  // Therefore, parse each chunk as newline(s) followed by a content line.\n  var lineRe = /(\\n+)([^\\n]*)/g;\n\n  // first line (possibly an empty line)\n  var result = (function () {\n    var nextLF = string.indexOf('\\n');\n    nextLF = nextLF !== -1 ? nextLF : string.length;\n    lineRe.lastIndex = nextLF;\n    return foldLine(string.slice(0, nextLF), width);\n  }());\n  // If we haven't reached the first content line yet, don't add an extra \\n.\n  var prevMoreIndented = string[0] === '\\n' || string[0] === ' ';\n  var moreIndented;\n\n  // rest of the lines\n  var match;\n  while ((match = lineRe.exec(string))) {\n    var prefix = match[1], line = match[2];\n    moreIndented = (line[0] === ' ');\n    result += prefix\n      + (!prevMoreIndented && !moreIndented && line !== ''\n        ? '\\n' : '')\n      + foldLine(line, width);\n    prevMoreIndented = moreIndented;\n  }\n\n  return result;\n}\n\n// Greedy line breaking.\n// Picks the longest line under the limit each time,\n// otherwise settles for the shortest line over the limit.\n// NB. More-indented lines *cannot* be folded, as that would add an extra \\n.\nfunction foldLine(line, width) {\n  if (line === '' || line[0] === ' ') return line;\n\n  // Since a more-indented line adds a \\n, breaks can't be followed by a space.\n  var breakRe = / [^ ]/g; // note: the match index will always be <= length-2.\n  var match;\n  // start is an inclusive index. end, curr, and next are exclusive.\n  var start = 0, end, curr = 0, next = 0;\n  var result = '';\n\n  // Invariants: 0 <= start <= length-1.\n  //   0 <= curr <= next <= max(0, length-2). curr - start <= width.\n  // Inside the loop:\n  //   A match implies length >= 2, so curr and next are <= length-2.\n  while ((match = breakRe.exec(line))) {\n    next = match.index;\n    // maintain invariant: curr - start <= width\n    if (next - start > width) {\n      end = (curr > start) ? curr : next; // derive end <= length-2\n      result += '\\n' + line.slice(start, end);\n      // skip the space that was output as \\n\n      start = end + 1;                    // derive start <= length-1\n    }\n    curr = next;\n  }\n\n  // By the invariants, start <= length-1, so there is something left over.\n  // It is either the whole string or a part starting from non-whitespace.\n  result += '\\n';\n  // Insert a break if the remainder is too long and there is a break available.\n  if (line.length - start > width && curr > start) {\n    result += line.slice(start, curr) + '\\n' + line.slice(curr + 1);\n  } else {\n    result += line.slice(start);\n  }\n\n  return result.slice(1); // drop extra \\n joiner\n}\n\n// Escapes a double-quoted string.\nfunction escapeString(string) {\n  var result = '';\n  var char = 0;\n  var escapeSeq;\n\n  for (var i = 0; i < string.length; char >= 0x10000 ? i += 2 : i++) {\n    char = codePointAt(string, i);\n    escapeSeq = ESCAPE_SEQUENCES[char];\n\n    if (!escapeSeq && isPrintable(char)) {\n      result += string[i];\n      if (char >= 0x10000) result += string[i + 1];\n    } else {\n      result += escapeSeq || encodeHex(char);\n    }\n  }\n\n  return result;\n}\n\nfunction writeFlowSequence(state, level, object) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length,\n      value;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    value = object[index];\n\n    if (state.replacer) {\n      value = state.replacer.call(object, String(index), value);\n    }\n\n    // Write only valid elements, put null instead of invalid elements.\n    if (writeNode(state, level, value, false, false) ||\n        (typeof value === 'undefined' &&\n         writeNode(state, level, null, false, false))) {\n\n      if (_result !== '') _result += ',' + (!state.condenseFlow ? ' ' : '');\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = '[' + _result + ']';\n}\n\nfunction writeBlockSequence(state, level, object, compact) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length,\n      value;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    value = object[index];\n\n    if (state.replacer) {\n      value = state.replacer.call(object, String(index), value);\n    }\n\n    // Write only valid elements, put null instead of invalid elements.\n    if (writeNode(state, level + 1, value, true, true, false, true) ||\n        (typeof value === 'undefined' &&\n         writeNode(state, level + 1, null, true, true, false, true))) {\n\n      if (!compact || _result !== '') {\n        _result += generateNextLine(state, level);\n      }\n\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        _result += '-';\n      } else {\n        _result += '- ';\n      }\n\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '[]'; // Empty sequence if no valid values.\n}\n\nfunction writeFlowMapping(state, level, object) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      pairBuffer;\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n\n    pairBuffer = '';\n    if (_result !== '') pairBuffer += ', ';\n\n    if (state.condenseFlow) pairBuffer += '\"';\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (state.replacer) {\n      objectValue = state.replacer.call(object, objectKey, objectValue);\n    }\n\n    if (!writeNode(state, level, objectKey, false, false)) {\n      continue; // Skip this pair because of invalid key;\n    }\n\n    if (state.dump.length > 1024) pairBuffer += '? ';\n\n    pairBuffer += state.dump + (state.condenseFlow ? '\"' : '') + ':' + (state.condenseFlow ? '' : ' ');\n\n    if (!writeNode(state, level, objectValue, false, false)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = '{' + _result + '}';\n}\n\nfunction writeBlockMapping(state, level, object, compact) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      explicitPair,\n      pairBuffer;\n\n  // Allow sorting keys so that the output file is deterministic\n  if (state.sortKeys === true) {\n    // Default sorting\n    objectKeyList.sort();\n  } else if (typeof state.sortKeys === 'function') {\n    // Custom sort function\n    objectKeyList.sort(state.sortKeys);\n  } else if (state.sortKeys) {\n    // Something is wrong\n    throw new exception('sortKeys must be a boolean or a function');\n  }\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = '';\n\n    if (!compact || _result !== '') {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (state.replacer) {\n      objectValue = state.replacer.call(object, objectKey, objectValue);\n    }\n\n    if (!writeNode(state, level + 1, objectKey, true, true, true)) {\n      continue; // Skip this pair because of invalid key.\n    }\n\n    explicitPair = (state.tag !== null && state.tag !== '?') ||\n                   (state.dump && state.dump.length > 1024);\n\n    if (explicitPair) {\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        pairBuffer += '?';\n      } else {\n        pairBuffer += '? ';\n      }\n    }\n\n    pairBuffer += state.dump;\n\n    if (explicitPair) {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n      pairBuffer += ':';\n    } else {\n      pairBuffer += ': ';\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '{}'; // Empty mapping if no valid pairs.\n}\n\nfunction detectType(state, object, explicit) {\n  var _result, typeList, index, length, type, style;\n\n  typeList = explicit ? state.explicitTypes : state.implicitTypes;\n\n  for (index = 0, length = typeList.length; index < length; index += 1) {\n    type = typeList[index];\n\n    if ((type.instanceOf  || type.predicate) &&\n        (!type.instanceOf || ((typeof object === 'object') && (object instanceof type.instanceOf))) &&\n        (!type.predicate  || type.predicate(object))) {\n\n      if (explicit) {\n        if (type.multi && type.representName) {\n          state.tag = type.representName(object);\n        } else {\n          state.tag = type.tag;\n        }\n      } else {\n        state.tag = '?';\n      }\n\n      if (type.represent) {\n        style = state.styleMap[type.tag] || type.defaultStyle;\n\n        if (_toString.call(type.represent) === '[object Function]') {\n          _result = type.represent(object, style);\n        } else if (_hasOwnProperty.call(type.represent, style)) {\n          _result = type.represent[style](object, style);\n        } else {\n          throw new exception('!<' + type.tag + '> tag resolver accepts not \"' + style + '\" style');\n        }\n\n        state.dump = _result;\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// Serializes `object` and writes it to global `result`.\n// Returns true on success, or false on invalid object.\n//\nfunction writeNode(state, level, object, block, compact, iskey, isblockseq) {\n  state.tag = null;\n  state.dump = object;\n\n  if (!detectType(state, object, false)) {\n    detectType(state, object, true);\n  }\n\n  var type = _toString.call(state.dump);\n  var inblock = block;\n  var tagStr;\n\n  if (block) {\n    block = (state.flowLevel < 0 || state.flowLevel > level);\n  }\n\n  var objectOrArray = type === '[object Object]' || type === '[object Array]',\n      duplicateIndex,\n      duplicate;\n\n  if (objectOrArray) {\n    duplicateIndex = state.duplicates.indexOf(object);\n    duplicate = duplicateIndex !== -1;\n  }\n\n  if ((state.tag !== null && state.tag !== '?') || duplicate || (state.indent !== 2 && level > 0)) {\n    compact = false;\n  }\n\n  if (duplicate && state.usedDuplicates[duplicateIndex]) {\n    state.dump = '*ref_' + duplicateIndex;\n  } else {\n    if (objectOrArray && duplicate && !state.usedDuplicates[duplicateIndex]) {\n      state.usedDuplicates[duplicateIndex] = true;\n    }\n    if (type === '[object Object]') {\n      if (block && (Object.keys(state.dump).length !== 0)) {\n        writeBlockMapping(state, level, state.dump, compact);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowMapping(state, level, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object Array]') {\n      if (block && (state.dump.length !== 0)) {\n        if (state.noArrayIndent && !isblockseq && level > 0) {\n          writeBlockSequence(state, level - 1, state.dump, compact);\n        } else {\n          writeBlockSequence(state, level, state.dump, compact);\n        }\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowSequence(state, level, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object String]') {\n      if (state.tag !== '?') {\n        writeScalar(state, state.dump, level, iskey, inblock);\n      }\n    } else if (type === '[object Undefined]') {\n      return false;\n    } else {\n      if (state.skipInvalid) return false;\n      throw new exception('unacceptable kind of an object to dump ' + type);\n    }\n\n    if (state.tag !== null && state.tag !== '?') {\n      // Need to encode all characters except those allowed by the spec:\n      //\n      // [35] ns-dec-digit    ::=  [#x30-#x39] /* 0-9 */\n      // [36] ns-hex-digit    ::=  ns-dec-digit\n      //                         | [#x41-#x46] /* A-F */ | [#x61-#x66] /* a-f */\n      // [37] ns-ascii-letter ::=  [#x41-#x5A] /* A-Z */ | [#x61-#x7A] /* a-z */\n      // [38] ns-word-char    ::=  ns-dec-digit | ns-ascii-letter | -\n      // [39] ns-uri-char     ::=  % ns-hex-digit ns-hex-digit | ns-word-char | #\n      //                         | ; | / | ? | : | @ | & | = | + | $ | ,\n      //                         | _ | . | ! | ~ | * | ' | ( | ) | [ | ]\n      //\n      // Also need to encode '!' because it has special meaning (end of tag prefix).\n      //\n      tagStr = encodeURI(\n        state.tag[0] === '!' ? state.tag.slice(1) : state.tag\n      ).replace(/!/g, '%21');\n\n      if (state.tag[0] === '!') {\n        tagStr = '!' + tagStr;\n      } else if (tagStr.slice(0, 18) === 'tag:yaml.org,2002:') {\n        tagStr = '!!' + tagStr.slice(18);\n      } else {\n        tagStr = '!<' + tagStr + '>';\n      }\n\n      state.dump = tagStr + ' ' + state.dump;\n    }\n  }\n\n  return true;\n}\n\nfunction getDuplicateReferences(object, state) {\n  var objects = [],\n      duplicatesIndexes = [],\n      index,\n      length;\n\n  inspectNode(object, objects, duplicatesIndexes);\n\n  for (index = 0, length = duplicatesIndexes.length; index < length; index += 1) {\n    state.duplicates.push(objects[duplicatesIndexes[index]]);\n  }\n  state.usedDuplicates = new Array(length);\n}\n\nfunction inspectNode(object, objects, duplicatesIndexes) {\n  var objectKeyList,\n      index,\n      length;\n\n  if (object !== null && typeof object === 'object') {\n    index = objects.indexOf(object);\n    if (index !== -1) {\n      if (duplicatesIndexes.indexOf(index) === -1) {\n        duplicatesIndexes.push(index);\n      }\n    } else {\n      objects.push(object);\n\n      if (Array.isArray(object)) {\n        for (index = 0, length = object.length; index < length; index += 1) {\n          inspectNode(object[index], objects, duplicatesIndexes);\n        }\n      } else {\n        objectKeyList = Object.keys(object);\n\n        for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n          inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);\n        }\n      }\n    }\n  }\n}\n\nfunction dump$1(input, options) {\n  options = options || {};\n\n  var state = new State(options);\n\n  if (!state.noRefs) getDuplicateReferences(input, state);\n\n  var value = input;\n\n  if (state.replacer) {\n    value = state.replacer.call({ '': value }, '', value);\n  }\n\n  if (writeNode(state, 0, value, true, true)) return state.dump + '\\n';\n\n  return '';\n}\n\nvar dump_1 = dump$1;\n\nvar dumper = {\n\tdump: dump_1\n};\n\nfunction renamed(from, to) {\n  return function () {\n    throw new Error('Function yaml.' + from + ' is removed in js-yaml 4. ' +\n      'Use yaml.' + to + ' instead, which is now safe by default.');\n  };\n}\n\n\nvar Type                = type;\nvar Schema              = schema;\nvar FAILSAFE_SCHEMA     = failsafe;\nvar JSON_SCHEMA         = json;\nvar CORE_SCHEMA         = core;\nvar DEFAULT_SCHEMA      = _default;\nvar load                = loader.load;\nvar loadAll             = loader.loadAll;\nvar dump                = dumper.dump;\nvar YAMLException       = exception;\n\n// Re-export all types in case user wants to create custom schema\nvar types = {\n  binary:    binary,\n  float:     float,\n  map:       map,\n  null:      _null,\n  pairs:     pairs,\n  set:       set,\n  timestamp: timestamp,\n  bool:      bool,\n  int:       int,\n  merge:     merge,\n  omap:      omap,\n  seq:       seq,\n  str:       str\n};\n\n// Removed functions from JS-YAML 3.0.x\nvar safeLoad            = renamed('safeLoad', 'load');\nvar safeLoadAll         = renamed('safeLoadAll', 'loadAll');\nvar safeDump            = renamed('safeDump', 'dump');\n\nvar jsYaml = {\n\tType: Type,\n\tSchema: Schema,\n\tFAILSAFE_SCHEMA: FAILSAFE_SCHEMA,\n\tJSON_SCHEMA: JSON_SCHEMA,\n\tCORE_SCHEMA: CORE_SCHEMA,\n\tDEFAULT_SCHEMA: DEFAULT_SCHEMA,\n\tload: load,\n\tloadAll: loadAll,\n\tdump: dump,\n\tYAMLException: YAMLException,\n\ttypes: types,\n\tsafeLoad: safeLoad,\n\tsafeLoadAll: safeLoadAll,\n\tsafeDump: safeDump\n};\n\nexport default jsYaml;\nexport { CORE_SCHEMA, DEFAULT_SCHEMA, FAILSAFE_SCHEMA, JSON_SCHEMA, Schema, Type, YAMLException, dump, load, loadAll, safeDump, safeLoad, safeLoadAll, types };\n","import CreateAnyImage from './utils/CreateAnyImage.js';\r\n\r\nconst PhaserImage = Phaser.GameObjects.Image;\r\n\r\nvar CreateImage = function (scene, data, view, styles, customBuilders) {\r\n    return CreateAnyImage(scene, data, view, styles, customBuilders, PhaserImage);\r\n}\r\n\r\nexport default CreateImage;","import CreateAnyImage from './utils/CreateAnyImage.js';\r\n\r\nconst Sprite = Phaser.GameObjects.Sprite;\r\n\r\nvar CreateSprite = function (scene, data, view, styles, customBuilders) {\r\n    return CreateAnyImage(scene, data, view, styles, customBuilders, Sprite);\r\n}\r\n\r\nexport default CreateSprite;","import MergeStyle from './utils/MergeStyle.js';\r\nimport SetTextureProperties from './utils/SetTextureProperties.js';\r\n\r\nconst PhaserVideo = Phaser.GameObjects.Video;\r\n\r\nvar CreateVideo = function (scene, data, view, styles, customBuilders) {\r\n    data = MergeStyle(data, styles);\r\n    var gameObject = new PhaserVideo(scene, 0, 0, data.key);\r\n\r\n    if (data.width !== undefined) {\r\n        gameObject.setDisplayWidth(data.width);\r\n    }\r\n    if (data.height !== undefined) {\r\n        gameObject.setDisplayHeight(data.height);\r\n    }\r\n\r\n    SetTextureProperties(gameObject, data);\r\n\r\n    scene.add.existing(gameObject);\r\n    return gameObject;\r\n}\r\n\r\nexport default CreateVideo;","import MergeStyle from './utils/MergeStyle.js';\r\nimport SetTextureProperties from './utils/SetTextureProperties.js';\r\n\r\nconst PhaserText = Phaser.GameObjects.Text;\r\n\r\nvar CreateText = function (scene, data, view, styles, customBuilders) {\r\n    data = MergeStyle(data, styles);\r\n\r\n    var gameObject = new PhaserText(scene, 0, 0, data.text, data);\r\n\r\n    SetTextureProperties(gameObject, data);\r\n\r\n    scene.add.existing(gameObject);\r\n    return gameObject;\r\n}\r\n\r\nexport default CreateText;","import ParseYAML from './utils/ParseYAML.js';\r\nimport YAMLMake from './YAMLMake.js';\r\n\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\n\r\nclass Maker {\r\n    constructor(scene, styles, customBuilders) {\r\n        this.setScene(scene);\r\n        this.setStyles(styles);\r\n        this.setBuilders(customBuilders);\r\n    }\r\n\r\n    setScene(scene) {\r\n        this.scene = scene;\r\n        return this;\r\n    }\r\n\r\n    setStyles(styles) {\r\n        this.styles = ParseYAML(styles);\r\n        return this;\r\n    }\r\n\r\n    addStyle(key, style) {\r\n        if (this.styles === undefined) {\r\n            this.styles = {};\r\n        }\r\n\r\n        if ((typeof (key) === 'string') && (style === undefined)) {\r\n            key = ParseYAML(key);\r\n        }\r\n\r\n        if (IsPlainObject(key)) {\r\n            var styles = key;\r\n            for (key in styles) {\r\n                this.styles[key] = styles[key];\r\n            }\r\n        } else {\r\n            this.styles[key] = ParseYAML(style);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    clearStyles() {\r\n        this.setStyles();\r\n        return this;\r\n    }\r\n\r\n    setBuilders(customBuilders) {\r\n        this.customBuilders = customBuilders;\r\n        return this;\r\n    }\r\n\r\n    addBuilder(key, customBuilder) {\r\n        if (this.customBuilders === undefined) {\r\n            this.customBuilders = {};\r\n        }\r\n\r\n        if (IsPlainObject(key)) {\r\n            var customBuilders = key;\r\n            for (key in customBuilders) {\r\n                this.customBuilders[key] = customBuilders[key];\r\n            }\r\n        } else {\r\n            this.customBuilders[key] = customBuilder;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    clearBuilder() {\r\n        this.setBuilders();\r\n        return this;\r\n    }\r\n\r\n    make(data, view) {\r\n        return YAMLMake(this.scene, data, view, this.styles, this.customBuilders);\r\n    }\r\n}\r\n\r\nexport default Maker;","import InputText from '../../gameobjects/dom/inputtext/InputText.js';\r\nimport IsTextGameObject from '../../utils/text/IsTextGameObject.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar CreateInputText = function (text, config) {\r\n    if (config === undefined) {\r\n        config = {};\r\n    }\r\n\r\n    var scene = text.scene;\r\n    var style = text.style;\r\n    var backgroundColor = GetValue(config, 'backgroundColor', style.backgroundColor);\r\n    if (backgroundColor === null) {\r\n        backgroundColor = 'transparent';\r\n    }\r\n\r\n    config.text = GetValue(config, 'text', text.text);\r\n    config.fontFamily = GetValue(config, 'fontFamily', style.fontFamily);\r\n    config.fontSize = GetValue(config, 'fontSize', style.fontSize);\r\n    config.color = GetValue(config, 'color', style.color);\r\n    config.backgroundColor = backgroundColor;\r\n    config.direction = GetValue(config, 'rtl', style.rtl) ? 'rtl' : 'ltr';\r\n    config.align = GetValue(config, 'align', GetHAlign(style));\r\n\r\n    // Built-in text game object with RTL only has 'right' align\r\n    if ((config.direction === 'rtl') && (IsTextGameObject(text))) {\r\n        config.align = 'right';\r\n    }\r\n\r\n    // config.paddingLeft = 0;\r\n    // config.paddingRight = 0;\r\n    // config.paddingTop = 0;\r\n    // config.paddingBottom = 0;\r\n    // var valign = GetVAlign(style);\r\n    // switch (valign) {\r\n    //     case 'top':\r\n    //         break;\r\n    //     case 'bottom':\r\n    //         break;\r\n    // }\r\n\r\n    var inputText = new InputText(scene,\r\n        text.x, text.y,\r\n        GetValue(config, 'width', text.width),\r\n        GetValue(config, 'height', text.height),\r\n        config\r\n    );\r\n    inputText.setOrigin(text.originX, text.originY);\r\n    scene.add.existing(inputText);\r\n    return inputText;\r\n}\r\n\r\nvar GetHAlign = function (style) {\r\n    if (style.hasOwnProperty('align')) {\r\n        return style.align;\r\n    } else if (style.hasOwnProperty('halign')) {\r\n        return style.halign;\r\n    } else {\r\n        return 'left';\r\n    }\r\n}\r\n\r\nvar GetVAlign = function (style) {\r\n    if (style.hasOwnProperty('halign')) {\r\n        return style.halign;\r\n    } else {\r\n        return 'top';\r\n    }\r\n}\r\n\r\n\r\nexport default CreateInputText;","import ComponentBase from '../../utils/componentbase/ComponentBase.js';\r\nimport CreateInputTextFromText from './CreateInputText.js';\r\nimport IsFunction from '../../utils/object/IsFunction.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\n\r\nvar LastOpenedEditor = undefined;\r\n\r\nclass TextEdit extends ComponentBase {\r\n    constructor(gameObject) {\r\n        // No event emitter\r\n        super(gameObject, { eventEmitter: false });\r\n        // this.parent = gameObject;\r\n\r\n        this.inputText = undefined;\r\n        this.onClose = undefined;\r\n        this.delayCall = undefined;\r\n    }\r\n\r\n    shutdown(fromScene) {\r\n        // Already shutdown\r\n        if (this.isShutdown) {\r\n            return;\r\n        }\r\n\r\n        this.close();\r\n        if (LastOpenedEditor === this) {\r\n            LastOpenedEditor = undefined;\r\n        }\r\n\r\n        super.shutdown(fromScene);\r\n    }\r\n\r\n    open(config, onCloseCallback) {\r\n        if (LastOpenedEditor !== undefined) {\r\n            LastOpenedEditor.close();\r\n        }\r\n\r\n        LastOpenedEditor = this;\r\n        if (IsFunction(config)) {\r\n            onCloseCallback = config;\r\n            config = undefined;\r\n        }\r\n        if (onCloseCallback === undefined) {\r\n            onCloseCallback = GetValue(config, 'onClose', undefined);\r\n        }\r\n\r\n        var onOpenCallback = GetValue(config, 'onOpen', undefined);\r\n        var customOnTextChanged = GetValue(config, 'onTextChanged', undefined);\r\n\r\n        this.inputText = CreateInputTextFromText(this.parent, config)\r\n            .on('textchange', function (inputText) {\r\n                var text = inputText.text;\r\n                if (customOnTextChanged) { // Custom on-text-changed callback\r\n                    customOnTextChanged(this.parent, text);\r\n                } else { // Default on-text-changed callback\r\n                    this.parent.text = text;\r\n                }\r\n            }, this)\r\n            .setFocus();\r\n        this.parent.setVisible(false); // Set parent text invisible\r\n\r\n        // Attach close event\r\n        this.onClose = onCloseCallback;\r\n        if (GetValue(config, 'enterClose', true)) {\r\n            this.scene.input.keyboard.once('keydown-ENTER', this.close, this);\r\n        }\r\n        // Attach pointerdown (outside of input-text) event, at next tick\r\n        this.delayCall = this.scene.time.delayedCall(0, function () {\r\n            this.scene.input.once('pointerdown', this.close, this);\r\n\r\n            // Open editor completly, invoke onOpenCallback\r\n            if (onOpenCallback) {\r\n                onOpenCallback(this.parent)\r\n            }\r\n\r\n        }, [], this);\r\n\r\n        return this;\r\n    }\r\n\r\n    close() {\r\n        LastOpenedEditor = undefined;\r\n        if (!this.inputText) {\r\n            return this;\r\n        }\r\n\r\n        this.parent.setVisible(true); // Set parent text visible\r\n\r\n        this.inputText.destroy();\r\n        this.inputText = undefined;\r\n        if (this.delayCall) {\r\n            this.delayCall.remove();\r\n            this.delayCall = undefined;\r\n        }\r\n\r\n        // Remove close event\r\n        this.scene.input.keyboard.off('keydown-ENTER', this.close, this);\r\n        this.scene.input.off('pointerdown', this.close, this);\r\n\r\n        if (this.onClose) {\r\n            this.onClose(this.parent);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    get isOpened() {\r\n        return (this.inputText !== undefined);\r\n    }\r\n\r\n    get text() {\r\n        return (this.isOpened) ? this.inputText.text : this.parent.text;\r\n    }\r\n}\r\n\r\nexport default TextEdit;","var GetStoreKey = function (key, prefix) {\r\n    if (prefix && prefix !== '') {\r\n        return `${prefix}.${key}`;\r\n    } else {\r\n        return key;\r\n    }\r\n};\r\n\r\nvar GetDataKey = function (key, prefix) {\r\n    if (prefix && prefix !== '') {\r\n        return key.substring(prefix.length + 1)\r\n    } else {\r\n        return key;\r\n    }\r\n}\r\n\r\nvar SetItem = function (dataKey, prefix, value) {\r\n    // Ref : https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API#basic_concepts\r\n    // **The keys and the values are always strings**\r\n    value = JSON.stringify([value]);\r\n    localStorage.setItem(GetStoreKey(dataKey, prefix), value);\r\n}\r\n\r\nvar GetItem = function (dataKey, prefix) {\r\n    var value = localStorage.getItem(GetStoreKey(dataKey, prefix));\r\n\r\n    if (value == null) {\r\n        return undefined;\r\n    } else {\r\n        value = JSON.parse(value)[0];\r\n        return value\r\n    }\r\n}\r\n\r\nvar RemoveItem = function (dataKey, prefix) {\r\n    localStorage.removeItem(GetStoreKey(dataKey, prefix));\r\n    return this;\r\n}\r\n\r\nexport {\r\n    GetStoreKey, GetDataKey,\r\n    SetItem, GetItem, RemoveItem\r\n}","import {\r\n    GetStoreKey, GetDataKey,\r\n    SetItem, GetItem, RemoveItem\r\n} from '../utils/StorageMethods.js';\r\n\r\nexport default {\r\n    getStoreKey(dataKey) {\r\n        return GetStoreKey(dataKey, this.name);\r\n    },\r\n\r\n    getDataKey(storeKey) {\r\n        return GetDataKey(storeKey, this.name);\r\n    },\r\n\r\n    setItem(dataKey, value) {\r\n        SetItem(dataKey, this.name, value);\r\n        return this;\r\n    },\r\n\r\n    getItem(dataKey) {\r\n        return GetItem(dataKey, this.name);\r\n    },\r\n\r\n    removeItem(dataKey) {\r\n        RemoveItem(dataKey, this.name);\r\n        return this;\r\n    }\r\n}","var LoadDataKeys = function () {\r\n    this.dataKeys.clear();\r\n    var keys = this.getItem('__keys__');\r\n    if (keys) {\r\n        for (var i = 0, cnt = keys.length; i < cnt; i++) {\r\n            this.dataKeys.set(keys[i]);\r\n        }\r\n    }\r\n    return this;\r\n}\r\n\r\nvar Load = function (defaultData, reset) {\r\n    if (defaultData === undefined) {\r\n        reset = false;\r\n    }\r\n\r\n    LoadDataKeys.call(this);\r\n    this.defaultData = defaultData;\r\n\r\n    this._syncEnable = false;\r\n    this.reset();\r\n    if (!reset) {\r\n        // Load data from localstorage according to dataKeys\r\n        this.dataKeys.iterate(function (dataKey, index) {\r\n            this.set(dataKey, this.getItem(dataKey));\r\n        }, this);\r\n    }\r\n    this._syncEnable = true;\r\n\r\n    if (defaultData) {  // Load data according to defaultData        \r\n        var value, prevValue;\r\n        for (var dataKey in defaultData) {\r\n            prevValue = (reset) ? undefined : this.getItem(dataKey);\r\n            value = (prevValue === undefined) ? defaultData[dataKey] : prevValue;\r\n            this.set(dataKey, value);\r\n        }\r\n\r\n        this.setItem('__keys__', this.dataKeys.entries);\r\n    }\r\n\r\n    return this;\r\n}\r\n\r\nexport default Load;","var GetDefaultValue = function (key) {\r\n    return (this.defaultData) ? this.defaultData[key] : undefined;\r\n}\r\nexport default GetDefaultValue;","var AddCallbacks = function (dataManager) {\r\n    dataManager.events\r\n\r\n        // Change value\r\n        .on('changedata', function (parent, key, value, previousValue) {\r\n            if (!this._syncEnable) {\r\n                return;\r\n            }\r\n            if ((typeof (value) !== 'object') && (value === previousValue)) {\r\n                return;\r\n            }\r\n            this.setItem(key, value);\r\n            if (!this.dataKeys.contains(key)) {\r\n                this.dataKeys.set(key);\r\n                this.setItem('__keys__', this.dataKeys.entries);\r\n            }\r\n        }, dataManager)\r\n\r\n        // Add key\r\n        .on('setdata', function (parent, key, value) {\r\n            if (!this._syncEnable) {\r\n                return;\r\n            }\r\n            this.setItem(key, value);\r\n            this.dataKeys.set(key);\r\n            this.setItem('__keys__', this.dataKeys.entries);\r\n        }, dataManager)\r\n\r\n        // Remove key\r\n        .on('removedata', function (parent, key, value) {\r\n            if (!this._syncEnable) {\r\n                return;\r\n            }\r\n            this.removeItem(key);\r\n            this.dataKeys.delete(key);\r\n            this.setItem('__keys__', this.dataKeys.entries);\r\n        }, dataManager);\r\n\r\n}\r\n\r\nexport default AddCallbacks;","import StorageMethods from './StorageMethods.js';\r\nimport Load from './Load.js';\r\nimport GetDefaultValue from './GetDefaultValue.js';\r\nimport AddCallbacks from './AddCallbacks.js';\r\n\r\nconst GetValue = Phaser.Utils.Objects.GetValue;\r\nconst SetStruct = Phaser.Structs.Set;\r\n\r\n\r\nvar methods = {\r\n    load: Load,\r\n    getDefaultValue: GetDefaultValue,\r\n}\r\n\r\nvar Extend = function (dataManager, config) {\r\n    if (dataManager.hasOwnProperty('_syncEnable')) {\r\n        // Already extended\r\n        return dataManager;\r\n    }\r\n\r\n    dataManager._syncEnable = true;\r\n    dataManager.dataKeys = new SetStruct();\r\n    dataManager.defaultData = undefined;\r\n\r\n    Object.assign(\r\n        dataManager,\r\n        StorageMethods,\r\n        methods\r\n    );\r\n\r\n    AddCallbacks(dataManager);\r\n\r\n    dataManager.name = GetValue(config, 'name', '');\r\n\r\n    var load = GetValue(config, 'load', true);\r\n    if (load) {\r\n        var defaultData = GetValue(config, 'default', undefined);\r\n        var resetFlag = GetValue(config, 'reset', false);\r\n        dataManager.load(defaultData, resetFlag);\r\n    }\r\n\r\n    return dataManager;\r\n}\r\n\r\nexport default Extend","import Extend from './Extend.js';\r\n\r\nconst Base = Phaser.Data.DataManager;\r\nconst EventEmitterKlass = Phaser.Events.EventEmitter;\r\nconst IsPlainObject = Phaser.Utils.Objects.IsPlainObject;\r\n\r\nclass DataManager extends Base {\r\n    constructor(parent, eventEmitter, config) {\r\n        if (IsPlainObject(parent)) {\r\n            config = parent;\r\n            parent = undefined;\r\n            eventEmitter = undefined;\r\n        } else if (IsPlainObject(eventEmitter)) {\r\n            config = eventEmitter;\r\n            eventEmitter = undefined;\r\n        }\r\n\r\n        var useDefaultEventEmitter = (eventEmitter === undefined);\r\n        if (useDefaultEventEmitter) {\r\n            eventEmitter = new EventEmitterKlass();\r\n        }\r\n        if (parent === undefined) {\r\n            parent = eventEmitter;\r\n        }\r\n\r\n        super(parent, eventEmitter);\r\n\r\n        if (useDefaultEventEmitter) {\r\n            var parentEventEmitter = (parent.events) ? parent.events : parent;\r\n            if (parentEventEmitter) {\r\n                parentEventEmitter.once('destroy', this.destroy, this);\r\n            }\r\n        }\r\n\r\n        Extend(this, config);\r\n    }\r\n}\r\n\r\nexport default DataManager;"],"names":["Utils","WebGLRenderer","renderer","src","camera","parentMatrix","frame","width","height","getTint","pipeline","textureUnit","CanvasRenderer","Render$4","Color","CanvasMethods","color","url","callback","self","img","resolve","reject","type","encoderOptions","x","y","out","rgb","r","g","b","a","imgData","CopyCanvasToTexture","scene","srcCanvas","key","textures","texture","destCanvas","destCtx","TextureMethods","scope","input","textureFrame","CanvasPool","GameObject","Canvas","value","readOnly","Components","Render","Pad","GetStyle","style","canvas","context","DrawCircle","rx","ry","fillStyle","strokeStyle","lineWidth","startAngle","endAngle","anticlockwise","DrawText","text","font","textAlign","textBaseline","DrawContent","barRadius","centerRadius","DrawCicle","deltaAngle","EventEmitterMethods","eventEmitter","EventEmitterClass","event","SceneClass","IsSceneObject","object","GetSceneObject","GetValue","ComponentBase","parent","config","fromScene","TickTask","mode","TICKINGMODE","SceneUpdateTickTask","Clamp","Timer","o","IDLE","timeScale","delay","duration","repeat","COUNTDOWN","DELAY","time","delta","DONE","TimerTickTask","GetAdvancedValue","GetEaseFunction","EaseValueTaskBase","e","target","ease","toEnd","timer","Linear","EaseValueTask","gameObject","currentValue","t","Percent","SetEaseValuePropName","name","SetEaseValueDuration","SetEaseValueFunction","StopEaseValue","EaseValueTo","min","max","EaseValueMethods","IsPlainObject","DefaultStartAngle","CircularProgress","radius","barColor","textFont","oldValue","valueChanged","inc","angle","thickness","color2","fontSize","fontFamily","fontStyle","SetGetFrameNameCallback","DefaultGetFrameNameCallback","colIndex","rowIndex","baseFrameName","DeepClone","inObject","outObject","SetTexture","columns","rows","baseFrame","remainderTextureWidth","unknownColumnWidthCount","i","cnt","unknownColumnWidth","remainderTextureHeight","unknownRowHeightCount","unknownRowHeight","row","col","rowHeight","colWidth","frameName","offsetX","offsetY","j","jcnt","icnt","frameNameType","UpdateTexture","minWidth","minHeight","stretchWidth","stretchHeight","fixedPartScaleX","fixedPartScaleY","minScale","compensationWidth","compensationHeight","proportionWidth","proportionHeight","imageType","SetStretchMode","parseMode","EXTENDMODE","IsEdge","GetStretchMode","SetPreserveRatio","enable","SetMaxFixedPartScale","scaleX","scaleY","NOOP","Methods$b","NinePatchBase","GOClass","NinePatch","maxFixedPartScale","maxFixedPartScaleX","maxFixedPartScaleY","Methods","MakeChildImageGameObject","className","DrawImage","DrawTileSprite","Methods$a","RenderTexture","GetCalcMatrix","bobs","roundPixels","result","calcMatrix","dx","dy","alpha","SetTransform","ctx","Render$3","Resize","AddChild","bob","RemoveItem","RemoveChild","RemoveChildren","GetLastAppendedChildren","GetChildren","TintMethods","tint","methods","Stack","l","arr","Pools","PoolManager","bobType","Pool","List","StableSort","Blitter","reuseBob","needDepthSort","children","child","ChildCanRender","SortByDepth","childA","childB","ImageTypeName","source","defaultValue","keys","Clear","obj","Clone","objIsArray","DataMethods","data","mul","Base","displayListDirty","active","DegToRad","RadToDeg","RenderBase","visible","rotation","keepAspectRatio","originX","originY","depth","scale","origin","TransformMatrix","GetTint","FrameMatrix","WebglRender","displayOriginX","displayOriginY","flipX","flipY","tx","ty","tw","th","tx0","tx1","tx2","tx3","ty0","ty1","ty2","ty3","u0","v0","u1","v1","CanvasRender","ImageData","AddImage","blitter","frameObj","frameWidth","frameHeight","colCount","rowCount","Methods$9","RoundRectangle","radiusConfig","defaultRadiusX","defaultRadiusY","GetRadius","SetRadius","LineTo","pathData","lastX","lastY","ArcTo","centerX","centerY","radiusX","radiusY","antiClockWise","iteration","step","FillPathWebGL","fillTintColor","path","pathIndexes","p0","p1","p2","x0","y0","x1","y1","x2","y2","StrokePathWebGL","strokeTint","strokeTintColor","pathLength","halfLineWidth","px1","py1","px2","py2","PolygonWebGLRenderer","FillStyleCanvas","altColor","altAlpha","fillColor","fillAlpha","red","green","blue","LineStyleCanvas","strokeColor","strokeAlpha","PolygonCanvasRenderer","Render$2","Shape","Earcut","strokeWidth","geom","GeomRoundRectangle","cornerRadius","isArcCorner","Rad0","Rad90","Rad180","Rad270","AddRoundRectanglePath","scaleRX","scaleRY","DrawRoundRectangle","fillColor2","isHorizontalGradient","grd","DrawRoundRectangleBackground","canvasObject","strokeLineWidth","Render$1","MeasureText","textStyle","metrics","ascent","descent","output","baseline","imagedata","pixels","line","idx","stop","CONST","propertyMap","TextStyle","updateText","setDefaults","wrap","WRAPMODE","prop","objKey","postCallback","fill","imageData","enabled","recalculateMetrics","newFont","family","size","string","blur","shadowStroke","shadowFill","offset","halign","valign","MeasureTextMargins","testString","DrawMethods","startX","startY","textWidth","textHeight","penManager","defaultStyle","defaultHalign","lineHeight","lines","totalLinesNum","maxLines","drawLinesNum","drawLineStartIdx","drawLineEndIdx","rtl","rtlOffset","lineIdx","pens","penCount","penIdx","penAlign","pen","curStyle","savedLineCap","imgKey","NO_NEWLINE","RAW_NEWLINE","Pen","txt","len","GetFastValue","WRAPPED_NEWLINE","PensPool","LinesPool","PenManager","newLineMode","PEN_CONFIG","previousPen","targetPenManager","li","llen","pi","plen","hasLastPen","lastPen","w","maxW","start","end","penTxt","penStartIdx","penEndIdx","isInRange","currentProp","previousProp","Rectangle","RectanglePool","HitAreaManager","rectangle","hitArea","graphics","SetInteractive","OnAreaDown","OnAreaUp","OnAreaOverOut","pointer","localX","localY","area","FireEvent","hitAreaKey","eventName","FreeLine","FreeLines","GetLine","NO_WRAP","WORD_WRAP","CHAR_WRAP","splitRegExp","WrapText","getTextWidth","wrapMode","wrapWidth","retLines","isNoWrap","isWordWrap","remainWidth","linesLen","tokenArray","isSpaceCharacterEnd","token","tokenWidth","isLastToken","lineText","currLineWidth","whiteSpaceWidth","tokenLen","lastwordBreakLine","CanvasText","padding","cursorX","cursorY","customTextWrapCallback","customTextWrapCallbackScope","reuseLines","plainText","curProp","match","wrapLines","imgWidth","n","jLen","linesCount","linesHeight","retPenManager","ret","textureKey","frameKey","autoRound","ImageManager","AddToDOM","RemoveFromDOM","SPLITREGEXP","PensPools","Text","parser","align","left","top","right","bottom","runWrap","canvasText","linesWidth","h","resolution","hitAreaCallback","dropZone","isInteractived","GetOpenTagRegString","tagName","param","GetCloseTagRegString","NUMBER_PARAM","COLOR_PARAM","STR_PARAM","ESC","ESC_OPEN","ESC_CLOSE","RAW","RAW_OPEN","RAW_CLOSE","BLOD","BLOD_OPEN","BLOD_CLOSE","ITALICS","ITALICS_OPEN","ITALICS_CLOSE","WEIGHT","WEIGHT_OPEN","WEIGHT_CLOSE","SIZE","SIZE_OPEN","SIZE_CLOSE","COLOR","COLOR_OPEN","COLOR_CLOSE","UNDERLINE","UNDERLINE_OPEN","UNDERLINE_OPENC","UNDERLINE_CLOSE","SHADOW","SHADOW_OPEN","SHADOW_CLOSE","STROKE","STROKE_OPEN","STROKE_OPENC","STROKE_CLOSE","OFFSETY","OFFSETY_OPEN","OFFSETY_CLOSE","IMAGE","IMAGE_OPEN","IMAGE_CLOSE","AREA","AREA_OPEN","AREA_CLOSE","ALIGN","ALIGN_OPEN","ALIGN_CLOSE","RE_ESC_OPEN","RE_ESC_CLOSE","RE_RAW_OPEN","RE_RAW_CLOSE","RE_BLOD_OPEN","RE_BLOD_CLOSE","RE_ITALICS_OPEN","RE_ITALICS_CLOSE","RE_WEIGHT_OPEN","RE_WEIGHT_CLOSE","RE_SIZE_OPEN","RE_SIZE_CLOSE","RE_COLOR_OPEN","RE_COLOR_CLOSE","RE_UNDERLINE_OPEN","RE_UNDERLINE_OPENC","RE_UNDERLINE_CLOSE","RE_SHADOW_OPEN","RE_SHADOW_CLOSE","RE_STROKE_OPEN","RE_STROKE_OPENC","RE_STROKE_CLOSE","RE_OFFSETY_OPEN","RE_OFFSETY_CLOSE","RE_IMAGE_OPEN","RE_IMAGE_CLOSE","RE_AREA_OPEN","RE_AREA_CLOSE","RE_ALIGN_OPEN","RE_ALIGN_CLOSE","RE_SPLITTEXT","SplitText","charIdx","rawMode","escMode","regexResult","matchEnd","matchStart","content","totalLen","PROP_REMOVE","PROP_ADD","GETPROP_RESULT","TagTextToProp","prevProp","UpdateProp","innerMatch","op","PropToContextStyle","STYLE_RESULT","GetFontStyle","isBold","weight","isItalic","PropToTagText","EMPTYPROP","headers","k","Parser","strokeThickness","SetProperties","properties","property","RouteEvents","element","elementEvents","elementEventName","StopPropagationTouchEvents","DOMElement","InputText","textType","SetPrpoerties","ElementProperties","StyleProperties","elementStyle","ElementEvents","selectionStart","selectionEnd","node","IsPointerInHitArea","preTest","postTest","HitTest","inputManager","pointersTotal","pointers","cameras","gameObjects","NumberInputUpdateCallback","textObject","hiddenInputText","previousText","cursorPosition","Wrap","HiddenInputText","onUpdateCallback","newText","s","cursor","timerValue","Zone","AddItem","destroyChild","GetParent","GetTopmostParent","GetLocalState","rexContainer","Parent","localState","BaseAdd","Add","state","SetupSyncFlags","AddLocal","AddChild$2","BaseRemove","BaseClear","RemoveChild$2","ChildState","RotateAround","Transform","point","GetScale","Position","Rotation","Scale$1","Visible$1","maskVisible","Alpha","Active","ScrollFactor","Mask","maskGameObject","mask","destroyMask","SortGameObjectsByDepth","descending","displayList","Depth","containerOnly","containerB","depthA","depthB","DepthFirstSearch","root","skip","BreadthFirstSearch","queue","current","ArrayUtils","Children","recursive","startIndex","length","endIndex","child1","child2","GetLocalStates","localStates","GetScene","UpdateChild","tween","Tween","tweenConfig","targets","onUpdate","timelineConfig","tweens","timeline","AddToLayer","layer","AddToContainer","ChangeOrigin","deltaXY","ChangeOriginBase","Scale","Visible","ContainerLite","dirty","Background","InnerBounds","GetProperty","defaultConfig","sourceTextStyle","targetTextStyle","stroke","hasFill","hasStroke","SetFixedSize","GetPadding","SetPadding","keyType","paddingLeft","paddingRight","paddingTop","paddingBottom","SetPaddingBase","GetPaddingBase","ModifyTextStyle","ResetTextStyle","ClearContent","CharTypeName","CmdTypeName","CanRender","IsNewLineChar","IsCommand","CharData","AppendText","bobArray","char","SetText","AppendImage","Command","AppendCommand","SetWrapConfig","GetWord","charMode","currentIndex","word","wordWidth","OffsetChildren","GetChildrenAlign","AlignLines","hAlign","vAlign","lcnt","lineHAlign","RunWordWrap","innerHeight","showAllLines","letterSpacing","charWrap","remainderWidth","childIndex","lastChildIndex","resultChildren","resultLines","lastLine","lastLineWidth","maxLineWidth","wordResult","charCnt","isNewLineChar","innerWidth","Merge","RunWordWrapBase","lineVAlign","RunVerticalWrap","extraTopPadding","extraBottomPadding","extraLeftPadding","extraRightPadding","fixedChildHeight","charPerLine","wrapHeight","remainderHeight","lastLineHeight","maxLineHeight","childHeight","RunVerticalWrapBase","GetAll","GetActiveChildren","Methods$8","DynamicText","fixedWidth","fixedHeight","textStyleConfig","EscapeRegex","re0","re1","FLOAT","convert","ParseValue","valueConverter","values","DefaultTagExpression","DefaultValueExpression","BypassValueConverter","BracketParser","delimiters","express","converter","DefaultValueConverter","delimiterLeft","delimiterRight","tagOn","tagOff","index","lastIndex","tagContent","tag","OnParseColorTag","textPlayer","defaultColor","OnParseStrokeColorTag","defaultStroke","OnParseBoldTag","OnParseItalicTag","OnParseFontSizeTag","defaultFontSize","OnParseOffsetYTag","defaultOffsetY","OnParseShadowColorTag","defaultShadowColor","OnParseAlignTag","OnParseImageTag","AppendImageBase","OnParseTypingSpeedTag","speed","SetTypingSpeed","AppendCommandBase","OnParsePlaySoundEffectTag","fadeInTime","PlaySoundEffect","params","OnParseFadeInSoundEffectTag","FadeInSoundEffect","OnParseFadeOutSoundEffectTag","isStopped","FadeOutSoundEffect","OnParseSetSoundEffectVolumeTag","SetSoundEffectVolume","OnParsePlayBackgroundMusicTag","PlayBackgroundMusic","StopBackgroundMusic","OnParseFadeInBackgroundMusicTag","FadeInBackgroundMusic","OnParseFadeOutBackgroundMusicTag","FadeOutBackgroundMusic","OnParseCrossFadeBackgroundMusicTag","fadeTime","CrossFadeBackgroundMusic","OnParsePauseBackgroundMusicTag","PauseBackgroundMusic","ResumeBackgroundMusic","OnParseFadeInCameraTag","PlayFadeInEffect","OnParseFadeOutCameraTag","PlayFadeOutEffect","OnParseShakeCameraTag","intensity","PlayShakeEffect","OnParseFlashCameraTag","PlayFlashEffect","OnParseZoomCameraTag","Zoom","ZoomTo","OnParseRotateCameraTag","Rotate","RotateTo","OnParseScrollCameraTag","Scroll","ScrollTo","xSave","ySave","OnParseWaitTag","tagWait","tagClick","Wait","IsAddSpriteTag","tags","prefix","OnParseAddSpriteTag","args","AddSprite","RemoveSprite","OnParseRemoveAllSpritesTag","RemoveAllSprites","IsSetTextureTag","OnParseSetTextureTag","IsPlayAnimationTag","IsStopAnimationTag","OnParsePlayAnimationTag","PlayAnimation","StopAnimation","IsChainAnimationTag","OnParseChainAnimationTag","ChainAnimation","IsPauseAnimationTag","OnParsePauseAnimationTag","PauseAnimation","IsSetPropertyTag","OnParseSetSpritePropertyTag","SetProperty","EaseMode","IsEasePropertyTag","OnParseEaseSpritePropertyTag","isYoyo","EaseProperty","OnParseCustomTag","startTag","endTag","OnParseNewLineTag","AppendTextBase","OnParseContentOff","OnParseContentOn","OnParseContent","ParseCallbacks","ParseColorTag","ParseStrokeColorTag","ParseBoldTag","ParseItalicTag","ParseFontSizeTag","ParseOffsetYTag","ParseShadowColorTag","ParseAlignTag","ParseImageTag","ParseTypingSpeedTag","ParsePlaySoundEffectTag","ParseFadeInSoundEffectTag","ParseFadeOutSoundEffectTag","ParseSetSoundEffectVolumeTag","ParsePlayBackgroundMusicTag","ParseFadeInBackgroundMusicTag","ParseFadeOutBackgroundMusicTag","ParseCrossFadeBackgroundMusicTag","ParsePauseBackgroundMusicTag","ParseFadeInCameraTag","ParseFadeOutCameraTag","ParseShakeCameraTag","ParseFlashCameraTag","ParseZoomCameraTag","ParseRotateCameraTag","ParseScrollCameraTag","ParseWaitTag","ParseAddSpriteTag","ParseRemoveAllSpriteTag","ParseSetTextureTag","ParsePlayAnimationTag","ParseChainAnimationTag","ParsePauseAnimationTag","ParseSetSpritePropertyTag","ParseEaseSpritePropertyTag","ParseCustomTag","ParseNewLineTag","ParseContentOff","ParseContentOn","ParseContent","AddParseCallbacks","PreProcess","comentLineStart","symbol","PreProcessSource","TypingSpeedMethods$1","WaitEvent","WaitComplete","Start","TypingDelayTimerType","TypingAnimationTimerType","Typing","offsetTime","animationConfig","animationTimer","isLastChild","Pause","Resume","PauseTyping","ResumeTyping","RemoveWaitEvents","StopPlayEvent","ClearEvents","GetWrapCallback","removeFrom","WaitCallback","postfixName","wrapCallback","DelayCall","WaitTime","WaitClick","clickEE","WaitMusic","music","IsWaitCameraEffect","WaitCameraEffect","effectName","effect","completeEventName","WaitKeyDown","keyName","keyboard","IsWaitSprite","names","WaitSprite","spriteManager","spriteData","sprite","task","KeyCodes","WaitMultiple","SetTimeScale","SetIgnoreWait","SetSkipTypingAnimation","timers","SetSkipSoundEffect","soundManager","SkipCurrentTypingDelay","TypingSpeedMethods","BaseClock","startAt","Clock","Yoyo","threshold","onStart","onProgress","onComplete","yoyo","isCompleted","TimerPool","Timeline","timerQueues","ti","tcnt","timerQueue","pendingTimers","TypeWriter","SetChildrenInvisible","SetChildVisible","Fade","sound","m","MODE","FadeIn","endVolume","startVolume","fade","FadeOut","destroy","SoundManager","initialBackgroundMusic","soundEffect","volume","backgroundMusicFadeTimeSave","IsEmpty","SpriteData","tweenTasks","propName","GetR","colorInt","GetG","GetB","MaskR","MaskG","MaskB","SetR","SetG","SetB","SetRGB","AddTintRGBProperties","tintRGB","tintR","tintG","tintB","EventEmitter","MonitorViewport","viewport","events","AddViewportCoordinateProperties","vpx","vpy","transformCallback","DefaultTransformCallback","AddMethods$1","RemoveMethods$1","sprites","PropertyMethods","AnimationMethods","AddMethods","RemoveMethods","SpriteManager","SetClickTarget","SetTargetCamera","SetNextPageInput","Play","PlayPromise","promise","TypingNextPage","OnTypingPageComplete","SetIgnoreNextPageInput","ShowPage","typingSpeedSave","ignoreWaitSave","skipTypingAnimationSave","skipSoundEffectSave","Events","TextPlayer","soundManagerConfig","spriteManagerConfig","shapes","BaseShapes","shape","FillStyle","LineStyle","StyleMethods","BaseGeom","PathBase","Arc","pie","iterations","Circle","Curve","curve","points","Ellipse","Line","StartAt","QuadraticBezierInterpolation","QuadraticBezierTo","cx","cy","pathDataCnt","p0x","p0y","last","PointRotateAround","Offset","ToPoints","Polygon","ToPolygon","polygon","PathData","relative","cx0","cy0","cx1","cy1","CubicBezierCurveTo","isFill","isStroke","Lines","PathDataBuilder","fillTint","Triangle","x3","y3","trackShape","barShape","centerShape","GetSizerConfig","GetChildPrevState","childConfig","GetViewport","globRect","scaleManager","baseSize","parentSize","canvasBounds","displayScale","PushIntoBounds","bounds","GetViewPort","ALIGNMODE","globZone","ALIGN_CONST","GetDisplayWidth","GetDisplayHeight","GetBottom","GetCenterX","SetBottom","SetCenterX","BottomCenter","alignIn","GetLeft","SetLeft","BottomLeft","GetRight","SetRight","BottomRight","SetCenterY","CenterOn","GetCenterY","Center","LeftCenter","RightCenter","GetTop","SetTop","TopCenter","TopLeft","TopRight","AlignInMap","QuickSet","position","AlignIn","GlobZone","Vector2","GetBounds","GlobRect","TLx","TLy","TRx","TRy","BLx","BLy","BRx","BRy","GetTopLeft","GetTopRight","GetBottomLeft","GetBottomRight","includeParent","GlobVector","PrepareBoundsOutput","Group","DrawBounds","createTextCallback","createTextCallbackScope","nameTextConfig","DefaultCreateTextCallback","graphicsClear","nameText","childBoundsRect","GetBoundsConfig","ContainerAdd","Container","AddChildMethods$8","paddingConfig","childKey","RemoveChildMethods$7","AddChildrenMap","RemoveChildrenMap","GetElement","mapNameList","RE_OBJ","elements","PaddingMethods","ResolveWidth","ResolveChildrenWidth","parentWidth","childWidth","ResolveHeight","GetChildWidth","GetChildHeight","GetExpandedChildWidth","GetExpandedChildHeight","parentHeight","GetChildrenWidth","GetChildrenHeight","GetAllChildrenSizers","startIdx","endIdx","GetChildrenSizers","GetShownChildrenMethods","PreLayout","Layout","RunLayout","newWidth","newHeight","isTopmostParent","LayoutChildren","PostLayout","RunWidthWrap","Anchor","alignX","configX","alignY","configY","percentageX","percentageY","configWidth","percentageWidth","paddingWidth","configHeight","percentageHeight","paddingHeight","onResizeCallback","onResizeCallbackScope","onUpdateViewportCallback","onUpdateViewportCallbackScope","SetAnchor","hasMinWidth","hasMinHeight","hasOnResizeCallback","sizer","PopUp","orientation","ScaleDownDestroy","destroyMode","peakValue","OnInitScale","ScaleMethods","isInit","startAlpha","endAlpha","FadeOutDestroy","OnInitFade","FadeMethods","EaseMove","endX","endY","propertyValue","startValue","num","EaseMoveTo","easeMove","EaseMoveFrom","DistanceBetween","OnInitEaseMove","EaseMoveMethods","ShakePosition","magnitudeMode","MANITUDEMODE","magnitude","OnInitShake","shake","ShakeMethods","Shake","EaseData","easeTask","OnInitEaseData","easeData","EaseDataMethods","Show","_hide","Hide","IsShown","hidden","HideMethods","IsPointInBounds","boundsRect","IsPointerInBounds","IsInTouching","IsFunction","IsArray","ContainsPoint","GetPreTestCallback","GetPostTestCallback","IsNotHiddenSizer","isHiddenSizer","PointToChild","GetParentSizerMethods","ResizeGameObject","CopyState","gamObject","GlobState","PreLayoutChild","LayoutChild","ALIGN_CENTER","LayoutBackgrounds","backgrounds","SetDraggable","senser","draggable","senserType","dragX","dragY","topmostParent","dropped","Button","CLICKMODE","interval","distance","nowTime","lastClickTime","ClickMethods","Click","ClickOutside","inputConfig","isInsideCallback","ClickOutsideMethods","FSM","states","extend","init","newState","exitEventName","exitCallback","enterEventName","enterCallback","nextState","getNextState","getNextStateCallback","methodName","a1","a2","a3","a4","a5","fn","Cooldown","InTouching","TouchingMethods","parents","EmitChildEvent","ClickChild","clickConfig","childrenInteractive","button","OverChild","overConfig","OnMove","OnOut","preChild","OnePointerTracer","TOUCH0","isInsideBounds","TOUCH1","isCatchedPointer","stateObject","Tap","stateConfig","taps","BEGIN","tapsOffset","RECOGNIZED","holdTime","releasedTime","minTaps","maxTaps","Press","AngleBetween","VelocityMethods","game","dt","d","velocity","DIRMODE","AngleToDirections","dirMode","globOut","Swipe","SpliceOne","TwoPointersTracer","amount","TOUCH2","tmpDragVector","preP0","preP1","RotateObjectAround","ScreenXYToWorldXY","screenX","screenY","globalOut","SpinObject","movementX","movementY","worldXY","centerWorldX","centerWorldY","WrapDegrees","ShortestBetween","curAngle","TapChild","tapConfig","tap","lastPointer","PressChild","pressConfig","press","SwipeChild","swipeConfig","swipe","dirName","SetChildrenInteractive","SetChildrenInteractiveWrap","BroadcastEvent","AddChildMethods","RemoveChildMethods","anchorConfig","sizers","CheckSize","UUID","expand","hasValidKey","AddChildMethods$7","ContainerRemove","ContainerClear","ClearChildren","fireRemoveEvent","RemoveChildMethods$6","IndexOf","OverlapSizer","BaseSizer","GetDistance","IsLocalPointInKnob","knob","GetAngle","NormalizeAngle","OnTouchPad","InstallEvents","WrapAngle","OnPointerDown","OnPanStart","OnPointerMove","OnPan","OnPanEnd","OnPointerUp","deltaValue","SetTextFormatCallback","GetFormatText","UpdateText","TextObjectMethods","SnapTo","Knob","background","inputMode","INPUTMODE","InstallPanPadEvents","InstallTouchPadEvents","gap","newValue","ShapeClasses","ClearAll","ShapesUpdateMethods","shapeType","ShapeClass","createCallback","CustomShapes","CustomProgress","SetTransitionCallbackMethods","DirMode","TransitionMethods","dir","DrawShape","Graphics","DefaultMaskGraphics","SHAPEMODE","MaskMethods","invertAlpha","cellImages","GetFrameNameCallback","delimiter","GridCut","getFrameNameCallback","cellWidth","cellHeight","DefaultImageClass","GridCutImage","ImageClass","addToScene","imageObjectPool","topLeft","cellGameObjects","cellGameObject","cellTLX","cellTLY","cellX","cellY","GridCutMethods","cellImage","OnStart","currentImage","nextImage","OnProgress","OnComplete","TransitionImage","backImage","frontImage","DefaultOnStart","DefaultOnProgress","DefaultOnComplete","RunCallback","SetChart","msg","FillConfig","options","noAnimation","animation","GetChartDataset","datasetIndex","datasets","dataset","GetChartData","dataIndex","labels","SetChartData","UpdateChart","Chart","chart","minimumMode","PreLayoutBase","itemX","itemY","ResolveWidthBase","remainder","ResolveHeightBase","Space","GetNearestChildIndex","nearestIndex","minDistance","PROPORTIONMODE","proportion","minSize","isRexSpace","proportionType","AddChildMethods$6","RemoveChildMethods$5","GetChildrenProportion","OrientationMode","GetOrientationMode","Sizer","space","Sum","columnWidth","indentLeft","indentTop","columnSpace","rowSpace","indentLeftOdd","indentLeftEven","indentTopOdd","indentTopEven","columnIndex","totalColumnProportions","totalRowProportions","GetEmptyCellIndex","cells","columnCount","itemIndex","AddChildMethods$5","Fill","RemoveChildMethods$4","ArrayFill","ResetGrid","columnProportions","rowProportions","InseryEmptyRow","AddEmptyRow","InsertEmptyColumn","insertIndex","AddEmptyColumn","GetTotalColumnProportions","GetTotalRowProportions","GridSizer","createCellContainerCallback","ycnt","xcnt","addConfig","odd","even","colProportion","rowProportion","innerLineWidth","justifyPercentage","itemSpace","lineSpace","justifySpace","lineChlidren","remainderLineWidth","GetJustifySpace","total","childCount","RunChildrenWrap","newLine","GeChildHeight","RunChildrenWrapBase","nextChild","AddChildMethods$4","RemoveChildMethods$3","GetMaxChildWidth","GetMaxChildHeight","FixWidthSizer","AddChildMask","maskTarget","sizeTarget","Label","icon","iconMask","action","actionMask","iconSpace","textSpace","expandTextWidth","expandTextHeight","imageObject","SizerAdd","SizerAddSpace","isNormalGameObject","hasHeadSpace","hasTailSpace","AddChildMethods$3","SizerRmove","SizerClear","Remove","RemoveChildMethods$2","buttons","buttonBehavior","Initialize","dataManager","setValueCallback","setValueCallbackScope","previousValue","SetTypeMethods","buttonsType","radioValue","GetGameObjectByName","TestName","ButtonMethods$2","indexType","buttonGroup","ButtonGroup","ButtonMethods","ButtonStateMethods","Buttons","buttonSpace","AddChildMethods$2","rowThenColumn","RemoveChildMethods$1","GridButtons","buttonsExpand","buttonProportion","rowButtons","rcnt","c","ccnt","AddChildMethods$1","lastLineIdx","ButtonMethods$1","choicesSizer","Dialog","title","toolbar","toolbarBackground","leftToolbar","leftToolbarBackground","description","choices","choicesBackground","actionsSizer","actions","actionsBackground","toolbarSizer","leftToolbarSizer","titleSpace","titleSizer","contentSpace","descriptionSpace","choicesType","ButtonsClass","Contains","FixWidthButtons","choicesConfig","choicesSpace","item","groupName","buttonsSizer","Tabs","panel","leftButtons","leftButtonsBackground","leftButtonsSizer","rightButtons","rightButtonsBackground","rightButtonsSizer","topButtons","topButtonsBackground","topButtonsSizer","bottomButtons","bottomButtonsBackground","bottomButtonsSizer","leftButtonsOffset","leftButtonSpace","rightButtonsOffset","rightButtonSpace","toptButtonsOffset","topButtonSpace","bottomButtonsOffset","bottomButtonSpace","PositionToPercent","startPoint","endPoint","currentPoint","OnDragThumb","tmpPoint","OnTouchTrack","GetThumbAlignPoint","thumb","currentX","currentY","AlignLeft","AlignTop","GetStartPoint","AlignRight","AlignBottom","GetEndoint","PercentToPosition","tmpOut","UpdateThumb","UpdateIndicator","indicator","thumbWidth","thumbRight","thumbHeight","thumbBottom","Slider","track","GetEndPoint","SCROLLMODE$1","GetScrollMode","scrollMode","SCROLLMODE","ScrollBar","buttonsConfig","button0","button1","slider","sliderConfig","inTouching","sliderWidth","sliderHeight","State","dragState","DragSpeed","Movement","acc","SlowDown","dec","Scroller","drapSpeedConfig","DrapSpeed","ORIENTATIONMODE","value0","value1","isOverMax","isOverMin","clamp","dist","MouseWheelScroller","dz","currentlyOver","CreateScrollableSizer","scrollableSizer","sliderPosition","SLIDER_POSITION_MAP","isRightSlider","scrollerConfig","scroller","mouseWheelScrollerConfig","mouseWheelScroller","childSpace","childPadding","incValue","ResizeController","topChildOY","bottomChildOY","AdaptThumbSize","ratio","minThumbSize","LayoutSlider","minWidthSave","minHeightSave","UpdateController","Scrollable","header","footer","headerSpace","footerSpace","childMargin","outerHeight","innerChildOY","outerChildOY","Cell","container","deltaHeight","table","isTableHeightChanged","deltaWidth","Table","cellIdx","count","newCells","isCeil","rowIdx","isValidIdx","preRowIdx","colIdx","sum","maxHeight","cell","createNewCell","SetTableOY","oy","topTableOY","bottomTableOY","tableOYExceedTop","tableOYExeceedBottom","visibleRowCount","SetTableOX","ox","leftTableOX","rightTableOX","tableOXExeceedLeft","tableOXExeceedRight","visibleColCount","MaskToGameObject","Intersects","Overlaps","MaskChildren","parentBounds","childBounds","visiblePointsNumber","IsVisible","ContainsPoints","ShowAll","ShowSome","ShowNone","rectA","rectB","MASKUPDATEMODE","ChildrenMaskMethods","maskPadding","HideCell","cellContainer","HideCells","preList","curList","ShowCell","reusedCellContainer","ShowCells","startRowIdx","startColIdx","bottomBound","rightBound","lastIdx","lastColIdx","startCellTLX","GetCellTLX","GetCellTLY","UpdateTable","refresh","ClearVisibleCellIndexes","tmp","IsCellVisible","PointToCellIndex","offsetTableOY","offsetTableOX","PointToCellContainer","EachVisibleCell","IterateVisibleCell","EachCell","IterateCell","SetCellsCount","cellsCount","InsertNewCells","RemoveCells","SetColumnCount","SetGridSize","UpdateVisibleCell","Set","GridTable","reuseCellContainer","percentage","tableVisibleHeight","tableWidth","instWidth","InjectProperties","TableOnCellVisible","EmitCellEvent","cellIndex","PointerUpDownCell","tableConfig","OverCell","preCellIndex","ClickCell","buttonConfig","TapCell","PressCell","SwipeCell","TableSetInteractive","SetItems","items","tableHeight","GridTableCore","spaceConfig","GetEaseConfig","easeConfig","menu","ScaleDown","SetTransitCallbackMethods","PostUpdateDelayCall","sceneEE","DelayCallMethods$1","ExpandSubMenu","parentButton","subMenu","Collapse","CollapseSubMenu","IsInTouchingBase","DelayCallMethods","CreateBackground","CreateButtons","MenuSetInteractive","childrenKey","subItems","ParseEaseConfig","Expand","Menu","rootMenu","parentMenu","createBackgroundCallback","createBackgroundCallbackScope","createButtonCallback","createButtonCallbackScope","isRootMenu","SUBMENU_DOWN","SUBMENU_UP","SUBMENU_RIGHT","SUBMENU_LEFT","subMenuSide","SubMenuSideMode","easeOrientation","menuOrientation","listPanel","CreateListPanel","OpenListPanel","onButtonClick","CloseListPanel","ToggleListPanel","ConfigListMethods","DropDownList","listConfig","TextKlass","IsTextGameObject","BitmapTextKlass","IsBitmapTextGameObject","TextType","TagTextType","BitmapTextType","GetTextObjectType","textObjectType","TextToLines","GetLines","startLineIndex","endLineIdx","GetString","SetContentMethods","pageStartIndex","newLinesCount","pageCount","resetPageIdx","sections","GetPageMethods","SetNoWrapText","wordWrapWidth","wordWrapCallback","maxWidth","ShowMethods","TextPage","pageBreak","NumberBar","sliderSpace","OverlapSizerAdd","GetPage","ContainerSetChildVisible","SwapPage","prevoiusPage","currentPage","HasPage","Pages","SWAPMODE","GetPageKeyByIndex","GetPageIndexByKey","AddPage","tabGameObject","pageGameObject","SwapFirstPage","SwapLastPage","SwapPageMethods","RemovePage","tabs","pages","RemovePageMethods","GetTab","GetPageKey","GetPageIndex","TabPages","tabsPosition","sizerOrientation","pagesConfig","isHorizontalTabs","wrapTabs","tabsConfig","tabsExpand","tabAlign","tab","pageObject","TextHeightToLinesCount","LinesCountToTextHeight","startLineIdx","ResetTextObjectPosition","CropTextObject","cropY","cropHeight","UpdateTextObject","textOffset","ResizeText","ALIGN_LEFTTOP","TextBlock","CreateDefaultTextObject","textMaskEnable","sizerConfig","lineSpacing","topTextOY","bottomTextOY","textOYExceedTop","textOYExeceedBottom","textVisibleHeight","textBlock","TextArea","textCrop","textMask","ResetChildPosition","ScrollableBlock","childOYExceedTop","childOYExeceedBottom","visibleHeight","ScrollablePanel","panelConfig","scrollableBlock","panelWidth","panelHeight","DefaultTransitCallbacks","Copy","dest","RunCommands","reverse","retVal","RunCommand","cmd","argsConvert","argsConvertScope","fnName","ARGS","ArrayCopy","TypeConvert","retValue","Player","clock","commands","timeUnit","dtMode","itemA","itemB","dtA","dtB","now","lastCommandIndex","command","CMD","currentDt","DTMODE","TIMEUNITMODE","Toast","TransitionMode","GetShowCallback","sides","reset","GetHideCallback","VisibleCallbacks","FadeCallbacks","GetCallback","MoveCallbacks","MovePanelCallbacks","DefaultCallbacks","GetDefaultCallbacks","callbackType","callbackParams","showCallback","hideCallback","ShowChildMethods","Move","isShownChild","moveLeft","moveRight","moveUp","moveDown","Sides","showChildCallback","showChildCallbackScope","hideChildCallback","hideChildCallbackScope","defaultCallbacks","leftSide","rightSide","topSide","bottomSide","ChildBehaviorMethods","Vector3","Matrix4","FOV","isNothing","subject","isObject","toArray","sequence","sourceKeys","cycle","isNegativeZero","number","isNothing_1","isObject_1","toArray_1","repeat_1","isNegativeZero_1","extend_1","common","formatError","exception","compact","where","message","YAMLException$1","reason","mark","TYPE_CONSTRUCTOR_OPTIONS","YAML_NODE_KINDS","compileStyleAliases","map","alias","Type$1","compileList","schema","currentType","newIndex","previousType","previousIndex","compileMap","collectType","Schema$1","definition","implicit","explicit","type$1","str","seq","failsafe","resolveYamlNull","constructYamlNull","isNull","_null","resolveYamlBoolean","constructYamlBoolean","isBoolean","bool","isHexCode","isOctCode","isDecCode","resolveYamlInteger","hasDigits","ch","constructYamlInteger","sign","isInteger","int","YAML_FLOAT_PATTERN","resolveYamlFloat","constructYamlFloat","SCIENTIFIC_WITHOUT_DOT","representYamlFloat","res","isFloat","float","json","core","YAML_DATE_REGEXP","YAML_TIMESTAMP_REGEXP","resolveYamlTimestamp","constructYamlTimestamp","year","month","day","hour","minute","second","fraction","tz_hour","tz_minute","date","representYamlTimestamp","timestamp","resolveYamlMerge","merge","BASE64_MAP","resolveYamlBinary","code","bitlen","constructYamlBinary","tailbits","bits","representYamlBinary","tail","isBinary","binary","_hasOwnProperty$3","_toString$2","resolveYamlOmap","objectKeys","pair","pairKey","pairHasKey","constructYamlOmap","omap","_toString$1","resolveYamlPairs","constructYamlPairs","pairs","_hasOwnProperty$2","resolveYamlSet","constructYamlSet","set","simpleEscapeSequence","simpleEscapeCheck","simpleEscapeMap","GetStoreKey","GetDataKey","SetItem","dataKey","GetItem","StorageMethods","storeKey","LoadDataKeys","Load","defaultData","prevValue","GetDefaultValue","AddCallbacks","SetStruct","Extend","load","resetFlag","EventEmitterKlass","DataManager","useDefaultEventEmitter","parentEventEmitter"],"mappings":"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"}